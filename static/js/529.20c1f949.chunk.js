"use strict";(self.webpackChunkpropetro_site3d=self.webpackChunkpropetro_site3d||[]).push([[529],{529:function(n,e,o){o.r(e),o.d(e,{default:function(){return N}});var r=o(1413),t=o(9439),i=o(3630),s=o(9324),c=o(2791),u=o(7543),l=o(5132),d=o(8511),a=o(4956),p=o(2935),m="Solid3034_60",x="Solid1061",h="Solid3034_49",j="Solid1040",f="Solid3034_36",g=o(7916),v=o(5410),Z=o(7760),w=o(184),P=["anchor"],b=new Z.Box3,C=new Z.Vector3,S=function(n){var e=n.anchor,o=(0,v.Z)(n,P),t=c.useRef(null),i=c.useRef(null);return c.useEffect((function(){var n,e;null!==(n=t.current)&&void 0!==n&&null!==(e=n.parent)&&void 0!==e&&e.parent&&(i.current=t.current.parent,t.current.parent.parent.add(t.current))}),[]),(0,s.x)((function(){if(i.current){b.setFromObject(i.current),b.getSize(C);var n=i.current.position,o=n.pX,r=n.pY,s=n.pZ;o&&r&&s?t.current.position.set(i.current.position.x+C.x*e[0]/2,i.current.position.y+C.y*e[1]/2,i.current.position.z+C.z*e[2]/2):t.current.position.set(i.current.geometry.boundingBox.min.x+e[0],i.current.geometry.boundingBox.min.y+e[1],i.current.geometry.boundingBox.min.z+e[2])}})),(0,w.jsx)("group",(0,r.Z)({ref:t},o))};function y(n){var e=Object.assign({},n),o=m,r=x,t=j,i=h,s=f;return(0,w.jsxs)(w.Fragment,{children:[e.node.name===o&&e.pump["Engine Load"]?(0,w.jsx)(S,{anchor:[0,0,0],children:(0,w.jsx)(a.V,{children:(0,w.jsxs)("div",{className:"content",children:[(0,w.jsx)(d.J,{iconName:"LightningBolt"}),e.pump["Engine Load"].toFixed(1)+g.Y["Engine Load"]]})})}):null,e.node.name===r&&e.pump["Trans Gear"]?(0,w.jsx)(p.L,{anchor:[1,1,1],children:(0,w.jsx)(a.V,{children:(0,w.jsxs)("div",{className:"content",children:[(0,w.jsx)(d.J,{iconName:"Settings"}),e.pump["Trans Gear"].toFixed(1)+g.Y["Trans Gear"]]})})}):null,e.node.name===i&&e.pump["Horse Power"]?(0,w.jsx)(S,{anchor:[0,0,0],children:(0,w.jsx)(a.V,{children:(0,w.jsx)("div",{className:"content",children:e.pump["Horse Power"].toFixed(1)+g.Y["Calc Horse Power"]})})}):null,e.node.name===t&&e.pump["Pump Rate"]?(0,w.jsx)(S,{anchor:[0,0,0],children:(0,w.jsx)(a.V,{children:(0,w.jsxs)("div",{className:"content",children:[(0,w.jsx)(d.J,{iconName:"Drop"}),e.pump["Pump Rate"].toFixed(1)+g.Y["Pump Rate"]]})})}):null,e.node.name===s?(0,w.jsx)(S,{anchor:[0,0,0],children:(0,w.jsx)(a.V,{children:(0,w.jsx)("div",{className:"chassis-content",children:e.pump["Pump Position"]})})}):null]})}function k(n){var e=Object.assign({},n),o=(0,c.useRef)(),i=(0,c.useState)(),s=(0,t.Z)(i,2),d=s[0],a=s[1];if((0,u.j)(d,"pointer"),(0,l.o)(o),!(e.index>300)){return"mesh"!==e.node.type.toLowerCase()?(0,w.jsx)("group",{rotation:e.node.rotation,position:e.node.position,scale:e.node.scale,frustumCulled:!0,children:e.node.children.length>0&&e.node.children.map((function(n,o){return(0,w.jsx)(k,(0,r.Z)((0,r.Z)({},e),{},{node:n,index:o+e.index}),o+n.name)}))}):"mesh"===e.node.type.toLowerCase()?(0,w.jsxs)("mesh",{geometry:e.node.geometry,material:e.node.material,rotation:e.node.rotation,position:e.node.position,ref:o,scale:e.node.scale,onPointerOver:function(n){n.stopPropagation(),e.show&&(e.onHover(o),a(!0))},onPointerOut:function(n){n.stopPropagation(),e.show&&(a(!1),e.onHover(null))},onClick:function(n){n.stopPropagation(),console.log(e.node.name),e.show&&(1===n.detail?e.onClick(!0):e.onDoubleClick())},frustumCulled:!0,children:[e.node.children.length>0&&e.node.children.map((function(n,o){return(0,w.jsx)(k,(0,r.Z)((0,r.Z)({},e),{},{node:n,index:o+e.index}),o+n.name)})),e.isActive&&e.show?(0,w.jsx)(y,(0,r.Z)({},e)):null]}):void 0}}function N(n){var e=Object.assign({},n),o=(0,c.useRef)(),u=(0,c.useState)(new Set),l=(0,t.Z)(u,2),d=l[0],a=l[1];return(0,s.x)((function(){o.current.visible=e.show})),e.fast?(0,w.jsx)("group",(0,r.Z)((0,r.Z)({ref:o},e),{},{dispose:null,children:(0,w.jsx)(i.P,{box:!0,multiple:!0,onChange:function(n){n[0]&&(console.log(n[0]),e.onHover(n[0]),e.onClick(!0))},children:(0,w.jsx)("primitive",{object:e.scene})})})):(0,w.jsx)("group",(0,r.Z)((0,r.Z)({ref:o},e),{},{dispose:null,frustumCulled:!0,children:e.scene.children.map((function(n,o){return(0,w.jsx)(k,(0,r.Z)((0,r.Z)({},e),{},{node:n,index:o,indexSet:d,setIndexSet:a}),o+n.name)}))}))}}}]);
//# sourceMappingURL=529.20c1f949.chunk.js.map