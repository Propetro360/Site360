"use strict";(self.webpackChunkpropetro_site3d=self.webpackChunkpropetro_site3d||[]).push([[529],{529:function(e,n,o){o.r(n),o.d(n,{default:function(){return N}});var r=o(1413),t=o(9439),i=o(3630),s=o(9324),c=o(2791),u=o(7543),l=o(5132),d=o(8511),a=o(4956),p=o(2935),m="Solid3034_60",x="Solid1061",h="Solid3034_49",j="Solid1040",f="Solid3034_36",g=o(7916),v=o(5410),Z=o(7760),w=o(184),b=["anchor"],C=new Z.Box3,P=new Z.Vector3,S=function(e){var n=e.anchor,o=(0,v.Z)(e,b),t=c.useRef(null),i=c.useRef(null);return c.useEffect((function(){var e,n;null!==(e=t.current)&&void 0!==e&&null!==(n=e.parent)&&void 0!==n&&n.parent&&(i.current=t.current.parent,t.current.parent.parent.add(t.current))}),[]),(0,s.x)((function(){if(i.current){C.setFromObject(i.current),C.getSize(P);var e=i.current.position,o=e.pX,r=e.pY,s=e.pZ;o&&r&&s?t.current.position.set(i.current.position.x+P.x*n[0]/2,i.current.position.y+P.y*n[1]/2,i.current.position.z+P.z*n[2]/2):t.current.position.set(i.current.geometry.boundingBox.min.x+n[0],i.current.geometry.boundingBox.min.y+n[1],i.current.geometry.boundingBox.min.z+n[2])}})),(0,w.jsx)("group",(0,r.Z)({ref:t},o))};function y(e){var n=Object.assign({},e),o=m,r=x,t=j,i=h,s=f;return(0,w.jsxs)(w.Fragment,{children:[n.node.name===o&&n.pump["Engine Load"]?(0,w.jsx)(S,{anchor:[0,0,0],children:(0,w.jsx)(a.V,{children:(0,w.jsxs)("div",{className:"content",children:[(0,w.jsx)(d.J,{iconName:"LightningBolt"}),n.pump["Engine Load"].toFixed(1)+g.Y["Engine Load"]]})})}):null,n.node.name===r&&n.pump["Trans Gear"]?(0,w.jsx)(p.L,{anchor:[1,1,1],children:(0,w.jsx)(a.V,{children:(0,w.jsxs)("div",{className:"content",children:[(0,w.jsx)(d.J,{iconName:"Settings"}),n.pump["Trans Gear"].toFixed(1)+g.Y["Trans Gear"]]})})}):null,n.node.name===i&&n.pump["Horse Power"]?(0,w.jsx)(S,{anchor:[0,0,0],children:(0,w.jsx)(a.V,{children:(0,w.jsx)("div",{className:"content",children:n.pump["Horse Power"].toFixed(1)+g.Y["Calc Horse Power"]})})}):null,n.node.name===t&&n.pump["Pump Rate"]?(0,w.jsx)(S,{anchor:[0,0,0],children:(0,w.jsx)(a.V,{children:(0,w.jsxs)("div",{className:"content",children:[(0,w.jsx)(d.J,{iconName:"Drop"}),n.pump["Pump Rate"].toFixed(1)+g.Y["Pump Rate"]]})})}):null,n.node.name===s?(0,w.jsx)(S,{anchor:[0,0,0],children:(0,w.jsx)(a.V,{children:(0,w.jsx)("div",{className:"chassis-content",children:n.pump["Pump Position"]})})}):null]})}function k(e){var n=Object.assign({},e),o=(0,c.useRef)(),i=(0,c.useState)(),s=(0,t.Z)(i,2),d=s[0],a=s[1];if((0,u.j)(d,"pointer"),(0,l.o)(o),!(n.index>300)){return"mesh"!==n.node.type.toLowerCase()?(0,w.jsx)("group",{rotation:n.node.rotation,position:n.node.position,scale:n.node.scale,frustumCulled:!0,children:n.node.children.length>0&&n.node.children.map((function(e,o){return(0,w.jsx)(k,(0,r.Z)((0,r.Z)({},n),{},{node:e,index:o+n.index}),o+e.name)}))}):"mesh"===n.node.type.toLowerCase()?(0,w.jsxs)("mesh",{geometry:n.node.geometry,material:n.node.material,rotation:n.node.rotation,position:n.node.position,ref:o,scale:n.node.scale,onPointerOver:function(e){e.stopPropagation(),n.show&&(n.onHover(o),a(!0))},onPointerOut:function(){n.show&&(a(!1),n.onHover(null))},onClick:function(e){e.stopPropagation(),console.log(n.node.name),n.show&&(1===e.detail?n.onClick(!0):n.onDoubleClick())},frustumCulled:!0,children:[n.node.children.length>0&&n.node.children.map((function(e,o){return(0,w.jsx)(k,(0,r.Z)((0,r.Z)({},n),{},{node:e,index:o+n.index}),o+e.name)})),n.isActive&&n.show?(0,w.jsx)(y,(0,r.Z)({},n)):null]}):void 0}}function N(e){var n=Object.assign({},e),o=(0,c.useRef)(),u=(0,c.useState)(new Set),l=(0,t.Z)(u,2),d=l[0],a=l[1];return(0,s.x)((function(){o.current.visible=n.show})),n.fast?(0,w.jsx)("group",(0,r.Z)((0,r.Z)({ref:o},n),{},{dispose:null,children:(0,w.jsx)(i.P,{box:!0,multiple:!0,onChange:function(e){e[0]&&(console.log(e[0]),n.onHover(e[0]),n.onClick(!0))},children:(0,w.jsx)("primitive",{object:n.scene})})})):(0,w.jsx)("group",(0,r.Z)((0,r.Z)({ref:o},n),{},{dispose:null,frustumCulled:!0,children:n.scene.children.map((function(e,o){return(0,w.jsx)(k,(0,r.Z)((0,r.Z)({},n),{},{node:e,index:o,indexSet:d,setIndexSet:a}),o+e.name)}))}))}}}]);
//# sourceMappingURL=529.aece8800.chunk.js.map