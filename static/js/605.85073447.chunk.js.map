{"version":3,"file":"static/js/605.85073447.chunk.js","mappings":"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","sources":["shared/cloud-gtlf/cloud-gtlf.js","config/constants.js","shared/bb-anchor.js","shared/truck-cloud-gtlf/truck-params.js","shared/truck-cloud-gtlf/truck-cloud-gtlf-group.js","shared/truck-cloud-gtlf/truck-cloud-gtlf.js","components/nodes/node.js","components/site-canvas/site-playground/site-scene.js","components/site-canvas/site-playground/site-playground.js"],"sourcesContent":["import { meshBounds, useCursor, useGLTF } from \"@react-three/drei\";\r\nimport { forwardRef, useMemo, useRef, useState } from \"react\";\r\nimport { MeshBasicMaterial, MeshStandardMaterial } from \"three\";\r\nimport { isMobile } from \"../../utils/utils\";\r\n\r\nimport \"./cloud-gtlf.scss\";\r\n\r\nexport const CloudGLTF = forwardRef((props, ref) => {\r\n  const { scene } = useGLTF(props.cloudGlbURL);\r\n  const [hovered, set] = useState();\r\n  useCursor(hovered, \"pointer\");\r\n\r\n  // const group = useRef();\r\n  const isMob = isMobile();\r\n\r\n  const copiedScene = useMemo(() => {\r\n    scene.children.forEach(function (m) {\r\n      if (m.isMesh) {\r\n        if (props.fast || isMob) {\r\n          m.material = new MeshBasicMaterial({ color: m.material.color });\r\n        } else {\r\n          m.material = new MeshStandardMaterial({\r\n            color: m.material.color,\r\n            metalness: 1,\r\n            emissive: 1,\r\n            roughness: 0.5,\r\n          });\r\n        }\r\n      }\r\n    });\r\n    return scene.clone();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [scene.uuid]);\r\n\r\n  const onPointerOver = (e) => {\r\n    e.stopPropagation();\r\n    set(true);\r\n  };\r\n\r\n  const onPointerOut = (e) => {\r\n    e.stopPropagation();\r\n    set(false);\r\n  };\r\n\r\n  if (props.fast) {\r\n    return (\r\n      <group\r\n        ref={ref}\r\n        {...props}\r\n        dispose={null}\r\n        onPointerOver={onPointerOver}\r\n        onPointerOut={onPointerOut}\r\n      >\r\n        <primitive object={copiedScene} />\r\n      </group>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <group\r\n      ref={ref}\r\n      {...props}\r\n      dispose={null}\r\n      onPointerOver={onPointerOver}\r\n      onPointerOut={onPointerOut}\r\n      className=\"cursor-pointer\"\r\n    >\r\n      {copiedScene.children.map((_, i) => (\r\n        <CloudGLTFGroup\r\n          key={i + _.name}\r\n          {...props}\r\n          node={_}\r\n          index={i}\r\n          onHover={() => props.onHover(ref)}\r\n        />\r\n      ))}\r\n    </group>\r\n  );\r\n});\r\n\r\nfunction CloudGLTFGroup({ ...props }) {\r\n  const meshRef = useRef();\r\n  // useBVH(meshRef);\r\n\r\n  if (props.node.type === \"Group\") {\r\n    return (\r\n      <group\r\n        rotation={props.node.rotation}\r\n        position={props.node.position}\r\n        scale={props.node.scale}\r\n        frustumCulled\r\n      >\r\n        {props.node.children.length > 0 &&\r\n          props.node.children.map((_, i) => (\r\n            <CloudGLTFGroup key={i + _.name} {...props} node={_} index={i} />\r\n          ))}\r\n      </group>\r\n    );\r\n  }\r\n  return (\r\n    <mesh\r\n      geometry={props.node.geometry}\r\n      material={props.node.material}\r\n      rotation={props.node.rotation}\r\n      position={props.node.position}\r\n      ref={meshRef}\r\n      raycast={meshBounds}\r\n      scale={props.node.scale}\r\n      onPointerOver={(e) => {\r\n        e.stopPropagation();\r\n        props.onHover(meshRef);\r\n      }}\r\n      onPointerOut={(e) => {\r\n        e.stopPropagation();\r\n        props.onHover(null);\r\n      }}\r\n      onClick={(e) => {\r\n        e.stopPropagation();\r\n        props.onHover(meshRef);\r\n      }}\r\n    >\r\n      {props.node.children.length > 0 &&\r\n        props.node.children.map((_, i) => (\r\n          <CloudGLTFGroup key={i + _.name} {...props} node={_} index={i} />\r\n        ))}\r\n    </mesh>\r\n  );\r\n}\r\n\r\nexport default CloudGLTF;\r\n","export const DEFAULT_TRUCK_CONFIG = {\r\n  engine: \"Solid3034_60\",\r\n  trans: \"Solid1061\",\r\n  fe: \"Solid3034_49\",\r\n  pe: \"Solid1040\",\r\n  chassis: \"Solid3034_36\",\r\n};\r\n","import { useFrame } from \"@react-three/fiber\";\r\nimport * as React from \"react\";\r\nimport { Box3, Vector3 } from \"three\";\r\n\r\nconst boundingBox = new Box3();\r\nconst boundingBoxSize = new Vector3();\r\n\r\nexport const BBAnchor = ({ anchor, ...props }) => {\r\n  const ref = React.useRef(null);\r\n  const parentRef = React.useRef(null);\r\n\r\n  // Reattach group created by this component to the parent's parent,\r\n  // so it becomes a sibling of its initial parent.\r\n  // We do that so the children have no impact on a bounding box of a parent.\r\n  React.useEffect(() => {\r\n    if (ref.current?.parent?.parent) {\r\n      parentRef.current = ref.current.parent;\r\n      ref.current.parent.parent.add(ref.current);\r\n    }\r\n  }, []);\r\n\r\n  useFrame(() => {\r\n    if (parentRef.current) {\r\n      boundingBox.setFromObject(parentRef.current);\r\n      boundingBox.getSize(boundingBoxSize);\r\n      let { pX, pY, pZ } = parentRef.current.position;\r\n      if (pX && pY && pZ) {\r\n        ref.current.position.set(\r\n          parentRef.current.position.x + (boundingBoxSize.x * anchor[0]) / 2,\r\n          parentRef.current.position.y + (boundingBoxSize.y * anchor[1]) / 2,\r\n          parentRef.current.position.z + (boundingBoxSize.z * anchor[2]) / 2\r\n        );\r\n      } else {\r\n        ref.current.position.set(\r\n          parentRef.current.geometry.boundingBox.min.x + anchor[0],\r\n          parentRef.current.geometry.boundingBox.min.y + anchor[1],\r\n          parentRef.current.geometry.boundingBox.min.z + anchor[2]\r\n        );\r\n      }\r\n    }\r\n  });\r\n\r\n  return <group ref={ref} {...props} />;\r\n};\r\n","import { Icon } from \"@fluentui/react\";\r\nimport { BBAnchor as DreiBBAnchor, Html } from \"@react-three/drei\";\r\nimport { DEFAULT_TRUCK_CONFIG } from \"../../config/constants\";\r\nimport { UNIT_MAP } from \"../../config/unit-mapping\";\r\nimport { BBAnchor } from \"../bb-anchor\";\r\n\r\nexport default function TruckParams({ ...props }) {\r\n  const { engine, trans, pe, fe, chassis } = DEFAULT_TRUCK_CONFIG;\r\n\r\n  return (\r\n    <>\r\n      {props.node.name === engine && props.pump[\"Engine Load\"] ? (\r\n        <BBAnchor anchor={[0, 0, 0]}>\r\n          <Html>\r\n            <div className=\"content\">\r\n              <Icon iconName=\"LightningBolt\" />\r\n              {props.pump[\"Engine Load\"].toFixed(1) + UNIT_MAP[\"Engine Load\"]}\r\n            </div>\r\n          </Html>\r\n        </BBAnchor>\r\n      ) : null}\r\n      {props.node.name === trans && props.pump[\"Trans Gear\"] ? (\r\n        <DreiBBAnchor anchor={[1, 1, 1]}>\r\n          <Html>\r\n            <div className=\"content\">\r\n              <Icon iconName=\"Settings\" />\r\n              {props.pump[\"Trans Gear\"].toFixed(1) + UNIT_MAP[\"Trans Gear\"]}\r\n            </div>\r\n          </Html>\r\n        </DreiBBAnchor>\r\n      ) : null}\r\n      {props.node.name === fe && props.pump[\"Horse Power\"] ? (\r\n        <BBAnchor anchor={[0, 0, 0]}>\r\n          <Html>\r\n            <div className=\"content\">\r\n              {props.pump[\"Horse Power\"].toFixed(1) +\r\n                UNIT_MAP[\"Calc Horse Power\"]}\r\n            </div>\r\n          </Html>\r\n        </BBAnchor>\r\n      ) : null}\r\n      {props.node.name === pe && props.pump[\"Pump Rate\"] ? (\r\n        <BBAnchor anchor={[0, 0, 0]}>\r\n          <Html>\r\n            <div className=\"content\">\r\n              <Icon iconName=\"Drop\" />\r\n\r\n              {props.pump[\"Pump Rate\"].toFixed(1) + UNIT_MAP[\"Pump Rate\"]}\r\n            </div>\r\n          </Html>\r\n        </BBAnchor>\r\n      ) : null}\r\n      {props.node.name === chassis ? (\r\n        <BBAnchor anchor={[0, 0, 0]}>\r\n          <Html>\r\n            <div className=\"chassis-content\">{props.pump[\"Pump Position\"]}</div>\r\n          </Html>\r\n        </BBAnchor>\r\n      ) : null}\r\n    </>\r\n  );\r\n}\r\n","import { useBVH, useCursor } from \"@react-three/drei\";\r\nimport React, { useRef, useState } from \"react\";\r\nimport \"./truck-cloud-gtlf.scss\";\r\nimport TruckParams from \"./truck-params\";\r\n\r\nexport function TruckCloudGTLFGroup({ ...props }) {\r\n  const meshRef = useRef();\r\n  const [hovered, set] = useState();\r\n  useCursor(hovered, \"pointer\");\r\n  useBVH(meshRef);\r\n  if (props.index > 400) {\r\n    return;\r\n  }\r\n  const onPointerOver = (e) => {\r\n    e.stopPropagation();\r\n\r\n    if (!props.show) {\r\n      return;\r\n    }\r\n    props.onHover(meshRef);\r\n    set(true);\r\n  };\r\n\r\n  const onPointerOut = (e) => {\r\n    e.stopPropagation();\r\n    if (!props.show) {\r\n      return;\r\n    }\r\n    set(false);\r\n    props.onHover(null);\r\n  };\r\n\r\n  const onClick = (e) => {\r\n    e.stopPropagation();\r\n    console.log(props.node.name);\r\n    if (!props.show) {\r\n      return;\r\n    }\r\n    switch (e.detail) {\r\n      case 1: {\r\n        props.onClick(true);\r\n        break;\r\n      }\r\n      default: {\r\n        props.onDoubleClick();\r\n\r\n        break;\r\n      }\r\n    }\r\n  };\r\n\r\n  if (props.node.type.toLowerCase() !== \"mesh\") {\r\n    return (\r\n      <group\r\n        rotation={props.node.rotation}\r\n        position={props.node.position}\r\n        scale={props.node.scale}\r\n        frustumCulled\r\n      >\r\n        {props.node.children.length > 0 &&\r\n          props.node.children.map((_, i) => (\r\n            <TruckCloudGTLFGroup\r\n              key={i + _.name}\r\n              {...props}\r\n              node={_}\r\n              index={i + props.index}\r\n            />\r\n          ))}\r\n      </group>\r\n    );\r\n  }\r\n\r\n  if (props.node.type.toLowerCase() === \"mesh\") {\r\n    // const geometry = new BufferGeometry({ ...props.node.geometry });\r\n    return (\r\n      <mesh\r\n        geometry={props.node.geometry}\r\n        material={props.node.material}\r\n        rotation={props.node.rotation}\r\n        position={props.node.position}\r\n        ref={meshRef}\r\n        scale={props.node.scale}\r\n        onPointerOver={onPointerOver}\r\n        onPointerOut={onPointerOut}\r\n        onClick={onClick}\r\n        frustumCulled\r\n      >\r\n        {props.node.children.length > 0 &&\r\n          props.node.children.map((_, i) => (\r\n            <TruckCloudGTLFGroup\r\n              key={i + _.name}\r\n              {...props}\r\n              node={_}\r\n              index={i + props.index}\r\n            />\r\n          ))}\r\n        {props.isActive && props.show ? <TruckParams {...props} /> : null}\r\n      </mesh>\r\n    );\r\n  }\r\n}\r\n","import { Select } from \"@react-three/drei\";\r\nimport { useFrame } from \"@react-three/fiber\";\r\nimport React, { useRef } from \"react\";\r\nimport { TruckCloudGTLFGroup } from \"./truck-cloud-gtlf-group\";\r\nimport \"./truck-cloud-gtlf.scss\";\r\n// const TruckCloudGTLFGroup = lazy(() => import(\"./truck-cloud-gtlf-group\"));\r\n\r\nexport default function TruckCloudGTLF({ ...props }) {\r\n  const group = useRef();\r\n\r\n  useFrame(() => {\r\n    group.current.visible = props.show;\r\n  });\r\n\r\n  if (props.fast) {\r\n    return (\r\n      <group ref={group} {...props} dispose={null}>\r\n        <Select\r\n          box\r\n          multiple\r\n          onChange={(m) => {\r\n            if (m[0]) {\r\n              props.onHover(m[0]);\r\n              props.onClick(true);\r\n            }\r\n          }}\r\n        >\r\n          <primitive object={props.scene} />\r\n        </Select>\r\n      </group>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <group ref={group} {...props} dispose={null} frustumCulled>\r\n      {props.scene.children.map((_, i) => (\r\n        <TruckCloudGTLFGroup key={i + _.name} {...props} node={_} index={i} />\r\n      ))}\r\n    </group>\r\n  );\r\n}\r\n","import { QuadraticBezierLine } from \"@react-three/drei\";\r\nimport { useFrame } from \"@react-three/fiber\";\r\nimport {\r\n  createContext,\r\n  forwardRef,\r\n  useContext,\r\n  useLayoutEffect,\r\n  useMemo,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\nimport * as THREE from \"three\";\r\n\r\nconst context = createContext();\r\nconst Circle = forwardRef(\r\n  (\r\n    {\r\n      children,\r\n      opacity = 1,\r\n      radius = 0.05,\r\n      segments = 32,\r\n      color = \"#ff1050\",\r\n      ...props\r\n    },\r\n    ref\r\n  ) => (\r\n    <mesh ref={ref} {...props}>\r\n      <circleGeometry args={[radius, segments]} />\r\n      <meshBasicMaterial\r\n        transparent={opacity < 1}\r\n        opacity={opacity}\r\n        color={color}\r\n      />\r\n      {children}\r\n    </mesh>\r\n  )\r\n);\r\n\r\nexport function Nodes({ children }) {\r\n  const group = useRef();\r\n  const [nodes, set] = useState([]);\r\n  const lines = useMemo(() => {\r\n    const lines = [];\r\n    for (let node of nodes)\r\n      node.connectedTo\r\n        .map((ref) => [node.position, ref.current.position])\r\n        .forEach(([start, end]) =>\r\n          lines.push({\r\n            start: start.clone().add({ x: 0.35, y: 0, z: 0 }),\r\n            end: end.clone().add({ x: -0.35, y: 0, z: 0 }),\r\n          })\r\n        );\r\n    return lines;\r\n  }, [nodes]);\r\n  useFrame((_, delta) =>\r\n    group.current.children.forEach(\r\n      (group) =>\r\n        (group.children[0].material.uniforms.dashOffset.value -= delta * 10)\r\n    )\r\n  );\r\n  return (\r\n    <context.Provider value={set}>\r\n      <group ref={group}>\r\n        {lines.map((line, index) => (\r\n          <group key={index + \"Bezier group\"}>\r\n            <QuadraticBezierLine\r\n              key={index + \"Bezier spot\"}\r\n              {...line}\r\n              color=\"white\"\r\n              dashed\r\n              dashScale={50}\r\n              gapSize={20}\r\n            />\r\n            <QuadraticBezierLine\r\n              key={index + \"Bezier line\"}\r\n              {...line}\r\n              color=\"red\"\r\n              lineWidth={3}\r\n              transparent\r\n              opacity={0.5}\r\n            />\r\n          </group>\r\n        ))}\r\n      </group>\r\n      {children}\r\n      {lines.map(({ start, end }, index) => (\r\n        <group key={index + \"Bezier circle\"} position-z={1}>\r\n          <Circle position={start} />\r\n          <Circle position={end} />\r\n        </group>\r\n      ))}\r\n    </context.Provider>\r\n  );\r\n}\r\n\r\nexport const Node = forwardRef(\r\n  (\r\n    { color = \"black\", name, connectedTo = [], position = [0, 0, 0], ...props },\r\n    ref\r\n  ) => {\r\n    const set = useContext(context);\r\n    const [pos] = useState(() => new THREE.Vector3(...position));\r\n    const state = useMemo(\r\n      () => ({ position: pos, connectedTo }),\r\n      [pos, connectedTo]\r\n    );\r\n    // Register this node on mount, unregister on unmount\r\n    useLayoutEffect(() => {\r\n      set((nodes) => [...nodes, state]);\r\n      return () => void set((nodes) => nodes.filter((n) => n !== state));\r\n    }, [state, pos, set]);\r\n    // Drag n drop, hover\r\n    return (\r\n      <Circle\r\n        ref={ref}\r\n        opacity={0.2}\r\n        radius={0.5}\r\n        color={color}\r\n        position={pos}\r\n        {...props}\r\n      ></Circle>\r\n    );\r\n  }\r\n);\r\n","import { useMemo } from \"react\";\r\nimport { MeshBasicMaterial, MeshStandardMaterial } from \"three\";\r\nimport { isMobile } from \"../../../utils/utils\";\r\n\r\nexport const useMemoisedScene = (scene, isFast) => {\r\n  const isMob = isMobile();\r\n\r\n  const copiedScene = useMemo(() => {\r\n    const smallObj = [];\r\n    scene.traverse((o) => {\r\n      if (!o.isMesh) {\r\n        console.log(o);\r\n        return;\r\n      }\r\n      var prevMaterial = o.material;\r\n      let radius = o.geometry?.boundingSphere.radius;\r\n       if (radius > 10 && radius < 30) {\r\n         smallObj.push(o);\r\n       }\r\n      if (radius < 300) {\r\n        o.material = new MeshBasicMaterial({\r\n          color: prevMaterial.color,\r\n          reflectivity: 1,\r\n        });\r\n      } else {\r\n        o.material = new MeshStandardMaterial({\r\n          color: prevMaterial.color,\r\n          metalness: 1,\r\n          emissive: 1,\r\n          roughness: prevMaterial.roughness ?? 0.5,\r\n        });\r\n      }\r\n    });\r\n\r\n    smallObj.forEach((o) => {\r\n      o.removeFromParent();\r\n    });\r\n\r\n    return scene.clone();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [scene.uuid]);\r\n\r\n  return { copiedScene };\r\n};\r\n\r\nexport const ROTATION_LEFT = [0, Math.PI / 2, 0];\r\nexport const ROTATION_RIGHT = [0, -Math.PI / 2, 0];\r\n\r\nexport const getPos = (LEFT_POS_START, i, isOnFocus) => {\r\n  return [\r\n    LEFT_POS_START < i ? 18 : -18,\r\n    0 + isOnFocus * 1,\r\n    (i % LEFT_POS_START) * 3.5,\r\n  ];\r\n};\r\n\r\nexport const WELL_HEAD_POS = [0, -1, -10];\r\nexport const DATA_VAN_POS = [33, 1, -4];\r\nexport const BLENDER_VAN_POS = [8.4, 0, 40];\r\nexport const MISSILE_POS = [0, 0, 25];\r\nexport const MISSILE_NODE_POS = [0, 1, 20];\r\nexport const DATA_VAN_ROT = [0, Math.PI / 1, 0];\r\nexport const BLENDER_VAN_ROT = [0, Math.PI / 2, 0];\r\n","import { IconButton } from \"@fluentui/react\";\r\nimport { Html, useGLTF } from \"@react-three/drei\";\r\nimport { useThree } from \"@react-three/fiber\";\r\nimport { EffectComposer, Outline } from \"@react-three/postprocessing\";\r\nimport { Suspense, useEffect, useRef, useState } from \"react\";\r\nimport { MODELS } from \"../../../config/azure-gltf\";\r\nimport { PUMPS as HARD_CODED_PUMPS } from \"../../../config/pumps\";\r\n\r\nimport CloudGLTF from \"../../../shared/cloud-gtlf/cloud-gtlf\";\r\nimport TruckCloudGTLF from \"../../../shared/truck-cloud-gtlf/truck-cloud-gtlf\";\r\nimport { isMobile } from \"../../../utils/utils\";\r\nimport { Node, Nodes } from \"../../nodes/node\";\r\nimport {\r\n  BLENDER_VAN_POS,\r\n  BLENDER_VAN_ROT,\r\n  DATA_VAN_POS,\r\n  DATA_VAN_ROT,\r\n  getPos,\r\n  MISSILE_NODE_POS,\r\n  MISSILE_POS,\r\n  ROTATION_LEFT,\r\n  ROTATION_RIGHT,\r\n  useMemoisedScene,\r\n  WELL_HEAD_POS,\r\n} from \"./site-scene\";\r\n\r\nfunction SitePlayGround(props) {\r\n  const isMob = isMobile();\r\n  const mRef = useRef(null);\r\n  const nCRef = useRef(null);\r\n  const wRef = useRef(null);\r\n  const dRef = useRef(null);\r\n  const [hovered, onHover] = useState(null);\r\n  const [prevCam, setPrevCam] = useState(null);\r\n  const [focussedTruck, onFocusTruck] = useState(null);\r\n  const { scene } = useGLTF(MODELS.TRUCK);\r\n  const cam = useThree(({ camera }) => camera);\r\n  const cont = useThree(({ controls }) => controls);\r\n  const PUMPS = props.pumpsData.length\r\n    ? props.pumpsData\r\n    : HARD_CODED_PUMPS.slice(0, 20);\r\n  const { copiedScene } = useMemoisedScene(scene);\r\n  const invalidate = useThree(({ invalidate }) => invalidate);\r\n  const isOnFocus = (pump) =>\r\n    !focussedTruck || pump[\"Pump Position\"] === focussedTruck[\"Pump Position\"];\r\n\r\n  useEffect(() => {\r\n    focussedTruck && props.setSelected(focussedTruck[\"Pump Position\"]);\r\n  }, [focussedTruck, props]);\r\n\r\n  function restoreCamera() {\r\n    cam.position.set(\r\n      prevCam.position.x,\r\n      prevCam.position.y,\r\n      prevCam.position.z\r\n    );\r\n    cont?.reset();\r\n\r\n    invalidate();\r\n  }\r\n\r\n  const isActive = (pump) => pump[\"Pump Position\"] === props.selected;\r\n\r\n  const LEFT_POS_START = PUMPS.length / 2;\r\n\r\n  const selected = hovered ? [hovered] : undefined;\r\n\r\n  return (\r\n    <>\r\n      <Nodes>\r\n        <Suspense fallback={null}>\r\n          {PUMPS.map((pump, i) => {\r\n            const [x, y, z] = getPos(\r\n              LEFT_POS_START,\r\n              i,\r\n              focussedTruck &&\r\n                pump[\"Pump Position\"] === focussedTruck[\"Pump Position\"]\r\n            );\r\n            return (\r\n              <TruckCloudGTLF\r\n                key={pump[\"Pump Position\"]}\r\n                position={[x, y, z]}\r\n                onClick={() => {\r\n                  props.setSelected(pump[\"Pump Position\"]);\r\n                  invalidate();\r\n                }}\r\n                onDoubleClick={() => {\r\n                  if (isOnFocus(pump)) {\r\n                    cont?.saveState();\r\n                    const camToSave = {};\r\n                    camToSave.position = cam.position.clone();\r\n                    camToSave.rotation = cam.rotation.clone();\r\n                    camToSave.controlCenter = cont?.target?.clone();\r\n\r\n                    setPrevCam(camToSave);\r\n\r\n                    props.setSelected(pump[\"Pump Position\"]);\r\n                    onFocusTruck(pump);\r\n                    cam.position.set(4.5 * x, y + 9, 3 * z);\r\n                    invalidate();\r\n                  }\r\n                }}\r\n                onHover={onHover}\r\n                isActive={\r\n                  props.selectionOptions[\"Select All\"] || isActive(pump)\r\n                }\r\n                show={isOnFocus(pump)}\r\n                isFocussed={\r\n                  focussedTruck &&\r\n                  pump[\"Pump Position\"] === focussedTruck[\"Pump Position\"]\r\n                }\r\n                scene={copiedScene}\r\n                pump={pump}\r\n                setAlertedParts={props.setAlertedParts}\r\n                rotation={LEFT_POS_START < i ? ROTATION_LEFT : ROTATION_RIGHT}\r\n                cloudGlbURL={MODELS.TRUCK}\r\n                scale={focussedTruck ? 2 : 1}\r\n              />\r\n            );\r\n          })}\r\n        </Suspense>\r\n\r\n        {!focussedTruck ? (\r\n          <>\r\n            <CloudGLTF\r\n              ref={mRef}\r\n              cloudGlbURL={MODELS.MISSILE}\r\n              assetId={4347}\r\n              onClick={(show) => null}\r\n              onHover={onHover}\r\n              position={MISSILE_POS}\r\n            />\r\n            <Node\r\n              ref={nCRef}\r\n              name=\"missile\"\r\n              position={MISSILE_NODE_POS}\r\n              connectedTo={[wRef]}\r\n            />\r\n            <CloudGLTF\r\n              ref={wRef}\r\n              cloudGlbURL={MODELS.WELL_HEAD}\r\n              onClick={(show) => null}\r\n              onHover={onHover}\r\n              position={WELL_HEAD_POS}\r\n              scale={5}\r\n            />\r\n\r\n            <CloudGLTF\r\n              ref={dRef}\r\n              cloudGlbURL={MODELS.DATA_VAN}\r\n              onClick={(show) => null}\r\n              onHover={onHover}\r\n              position={DATA_VAN_POS}\r\n              rotation={DATA_VAN_ROT}\r\n            />\r\n          </>\r\n        ) : null}\r\n        {!isMob && !focussedTruck ? (\r\n          <CloudGLTF\r\n            cloudGlbURL={MODELS.BLENDER}\r\n            onClick={(show) => null}\r\n            fast\r\n            onHover={onHover}\r\n            position={BLENDER_VAN_POS}\r\n            rotation={BLENDER_VAN_ROT}\r\n          />\r\n        ) : null}\r\n      </Nodes>\r\n\r\n      <EffectComposer multisampling={8} autoClear={false}>\r\n        <Outline\r\n          selection={selected}\r\n          selectionLayer={1}\r\n          visibleEdgeColor=\"white\"\r\n          edgeStrength={5}\r\n        />\r\n      </EffectComposer>\r\n      <Html left portal={props.domNodeRef}>\r\n        {focussedTruck ? (\r\n          <div>\r\n            <IconButton\r\n              className=\"text-neutralPrimary bg-themeLighterAlt\"\r\n              iconProps={{ iconName: \"Back\" }}\r\n              onClick={() => {\r\n                onFocusTruck(null);\r\n                restoreCamera();\r\n                invalidate();\r\n              }}\r\n              text=\"Back to Frac site\"\r\n            />\r\n          </div>\r\n        ) : null}\r\n      </Html>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SitePlayGround;\r\n"],"names":["CloudGLTFGroup","_ref","props","Object","assign","_objectDestructuringEmpty","meshRef","useRef","node","type","_jsx","rotation","position","scale","frustumCulled","children","length","map","_","i","_objectSpread","index","name","geometry","material","ref","raycast","meshBounds","onPointerOver","e","stopPropagation","onHover","onPointerOut","onClick","forwardRef","scene","useGLTF","cloudGlbURL","_useState","useState","_useState2","_slicedToArray","hovered","set","useCursor","isMob","isMobile","copiedScene","useMemo","forEach","m","isMesh","fast","MeshBasicMaterial","color","MeshStandardMaterial","metalness","emissive","roughness","clone","uuid","dispose","object","className","DEFAULT_TRUCK_CONFIG","engine","trans","fe","pe","chassis","boundingBox","Box3","boundingBoxSize","Vector3","BBAnchor","anchor","_objectWithoutProperties","_excluded","React","parentRef","_ref$current","_ref$current$parent","current","parent","add","useFrame","setFromObject","getSize","_parentRef$current$po","pX","pY","pZ","x","y","z","min","TruckParams","_jsxs","_Fragment","pump","Html","Icon","iconName","toFixed","UNIT_MAP","DreiBBAnchor","TruckCloudGTLFGroup","useBVH","toLowerCase","show","console","log","detail","onDoubleClick","isActive","TruckCloudGTLF","group","visible","Select","box","multiple","onChange","context","createContext","Circle","_ref$opacity","opacity","_ref$radius","radius","_ref$segments","segments","_ref$color","args","transparent","Nodes","_ref2","nodes","lines","_step","_iterator","_createForOfIteratorHelper","_loop","value","connectedTo","_ref3","_ref4","start","end","push","s","n","done","err","f","delta","uniforms","dashOffset","Provider","line","QuadraticBezierLine","dashed","dashScale","gapSize","lineWidth","_ref5","Node","_ref6","_ref6$color","_ref6$connectedTo","_ref6$position","_excluded2","useContext","_useState3","_construct","THREE","_toConsumableArray","pos","state","useLayoutEffect","concat","filter","ROTATION_LEFT","Math","PI","ROTATION_RIGHT","WELL_HEAD_POS","DATA_VAN_POS","BLENDER_VAN_POS","MISSILE_POS","MISSILE_NODE_POS","DATA_VAN_ROT","BLENDER_VAN_ROT","mRef","nCRef","wRef","dRef","_useState4","prevCam","setPrevCam","_useState5","_useState6","focussedTruck","onFocusTruck","MODELS","TRUCK","cam","useThree","camera","cont","controls","PUMPS","pumpsData","HARD_CODED_PUMPS","slice","isFast","smallObj","traverse","o","_o$geometry","_prevMaterial$roughne","prevMaterial","boundingSphere","reflectivity","removeFromParent","useMemoisedScene","invalidate","isOnFocus","useEffect","setSelected","selected","LEFT_POS_START","undefined","Suspense","fallback","_getPos","getPos","_getPos2","_cont$target","saveState","camToSave","controlCenter","target","selectionOptions","isFocussed","setAlertedParts","CloudGLTF","MISSILE","assetId","WELL_HEAD","DATA_VAN","BLENDER","EffectComposer","multisampling","autoClear","Outline","selection","selectionLayer","visibleEdgeColor","edgeStrength","left","portal","domNodeRef","IconButton","iconProps","reset","text"],"sourceRoot":""}