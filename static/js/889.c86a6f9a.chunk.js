"use strict";(self.webpackChunkpropetro_site3d=self.webpackChunkpropetro_site3d||[]).push([[889],{8889:function(e,n,r){r.r(n),r.d(n,{default:function(){return je}});var o=r(1413),i=r(9332),s=r(4026),t=r(2306),a=r(4647),l=r(9787),u=r(2791),c=["timestamp","Crew","Engine Coolant Temp","Engine Hours","Engine Load","Engine Oil Pressure","Engine RPM","FUEL RATE","Calc Horse Power","PE Oil Pressure","PE Oil Temp","PUMP RATE","TRANS GEAR","Trans Oil Pressure","Trans Temp","Voltage","Date","Discharge Pressure"],p=[{timestamp:"2022-06-28T07:16:51.000-0500","Pump Position":1,Crew:"platinum",Date:"6/28/2022 7:16","Pump Name":4315,"Calc Horse Power":"","Calc Pump Rate":"","Calc Stroke Rate":"","Suction Pressure":"","Discharge Pressure":6487,"Engine Coolant Temp":176,"Engine Oil Pressure":45,"Engine RPM":750,"Engine Load":0,"Engine Hours":505,Voltage:28,"Trans Gear":0,"Trans Oil Pressure":13,"Trans Temp":181,"Calc Trans RPM":"","PE Oil Pressure":50,"PE Oil Temp":111,"Calc PE RPM":"","FE Vibration":-25,Brand:"AMI"},{timestamp:"2022-06-28T07:16:51.000-0500","Pump Position":4,Crew:"platinum",Date:"6/28/2022 7:16","Pump Name":4112,"Calc Horse Power":4e3,"Calc Pump Rate":"","Calc Stroke Rate":"","Suction Pressure":"","Discharge Pressure":6375,"Engine Coolant Temp":172,"Engine Oil Pressure":48,"Engine RPM":749,"Engine Load":30,"Engine Hours":16421,Voltage:27,"Trans Gear":2,"Trans Oil Pressure":18,"Trans Temp":181,"Calc Trans RPM":"","PE Oil Pressure":48,"PE Oil Temp":114,"Calc PE RPM":"","FE Vibration":2,Brand:"AMI"},{timestamp:"2022-06-28T07:16:51.000-0500","Pump Position":6,Crew:"platinum",Date:"6/28/2022 7:16","Pump Name":4307,"Calc Horse Power":"","Calc Pump Rate":"","Calc Stroke Rate":"","Suction Pressure":"","Discharge Pressure":1349,"Engine Coolant Temp":174,"Engine Oil Pressure":46,"Engine RPM":750,"Engine Load":0,"Engine Hours":21672,Voltage:26,"Trans Gear":0,"Trans Oil Pressure":10,"Trans Temp":180,"Calc Trans RPM":"","PE Oil Pressure":43,"PE Oil Temp":105,"Calc PE RPM":"","FE Vibration":19,Brand:"AMI"},{timestamp:"2022-06-28T07:16:51.000-0500","Pump Position":8,Crew:"platinum",Date:"6/28/2022 7:16","Pump Name":4323,"Calc Horse Power":"","Calc Pump Rate":"","Calc Stroke Rate":"","Suction Pressure":"","Discharge Pressure":6435,"Engine Coolant Temp":178,"Engine Oil Pressure":51,"Engine RPM":751,"Engine Load":0,"Engine Hours":9277,Voltage:28,"Trans Gear":0,"Trans Oil Pressure":13,"Trans Temp":181,"Calc Trans RPM":"","PE Oil Pressure":37,"PE Oil Temp":97,"Calc PE RPM":"","FE Vibration":-25,Brand:"AMI"},{timestamp:"2022-06-28T07:16:51.000-0500","Pump Position":12,Crew:"platinum",Date:"6/28/2022 7:16","Pump Name":4309,"Calc Horse Power":"","Calc Pump Rate":"","Calc Stroke Rate":"","Suction Pressure":"","Discharge Pressure":6377,"Engine Coolant Temp":176,"Engine Oil Pressure":48,"Engine RPM":751,"Engine Load":0,"Engine Hours":11464,Voltage:27,"Trans Gear":0,"Trans Oil Pressure":16,"Trans Temp":183,"Calc Trans RPM":"","PE Oil Pressure":41,"PE Oil Temp":96,"Calc PE RPM":"","FE Vibration":-25,Brand:"AMI"},{timestamp:"2022-06-28T07:16:51.000-0500","Pump Position":25,Crew:"platinum",Date:"6/28/2022 7:16","Pump Name":4147,"Calc Horse Power":614.888,"Calc Pump Rate":3.92,"Calc Stroke Rate":59.789,"Suction Pressure":"","Discharge Pressure":6401,"Engine Coolant Temp":176,"Engine Oil Pressure":72,"Engine RPM":1770,"Engine Load":42,"Engine Hours":12569.5,Voltage:26.7,"Trans Gear":2,"Trans Oil Pressure":42.8,"Trans Temp":186,"Calc Trans RPM":385.621,"PE Oil Pressure":102,"PE Oil Temp":111,"Calc PE RPM":60.699,"FE Vibration":"",Brand:"ROLL"},{timestamp:"2022-06-28T07:16:51.000-0500","Pump Position":26,Crew:"platinum",Date:"6/28/2022 7:16","Pump Name":4264,"Calc Horse Power":446.781,"Calc Pump Rate":2.871,"Calc Stroke Rate":43.785,"Suction Pressure":"","Discharge Pressure":6351,"Engine Coolant Temp":174,"Engine Oil Pressure":75,"Engine RPM":1765,"Engine Load":38,"Engine Hours":13376.2,Voltage:26.9,"Trans Gear":1,"Trans Oil Pressure":40.7,"Trans Temp":183,"Calc Trans RPM":282.4,"PE Oil Pressure":138.5,"PE Oil Temp":93,"Calc PE RPM":44.451,"FE Vibration":"",Brand:"ROLL"},{timestamp:"2022-06-28T07:16:51.000-0500","Pump Position":27,Crew:"platinum",Date:"6/28/2022 7:16","Pump Name":4226,"Calc Horse Power":457.876,"Calc Pump Rate":2.877,"Calc Stroke Rate":43.884,"Suction Pressure":"","Discharge Pressure":6494,"Engine Coolant Temp":174,"Engine Oil Pressure":75,"Engine RPM":1769,"Engine Load":0,"Engine Hours":21146,Voltage:26.6,"Trans Gear":1,"Trans Oil Pressure":43.1,"Trans Temp":183,"Calc Trans RPM":283.04,"PE Oil Pressure":210.1,"PE Oil Temp":102,"Calc PE RPM":44.552,"FE Vibration":"",Brand:"ROLL"},{timestamp:"2022-06-28T07:16:51.000-0500","Pump Position":28,Crew:"platinum",Date:"6/28/2022 7:16","Pump Name":4156,"Calc Horse Power":457.922,"Calc Pump Rate":2.884,"Calc Stroke Rate":43.983,"Suction Pressure":"","Discharge Pressure":6480,"Engine Coolant Temp":168,"Engine Oil Pressure":74,"Engine RPM":1773,"Engine Load":32,"Engine Hours":13641.5,Voltage:27.1,"Trans Gear":1,"Trans Oil Pressure":35.3,"Trans Temp":185,"Calc Trans RPM":283.68,"PE Oil Pressure":91.3,"PE Oil Temp":105,"Calc PE RPM":44.653,"FE Vibration":"",Brand:"ROLL"},{timestamp:"2022-06-28T07:16:51.000-0500","Pump Position":29,Crew:"platinum",Date:"6/28/2022 7:16","Pump Name":4178,"Calc Horse Power":445.033,"Calc Pump Rate":2.874,"Calc Stroke Rate":43.834,"Suction Pressure":"","Discharge Pressure":6319,"Engine Coolant Temp":170,"Engine Oil Pressure":78,"Engine RPM":1767,"Engine Load":17,"Engine Hours":14114.6,Voltage:27.2,"Trans Gear":1,"Trans Oil Pressure":35.7,"Trans Temp":183,"Calc Trans RPM":282.72,"PE Oil Pressure":119.9,"PE Oil Temp":107,"Calc PE RPM":44.502,"FE Vibration":"",Brand:"ROLL"},{timestamp:"2022-06-28T07:16:51.000-0500","Pump Position":31,Crew:"platinum",Date:"6/28/2022 7:16","Pump Name":4207,"Calc Horse Power":449.426,"Calc Pump Rate":2.85,"Calc Stroke Rate":43.462,"Suction Pressure":"","Discharge Pressure":6436,"Engine Coolant Temp":170,"Engine Oil Pressure":75,"Engine RPM":1752,"Engine Load":45,"Engine Hours":25591.2,Voltage:25.7,"Trans Gear":1,"Trans Oil Pressure":35.1,"Trans Temp":181,"Calc Trans RPM":280.32,"PE Oil Pressure":105.2,"PE Oil Temp":98,"Calc PE RPM":44.124,"FE Vibration":"",Brand:"ROLL"},{timestamp:"2022-06-28T07:16:51.000-0500","Pump Position":32,Crew:"platinum",Date:"6/28/2022 7:16","Pump Name":4230,"Calc Horse Power":452.198,"Calc Pump Rate":2.871,"Calc Stroke Rate":43.785,"Suction Pressure":"","Discharge Pressure":6428,"Engine Coolant Temp":170,"Engine Oil Pressure":78,"Engine RPM":1765,"Engine Load":38,"Engine Hours":11991.8,Voltage:27.1,"Trans Gear":1,"Trans Oil Pressure":40.9,"Trans Temp":179,"Calc Trans RPM":282.4,"PE Oil Pressure":94.1,"PE Oil Temp":100,"Calc PE RPM":44.451,"FE Vibration":"",Brand:"ROLL"},{timestamp:"2022-06-28T07:16:51.000-0500","Pump Position":33,Crew:"platinum",Date:"6/28/2022 7:16","Pump Name":4236,"Calc Horse Power":455.948,"Calc Pump Rate":2.879,"Calc Stroke Rate":43.909,"Suction Pressure":"","Discharge Pressure":6463,"Engine Coolant Temp":172,"Engine Oil Pressure":77,"Engine RPM":1770,"Engine Load":34,"Engine Hours":10975.2,Voltage:26.9,"Trans Gear":1,"Trans Oil Pressure":36.3,"Trans Temp":185,"Calc Trans RPM":283.2,"PE Oil Pressure":83.9,"PE Oil Temp":-25,"Calc PE RPM":44.577,"FE Vibration":"",Brand:"ROLL"},{timestamp:"2022-06-28T07:16:51.000-0500","Pump Position":34,Crew:"platinum",Date:"6/28/2022 7:16","Pump Name":4250,"Calc Horse Power":453.137,"Calc Pump Rate":2.869,"Calc Stroke Rate":43.76,"Suction Pressure":"","Discharge Pressure":6445,"Engine Coolant Temp":170,"Engine Oil Pressure":77,"Engine RPM":1764,"Engine Load":40,"Engine Hours":12049.4,Voltage:26.9,"Trans Gear":1,"Trans Oil Pressure":41.4,"Trans Temp":179,"Calc Trans RPM":282.24,"PE Oil Pressure":111,"PE Oil Temp":91,"Calc PE RPM":44.426,"FE Vibration":"",Brand:"ROLL"}],m={"Calc Pump Rate":" rpm","Calc Stroke Rate":" Stroke/min","Calc Trans RPM":" rpm","Pump Rate":" psi","Suction Pressure":" psi","DUAL FUEL RATIO":" %","Engine Coolant Temp":" degF","Engine Hours":"  h","Engine Load":" %","Engine Oil Pressure":" psi","Engine RPM":"  rpm","FUEL RATE":" gal/hr","Calc Horse Power":" hp","PE Oil Pressure":" psi","PE Oil Temp":" degF","Trans Gear":" ","Trans Oil Pressure":" psi","Trans Temp":" degF",Voltage:" V","Calc PE RPM":" rpm","FE Vibration":" %"},P=r(195),d=r(4956),g=r(184);var E=function(){return(0,g.jsx)(d.V,{children:(0,g.jsx)(P.$,{ariaLive:"assertive",labelPosition:"top"})})},f=r(7577),h=r(1318),T=r(1694),C=r.n(T);var x=function(e){return(0,g.jsx)("div",{className:"position-absolute camera-toggle-btn",children:(0,g.jsx)(i.K,{horizontal:!0,children:[{key:"map",text:"Map",iconProps:{iconName:"HandsFree"}},{key:"orbit",text:"Orbit",iconProps:{iconName:"Add"}}].map((function(n){return(0,g.jsx)(h.a,{className:C()("bg-themeLighter",{active:e.cameraType===n.key}),toggle:!0,checked:e.cameraType===n.key,iconProps:n.iconProps,onClick:function(r){return e.setCameraType(n.key)},children:(0,g.jsx)("span",{className:"ms-hiddenLgDown",children:n.text})},n.key)}))})})},R=r(4637),v=r(6895),j=function(e){return"orbit"===e.controlStyle?(0,g.jsx)(R.z,{makeDefault:!0,rotateSpeed:2}):(0,g.jsx)(v.o,{makeDefault:!0,panSpeed:2})},O={position:[10,15,40],fov:50,near:.01,far:1e3},M={background:"#06061d",borderRadius:"8px"},S={current:1,min:.1,max:1,debounce:200,regress:function(){return null}},L=r(6734),w=r(3253),b=r(7826);var k=function(e){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(L.qA,{preset:"apartment"}),(0,g.jsx)("pointLight",{position:[10,10,10],intensity:.5}),(0,g.jsx)(w.I,{alignment:"top-right",renderPriority:99,children:(0,g.jsx)(b.L,{})})]})},H=r(9439),y=r(9093),Z=r(3655),D=r(9324),V=r(5226),N=r(1697),F=r(6006),A=r(7760);function B(e){var n=Object.assign({},e),r=(0,u.useRef)();return"Group"===n.node.type?(0,g.jsx)("group",{rotation:n.node.rotation,position:n.node.position,scale:n.node.scale,frustumCulled:!0,children:n.node.children.length>0&&n.node.children.map((function(e,r){return(0,g.jsx)(B,(0,o.Z)((0,o.Z)({},n),{},{node:e,index:r}),r+e.name)}))}):(0,g.jsx)("mesh",{geometry:n.node.geometry,material:n.node.material,rotation:n.node.rotation,position:n.node.position,ref:r,raycast:F.l,scale:n.node.scale,onPointerOver:function(e){e.stopPropagation(),n.onHover(r)},onPointerOut:function(e){e.stopPropagation(),n.onHover(null)},onClick:function(e){e.stopPropagation(),n.onHover(r)},children:n.node.children.length>0&&n.node.children.map((function(e,r){return(0,g.jsx)(B,(0,o.Z)((0,o.Z)({},n),{},{node:e,index:r}),r+e.name)}))})}var G=(0,u.forwardRef)((function(e,n){var r=(0,Z.L)(e.cloudGlbURL).scene,i=(0,u.useMemo)((function(){return r.children.forEach((function(e){e.isMesh&&(e.material=new A.MeshStandardMaterial({color:e.material.color,metalness:1,emissive:1,roughness:.5}))})),r.clone()}),[r.uuid]),s=function(n,r){n.stopPropagation(),r===e.activeMesh?e.onHover(null):e.onHover(r)};return e.fast?(0,g.jsx)("group",(0,o.Z)((0,o.Z)({ref:n},e),{},{dispose:null,children:(0,g.jsx)("primitive",{object:i})})):(0,g.jsx)("group",(0,o.Z)((0,o.Z)({ref:n},e),{},{dispose:null,className:"cursor-pointer",children:i.children.map((function(r,i){return(0,g.jsx)(B,(0,o.Z)((0,o.Z)({},e),{},{node:r,toggleActiveMesh:s,index:i,onHover:function(){return e.onHover(n)}}),i+r.name)}))}))})),z=r(3630),I=r(7543),U=r(5132),_=r(8511),K=r(2935),J="Solid1_14",W="Solid1_29",X="Solid1_23",q="Solid1_53",Y="A_body",$=r(5410),Q=["anchor"],ee=new A.Box3,ne=new A.Vector3,re=function(e){var n=e.anchor,r=(0,$.Z)(e,Q),i=u.useRef(null),s=u.useRef(null);return u.useEffect((function(){var e,n;null!==(e=i.current)&&void 0!==e&&null!==(n=e.parent)&&void 0!==n&&n.parent&&(s.current=i.current.parent,i.current.parent.parent.add(i.current))}),[]),(0,D.x)((function(){if(s.current){ee.setFromObject(s.current),ee.getSize(ne);var e=s.current.position,r=e.pX,o=e.pY,t=e.pZ;r&&o&&t?i.current.position.set(s.current.position.x+ne.x*n[0]/2,s.current.position.y+ne.y*n[1]/2,s.current.position.z+ne.z*n[2]/2):i.current.position.set(s.current.geometry.boundingBox.min.x+n[0],s.current.geometry.boundingBox.min.y+n[1],s.current.geometry.boundingBox.min.z+n[2])}})),(0,g.jsx)("group",(0,o.Z)({ref:i},r))};function oe(e){var n=Object.assign({},e),r=J,o=W,i=q,s=X,t=Y;return(0,g.jsxs)(g.Fragment,{children:[n.node.name===r&&n.pump["Engine Load"]?(0,g.jsx)(re,{anchor:[0,0,0],children:(0,g.jsx)(d.V,{children:(0,g.jsxs)("div",{className:"content",children:[(0,g.jsx)(_.J,{iconName:"LightningBolt"}),n.pump["Engine Load"]+m["Engine Load"]]})})}):null,n.node.name===o&&n.pump["Trans Gear"]?(0,g.jsx)(re,{anchor:[1,1,1],children:(0,g.jsx)(d.V,{children:(0,g.jsxs)("div",{className:"content",children:[(0,g.jsx)(_.J,{iconName:"Settings"}),n.pump["Trans Gear"]+m["Trans Gear"]]})})}):null,n.node.name===s&&n.pump["Horse Power"]?(0,g.jsx)(re,{anchor:[0,0,0],children:(0,g.jsx)(d.V,{children:(0,g.jsx)("div",{className:"content",children:n.pump["Horse Power"]+m["Calc Horse Power"]})})}):null,n.node.name===i&&n.pump["Pump Rate"]?(0,g.jsx)(re,{anchor:[0,0,0],children:(0,g.jsx)(d.V,{children:(0,g.jsxs)("div",{className:"content",children:[(0,g.jsx)(_.J,{iconName:"Drop"}),n.pump["Pump Rate"]+m["Pump Rate"]]})})}):null,n.node.name===t?(0,g.jsx)(K.L,{anchor:[0,0,0],children:(0,g.jsx)(d.V,{children:(0,g.jsx)("div",{className:"chassis-content",children:n.pump["Pump Position"]})})}):null]})}function ie(e){var n=Object.assign({},e),r=(0,u.useRef)(),i=(0,u.useState)(),s=(0,H.Z)(i,2),t=s[0],a=s[1];if((0,I.j)(t,"pointer"),(0,U.o)(r),!(n.index>300)){return"mesh"!==n.node.type.toLowerCase()?(0,g.jsx)("group",{rotation:n.node.rotation,position:n.node.position,scale:n.node.scale,frustumCulled:!0,children:n.node.children.length>0&&n.node.children.map((function(e,r){return(0,g.jsx)(ie,(0,o.Z)((0,o.Z)({},n),{},{node:e,index:r+n.index}),r+e.name)}))}):"mesh"===n.node.type.toLowerCase()?(0,g.jsxs)("mesh",{geometry:n.node.geometry,material:n.node.material,rotation:n.node.rotation,position:n.node.position,ref:r,scale:n.node.scale,onPointerOver:function(e){e.stopPropagation(),n.show&&(n.onHover(r),a(!0))},onPointerOut:function(){n.show&&(a(!1),n.onHover(null))},onClick:function(e){e.stopPropagation(),n.show&&(1===e.detail?n.onClick(!0):n.onDoubleClick())},frustumCulled:!0,children:[n.node.children.length>0&&n.node.children.map((function(e,r){return(0,g.jsx)(ie,(0,o.Z)((0,o.Z)({},n),{},{node:e,index:r+n.index}),r+e.name)})),n.isActive&&n.show?(0,g.jsx)(oe,(0,o.Z)({},n)):null]}):void 0}}function se(e){var n=Object.assign({},e),r=(0,u.useRef)(),i=(0,u.useState)(new Set),s=(0,H.Z)(i,2),t=s[0],a=s[1];return(0,D.x)((function(){r.current.visible=n.show})),n.fast?(0,g.jsx)("group",(0,o.Z)((0,o.Z)({ref:r},n),{},{dispose:null,children:(0,g.jsx)(z.P,{box:!0,multiple:!0,onChange:function(e){e[0]&&(console.log(e[0]),n.onHover(e[0]),n.onClick(!0))},children:(0,g.jsx)("primitive",{object:n.scene})})})):(0,g.jsx)("group",(0,o.Z)((0,o.Z)({ref:r},n),{},{dispose:null,frustumCulled:!0,children:n.scene.children.map((function(e,r){return(0,g.jsx)(ie,(0,o.Z)((0,o.Z)({},n),{},{node:e,index:r,indexSet:t,setIndexSet:a}),r+e.name)}))}))}var te=r(5647),ae=r(3433),le=r(7762),ue=r(9577),ce=["children","opacity","radius","segments","color"],pe=["color","name","connectedTo","position"],me=(0,u.createContext)(),Pe=(0,u.forwardRef)((function(e,n){var r=e.children,i=e.opacity,s=void 0===i?1:i,t=e.radius,a=void 0===t?.05:t,l=e.segments,u=void 0===l?32:l,c=e.color,p=void 0===c?"#ff1050":c,m=(0,$.Z)(e,ce);return(0,g.jsxs)("mesh",(0,o.Z)((0,o.Z)({ref:n},m),{},{children:[(0,g.jsx)("circleGeometry",{args:[a,u]}),(0,g.jsx)("meshBasicMaterial",{transparent:s<1,opacity:s,color:p}),r]}))}));function de(e){var n=e.children,r=(0,u.useRef)(),i=(0,u.useState)([]),s=(0,H.Z)(i,2),t=s[0],a=s[1],l=(0,u.useMemo)((function(){var e,n=[],r=(0,le.Z)(t);try{var o=function(){var r=e.value;r.connectedTo.map((function(e){return[r.position,e.current.position]})).forEach((function(e){var r=(0,H.Z)(e,2),o=r[0],i=r[1];return n.push({start:o.clone().add({x:.35,y:0,z:0}),end:i.clone().add({x:-.35,y:0,z:0})})}))};for(r.s();!(e=r.n()).done;)o()}catch(i){r.e(i)}finally{r.f()}return n}),[t]);return(0,D.x)((function(e,n){return r.current.children.forEach((function(e){return e.children[0].material.uniforms.dashOffset.value-=10*n}))})),(0,g.jsxs)(me.Provider,{value:a,children:[(0,g.jsx)("group",{ref:r,children:l.map((function(e,n){return(0,g.jsxs)("group",{children:[(0,g.jsx)(ue.R,(0,o.Z)((0,o.Z)({},e),{},{color:"white",dashed:!0,dashScale:50,gapSize:20}),n+"Bezier spot"),(0,g.jsx)(ue.R,(0,o.Z)((0,o.Z)({},e),{},{color:"red",lineWidth:5,transparent:!0,opacity:.5}),n+"Bezier line")]})}))}),n,l.map((function(e,n){var r=e.start,o=e.end;return(0,g.jsxs)("group",{"position-z":1,children:[(0,g.jsx)(Pe,{position:r}),(0,g.jsx)(Pe,{position:o})]},n+"Bezier circle")}))]})}var ge=(0,u.forwardRef)((function(e,n){var r=e.color,i=void 0===r?"black":r,s=(e.name,e.connectedTo),t=void 0===s?[]:s,a=e.position,l=void 0===a?[0,0,0]:a,c=(0,$.Z)(e,pe),p=(0,u.useContext)(me),m=(0,u.useState)((function(){return(0,te.Z)(A.Vector3,(0,ae.Z)(l))})),P=(0,H.Z)(m,1)[0],d=(0,u.useMemo)((function(){return{position:P,connectedTo:t}}),[P,t]);return(0,u.useLayoutEffect)((function(){return p((function(e){return[].concat((0,ae.Z)(e),[d])})),function(){p((function(e){return e.filter((function(e){return e!==d}))}))}}),[d,P,p]),(0,g.jsx)(Pe,(0,o.Z)({ref:n,opacity:.2,radius:.5,color:i,position:P},c))})),Ee=[0,-Math.PI/2,0],fe=[0,Math.PI/2,0],he=[0,-1,-20],Te=[15,1,-10],Ce=[0,0,20],xe=[0,0,13],Re=[0,Math.PI/2,0];var ve=function(e){var n=(0,u.useRef)(null),r=(0,u.useRef)(null),o=(0,u.useRef)(null),i=(0,u.useRef)(null),s=(0,u.useState)(null),t=(0,H.Z)(s,2),a=t[0],l=t[1],c=(0,u.useState)(null),m=(0,H.Z)(c,2),P=m[0],h=m[1],T=(0,u.useState)(null),C=(0,H.Z)(T,2),x=C[0],R=C[1],v=(0,Z.L)(N.d.TRUCK).scene,j=(0,D.w)((function(e){return e.camera})),O=(0,D.w)((function(e){return e.controls})),M=e.pumpsData.length?e.pumpsData:p,S=function(e){var n=(0,f.t)();return{copiedScene:(0,u.useMemo)((function(){var r=[];return e.traverse((function(e){var o;if(e.isMesh){var i,s=e.material,t=null===(o=e.geometry)||void 0===o?void 0:o.boundingSphere.radius;t>10&&t<30&&(r.push(e),console.log(e)),e.material=n||t<200?new A.MeshBasicMaterial({color:s.color}):new A.MeshStandardMaterial({color:s.color,metalness:1,emissive:1,roughness:null!==(i=s.roughness)&&void 0!==i?i:.5})}})),r.forEach((function(e){e.removeFromParent()})),e.clone()}),[e.uuid])}}(v),L=S.copiedScene,w=(0,D.w)((function(e){return e.invalidate})),b=function(e){return!x||e["Pump Position"]===x["Pump Position"]};(0,u.useEffect)((function(){x&&e.setSelected(x["Pump Position"])}),[x,e]);var k=function(n){return n["Pump Position"]===e.selected},F=M.length/2,B=a?[a]:void 0;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.Suspense,{fallback:(0,g.jsx)(E,{}),children:(0,g.jsxs)(de,{children:[M.map((function(n,r){var o=function(e,n,r){return[e<n?15:-15,0+10*r,n%e*5]}(F,r,x&&n["Pump Position"]===x["Pump Position"]),i=(0,H.Z)(o,3),s=i[0],t=i[1],a=i[2];return(0,g.jsx)(se,{position:[s,t,a],onClick:function(){e.setSelected(n["Pump Position"]),w()},onDoubleClick:function(){if(b(n)){var r;null===O||void 0===O||O.saveState();var o={};o.position=j.position.clone(),o.rotation=j.rotation.clone(),o.controlCenter=null===O||void 0===O||null===(r=O.target)||void 0===r?void 0:r.clone(),h(o),e.setSelected(n["Pump Position"]),R(n),j.position.set(4.5*s,t+9,3*a),w()}},onHover:l,isActive:e.selectionOptions["Select All"]||k(n),show:b(n),isFocussed:x&&n["Pump Position"]===x["Pump Position"],scene:L,pump:n,setAlertedParts:e.setAlertedParts,rotation:F<r?Ee:fe,cloudGlbURL:N.d.TRUCK,scale:x?2:1},n["Pump Position"])})),x?null:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(G,{ref:n,cloudGlbURL:N.d.MISSILE,assetId:4347,onClick:function(e){console.log("clicked on missile")},onHover:l,position:Ce}),(0,g.jsx)(ge,{ref:r,name:"missile",position:xe,connectedTo:[o]}),(0,g.jsx)(G,{ref:o,cloudGlbURL:N.d.WELL_HEAD,onClick:function(e){console.log("clicked on missile")},onHover:l,position:he,scale:5}),(0,g.jsx)(G,{ref:i,cloudGlbURL:N.d.DATA_VAN,onClick:function(e){console.log("clicked on missile")},onHover:l,position:Te,rotation:Re})]})]})}),(0,g.jsx)(V.xC,{multisampling:8,autoClear:!1,children:(0,g.jsx)(V.bw,{selection:B,selectionLayer:1,visibleEdgeColor:"white",edgeStrength:5})}),(0,g.jsx)(d.V,{left:!0,portal:e.domNodeRef,children:x?(0,g.jsx)("div",{children:(0,g.jsx)(y.h,{className:"text-neutralPrimary bg-themeLighterAlt",iconProps:{iconName:"Back"},onClick:function(){R(null),j.position.set(P.position.x,P.position.y,P.position.z),null===O||void 0===O||O.reset(),w(),w()},text:"Back to Frac site"})}):null})]})};var je=function(e){var n=(0,u.useRef)(null),r=(0,f.t)(),P=(0,l.M4)({"Select All":!1},[e.pumpsData],{hidden:r});return(0,u.useEffect)((function(){P["Select All"]&&e.setSelected(null)}),[P,e]),(0,g.jsxs)(i.K,{className:"position-relative site-map-content",verticalFill:!0,children:[(0,g.jsx)("div",{ref:n,className:"site-btns"}),(0,g.jsxs)(a.Xz,{id:"site-map",style:M,frameloop:"demand",className:"ms-depth-64",shadows:!0,camera:O,performance:S,onPointerMissed:function(n){n.stopPropagation(),e.setSelected(null)},children:[(0,g.jsxs)(u.Suspense,{fallback:(0,g.jsx)(E,{}),children:[(0,g.jsx)(k,{}),(0,g.jsx)(ve,(0,o.Z)((0,o.Z)({},e),{},{selectionOptions:P,domNodeRef:n}))]}),(0,g.jsx)(t.E,{}),(0,g.jsx)(j,{controlStyle:e.cameraType})]}),(0,g.jsx)(x,{cameraType:e.cameraType,setCameraType:e.setCameraType}),(0,g.jsx)("div",{className:"site-controls",children:(0,g.jsx)(l.Zf,{fill:!0,collapsed:!0,hidden:r})}),e.selected?(0,g.jsx)("div",{className:"pump-stats",children:Object.entries(p.find((function(n){return n["Pump Position"]===e.selected}))).filter((function(e,n){return!!e[1]&&!c.includes(e[0])})).map((function(e,n){return(0,g.jsx)(s.x,{block:!0,variant:"small",children:(0,g.jsxs)("span",{className:"ms-fontWeight-bold ms-fontColor-white",children:[e[0],": ",e[1]," ",m[e[0]]]})},n)}))}):null]})}}}]);
//# sourceMappingURL=889.c86a6f9a.chunk.js.map