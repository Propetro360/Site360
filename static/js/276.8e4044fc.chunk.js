"use strict";(self.webpackChunkpropetro_site3d=self.webpackChunkpropetro_site3d||[]).push([[276],{4276:function(e,n,o){o.r(n),o.d(n,{CloudGLTF:function(){return h},default:function(){return m}});var r=o(1413),t=o(7760),i=new t.Matrix4,a=new t.Ray,s=new t.Sphere,u=new t.Vector3;function c(e,n){var o=this.geometry,r=this.material,t=this.matrixWorld;void 0!==r&&(null===o.boundingSphere&&o.computeBoundingSphere(),s.copy(o.boundingSphere),s.applyMatrix4(t),!1!==e.ray.intersectsSphere(s)&&(i.copy(t).invert(),a.copy(e.ray).applyMatrix4(i),null!==o.boundingBox&&null===a.intersectBox(o.boundingBox,u)||n.push({distance:u.distanceTo(e.ray.origin),point:u.clone(),object:this})))}var l=o(3655),d=o(2791),p=o(184),h=(0,d.forwardRef)((function(e,n){var o=(0,l.L)(e.cloudGlbURL).scene,i=(0,d.useMemo)((function(){return o.children.forEach((function(e){e.isMesh&&(e.material=new t.MeshStandardMaterial({color:e.material.color,metalness:1,emissive:1,roughness:.5}))})),o.clone()}),[o.uuid]),a=function(n,o){n.stopPropagation(),o===e.activeMesh?e.onHover(null):e.onHover(o)};return e.fast?(0,p.jsx)("group",(0,r.Z)((0,r.Z)({ref:n},e),{},{dispose:null,children:(0,p.jsx)("primitive",{object:i})})):(0,p.jsx)("group",(0,r.Z)((0,r.Z)({ref:n},e),{},{dispose:null,className:"cursor-pointer",children:i.children.map((function(o,t){return(0,p.jsx)(f,(0,r.Z)((0,r.Z)({},e),{},{node:o,toggleActiveMesh:a,index:t,onHover:function(){return e.onHover(n)}}),t+o.name)}))}))}));function f(e){var n=Object.assign({},e),o=(0,d.useRef)();return"Group"===n.node.type?(0,p.jsx)("group",{rotation:n.node.rotation,position:n.node.position,scale:n.node.scale,frustumCulled:!0,children:n.node.children.length>0&&n.node.children.map((function(e,o){return(0,p.jsx)(f,(0,r.Z)((0,r.Z)({},n),{},{node:e,index:o}),o+e.name)}))}):(0,p.jsx)("mesh",{geometry:n.node.geometry,material:n.node.material,rotation:n.node.rotation,position:n.node.position,ref:o,raycast:c,scale:n.node.scale,onPointerOver:function(e){e.stopPropagation(),n.onHover(o)},onPointerOut:function(e){e.stopPropagation(),n.onHover(null)},onClick:function(e){e.stopPropagation(),n.onHover(o)},children:n.node.children.length>0&&n.node.children.map((function(e,o){return(0,p.jsx)(f,(0,r.Z)((0,r.Z)({},n),{},{node:e,index:o}),o+e.name)}))})}var m=h}}]);
//# sourceMappingURL=276.8e4044fc.chunk.js.map