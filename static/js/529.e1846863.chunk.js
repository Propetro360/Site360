"use strict";(self.webpackChunkpropetro_site3d=self.webpackChunkpropetro_site3d||[]).push([[529],{529:function(n,e,o){o.r(e),o.d(e,{default:function(){return S}});var r=o(1413),i=o(3630),t=o(9324),s=o(2791),c=o(9439),u=o(7543),l=o(5132),a=o(8511),d=o(4956),p=o(2935),m="Solid3034_60",x="Solid1061",h="Solid3034_49",j="Solid1040",f="Solid3034_36",g=o(7916),v=o(5410),Z=o(7760),w=o(184),P=["anchor"],b=new Z.Box3,C=new Z.Vector3,y=function(n){var e=n.anchor,o=(0,v.Z)(n,P),i=s.useRef(null),c=s.useRef(null);return s.useEffect((function(){var n,e;null!==(n=i.current)&&void 0!==n&&null!==(e=n.parent)&&void 0!==e&&e.parent&&(c.current=i.current.parent,i.current.parent.parent.add(i.current))}),[]),(0,t.x)((function(){if(c.current){b.setFromObject(c.current),b.getSize(C);var n=c.current.position,o=n.pX,r=n.pY,t=n.pZ;o&&r&&t?i.current.position.set(c.current.position.x+C.x*e[0]/2,c.current.position.y+C.y*e[1]/2,c.current.position.z+C.z*e[2]/2):i.current.position.set(c.current.geometry.boundingBox.min.x+e[0],c.current.geometry.boundingBox.min.y+e[1],c.current.geometry.boundingBox.min.z+e[2])}})),(0,w.jsx)("group",(0,r.Z)({ref:i},o))};function k(n){var e=Object.assign({},n),o=m,r=x,i=j,t=h,s=f;return(0,w.jsxs)(w.Fragment,{children:[e.node.name===o&&e.pump["Engine Load"]?(0,w.jsx)(y,{anchor:[0,0,0],children:(0,w.jsx)(d.V,{children:(0,w.jsxs)("div",{className:"content",children:[(0,w.jsx)(a.J,{iconName:"LightningBolt"}),e.pump["Engine Load"].toFixed(1)+g.Y["Engine Load"]]})})}):null,e.node.name===r&&e.pump["Trans Gear"]?(0,w.jsx)(p.L,{anchor:[1,1,1],children:(0,w.jsx)(d.V,{children:(0,w.jsxs)("div",{className:"content",children:[(0,w.jsx)(a.J,{iconName:"Settings"}),e.pump["Trans Gear"].toFixed(1)+g.Y["Trans Gear"]]})})}):null,e.node.name===t&&e.pump["Horse Power"]?(0,w.jsx)(y,{anchor:[0,0,0],children:(0,w.jsx)(d.V,{children:(0,w.jsx)("div",{className:"content",children:e.pump["Horse Power"].toFixed(1)+g.Y["Calc Horse Power"]})})}):null,e.node.name===i&&e.pump["Pump Rate"]?(0,w.jsx)(y,{anchor:[0,0,0],children:(0,w.jsx)(d.V,{children:(0,w.jsxs)("div",{className:"content",children:[(0,w.jsx)(a.J,{iconName:"Drop"}),e.pump["Pump Rate"].toFixed(1)+g.Y["Pump Rate"]]})})}):null,e.node.name===s?(0,w.jsx)(y,{anchor:[0,0,0],children:(0,w.jsx)(d.V,{children:(0,w.jsx)("div",{className:"chassis-content",children:e.pump["Pump Position"]})})}):null]})}function N(n){var e=Object.assign({},n),o=(0,s.useRef)(),i=(0,s.useState)(),t=(0,c.Z)(i,2),a=t[0],d=t[1];if((0,u.j)(a,"pointer"),(0,l.o)(o),!(e.index>100)){return"mesh"!==e.node.type.toLowerCase()?(0,w.jsx)("group",{rotation:e.node.rotation,position:e.node.position,scale:e.node.scale,frustumCulled:!0,children:e.node.children.length>0&&e.node.children.map((function(n,o){return(0,w.jsx)(N,(0,r.Z)((0,r.Z)({},e),{},{node:n,index:o+e.index}),o+n.name)}))}):"mesh"===e.node.type.toLowerCase()?(0,w.jsxs)("mesh",{geometry:e.node.geometry,material:e.node.material,rotation:e.node.rotation,position:e.node.position,ref:o,scale:e.node.scale,onPointerOver:function(n){n.stopPropagation(),e.show&&(e.onHover(o),d(!0))},onPointerOut:function(n){n.stopPropagation(),e.show&&(d(!1),e.onHover(null))},onClick:function(n){n.stopPropagation(),console.log(e.node.name),e.show&&(1===n.detail?e.onClick(!0):e.onDoubleClick())},frustumCulled:!0,children:[e.node.children.length>0&&e.node.children.map((function(n,o){return(0,w.jsx)(N,(0,r.Z)((0,r.Z)({},e),{},{node:n,index:o+e.index}),o+n.name)})),e.isActive&&e.show?(0,w.jsx)(k,(0,r.Z)({},e)):null]}):void 0}}function S(n){var e=Object.assign({},n),o=(0,s.useRef)();return(0,t.x)((function(){o.current.visible=e.show})),e.fast?(0,w.jsx)("group",(0,r.Z)((0,r.Z)({ref:o},e),{},{dispose:null,children:(0,w.jsx)(i.P,{box:!0,multiple:!0,onChange:function(n){n[0]&&(e.onHover(n[0]),e.onClick(!0))},children:(0,w.jsx)("primitive",{object:e.scene})})})):(0,w.jsx)("group",(0,r.Z)((0,r.Z)({ref:o},e),{},{dispose:null,frustumCulled:!0,children:e.scene.children.map((function(n,o){return(0,w.jsx)(N,(0,r.Z)((0,r.Z)({},e),{},{node:n,index:o}),o+n.name)}))}))}}}]);
//# sourceMappingURL=529.e1846863.chunk.js.map