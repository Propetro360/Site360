{"version":3,"file":"static/js/277.2032f9bd.chunk.js","mappings":"+OAAaA,EAAY,CACvB,YACA,OACA,sBACA,eACA,cACA,sBACA,aACA,YACA,mBACA,kBACA,cACA,YACA,aACA,qBACA,aACA,UACA,OACA,sBClBWC,EAAQ,CACnB,CACEC,UAAW,+BACX,gBAAiB,EACjBC,KAAM,WACNC,KAAM,iBACN,YAAa,KACb,cAAe,GACf,YAAa,GACb,mBAAoB,GACpB,mBAAoB,GACpB,qBAAsB,KACtB,sBAAuB,IACvB,sBAAuB,GACvB,aAAc,IACd,cAAe,EACf,eAAgB,IAChBC,QAAS,GACT,aAAc,EACd,qBAAsB,GACtB,aAAc,IACd,iBAAkB,GAClB,kBAAmB,GACnB,cAAe,IACf,cAAe,GACf,gBAAiB,GACjBC,MAAO,OAET,CACEJ,UAAW,+BACX,gBAAiB,EACjBC,KAAM,WACNC,KAAM,iBACN,YAAa,KACb,cAAe,IACf,YAAa,GACb,mBAAoB,GACpB,mBAAoB,GACpB,qBAAsB,KACtB,sBAAuB,IACvB,sBAAuB,GACvB,aAAc,IACd,cAAe,GACf,eAAgB,MAChBC,QAAS,GACT,aAAc,EACd,qBAAsB,GACtB,aAAc,IACd,iBAAkB,GAClB,kBAAmB,GACnB,cAAe,IACf,cAAe,GACf,eAAgB,EAChBC,MAAO,OAET,CACEJ,UAAW,+BACX,gBAAiB,EACjBC,KAAM,WACNC,KAAM,iBACN,YAAa,KACb,cAAe,GACf,YAAa,GACb,mBAAoB,GACpB,mBAAoB,GACpB,qBAAsB,KACtB,sBAAuB,IACvB,sBAAuB,GACvB,aAAc,IACd,cAAe,EACf,eAAgB,MAChBC,QAAS,GACT,aAAc,EACd,qBAAsB,GACtB,aAAc,IACd,iBAAkB,GAClB,kBAAmB,GACnB,cAAe,IACf,cAAe,GACf,eAAgB,GAChBC,MAAO,OAET,CACEJ,UAAW,+BACX,gBAAiB,EACjBC,KAAM,WACNC,KAAM,iBACN,YAAa,KACb,cAAe,GACf,YAAa,GACb,mBAAoB,GACpB,mBAAoB,GACpB,qBAAsB,KACtB,sBAAuB,IACvB,sBAAuB,GACvB,aAAc,IACd,cAAe,EACf,eAAgB,KAChBC,QAAS,GACT,aA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","sources":["config/hide-keys.js","config/pumps.js","components/site-canvas/camera/camera-btn.js","components/site-canvas/camera/camera-handler.js","components/site-canvas/site-config.js","components/site-canvas/site-lights.js","shared/loader.js","components/nodes/node.js","components/site-canvas/site-playground/site-scene.js","components/site-canvas/site-playground/site-playground.js","components/site-canvas/site-canvas.js","config/unit-mapping.js"],"sourcesContent":["export const HIDE_KEYS = [\r\n  \"timestamp\",\r\n  \"Crew\",\r\n  \"Engine Coolant Temp\",\r\n  \"Engine Hours\",\r\n  \"Engine Load\",\r\n  \"Engine Oil Pressure\",\r\n  \"Engine RPM\",\r\n  \"FUEL RATE\",\r\n  \"Calc Horse Power\",\r\n  \"PE Oil Pressure\",\r\n  \"PE Oil Temp\",\r\n  \"PUMP RATE\",\r\n  \"TRANS GEAR\",\r\n  \"Trans Oil Pressure\",\r\n  \"Trans Temp\",\r\n  \"Voltage\",\r\n  \"Date\",\r\n  \"Discharge Pressure\",\r\n];\r\n\r\nexport const SHOW_KEYS = [\r\n  \"Engine Coolant Temp\",\r\n  \"Trans Gear\",\r\n  \"FE Vibration\",\r\n  \"PE Oil Pressure\",\r\n];\r\n","export const PUMPS = [\r\n  {\r\n    timestamp: \"2022-06-28T07:16:51.000-0500\",\r\n    \"Pump Position\": 1,\r\n    Crew: \"platinum\",\r\n    Date: \"6/28/2022 7:16\",\r\n    \"Pump Name\": 4315,\r\n    \"Horse Power\": \"\",\r\n    \"Pump Rate\": \"\",\r\n    \"Calc Stroke Rate\": \"\",\r\n    \"Suction Pressure\": \"\",\r\n    \"Discharge Pressure\": 6487,\r\n    \"Engine Coolant Temp\": 176,\r\n    \"Engine Oil Pressure\": 45,\r\n    \"Engine RPM\": 750,\r\n    \"Engine Load\": 0,\r\n    \"Engine Hours\": 505,\r\n    Voltage: 28,\r\n    \"Trans Gear\": 0,\r\n    \"Trans Oil Pressure\": 13,\r\n    \"Trans Temp\": 181,\r\n    \"Calc Trans RPM\": \"\",\r\n    \"PE Oil Pressure\": 50,\r\n    \"PE Oil Temp\": 111,\r\n    \"Calc PE RPM\": \"\",\r\n    \"FE Vibration\": -25,\r\n    Brand: \"AMI\",\r\n  },\r\n  {\r\n    timestamp: \"2022-06-28T07:16:51.000-0500\",\r\n    \"Pump Position\": 4,\r\n    Crew: \"platinum\",\r\n    Date: \"6/28/2022 7:16\",\r\n    \"Pump Name\": 4112,\r\n    \"Horse Power\": 4000,\r\n    \"Pump Rate\": \"\",\r\n    \"Calc Stroke Rate\": \"\",\r\n    \"Suction Pressure\": \"\",\r\n    \"Discharge Pressure\": 6375,\r\n    \"Engine Coolant Temp\": 172,\r\n    \"Engine Oil Pressure\": 48,\r\n    \"Engine RPM\": 749,\r\n    \"Engine Load\": 30,\r\n    \"Engine Hours\": 16421,\r\n    Voltage: 27,\r\n    \"Trans Gear\": 2,\r\n    \"Trans Oil Pressure\": 18,\r\n    \"Trans Temp\": 181,\r\n    \"Calc Trans RPM\": \"\",\r\n    \"PE Oil Pressure\": 48,\r\n    \"PE Oil Temp\": 114,\r\n    \"Calc PE RPM\": \"\",\r\n    \"FE Vibration\": 2,\r\n    Brand: \"AMI\",\r\n  },\r\n  {\r\n    timestamp: \"2022-06-28T07:16:51.000-0500\",\r\n    \"Pump Position\": 6,\r\n    Crew: \"platinum\",\r\n    Date: \"6/28/2022 7:16\",\r\n    \"Pump Name\": 4307,\r\n    \"Horse Power\": \"\",\r\n    \"Pump Rate\": \"\",\r\n    \"Calc Stroke Rate\": \"\",\r\n    \"Suction Pressure\": \"\",\r\n    \"Discharge Pressure\": 1349,\r\n    \"Engine Coolant Temp\": 174,\r\n    \"Engine Oil Pressure\": 46,\r\n    \"Engine RPM\": 750,\r\n    \"Engine Load\": 0,\r\n    \"Engine Hours\": 21672,\r\n    Voltage: 26,\r\n    \"Trans Gear\": 0,\r\n    \"Trans Oil Pressure\": 10,\r\n    \"Trans Temp\": 180,\r\n    \"Calc Trans RPM\": \"\",\r\n    \"PE Oil Pressure\": 43,\r\n    \"PE Oil Temp\": 105,\r\n    \"Calc PE RPM\": \"\",\r\n    \"FE Vibration\": 19,\r\n    Brand: \"AMI\",\r\n  },\r\n  {\r\n    timestamp: \"2022-06-28T07:16:51.000-0500\",\r\n    \"Pump Position\": 8,\r\n    Crew: \"platinum\",\r\n    Date: \"6/28/2022 7:16\",\r\n    \"Pump Name\": 4323,\r\n    \"Horse Power\": \"\",\r\n    \"Pump Rate\": \"\",\r\n    \"Calc Stroke Rate\": \"\",\r\n    \"Suction Pressure\": \"\",\r\n    \"Discharge Pressure\": 6435,\r\n    \"Engine Coolant Temp\": 178,\r\n    \"Engine Oil Pressure\": 51,\r\n    \"Engine RPM\": 751,\r\n    \"Engine Load\": 0,\r\n    \"Engine Hours\": 9277,\r\n    Voltage: 28,\r\n    \"Trans Gear\": 0,\r\n    \"Trans Oil Pressure\": 13,\r\n    \"Trans Temp\": 181,\r\n    \"Calc Trans RPM\": \"\",\r\n    \"PE Oil Pressure\": 37,\r\n    \"PE Oil Temp\": 97,\r\n    \"Calc PE RPM\": \"\",\r\n    \"FE Vibration\": -25,\r\n    Brand: \"AMI\",\r\n  },\r\n  {\r\n    timestamp: \"2022-06-28T07:16:51.000-0500\",\r\n    \"Pump Position\": 12,\r\n    Crew: \"platinum\",\r\n    Date: \"6/28/2022 7:16\",\r\n    \"Pump Name\": 4309,\r\n    \"Horse Power\": \"\",\r\n    \"Pump Rate\": \"\",\r\n    \"Calc Stroke Rate\": \"\",\r\n    \"Suction Pressure\": \"\",\r\n    \"Discharge Pressure\": 6377,\r\n    \"Engine Coolant Temp\": 176,\r\n    \"Engine Oil Pressure\": 48,\r\n    \"Engine RPM\": 751,\r\n    \"Engine Load\": 0,\r\n    \"Engine Hours\": 11464,\r\n    Voltage: 27,\r\n    \"Trans Gear\": 0,\r\n    \"Trans Oil Pressure\": 16,\r\n    \"Trans Temp\": 183,\r\n    \"Calc Trans RPM\": \"\",\r\n    \"PE Oil Pressure\": 41,\r\n    \"PE Oil Temp\": 96,\r\n    \"Calc PE RPM\": \"\",\r\n    \"FE Vibration\": -25,\r\n    Brand: \"AMI\",\r\n  },\r\n  {\r\n    timestamp: \"2022-06-28T07:16:51.000-0500\",\r\n    \"Pump Position\": 25,\r\n    Crew: \"platinum\",\r\n    Date: \"6/28/2022 7:16\",\r\n    \"Pump Name\": 4147,\r\n    \"Horse Power\": 614.888,\r\n    \"Pump Rate\": 3.92,\r\n    \"Calc Stroke Rate\": 59.789,\r\n    \"Suction Pressure\": \"\",\r\n    \"Discharge Pressure\": 6401,\r\n    \"Engine Coolant Temp\": 176,\r\n    \"Engine Oil Pressure\": 72,\r\n    \"Engine RPM\": 1770,\r\n    \"Engine Load\": 42,\r\n    \"Engine Hours\": 12569.5,\r\n    Voltage: 26.7,\r\n    \"Trans Gear\": 2,\r\n    \"Trans Oil Pressure\": 42.8,\r\n    \"Trans Temp\": 186,\r\n    \"Calc Trans RPM\": 385.621,\r\n    \"PE Oil Pressure\": 102,\r\n    \"PE Oil Temp\": 111,\r\n    \"Calc PE RPM\": 60.699,\r\n    \"FE Vibration\": \"\",\r\n    Brand: \"ROLL\",\r\n  },\r\n  {\r\n    timestamp: \"2022-06-28T07:16:51.000-0500\",\r\n    \"Pump Position\": 26,\r\n    Crew: \"platinum\",\r\n    Date: \"6/28/2022 7:16\",\r\n    \"Pump Name\": 4264,\r\n    \"Horse Power\": 446.781,\r\n    \"Pump Rate\": 2.871,\r\n    \"Calc Stroke Rate\": 43.785,\r\n    \"Suction Pressure\": \"\",\r\n    \"Discharge Pressure\": 6351,\r\n    \"Engine Coolant Temp\": 174,\r\n    \"Engine Oil Pressure\": 75,\r\n    \"Engine RPM\": 1765,\r\n    \"Engine Load\": 38,\r\n    \"Engine Hours\": 13376.2,\r\n    Voltage: 26.9,\r\n    \"Trans Gear\": 1,\r\n    \"Trans Oil Pressure\": 40.7,\r\n    \"Trans Temp\": 183,\r\n    \"Calc Trans RPM\": 282.4,\r\n    \"PE Oil Pressure\": 138.5,\r\n    \"PE Oil Temp\": 93,\r\n    \"Calc PE RPM\": 44.451,\r\n    \"FE Vibration\": \"\",\r\n    Brand: \"ROLL\",\r\n  },\r\n  {\r\n    timestamp: \"2022-06-28T07:16:51.000-0500\",\r\n    \"Pump Position\": 27,\r\n    Crew: \"platinum\",\r\n    Date: \"6/28/2022 7:16\",\r\n    \"Pump Name\": 4226,\r\n    \"Horse Power\": 457.876,\r\n    \"Pump Rate\": 2.877,\r\n    \"Calc Stroke Rate\": 43.884,\r\n    \"Suction Pressure\": \"\",\r\n    \"Discharge Pressure\": 6494,\r\n    \"Engine Coolant Temp\": 174,\r\n    \"Engine Oil Pressure\": 75,\r\n    \"Engine RPM\": 1769,\r\n    \"Engine Load\": 0,\r\n    \"Engine Hours\": 21146,\r\n    Voltage: 26.6,\r\n    \"Trans Gear\": 1,\r\n    \"Trans Oil Pressure\": 43.1,\r\n    \"Trans Temp\": 183,\r\n    \"Calc Trans RPM\": 283.04,\r\n    \"PE Oil Pressure\": 210.1,\r\n    \"PE Oil Temp\": 102,\r\n    \"Calc PE RPM\": 44.552,\r\n    \"FE Vibration\": \"\",\r\n    Brand: \"ROLL\",\r\n  },\r\n  {\r\n    timestamp: \"2022-06-28T07:16:51.000-0500\",\r\n    \"Pump Position\": 28,\r\n    Crew: \"platinum\",\r\n    Date: \"6/28/2022 7:16\",\r\n    \"Pump Name\": 4156,\r\n    \"Horse Power\": 457.922,\r\n    \"Pump Rate\": 2.884,\r\n    \"Calc Stroke Rate\": 43.983,\r\n    \"Suction Pressure\": \"\",\r\n    \"Discharge Pressure\": 6480,\r\n    \"Engine Coolant Temp\": 168,\r\n    \"Engine Oil Pressure\": 74,\r\n    \"Engine RPM\": 1773,\r\n    \"Engine Load\": 32,\r\n    \"Engine Hours\": 13641.5,\r\n    Voltage: 27.1,\r\n    \"Trans Gear\": 1,\r\n    \"Trans Oil Pressure\": 35.3,\r\n    \"Trans Temp\": 185,\r\n    \"Calc Trans RPM\": 283.68,\r\n    \"PE Oil Pressure\": 91.3,\r\n    \"PE Oil Temp\": 105,\r\n    \"Calc PE RPM\": 44.653,\r\n    \"FE Vibration\": \"\",\r\n    Brand: \"ROLL\",\r\n  },\r\n  {\r\n    timestamp: \"2022-06-28T07:16:51.000-0500\",\r\n    \"Pump Position\": 29,\r\n    Crew: \"platinum\",\r\n    Date: \"6/28/2022 7:16\",\r\n    \"Pump Name\": 4178,\r\n    \"Horse Power\": 445.033,\r\n    \"Pump Rate\": 2.874,\r\n    \"Calc Stroke Rate\": 43.834,\r\n    \"Suction Pressure\": \"\",\r\n    \"Discharge Pressure\": 6319,\r\n    \"Engine Coolant Temp\": 170,\r\n    \"Engine Oil Pressure\": 78,\r\n    \"Engine RPM\": 1767,\r\n    \"Engine Load\": 17,\r\n    \"Engine Hours\": 14114.6,\r\n    Voltage: 27.2,\r\n    \"Trans Gear\": 1,\r\n    \"Trans Oil Pressure\": 35.7,\r\n    \"Trans Temp\": 183,\r\n    \"Calc Trans RPM\": 282.72,\r\n    \"PE Oil Pressure\": 119.9,\r\n    \"PE Oil Temp\": 107,\r\n    \"Calc PE RPM\": 44.502,\r\n    \"FE Vibration\": \"\",\r\n    Brand: \"ROLL\",\r\n  },\r\n  {\r\n    timestamp: \"2022-06-28T07:16:51.000-0500\",\r\n    \"Pump Position\": 31,\r\n    Crew: \"platinum\",\r\n    Date: \"6/28/2022 7:16\",\r\n    \"Pump Name\": 4207,\r\n    \"Horse Power\": 449.426,\r\n    \"Pump Rate\": 2.85,\r\n    \"Calc Stroke Rate\": 43.462,\r\n    \"Suction Pressure\": \"\",\r\n    \"Discharge Pressure\": 6436,\r\n    \"Engine Coolant Temp\": 170,\r\n    \"Engine Oil Pressure\": 75,\r\n    \"Engine RPM\": 1752,\r\n    \"Engine Load\": 45,\r\n    \"Engine Hours\": 25591.2,\r\n    Voltage: 25.7,\r\n    \"Trans Gear\": 1,\r\n    \"Trans Oil Pressure\": 35.1,\r\n    \"Trans Temp\": 181,\r\n    \"Calc Trans RPM\": 280.32,\r\n    \"PE Oil Pressure\": 105.2,\r\n    \"PE Oil Temp\": 98,\r\n    \"Calc PE RPM\": 44.124,\r\n    \"FE Vibration\": \"\",\r\n    Brand: \"ROLL\",\r\n  },\r\n  {\r\n    timestamp: \"2022-06-28T07:16:51.000-0500\",\r\n    \"Pump Position\": 32,\r\n    Crew: \"platinum\",\r\n    Date: \"6/28/2022 7:16\",\r\n    \"Pump Name\": 4230,\r\n    \"Horse Power\": 452.198,\r\n    \"Pump Rate\": 2.871,\r\n    \"Calc Stroke Rate\": 43.785,\r\n    \"Suction Pressure\": \"\",\r\n    \"Discharge Pressure\": 6428,\r\n    \"Engine Coolant Temp\": 170,\r\n    \"Engine Oil Pressure\": 78,\r\n    \"Engine RPM\": 1765,\r\n    \"Engine Load\": 38,\r\n    \"Engine Hours\": 11991.8,\r\n    Voltage: 27.1,\r\n    \"Trans Gear\": 1,\r\n    \"Trans Oil Pressure\": 40.9,\r\n    \"Trans Temp\": 179,\r\n    \"Calc Trans RPM\": 282.4,\r\n    \"PE Oil Pressure\": 94.1,\r\n    \"PE Oil Temp\": 100,\r\n    \"Calc PE RPM\": 44.451,\r\n    \"FE Vibration\": \"\",\r\n    Brand: \"ROLL\",\r\n  },\r\n  {\r\n    timestamp: \"2022-06-28T07:16:51.000-0500\",\r\n    \"Pump Position\": 33,\r\n    Crew: \"platinum\",\r\n    Date: \"6/28/2022 7:16\",\r\n    \"Pump Name\": 4236,\r\n    \"Horse Power\": 455.948,\r\n    \"Pump Rate\": 2.879,\r\n    \"Calc Stroke Rate\": 43.909,\r\n    \"Suction Pressure\": \"\",\r\n    \"Discharge Pressure\": 6463,\r\n    \"Engine Coolant Temp\": 172,\r\n    \"Engine Oil Pressure\": 77,\r\n    \"Engine RPM\": 1770,\r\n    \"Engine Load\": 34,\r\n    \"Engine Hours\": 10975.2,\r\n    Voltage: 26.9,\r\n    \"Trans Gear\": 1,\r\n    \"Trans Oil Pressure\": 36.3,\r\n    \"Trans Temp\": 185,\r\n    \"Calc Trans RPM\": 283.2,\r\n    \"PE Oil Pressure\": 83.9,\r\n    \"PE Oil Temp\": -25,\r\n    \"Calc PE RPM\": 44.577,\r\n    \"FE Vibration\": \"\",\r\n    Brand: \"ROLL\",\r\n  },\r\n  {\r\n    timestamp: \"2022-06-28T07:16:51.000-0500\",\r\n    \"Pump Position\": 34,\r\n    Crew: \"platinum\",\r\n    Date: \"6/28/2022 7:16\",\r\n    \"Pump Name\": 4250,\r\n    \"Horse Power\": 453.137,\r\n    \"Pump Rate\": 2.869,\r\n    \"Calc Stroke Rate\": 43.76,\r\n    \"Suction Pressure\": \"\",\r\n    \"Discharge Pressure\": 6445,\r\n    \"Engine Coolant Temp\": 170,\r\n    \"Engine Oil Pressure\": 77,\r\n    \"Engine RPM\": 1764,\r\n    \"Engine Load\": 40,\r\n    \"Engine Hours\": 12049.4,\r\n    Voltage: 26.9,\r\n    \"Trans Gear\": 1,\r\n    \"Trans Oil Pressure\": 41.4,\r\n    \"Trans Temp\": 179,\r\n    \"Calc Trans RPM\": 282.24,\r\n    \"PE Oil Pressure\": 111,\r\n    \"PE Oil Temp\": 91,\r\n    \"Calc PE RPM\": 44.426,\r\n    \"FE Vibration\": \"\",\r\n    Brand: \"ROLL\",\r\n  },\r\n];\r\n","import { DefaultButton, Stack } from \"@fluentui/react\";\r\nimport classNames from \"classnames\";\r\n\r\nimport \"./camera-btn.scss\";\r\n\r\nfunction CameraButton(props) {\r\n  const options = [\r\n    { key: \"map\", text: \"Map\", iconProps: { iconName: \"HandsFree\" } },\r\n    // { key: \"track\", text: \"Track\", iconProps: { iconName: \"Video360Generic\" } },\r\n    { key: \"orbit\", text: \"Orbit\", iconProps: { iconName: \"Add\" } },\r\n  ];\r\n  return (\r\n    <div className=\"position-absolute camera-toggle-btn\">\r\n      <Stack horizontal>\r\n        {options.map((op) => (\r\n          <DefaultButton\r\n            key={op.key}\r\n            className={classNames(\"bg-themeLighter\", {\r\n              active: props.cameraType === op.key,\r\n            })}\r\n            toggle\r\n            checked={props.cameraType === op.key}\r\n            iconProps={op.iconProps}\r\n            onClick={(e) => props.setCameraType(op.key)}\r\n          >\r\n            <span className=\"ms-hiddenLgDown\">{op.text}</span>\r\n          </DefaultButton>\r\n        ))}\r\n      </Stack>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CameraButton;\r\n","import { MapControls, OrbitControls } from \"@react-three/drei\";\r\n\r\nconst CameraHandler = (props) => {\r\n  if (props.controlStyle === \"orbit\") {\r\n    return <OrbitControls makeDefault rotateSpeed={2} />;\r\n  }\r\n  return <MapControls makeDefault panSpeed={2} />;\r\n};\r\n\r\nexport default CameraHandler;\r\n","export const siteCamera = {\r\n  position: [10, 15, 40],\r\n  fov: 50,\r\n  near: 0.01,\r\n  far: 1000,\r\n};\r\n\r\nexport const canvasStyle = {\r\n  background: \"#06061d\",\r\n  // background: \"#354c74\",\r\n  borderRadius: \"8px\",\r\n};\r\n\r\nexport const perf = {\r\n  current: 1,\r\n  min: 0.1,\r\n  max: 1,\r\n  debounce: 200,\r\n  regress: () => null,\r\n};\r\n","import { Environment, GizmoHelper, GizmoViewcube } from \"@react-three/drei\";\r\n\r\nfunction SiteLights(props) {\r\n  return (\r\n    <>\r\n      {/* <pointLight position={[10, 10, 10]} intensity={0.5} />\r\n      <spotLight position={[0, -1, -5]} intensity={1} castShadow /> */}\r\n      <Environment preset=\"apartment\" />\r\n      <pointLight position={[10, 10, 10]} intensity={0.5} />\r\n      <GizmoHelper alignment=\"top-right\" renderPriority={99}>\r\n        <GizmoViewcube />\r\n      </GizmoHelper>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SiteLights;\r\n","import { Spinner } from \"@fluentui/react\";\r\nimport { Html } from \"@react-three/drei\";\r\n\r\nfunction Loader(props) {\r\n  // const { progress } = useProgress();\r\n  return (\r\n    <Html>\r\n      <Spinner ariaLive=\"assertive\" labelPosition=\"top\" />\r\n      {props.text}\r\n    </Html>\r\n  );\r\n}\r\n\r\nexport default Loader;\r\n","import { QuadraticBezierLine } from \"@react-three/drei\";\r\nimport { useFrame } from \"@react-three/fiber\";\r\nimport {\r\n  createContext,\r\n  forwardRef,\r\n  useContext,\r\n  useLayoutEffect,\r\n  useMemo,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\nimport * as THREE from \"three\";\r\n\r\nconst context = createContext();\r\nconst Circle = forwardRef(\r\n  (\r\n    {\r\n      children,\r\n      opacity = 1,\r\n      radius = 0.05,\r\n      segments = 32,\r\n      color = \"#ff1050\",\r\n      ...props\r\n    },\r\n    ref\r\n  ) => (\r\n    <mesh ref={ref} {...props}>\r\n      <circleGeometry args={[radius, segments]} />\r\n      <meshBasicMaterial\r\n        transparent={opacity < 1}\r\n        opacity={opacity}\r\n        color={color}\r\n      />\r\n      {children}\r\n    </mesh>\r\n  )\r\n);\r\n\r\nexport function Nodes({ children }) {\r\n  const group = useRef();\r\n  const [nodes, set] = useState([]);\r\n  const lines = useMemo(() => {\r\n    const lines = [];\r\n    for (let node of nodes)\r\n      node.connectedTo\r\n        .map((ref) => [node.position, ref.current.position])\r\n        .forEach(([start, end]) =>\r\n          lines.push({\r\n            start: start.clone().add({ x: 0.35, y: 0, z: 0 }),\r\n            end: end.clone().add({ x: -0.35, y: 0, z: 0 }),\r\n          })\r\n        );\r\n    return lines;\r\n  }, [nodes]);\r\n  useFrame((_, delta) =>\r\n    group.current.children.forEach(\r\n      (group) =>\r\n        (group.children[0].material.uniforms.dashOffset.value -= delta * 10)\r\n    )\r\n  );\r\n  return (\r\n    <context.Provider value={set}>\r\n      <group ref={group}>\r\n        {lines.map((line, index) => (\r\n          <group key={index + \"Bezier group\"}>\r\n            <QuadraticBezierLine\r\n              key={index + \"Bezier spot\"}\r\n              {...line}\r\n              color=\"white\"\r\n              dashed\r\n              dashScale={50}\r\n              gapSize={20}\r\n            />\r\n            <QuadraticBezierLine\r\n              key={index + \"Bezier line\"}\r\n              {...line}\r\n              color=\"red\"\r\n              lineWidth={3}\r\n              transparent\r\n              opacity={0.5}\r\n            />\r\n          </group>\r\n        ))}\r\n      </group>\r\n      {children}\r\n      {lines.map(({ start, end }, index) => (\r\n        <group key={index + \"Bezier circle\"} position-z={1}>\r\n          <Circle position={start} />\r\n          <Circle position={end} />\r\n        </group>\r\n      ))}\r\n    </context.Provider>\r\n  );\r\n}\r\n\r\nexport const Node = forwardRef(\r\n  (\r\n    { color = \"black\", name, connectedTo = [], position = [0, 0, 0], ...props },\r\n    ref\r\n  ) => {\r\n    const set = useContext(context);\r\n    const [pos] = useState(() => new THREE.Vector3(...position));\r\n    const state = useMemo(\r\n      () => ({ position: pos, connectedTo }),\r\n      [pos, connectedTo]\r\n    );\r\n    // Register this node on mount, unregister on unmount\r\n    useLayoutEffect(() => {\r\n      set((nodes) => [...nodes, state]);\r\n      return () => void set((nodes) => nodes.filter((n) => n !== state));\r\n    }, [state, pos, set]);\r\n    // Drag n drop, hover\r\n    return (\r\n      <Circle\r\n        ref={ref}\r\n        opacity={0.2}\r\n        radius={0.5}\r\n        color={color}\r\n        position={pos}\r\n        {...props}\r\n      ></Circle>\r\n    );\r\n  }\r\n);\r\n","import { useMemo } from \"react\";\r\nimport { MeshBasicMaterial, MeshStandardMaterial } from \"three\";\r\nimport { isMobile } from \"../../../utils/utils\";\r\n\r\nexport const useMemoisedScene = (scene, isFast) => {\r\n  const isMob = isMobile();\r\n\r\n  const copiedScene = useMemo(() => {\r\n    const smallObj = [];\r\n    scene.traverse((o) => {\r\n      if (!o.isMesh) return;\r\n      var prevMaterial = o.material;\r\n      let radius = o.geometry?.boundingSphere.radius;\r\n      // if (radius > 10 && radius < 30) {\r\n      //   smallObj.push(o);\r\n      //   console.log(o);\r\n      // }\r\n      if (isMob || radius < 200) {\r\n        o.material = new MeshBasicMaterial({\r\n          color: prevMaterial.color,\r\n        });\r\n      } else {\r\n        o.material = new MeshStandardMaterial({\r\n          color: prevMaterial.color,\r\n          metalness: 1,\r\n          emissive: 1,\r\n          roughness: prevMaterial.roughness ?? 0.5,\r\n        });\r\n      }\r\n    });\r\n\r\n    smallObj.forEach((o) => {\r\n      o.removeFromParent();\r\n    });\r\n\r\n    return scene.clone();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [scene.uuid]);\r\n\r\n  return { copiedScene };\r\n};\r\n\r\nexport const ROTATION_LEFT = [0, -Math.PI / 2, 0];\r\nexport const ROTATION_RIGHT = [0, Math.PI / 2, 0];\r\n\r\nexport const getPos = (LEFT_POS_START, i, isOnFocus) => {\r\n  return [\r\n    LEFT_POS_START < i ? 15 : -15,\r\n    0 + isOnFocus * 10,\r\n    (i % LEFT_POS_START) * 5,\r\n  ];\r\n};\r\n\r\nexport const WELL_HEAD_POS = [0, -1, -20];\r\nexport const DATA_VAN_POS = [15, 1, -10];\r\nexport const BLENDER_VAN_POS = [10, -1, 35];\r\nexport const MISSILE_POS = [0, 0, 20];\r\nexport const MISSILE_NODE_POS = [0, 1, 20];\r\nexport const DATA_VAN_ROT = [0, Math.PI / 2, 0];\r\n","import { IconButton } from \"@fluentui/react\";\r\nimport { Html } from \"@react-three/drei\";\r\nimport { useThree } from \"@react-three/fiber\";\r\nimport { EffectComposer, Outline } from \"@react-three/postprocessing\";\r\nimport { lazy, memo, Suspense, useEffect, useRef, useState } from \"react\";\r\nimport { MODELS } from \"../../../config/azure-gltf\";\r\nimport { PUMPS as HARD_CODED_PUMPS } from \"../../../config/pumps\";\r\n\r\n// import CloudGLTF from \"../../../shared/cloud-gtlf/cloud-gtlf\";\r\nimport CircleLoader from \"../../../shared/loader\";\r\nimport { isMobile } from \"../../../utils/utils\";\r\n// import TruckCloudGTLF from \"../../../shared/truck-cloud-gtlf/truck-cloud-gtlf\";\r\nimport { Node, Nodes } from \"../../nodes/node\";\r\nimport {\r\n  BLENDER_VAN_POS,\r\n  DATA_VAN_POS,\r\n  DATA_VAN_ROT,\r\n  MISSILE_NODE_POS,\r\n  MISSILE_POS,\r\n  ROTATION_RIGHT,\r\n  WELL_HEAD_POS,\r\n} from \"./site-scene\";\r\n\r\nconst TruckCloudGTLF = memo(\r\n  lazy(() => import(\"../../../shared/truck-cloud-gtlf/truck-cloud-gtlf\"))\r\n);\r\nconst CloudGLTF = lazy(() => import(\"../../../shared/cloud-gtlf/cloud-gtlf\"));\r\n\r\nfunction SitePlayGround(props) {\r\n  const isMob = isMobile();\r\n  const mRef = useRef(null);\r\n  const nCRef = useRef(null);\r\n  const wRef = useRef(null);\r\n  const dRef = useRef(null);\r\n  const [hovered, onHover] = useState(null);\r\n  const [prevCam, setPrevCam] = useState(null);\r\n  const [focussedTruck, onFocusTruck] = useState(null);\r\n  // const { scene } = useGLTF(MODELS.TRUCK);\r\n  const cam = useThree(({ camera }) => camera);\r\n  const cont = useThree(({ controls }) => controls);\r\n  const PUMPS = props.pumpsData.length ? props.pumpsData : HARD_CODED_PUMPS;\r\n  // const { copiedScene } = useMemoisedScene(scene);\r\n  const invalidate = useThree(({ invalidate }) => invalidate);\r\n  const isOnFocus = (pump) =>\r\n    !focussedTruck || pump[\"Pump Position\"] === focussedTruck[\"Pump Position\"];\r\n\r\n  useEffect(() => {\r\n    focussedTruck && props.setSelected(focussedTruck[\"Pump Position\"]);\r\n  }, [focussedTruck, props]);\r\n\r\n  function restoreCamera() {\r\n    cam.position.set(\r\n      prevCam.position.x,\r\n      prevCam.position.y,\r\n      prevCam.position.z\r\n    );\r\n    cont?.reset();\r\n\r\n    invalidate();\r\n  }\r\n\r\n  const isActive = (pump) => pump[\"Pump Position\"] === props.selected;\r\n\r\n  const LEFT_POS_START = PUMPS.length / 2;\r\n\r\n  const selected = hovered ? [hovered] : undefined;\r\n\r\n  return (\r\n    <>\r\n      <Nodes>\r\n        {/* <Suspense fallback={<CircleLoader />}>\r\n          {PUMPS.map((pump, i) => {\r\n            const [x, y, z] = getPos(\r\n              LEFT_POS_START,\r\n              i,\r\n              focussedTruck &&\r\n                pump[\"Pump Position\"] === focussedTruck[\"Pump Position\"]\r\n            );\r\n            return (\r\n              <TruckCloudGTLF\r\n                key={pump[\"Pump Position\"]}\r\n                position={[x, y, z]}\r\n                onClick={() => {\r\n                  props.setSelected(pump[\"Pump Position\"]);\r\n                  invalidate();\r\n                }}\r\n                onDoubleClick={() => {\r\n                  if (isOnFocus(pump)) {\r\n                    cont?.saveState();\r\n                    const camToSave = {};\r\n                    camToSave.position = cam.position.clone();\r\n                    camToSave.rotation = cam.rotation.clone();\r\n                    camToSave.controlCenter = cont?.target?.clone();\r\n\r\n                    setPrevCam(camToSave);\r\n\r\n                    props.setSelected(pump[\"Pump Position\"]);\r\n                    onFocusTruck(pump);\r\n                    cam.position.set(4.5 * x, y + 9, 3 * z);\r\n                    invalidate();\r\n                  }\r\n                }}\r\n                onHover={onHover}\r\n                isActive={\r\n                  props.selectionOptions[\"Select All\"] || isActive(pump)\r\n                }\r\n                show={isOnFocus(pump)}\r\n                isFocussed={\r\n                  focussedTruck &&\r\n                  pump[\"Pump Position\"] === focussedTruck[\"Pump Position\"]\r\n                }\r\n                scene={copiedScene}\r\n                pump={pump}\r\n                setAlertedParts={props.setAlertedParts}\r\n                rotation={LEFT_POS_START < i ? ROTATION_LEFT : ROTATION_RIGHT}\r\n                cloudGlbURL={MODELS.TRUCK}\r\n                scale={focussedTruck ? 2 : 1}\r\n              />\r\n            );\r\n          })}\r\n        </Suspense> */}\r\n\r\n        {!focussedTruck ? (\r\n          <>\r\n            <CloudGLTF\r\n              ref={mRef}\r\n              cloudGlbURL={MODELS.MISSILE}\r\n              assetId={4347}\r\n              onClick={(show) => null}\r\n              onHover={onHover}\r\n              position={MISSILE_POS}\r\n            />\r\n            <Node\r\n              ref={nCRef}\r\n              name=\"missile\"\r\n              position={MISSILE_NODE_POS}\r\n              connectedTo={[wRef]}\r\n            />\r\n            <CloudGLTF\r\n              ref={wRef}\r\n              cloudGlbURL={MODELS.WELL_HEAD}\r\n              onClick={(show) => null}\r\n              onHover={onHover}\r\n              position={WELL_HEAD_POS}\r\n              scale={5}\r\n            />\r\n\r\n            <CloudGLTF\r\n              ref={dRef}\r\n              cloudGlbURL={MODELS.DATA_VAN}\r\n              onClick={(show) => null}\r\n              onHover={onHover}\r\n              position={DATA_VAN_POS}\r\n              rotation={DATA_VAN_ROT}\r\n            />\r\n            {!isMob ? (\r\n              <Suspense fallback={<CircleLoader text=\"blender\" />}>\r\n                <CloudGLTF\r\n                  cloudGlbURL={MODELS.BLENDER}\r\n                  onClick={(show) => null}\r\n                  fast\r\n                  onHover={onHover}\r\n                  position={BLENDER_VAN_POS}\r\n                  rotation={ROTATION_RIGHT}\r\n                />\r\n              </Suspense>\r\n            ) : null}\r\n          </>\r\n        ) : null}\r\n      </Nodes>\r\n\r\n      <EffectComposer multisampling={8} autoClear={false}>\r\n        <Outline\r\n          selection={selected}\r\n          selectionLayer={1}\r\n          visibleEdgeColor=\"white\"\r\n          edgeStrength={5}\r\n        />\r\n      </EffectComposer>\r\n      <Html left portal={props.domNodeRef}>\r\n        {focussedTruck ? (\r\n          <div>\r\n            <IconButton\r\n              className=\"text-neutralPrimary bg-themeLighterAlt\"\r\n              iconProps={{ iconName: \"Back\" }}\r\n              onClick={() => {\r\n                onFocusTruck(null);\r\n                restoreCamera();\r\n                invalidate();\r\n              }}\r\n              text=\"Back to Frac site\"\r\n            />\r\n          </div>\r\n        ) : null}\r\n      </Html>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SitePlayGround;\r\n","import { Stack, Text } from \"@fluentui/react\";\r\nimport { AdaptiveEvents } from \"@react-three/drei\";\r\nimport { Canvas } from \"@react-three/fiber\";\r\nimport { Leva, useControls } from \"leva\";\r\nimport { useEffect, useRef } from \"react\";\r\nimport { HIDE_KEYS } from \"../../config/hide-keys\";\r\nimport { PUMPS } from \"../../config/pumps\";\r\nimport { UNIT_MAP } from \"../../config/unit-mapping\";\r\n\r\nimport { isMobile } from \"../../utils/utils\";\r\nimport CameraButton from \"./camera/camera-btn\";\r\nimport CameraHandler from \"./camera/camera-handler\";\r\nimport \"./site-canvas.scss\";\r\nimport { canvasStyle, perf, siteCamera } from \"./site-config\";\r\nimport SiteLights from \"./site-lights\";\r\nimport SitePlayGround from \"./site-playground/site-playground\";\r\n// const SitePlayGround = lazy(() => import(\"./site-playground/site-playground\"));\r\n\r\nfunction SiteCanvas(props) {\r\n  const domNodeRef = useRef(null);\r\n  const isMob = isMobile();\r\n  const selectionOptions = useControls(\r\n    { \"Select All\": false },\r\n    [props.pumpsData],\r\n    { hidden: isMob }\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (selectionOptions[\"Select All\"]) {\r\n      props.setSelected(null);\r\n    }\r\n  }, [selectionOptions, props]);\r\n\r\n  return (\r\n    <Stack className=\"position-relative site-map-content\" verticalFill>\r\n      <div ref={domNodeRef} className=\"site-btns\"></div>\r\n      <Canvas\r\n        id=\"site-map\"\r\n        style={canvasStyle}\r\n        frameloop=\"demand\"\r\n        className=\"ms-depth-64\"\r\n        shadows\r\n        camera={siteCamera}\r\n        performance={perf}\r\n        onPointerMissed={(e) => {\r\n          e.stopPropagation();\r\n          props.setSelected(null);\r\n        }}\r\n      >\r\n        {/* <Suspense fallback={<CircleLoader text=\"blender\"/>}> */}\r\n        <SiteLights />\r\n        <SitePlayGround\r\n          {...props}\r\n          selectionOptions={selectionOptions}\r\n          domNodeRef={domNodeRef}\r\n        />\r\n        {/* </Suspense> */}\r\n\r\n        <AdaptiveEvents />\r\n\r\n        <CameraHandler controlStyle={props.cameraType} />\r\n      </Canvas>\r\n\r\n      <CameraButton\r\n        cameraType={props.cameraType}\r\n        setCameraType={props.setCameraType}\r\n      />\r\n      <div className=\"site-controls\">\r\n        <Leva fill collapsed hidden={isMob} />\r\n      </div>\r\n      {props.selected ? (\r\n        <div className=\"pump-stats\">\r\n          {Object.entries(\r\n            PUMPS.find((x) => x[\"Pump Position\"] === props.selected)\r\n          )\r\n            .filter((x, i) => !!x[1] && !HIDE_KEYS.includes(x[0]))\r\n            .map((e, i) => (\r\n              <Text key={i} block variant=\"small\">\r\n                <span className=\"ms-fontWeight-bold ms-fontColor-white\">\r\n                  {e[0]}: {e[1]} {UNIT_MAP[e[0]]}\r\n                </span>\r\n              </Text>\r\n            ))}\r\n        </div>\r\n      ) : null}\r\n    </Stack>\r\n  );\r\n}\r\n\r\nexport default SiteCanvas;\r\n","export const UNIT_MAP = {\r\n  \"Calc Pump Rate\": \" rpm\",\r\n  \"Calc Stroke Rate\": \" Stroke/min\",\r\n  \"Calc Trans RPM\": \" rpm\",\r\n  \"Pump Rate\": \" bbl/min\",\r\n  \"Suction Pressure\": \" psi\",\r\n  \"DUAL FUEL RATIO\": \" %\",\r\n  \"Engine Coolant Temp\": \" degF\",\r\n  \"Engine Hours\": \"  h\",\r\n  \"Engine Load\": \" %\",\r\n  \"Engine Oil Pressure\": \" psi\",\r\n  \"Engine RPM\": \"  rpm\",\r\n  \"FUEL RATE\": \" gal/hr\",\r\n  \"Calc Horse Power\": \" hp\",\r\n  \"PE Oil Pressure\": \" psi\",\r\n  \"PE Oil Temp\": \" degF\",\r\n  \"Trans Gear\": \" \",\r\n  \"Trans Oil Pressure\": \" psi\",\r\n  \"Trans Temp\": \" degF\",\r\n  Voltage: \" V\",\r\n  \"Calc PE RPM\": \" rpm\",\r\n  \"FE Vibration\": \" %\",\r\n};\r\n"],"names":["HIDE_KEYS","PUMPS","timestamp","Crew","Date","Voltage","Brand","props","className","Stack","horizontal","key","text","iconProps","iconName","map","op","DefaultButton","classNames","active","cameraType","toggle","checked","onClick","e","setCameraType","controlStyle","OrbitControls","makeDefault","rotateSpeed","MapControls","panSpeed","siteCamera","position","fov","near","far","canvasStyle","background","borderRadius","perf","current","min","max","debounce","regress","Environment","preset","intensity","GizmoHelper","alignment","renderPriority","GizmoViewcube","Html","Spinner","ariaLive","labelPosition","context","createContext","Circle","forwardRef","ref","children","opacity","radius","segments","color","args","transparent","Nodes","group","useRef","useState","nodes","set","lines","useMemo","node","connectedTo","forEach","start","end","push","clone","add","x","y","z","useFrame","_","delta","material","uniforms","dashOffset","value","Provider","line","index","QuadraticBezierLine","dashed","dashScale","gapSize","lineWidth","Node","name","useContext","THREE","pos","state","useLayoutEffect","filter","n","ROTATION_RIGHT","Math","PI","WELL_HEAD_POS","DATA_VAN_POS","BLENDER_VAN_POS","MISSILE_POS","MISSILE_NODE_POS","DATA_VAN_ROT","CloudGLTF","lazy","isMob","isMobile","mRef","nCRef","wRef","dRef","hovered","onHover","prevCam","focussedTruck","onFocusTruck","cam","useThree","camera","cont","controls","pumpsData","length","HARD_CODED_PUMPS","invalidate","useEffect","setSelected","selected","undefined","cloudGlbURL","MODELS","assetId","show","scale","rotation","Suspense","fallback","fast","multisampling","autoClear","selection","selectionLayer","visibleEdgeColor","edgeStrength","left","portal","domNodeRef","IconButton","reset","selectionOptions","useControls","hidden","verticalFill","id","style","frameloop","shadows","performance","onPointerMissed","stopPropagation","AdaptiveEvents","fill","collapsed","Object","entries","i","includes","Text","block","variant","UNIT_MAP"],"sourceRoot":""}