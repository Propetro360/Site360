"use strict";(self.webpackChunkpropetro_site3d=self.webpackChunkpropetro_site3d||[]).push([[831],{1831:function(e,n,o){o.r(n),o.d(n,{default:function(){return k}});var r=o(9439),t=o(9093),i=o(3655),s=o(4956),a=o(9324),l=o(5226),u=o(2791),c=o(1697),d=o(9192),f=o(1413),p=o(7543),h=o(6006),m=o(7760),v=o(7577),x=o(184);function g(e){var n=Object.assign({},e),o=(0,u.useRef)();return"Group"===n.node.type?(0,x.jsx)("group",{rotation:n.node.rotation,position:n.node.position,scale:n.node.scale,frustumCulled:!0,children:n.node.children.length>0&&n.node.children.map((function(e,o){return(0,x.jsx)(g,(0,f.Z)((0,f.Z)({},n),{},{node:e,index:o}),o+e.name)}))}):(0,x.jsx)("mesh",{geometry:n.node.geometry,material:n.node.material,rotation:n.node.rotation,position:n.node.position,ref:o,raycast:h.l,scale:n.node.scale,onPointerOver:function(e){e.stopPropagation(),n.onHover(o)},onPointerOut:function(e){e.stopPropagation(),n.onHover(null)},onClick:function(e){e.stopPropagation(),n.onHover(o)},children:n.node.children.length>0&&n.node.children.map((function(e,o){return(0,x.jsx)(g,(0,f.Z)((0,f.Z)({},n),{},{node:e,index:o}),o+e.name)}))})}var j=(0,u.forwardRef)((function(e,n){var o=(0,i.L)(e.cloudGlbURL).scene,t=(0,u.useState)(),s=(0,r.Z)(t,2),a=s[0],l=s[1];(0,p.j)(a,"pointer");var c=(0,v.tq)(),d=(0,u.useMemo)((function(){return o.children.forEach((function(n){n.isMesh&&(e.fast||c?n.material=new m.MeshBasicMaterial({color:n.material.color}):n.material=new m.MeshStandardMaterial({color:n.material.color,metalness:1,emissive:1,roughness:.5}))})),o.clone()}),[o.uuid]),h=function(e){e.stopPropagation(),l(!0)},j=function(e){e.stopPropagation(),l(!1)};return e.fast?(0,x.jsx)("group",(0,f.Z)((0,f.Z)({ref:n},e),{},{dispose:null,onPointerOver:h,onPointerOut:j,children:(0,x.jsx)("primitive",{object:d})})):(0,x.jsx)("group",(0,f.Z)((0,f.Z)({ref:n},e),{},{dispose:null,onPointerOver:h,onPointerOut:j,className:"cursor-pointer",children:d.children.map((function(o,r){return(0,x.jsx)(g,(0,f.Z)((0,f.Z)({},e),{},{node:o,index:r,onHover:function(){return e.onHover(n)}}),r+o.name)}))}))})),Z=o(7762),P=o(5410),y=o(9577),M=["children","opacity","radius","segments","color"],R=(0,u.createContext)(),S=(0,u.forwardRef)((function(e,n){var o=e.children,r=e.opacity,t=void 0===r?1:r,i=e.radius,s=void 0===i?.05:i,a=e.segments,l=void 0===a?32:a,u=e.color,c=void 0===u?"#ff1050":u,d=(0,P.Z)(e,M);return(0,x.jsxs)("mesh",(0,f.Z)((0,f.Z)({ref:n},d),{},{children:[(0,x.jsx)("circleGeometry",{args:[s,l]}),(0,x.jsx)("meshBasicMaterial",{transparent:t<1,opacity:t,color:c}),o]}))}));function w(e){var n=e.children,o=(0,u.useRef)(),t=(0,u.useState)([]),i=(0,r.Z)(t,2),s=i[0],l=i[1],c=(0,u.useMemo)((function(){var e,n=[],o=(0,Z.Z)(s);try{var t=function(){var o=e.value;o.connectedTo.map((function(e){return[o.position,e.current.position]})).forEach((function(e){var o=(0,r.Z)(e,2),t=o[0],i=o[1];return n.push({start:t.clone().add({x:.35,y:0,z:0}),end:i.clone().add({x:-.35,y:0,z:0})})}))};for(o.s();!(e=o.n()).done;)t()}catch(i){o.e(i)}finally{o.f()}return n}),[s]);return(0,a.x)((function(e,n){return o.current.children.forEach((function(e){return e.children[0].material.uniforms.dashOffset.value-=10*n}))})),(0,x.jsxs)(R.Provider,{value:l,children:[(0,x.jsx)("group",{ref:o,children:c.map((function(e,n){return(0,x.jsxs)("group",{children:[(0,x.jsx)(y.R,(0,f.Z)((0,f.Z)({},e),{},{color:"white",dashed:!0,dashScale:50,gapSize:20}),n+"Bezier spot"),(0,x.jsx)(y.R,(0,f.Z)((0,f.Z)({},e),{},{color:"red",lineWidth:3,transparent:!0,opacity:.5}),n+"Bezier line")]},n+"Bezier group")}))}),n,c.map((function(e,n){var o=e.start,r=e.end;return(0,x.jsxs)("group",{"position-z":1,children:[(0,x.jsx)(S,{position:o}),(0,x.jsx)(S,{position:r})]},n+"Bezier circle")}))]})}Math.PI;var b=[0,Math.PI/2,0],C=[10,-1,35];Math.PI;var k=function(e){var n=(0,v.tq)(),o=((0,u.useRef)(null),(0,u.useRef)(null),(0,u.useRef)(null),(0,u.useRef)(null),(0,u.useState)(null)),f=(0,r.Z)(o,2),p=f[0],h=f[1],g=(0,u.useState)(null),Z=(0,r.Z)(g,2),P=Z[0],y=(Z[1],(0,u.useState)(null)),M=(0,r.Z)(y,2),R=M[0],S=M[1],k=(0,i.L)(c.d.TRUCK).scene,B=(0,a.w)((function(e){return e.camera})),z=(0,a.w)((function(e){return e.controls})),E=e.pumpsData.length?e.pumpsData:d.r,O=function(e,n){return(0,v.tq)(),{copiedScene:(0,u.useMemo)((function(){var n=[];return e.traverse((function(e){var o;if(e.isMesh){var r,t=e.material,i=null===(o=e.geometry)||void 0===o?void 0:o.boundingSphere.radius;i>10&&i<30&&n.push(e),e.material=i<300?new m.MeshBasicMaterial({color:t.color,reflectivity:1}):new m.MeshStandardMaterial({color:t.color,metalness:1,emissive:1,roughness:null!==(r=t.roughness)&&void 0!==r?r:.5})}else console.log(e)})),n.forEach((function(e){e.removeFromParent()})),e.clone()}),[e.uuid])}}(k),L=(O.copiedScene,(0,a.w)((function(e){return e.invalidate})));(0,u.useEffect)((function(){R&&e.setSelected(R["Pump Position"])}),[R,e]),E.length;var H=p?[p]:void 0;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(w,{children:[(0,x.jsx)(u.Suspense,{fallback:null}),R?null:(0,x.jsx)(x.Fragment,{}),n||R?null:(0,x.jsx)(j,{cloudGlbURL:c.d.BLENDER,onClick:function(e){return null},fast:!0,onHover:h,position:C,rotation:b})]}),(0,x.jsx)(l.xC,{multisampling:8,autoClear:!1,children:(0,x.jsx)(l.bw,{selection:H,selectionLayer:1,visibleEdgeColor:"white",edgeStrength:5})}),(0,x.jsx)(s.V,{left:!0,portal:e.domNodeRef,children:R?(0,x.jsx)("div",{children:(0,x.jsx)(t.h,{className:"text-neutralPrimary bg-themeLighterAlt",iconProps:{iconName:"Back"},onClick:function(){S(null),B.position.set(P.position.x,P.position.y,P.position.z),null===z||void 0===z||z.reset(),L(),L()},text:"Back to Frac site"})}):null})]})}}}]);
//# sourceMappingURL=831.0fd3593c.chunk.js.map