"use strict";(self.webpackChunkpropetro_site3d=self.webpackChunkpropetro_site3d||[]).push([[276],{4276:function(n,e,o){o.r(e),o.d(e,{CloudGLTF:function(){return g},default:function(){return x}});var r=o(1413),t=o(9439),i=o(7760),a=new i.Matrix4,u=new i.Ray,s=new i.Sphere,c=new i.Vector3;function l(n,e){var o=this.geometry,r=this.material,t=this.matrixWorld;void 0!==r&&(null===o.boundingSphere&&o.computeBoundingSphere(),s.copy(o.boundingSphere),s.applyMatrix4(t),!1!==n.ray.intersectsSphere(s)&&(a.copy(t).invert(),u.copy(n.ray).applyMatrix4(a),null!==o.boundingBox&&null===u.intersectBox(o.boundingBox,c)||e.push({distance:c.distanceTo(n.ray.origin),point:c.clone(),object:this})))}var d=o(3655),p=o(7543),f=o(2791),h=o(7577),m=o(184),g=(0,f.forwardRef)((function(n,e){var o=(0,d.L)(n.cloudGlbURL).scene,a=(0,f.useState)(),u=(0,t.Z)(a,2),s=u[0],c=u[1];(0,p.j)(s,"pointer");var l=(0,h.tq)(),g=(0,f.useMemo)((function(){return o.children.forEach((function(e){e.isMesh&&(n.fast||l?e.material=new i.MeshBasicMaterial({color:e.material.color}):e.material=new i.MeshStandardMaterial({color:e.material.color,metalness:1,emissive:1,roughness:.5}))})),o.clone()}),[o.uuid]),x=function(n){n.stopPropagation(),c(!0)},y=function(n){n.stopPropagation(),c(!1)};return n.fast?(0,m.jsx)("group",(0,r.Z)((0,r.Z)({ref:e},n),{},{dispose:null,onPointerOver:x,onPointerOut:y,children:(0,m.jsx)("primitive",{object:g})})):(0,m.jsx)("group",(0,r.Z)((0,r.Z)({ref:e},n),{},{dispose:null,onPointerOver:x,onPointerOut:y,className:"cursor-pointer",children:g.children.map((function(o,t){return(0,m.jsx)(v,(0,r.Z)((0,r.Z)({},n),{},{node:o,index:t,onHover:function(){return n.onHover(e)}}),t+o.name)}))}))}));function v(n){var e=Object.assign({},n),o=(0,f.useRef)();return"Group"===e.node.type?(0,m.jsx)("group",{rotation:e.node.rotation,position:e.node.position,scale:e.node.scale,frustumCulled:!0,children:e.node.children.length>0&&e.node.children.map((function(n,o){return(0,m.jsx)(v,(0,r.Z)((0,r.Z)({},e),{},{node:n,index:o}),o+n.name)}))}):(0,m.jsx)("mesh",{geometry:e.node.geometry,material:e.node.material,rotation:e.node.rotation,position:e.node.position,ref:o,raycast:l,scale:e.node.scale,onPointerOver:function(n){n.stopPropagation(),e.onHover(o)},onPointerOut:function(n){n.stopPropagation(),e.onHover(null)},onClick:function(n){n.stopPropagation(),e.onHover(o)},children:e.node.children.length>0&&e.node.children.map((function(n,o){return(0,m.jsx)(v,(0,r.Z)((0,r.Z)({},e),{},{node:n,index:o}),o+n.name)}))})}var x=g},7543:function(n,e,o){o.d(e,{j:function(){return t}});var r=o(2791);function t(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pointer",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto";r.useEffect((function(){if(n)return document.body.style.cursor=e,function(){document.body.style.cursor=o}}),[n])}}}]);
//# sourceMappingURL=276.18cbe422.chunk.js.map