{"version":3,"file":"static/js/477.676cc513.chunk.js","mappings":"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","sources":["../node_modules/@react-three/drei/core/AdaptiveEvents.js","../node_modules/@react-three/drei/core/BBAnchor.js","../node_modules/three-stdlib/loaders/RGBELoader.js","../node_modules/@react-three/drei/helpers/environment-assets.js","../node_modules/@react-three/drei/core/shapes.js","../node_modules/@react-three/drei/core/Environment.js","../node_modules/@react-three/drei/helpers/glsl/GroundProjection.frag.glsl.js","../node_modules/@react-three/drei/helpers/glsl/GroundProjection.vert.glsl.js","../node_modules/@react-three/drei/core/OrthographicCamera.js","../node_modules/@react-three/drei/core/GizmoHelper.js","../node_modules/@react-three/drei/core/useCamera.js","../node_modules/@react-three/drei/core/GizmoViewcube.js","../node_modules/@react-three/drei/core/MapControls.js","../node_modules/@react-three/drei/core/OrbitControls.js","../node_modules/three-stdlib/lines/LineSegmentsGeometry.js","../node_modules/three-stdlib/lines/LineMaterial.js","../node_modules/three-stdlib/lines/LineSegments2.js","../node_modules/three-stdlib/lines/LineGeometry.js","../node_modules/three-stdlib/lines/Line2.js","../node_modules/@react-three/drei/core/Line.js","../node_modules/@react-three/drei/core/QuadraticBezierLine.js","../node_modules/@react-three/drei/core/meshBounds.js","../node_modules/three-mesh-bvh/src/utils/ThreeRayIntersectUtilities.js","../node_modules/three-mesh-bvh/src/utils/GeometryRayIntersectUtilities.js","../node_modules/three-mesh-bvh/src/core/Constants.js","../node_modules/three-mesh-bvh/src/core/MeshBVHNode.js","../node_modules/three-mesh-bvh/src/utils/ArrayBoxUtilities.js","../node_modules/three-mesh-bvh/src/core/buildFunctions.js","../node_modules/three-mesh-bvh/src/math/SeparatingAxisBounds.js","../node_modules/three-mesh-bvh/src/math/MathUtilities.js","../node_modules/three-mesh-bvh/src/math/ExtendedTriangle.js","../node_modules/three-mesh-bvh/src/math/OrientedBox.js","../node_modules/three-mesh-bvh/src/utils/TriangleUtilities.js","../node_modules/three-mesh-bvh/src/utils/PrimitivePool.js","../node_modules/three-mesh-bvh/src/core/nodeBufferFunctions.js","../node_modules/three-mesh-bvh/src/core/castFunctions.js","../node_modules/three-mesh-bvh/src/core/MeshBVH.js","../node_modules/three-mesh-bvh/src/utils/ExtensionUtilities.js","../node_modules/@react-three/drei/core/useBVH.js","../node_modules/@react-three/drei/web/Html.js","../node_modules/three-stdlib/interactive/SelectionBox.js","../node_modules/@react-three/drei/web/Select.js","../node_modules/@react-three/drei/web/useCursor.js","../node_modules/react-use-measure/dist/web.js","../node_modules/@react-three/fiber/dist/react-three-fiber.esm.js","../node_modules/assign-symbols/index.js","../node_modules/attr-accept/dist/es/index.js","../node_modules/debounce/index.js","../node_modules/extend-shallow/index.js","../node_modules/extend-shallow/node_modules/is-extendable/index.js","../node_modules/for-in/index.js","../node_modules/get-value/index.js","../node_modules/is-extendable/index.js","../node_modules/is-plain-object/index.js","../node_modules/isobject/index.js","../node_modules/@radix-ui/react-compose-refs/dist/packages/react/compose-refs/src/composeRefs.tsx","../node_modules/@radix-ui/react-slot/dist/packages/react/slot/src/Slot.tsx","../node_modules/@radix-ui/react-primitive/dist/packages/react/primitive/src/Primitive.tsx","../node_modules/@radix-ui/react-use-layout-effect/dist/packages/react/use-layout-effect/src/useLayoutEffect.tsx","../node_modules/@radix-ui/react-portal/dist/packages/react/portal/src/Portal.tsx","../node_modules/dequal/lite/index.mjs","../node_modules/v8n/dist/v8n.esm.js","../node_modules/@stitches/react/dist/index.mjs","../node_modules/@use-gesture/core/dist/maths-b2a210f4.esm.js","../node_modules/@use-gesture/core/dist/actions-1416bf77.esm.js","../node_modules/@use-gesture/core/dist/use-gesture-core.esm.js","../node_modules/@use-gesture/react/dist/use-gesture-react.esm.js","../node_modules/@radix-ui/react-id/dist/packages/react/id/src/id.tsx","../node_modules/@radix-ui/rect/dist/packages/core/rect/src/observeElementRect.ts","../node_modules/@radix-ui/react-visually-hidden/node_modules/@radix-ui/react-primitive/dist/packages/react/primitive/src/Primitive.tsx","../node_modules/@radix-ui/react-visually-hidden/dist/packages/react/visually-hidden/src/VisuallyHidden.tsx","../node_modules/@radix-ui/react-tooltip/node_modules/@radix-ui/react-primitive/dist/packages/react/primitive/src/Primitive.tsx","../node_modules/@radix-ui/react-tooltip/node_modules/@radix-ui/react-portal/dist/packages/react/portal/src/Portal.tsx","../node_modules/@radix-ui/react-arrow/node_modules/@radix-ui/react-primitive/dist/packages/react/primitive/src/Primitive.tsx","../node_modules/@radix-ui/react-arrow/dist/packages/react/arrow/src/Arrow.tsx","../node_modules/@radix-ui/react-popper/node_modules/@radix-ui/react-primitive/dist/packages/react/primitive/src/Primitive.tsx","../node_modules/@radix-ui/react-use-size/dist/packages/react/use-size/src/useSize.tsx","../node_modules/@radix-ui/react-use-rect/dist/packages/react/use-rect/src/useRect.tsx","../node_modules/@radix-ui/react-context/dist/packages/react/context/src/createContext.tsx","../node_modules/@radix-ui/popper/dist/packages/core/popper/src/popper.ts","../node_modules/@radix-ui/react-popper/dist/packages/react/popper/src/Popper.tsx","../node_modules/@radix-ui/react-presence/dist/packages/react/presence/src/Presence.tsx","../node_modules/@radix-ui/react-presence/dist/packages/react/presence/src/useStateMachine.tsx","../node_modules/@radix-ui/react-use-previous/dist/packages/react/use-previous/src/usePrevious.tsx","../node_modules/@radix-ui/react-use-callback-ref/dist/packages/react/use-callback-ref/src/useCallbackRef.tsx","../node_modules/@radix-ui/primitive/dist/packages/core/primitive/src/primitive.tsx","../node_modules/@radix-ui/react-tooltip/dist/packages/react/tooltip/src/Tooltip.tsx","../node_modules/@radix-ui/react-use-escape-keydown/dist/packages/react/use-escape-keydown/src/useEscapeKeydown.tsx","../node_modules/leva/dist/vector-plugin-fa777510.esm.js","../node_modules/@radix-ui/react-use-controllable-state/dist/packages/react/use-controllable-state/src/useControllableState.tsx","../node_modules/colord/index.mjs","../node_modules/react-colorful/src/hooks/useEventCallback.ts","../node_modules/react-colorful/src/utils/clamp.ts","../node_modules/react-colorful/src/components/common/Interactive.tsx","../node_modules/react-colorful/src/utils/format.ts","../node_modules/react-colorful/src/components/common/Pointer.tsx","../node_modules/react-colorful/src/utils/round.ts","../node_modules/react-colorful/src/utils/convert.ts","../node_modules/react-colorful/src/components/common/Hue.tsx","../node_modules/react-colorful/src/components/common/Saturation.tsx","../node_modules/react-colorful/src/utils/compare.ts","../node_modules/react-colorful/src/hooks/useColorManipulation.ts","../node_modules/react-colorful/src/utils/nonce.ts","../node_modules/react-colorful/src/hooks/useIsomorphicLayoutEffect.ts","../node_modules/react-colorful/src/hooks/useStyleSheet.ts","../node_modules/react-colorful/src/components/common/ColorPicker.tsx","../node_modules/react-colorful/src/components/common/Alpha.tsx","../node_modules/react-colorful/src/components/common/AlphaColorPicker.tsx","../node_modules/react-colorful/src/components/RgbaColorPicker.tsx","../node_modules/react-colorful/src/components/RgbColorPicker.tsx","../node_modules/file-selector/node_modules/tslib/tslib.es6.js","../node_modules/file-selector/src/file.ts","../node_modules/file-selector/src/file-selector.ts","../node_modules/react-dropzone/dist/es/utils/index.js","../node_modules/react-dropzone/dist/es/index.js","../node_modules/zustand/esm/middleware.js","../node_modules/leva/dist/leva.esm.js","../node_modules/colord/plugins/names.mjs","../node_modules/merge-value/index.js","../node_modules/mixin-deep/index.js","../node_modules/react-merge-refs/src/index.tsx","../node_modules/set-value/index.js","../node_modules/set-value/node_modules/is-extendable/index.js","../node_modules/split-string/index.js","../node_modules/split-string/node_modules/extend-shallow/index.js","../node_modules/three-stdlib/controls/OrbitControls.js","../node_modules/zustand/esm/shallow.js","../node_modules/@babel/runtime/helpers/esm/extends.js","../node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","../node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","../node_modules/@babel/runtime/helpers/esm/set.js","../node_modules/postprocessing/build/postprocessing.esm.js","../node_modules/three-stdlib/misc/WebGL.js","../node_modules/@react-three/postprocessing/dist/index.js"],"sourcesContent":["import * as React from 'react';\nimport { useThree } from '@react-three/fiber';\n\nfunction AdaptiveEvents() {\n  const get = useThree(state => state.get);\n  const setEvents = useThree(state => state.setEvents);\n  const current = useThree(state => state.performance.current);\n  React.useEffect(() => {\n    const enabled = get().events.enabled;\n    return () => setEvents({\n      enabled\n    });\n  }, []);\n  React.useEffect(() => setEvents({\n    enabled: current === 1\n  }), [current]);\n  return null;\n}\n\nexport { AdaptiveEvents };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { useFrame } from '@react-three/fiber';\n\nconst boundingBox = new THREE.Box3();\nconst boundingBoxSize = new THREE.Vector3();\nconst BBAnchor = ({\n  anchor,\n  ...props\n}) => {\n  const ref = React.useRef(null);\n  const parentRef = React.useRef(null); // Reattach group created by this component to the parent's parent,\n  // so it becomes a sibling of its initial parent.\n  // We do that so the children have no impact on a bounding box of a parent.\n\n  React.useEffect(() => {\n    var _ref$current, _ref$current$parent;\n\n    if ((_ref$current = ref.current) != null && (_ref$current$parent = _ref$current.parent) != null && _ref$current$parent.parent) {\n      parentRef.current = ref.current.parent;\n      ref.current.parent.parent.add(ref.current);\n    }\n  }, []);\n  useFrame(() => {\n    if (parentRef.current) {\n      boundingBox.setFromObject(parentRef.current);\n      boundingBox.getSize(boundingBoxSize);\n      ref.current.position.set(parentRef.current.position.x + boundingBoxSize.x * anchor[0] / 2, parentRef.current.position.y + boundingBoxSize.y * anchor[1] / 2, parentRef.current.position.z + boundingBoxSize.z * anchor[2] / 2);\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: ref\n  }, props));\n};\n\nexport { BBAnchor };\n","import { DataTextureLoader, HalfFloatType, FloatType, DataUtils, LinearEncoding, LinearFilter } from 'three';\n\n// http://en.wikipedia.org/wiki/RGBE_image_format\n\nclass RGBELoader extends DataTextureLoader {\n  constructor(manager) {\n    super(manager);\n    this.type = HalfFloatType;\n  } // adapted from http://www.graphics.cornell.edu/~bjw/rgbe.html\n\n\n  parse(buffer) {\n    const\n    /* return codes for rgbe routines */\n    //RGBE_RETURN_SUCCESS = 0,\n    RGBE_RETURN_FAILURE = -1,\n\n    /* default error routine.  change this to change error handling */\n    rgbe_read_error = 1,\n          rgbe_write_error = 2,\n          rgbe_format_error = 3,\n          rgbe_memory_error = 4,\n          rgbe_error = function (rgbe_error_code, msg) {\n      switch (rgbe_error_code) {\n        case rgbe_read_error:\n          console.error('THREE.RGBELoader Read Error: ' + (msg || ''));\n          break;\n\n        case rgbe_write_error:\n          console.error('THREE.RGBELoader Write Error: ' + (msg || ''));\n          break;\n\n        case rgbe_format_error:\n          console.error('THREE.RGBELoader Bad File Format: ' + (msg || ''));\n          break;\n\n        default:\n        case rgbe_memory_error:\n          console.error('THREE.RGBELoader: Error: ' + (msg || ''));\n      }\n\n      return RGBE_RETURN_FAILURE;\n    },\n\n    /* offsets to red, green, and blue components in a data (float) pixel */\n    //RGBE_DATA_RED = 0,\n    //RGBE_DATA_GREEN = 1,\n    //RGBE_DATA_BLUE = 2,\n\n    /* number of floats per pixel, use 4 since stored in rgba image format */\n    //RGBE_DATA_SIZE = 4,\n\n    /* flags indicating which fields in an rgbe_header_info are valid */\n    RGBE_VALID_PROGRAMTYPE = 1,\n          RGBE_VALID_FORMAT = 2,\n          RGBE_VALID_DIMENSIONS = 4,\n          NEWLINE = '\\n',\n          fgets = function (buffer, lineLimit, consume) {\n      const chunkSize = 128;\n      lineLimit = !lineLimit ? 1024 : lineLimit;\n      let p = buffer.pos,\n          i = -1,\n          len = 0,\n          s = '',\n          chunk = String.fromCharCode.apply(null, new Uint16Array(buffer.subarray(p, p + chunkSize)));\n\n      while (0 > (i = chunk.indexOf(NEWLINE)) && len < lineLimit && p < buffer.byteLength) {\n        s += chunk;\n        len += chunk.length;\n        p += chunkSize;\n        chunk += String.fromCharCode.apply(null, new Uint16Array(buffer.subarray(p, p + chunkSize)));\n      }\n\n      if (-1 < i) {\n        /*for (i=l-1; i>=0; i--) {\n        byteCode = m.charCodeAt(i);\n        if (byteCode > 0x7f && byteCode <= 0x7ff) byteLen++;\n        else if (byteCode > 0x7ff && byteCode <= 0xffff) byteLen += 2;\n        if (byteCode >= 0xDC00 && byteCode <= 0xDFFF) i--; //trail surrogate\n        }*/\n        if (false !== consume) buffer.pos += len + i + 1;\n        return s + chunk.slice(0, i);\n      }\n\n      return false;\n    },\n\n    /* minimal header reading.  modify if you want to parse more information */\n    RGBE_ReadHeader = function (buffer) {\n      // regexes to parse header info fields\n      const magic_token_re = /^#\\?(\\S+)/,\n            gamma_re = /^\\s*GAMMA\\s*=\\s*(\\d+(\\.\\d+)?)\\s*$/,\n            exposure_re = /^\\s*EXPOSURE\\s*=\\s*(\\d+(\\.\\d+)?)\\s*$/,\n            format_re = /^\\s*FORMAT=(\\S+)\\s*$/,\n            dimensions_re = /^\\s*\\-Y\\s+(\\d+)\\s+\\+X\\s+(\\d+)\\s*$/,\n            // RGBE format header struct\n      header = {\n        valid: 0\n        /* indicate which fields are valid */\n        ,\n        string: ''\n        /* the actual header string */\n        ,\n        comments: ''\n        /* comments found in header */\n        ,\n        programtype: 'RGBE'\n        /* listed at beginning of file to identify it after \"#?\". defaults to \"RGBE\" */\n        ,\n        format: ''\n        /* RGBE format, default 32-bit_rle_rgbe */\n        ,\n        gamma: 1.0\n        /* image has already been gamma corrected with given gamma. defaults to 1.0 (no correction) */\n        ,\n        exposure: 1.0\n        /* a value of 1.0 in an image corresponds to <exposure> watts/steradian/m^2. defaults to 1.0 */\n        ,\n        width: 0,\n        height: 0\n        /* image dimensions, width/height */\n\n      };\n      let line, match;\n\n      if (buffer.pos >= buffer.byteLength || !(line = fgets(buffer))) {\n        return rgbe_error(rgbe_read_error, 'no header found');\n      }\n      /* if you want to require the magic token then uncomment the next line */\n\n\n      if (!(match = line.match(magic_token_re))) {\n        return rgbe_error(rgbe_format_error, 'bad initial token');\n      }\n\n      header.valid |= RGBE_VALID_PROGRAMTYPE;\n      header.programtype = match[1];\n      header.string += line + '\\n';\n\n      while (true) {\n        line = fgets(buffer);\n        if (false === line) break;\n        header.string += line + '\\n';\n\n        if ('#' === line.charAt(0)) {\n          header.comments += line + '\\n';\n          continue; // comment line\n        }\n\n        if (match = line.match(gamma_re)) {\n          header.gamma = parseFloat(match[1]);\n        }\n\n        if (match = line.match(exposure_re)) {\n          header.exposure = parseFloat(match[1]);\n        }\n\n        if (match = line.match(format_re)) {\n          header.valid |= RGBE_VALID_FORMAT;\n          header.format = match[1]; //'32-bit_rle_rgbe';\n        }\n\n        if (match = line.match(dimensions_re)) {\n          header.valid |= RGBE_VALID_DIMENSIONS;\n          header.height = parseInt(match[1], 10);\n          header.width = parseInt(match[2], 10);\n        }\n\n        if (header.valid & RGBE_VALID_FORMAT && header.valid & RGBE_VALID_DIMENSIONS) break;\n      }\n\n      if (!(header.valid & RGBE_VALID_FORMAT)) {\n        return rgbe_error(rgbe_format_error, 'missing format specifier');\n      }\n\n      if (!(header.valid & RGBE_VALID_DIMENSIONS)) {\n        return rgbe_error(rgbe_format_error, 'missing image size specifier');\n      }\n\n      return header;\n    },\n          RGBE_ReadPixels_RLE = function (buffer, w, h) {\n      const scanline_width = w;\n\n      if ( // run length encoding is not allowed so read flat\n      scanline_width < 8 || scanline_width > 0x7fff || // this file is not run length encoded\n      2 !== buffer[0] || 2 !== buffer[1] || buffer[2] & 0x80) {\n        // return the flat buffer\n        return new Uint8Array(buffer);\n      }\n\n      if (scanline_width !== (buffer[2] << 8 | buffer[3])) {\n        return rgbe_error(rgbe_format_error, 'wrong scanline width');\n      }\n\n      const data_rgba = new Uint8Array(4 * w * h);\n\n      if (!data_rgba.length) {\n        return rgbe_error(rgbe_memory_error, 'unable to allocate buffer space');\n      }\n\n      let offset = 0,\n          pos = 0;\n      const ptr_end = 4 * scanline_width;\n      const rgbeStart = new Uint8Array(4);\n      const scanline_buffer = new Uint8Array(ptr_end);\n      let num_scanlines = h; // read in each successive scanline\n\n      while (num_scanlines > 0 && pos < buffer.byteLength) {\n        if (pos + 4 > buffer.byteLength) {\n          return rgbe_error(rgbe_read_error);\n        }\n\n        rgbeStart[0] = buffer[pos++];\n        rgbeStart[1] = buffer[pos++];\n        rgbeStart[2] = buffer[pos++];\n        rgbeStart[3] = buffer[pos++];\n\n        if (2 != rgbeStart[0] || 2 != rgbeStart[1] || (rgbeStart[2] << 8 | rgbeStart[3]) != scanline_width) {\n          return rgbe_error(rgbe_format_error, 'bad rgbe scanline format');\n        } // read each of the four channels for the scanline into the buffer\n        // first red, then green, then blue, then exponent\n\n\n        let ptr = 0,\n            count;\n\n        while (ptr < ptr_end && pos < buffer.byteLength) {\n          count = buffer[pos++];\n          const isEncodedRun = count > 128;\n          if (isEncodedRun) count -= 128;\n\n          if (0 === count || ptr + count > ptr_end) {\n            return rgbe_error(rgbe_format_error, 'bad scanline data');\n          }\n\n          if (isEncodedRun) {\n            // a (encoded) run of the same value\n            const byteValue = buffer[pos++];\n\n            for (let i = 0; i < count; i++) {\n              scanline_buffer[ptr++] = byteValue;\n            } //ptr += count;\n\n          } else {\n            // a literal-run\n            scanline_buffer.set(buffer.subarray(pos, pos + count), ptr);\n            ptr += count;\n            pos += count;\n          }\n        } // now convert data from buffer into rgba\n        // first red, then green, then blue, then exponent (alpha)\n\n\n        const l = scanline_width; //scanline_buffer.byteLength;\n\n        for (let i = 0; i < l; i++) {\n          let off = 0;\n          data_rgba[offset] = scanline_buffer[i + off];\n          off += scanline_width; //1;\n\n          data_rgba[offset + 1] = scanline_buffer[i + off];\n          off += scanline_width; //1;\n\n          data_rgba[offset + 2] = scanline_buffer[i + off];\n          off += scanline_width; //1;\n\n          data_rgba[offset + 3] = scanline_buffer[i + off];\n          offset += 4;\n        }\n\n        num_scanlines--;\n      }\n\n      return data_rgba;\n    };\n\n    const RGBEByteToRGBFloat = function (sourceArray, sourceOffset, destArray, destOffset) {\n      const e = sourceArray[sourceOffset + 3];\n      const scale = Math.pow(2.0, e - 128.0) / 255.0;\n      destArray[destOffset + 0] = sourceArray[sourceOffset + 0] * scale;\n      destArray[destOffset + 1] = sourceArray[sourceOffset + 1] * scale;\n      destArray[destOffset + 2] = sourceArray[sourceOffset + 2] * scale;\n      destArray[destOffset + 3] = 1;\n    };\n\n    const RGBEByteToRGBHalf = function (sourceArray, sourceOffset, destArray, destOffset) {\n      const e = sourceArray[sourceOffset + 3];\n      const scale = Math.pow(2.0, e - 128.0) / 255.0; // clamping to 65504, the maximum representable value in float16\n\n      destArray[destOffset + 0] = DataUtils.toHalfFloat(Math.min(sourceArray[sourceOffset + 0] * scale, 65504));\n      destArray[destOffset + 1] = DataUtils.toHalfFloat(Math.min(sourceArray[sourceOffset + 1] * scale, 65504));\n      destArray[destOffset + 2] = DataUtils.toHalfFloat(Math.min(sourceArray[sourceOffset + 2] * scale, 65504));\n      destArray[destOffset + 3] = DataUtils.toHalfFloat(1);\n    };\n\n    const byteArray = new Uint8Array(buffer);\n    byteArray.pos = 0;\n    const rgbe_header_info = RGBE_ReadHeader(byteArray);\n\n    if (RGBE_RETURN_FAILURE !== rgbe_header_info) {\n      const w = rgbe_header_info.width,\n            h = rgbe_header_info.height,\n            image_rgba_data = RGBE_ReadPixels_RLE(byteArray.subarray(byteArray.pos), w, h);\n\n      if (RGBE_RETURN_FAILURE !== image_rgba_data) {\n        let data, format, type;\n        let numElements;\n\n        switch (this.type) {\n          case FloatType:\n            numElements = image_rgba_data.length / 4;\n            const floatArray = new Float32Array(numElements * 4);\n\n            for (let j = 0; j < numElements; j++) {\n              RGBEByteToRGBFloat(image_rgba_data, j * 4, floatArray, j * 4);\n            }\n\n            data = floatArray;\n            type = FloatType;\n            break;\n\n          case HalfFloatType:\n            numElements = image_rgba_data.length / 4;\n            const halfArray = new Uint16Array(numElements * 4);\n\n            for (let j = 0; j < numElements; j++) {\n              RGBEByteToRGBHalf(image_rgba_data, j * 4, halfArray, j * 4);\n            }\n\n            data = halfArray;\n            type = HalfFloatType;\n            break;\n\n          default:\n            console.error('THREE.RGBELoader: unsupported type: ', this.type);\n            break;\n        }\n\n        return {\n          width: w,\n          height: h,\n          data: data,\n          header: rgbe_header_info.string,\n          gamma: rgbe_header_info.gamma,\n          exposure: rgbe_header_info.exposure,\n          format: format,\n          type: type\n        };\n      }\n    }\n\n    return null;\n  }\n\n  setDataType(value) {\n    this.type = value;\n    return this;\n  }\n\n  load(url, onLoad, onProgress, onError) {\n    function onLoadCallback(texture, texData) {\n      switch (texture.type) {\n        case FloatType:\n          texture.encoding = LinearEncoding;\n          texture.minFilter = LinearFilter;\n          texture.magFilter = LinearFilter;\n          texture.generateMipmaps = false;\n          texture.flipY = true;\n          break;\n\n        case HalfFloatType:\n          texture.encoding = LinearEncoding;\n          texture.minFilter = LinearFilter;\n          texture.magFilter = LinearFilter;\n          texture.generateMipmaps = false;\n          texture.flipY = true;\n          break;\n      }\n\n      if (onLoad) onLoad(texture, texData);\n    }\n\n    return super.load(url, onLoadCallback, onProgress, onError);\n  }\n\n}\n\nexport { RGBELoader };\n","const presetsObj = {\n  sunset: 'venice/venice_sunset_1k.hdr',\n  dawn: 'kiara/kiara_1_dawn_1k.hdr',\n  night: 'dikhololo/dikhololo_night_1k.hdr',\n  warehouse: 'empty-wharehouse/empty_warehouse_01_1k.hdr',\n  forest: 'forrest-slope/forest_slope_1k.hdr',\n  apartment: 'lebombo/lebombo_1k.hdr',\n  studio: 'studio-small-3/studio_small_03_1k.hdr',\n  city: 'potsdamer-platz/potsdamer_platz_1k.hdr',\n  park: 'rooitou/rooitou_park_1k.hdr',\n  lobby: 'st-fagans/st_fagans_interior_1k.hdr'\n};\n\nexport { presetsObj };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\n\nfunction create(type) {\n  const El = type + 'BufferGeometry';\n  return /*#__PURE__*/React.forwardRef(({\n    args,\n    children,\n    ...props\n  }, ref) => /*#__PURE__*/React.createElement(\"mesh\", _extends({\n    ref: ref\n  }, props), /*#__PURE__*/React.createElement(El, {\n    attach: \"geometry\",\n    args: args\n  }), children));\n}\n\nconst Box = create('box');\nconst Circle = create('circle');\nconst Cone = create('cone');\nconst Cylinder = create('cylinder');\nconst Sphere = create('sphere');\nconst Plane = create('plane');\nconst Tube = create('tube');\nconst Torus = create('torus');\nconst TorusKnot = create('torusKnot');\nconst Tetrahedron = create('tetrahedron');\nconst Ring = create('ring');\nconst Polyhedron = create('polyhedron');\nconst Icosahedron = create('icosahedron');\nconst Octahedron = create('octahedron');\nconst Dodecahedron = create('dodecahedron');\nconst Extrude = create('extrude');\nconst Lathe = create('lathe');\nconst Capsule = create('capsule');\n\nexport { Box, Capsule, Circle, Cone, Cylinder, Dodecahedron, Extrude, Icosahedron, Lathe, Octahedron, Plane, Polyhedron, Ring, Sphere, Tetrahedron, Torus, TorusKnot, Tube };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { useThree, useLoader, useFrame, createPortal } from '@react-three/fiber';\nimport { CubeReflectionMapping, EquirectangularReflectionMapping, Scene, WebGLCubeRenderTarget, HalfFloatType, CubeTextureLoader, BackSide } from 'three';\nimport { RGBELoader } from 'three-stdlib';\nimport { presetsObj } from '../helpers/environment-assets.js';\nimport vertexShader from '../helpers/glsl/GroundProjection.vert.glsl.js';\nimport fragmentShader from '../helpers/glsl/GroundProjection.frag.glsl.js';\nimport { Icosahedron } from './shapes.js';\n\nconst CUBEMAP_ROOT = 'https://market-assets.fra1.cdn.digitaloceanspaces.com/market-assets/hdris/';\n\nconst isCubeTexture = def => def && def.isCubeTexture;\n\nconst isRef = obj => obj.current && obj.current.isScene;\n\nconst resolveScene = scene => isRef(scene) ? scene.current : scene;\n\nfunction EnvironmentMap({\n  scene,\n  background = false,\n  map\n}) {\n  const defaultScene = useThree(state => state.scene);\n  React.useLayoutEffect(() => {\n    if (map) {\n      const target = resolveScene(scene || defaultScene);\n      const oldbg = target.background;\n      const oldenv = target.environment;\n      if (background !== 'only') target.environment = map;\n      if (background) target.background = map;\n      return () => {\n        if (background !== 'only') target.environment = oldenv;\n        if (background) target.background = oldbg;\n      };\n    }\n  }, [defaultScene, scene, map, background]);\n  return null;\n}\nfunction useEnvironment({\n  files = ['/px.png', '/nx.png', '/py.png', '/ny.png', '/pz.png', '/nz.png'],\n  path = '',\n  preset = undefined,\n  extensions\n}) {\n  if (preset) {\n    if (!(preset in presetsObj)) throw new Error('Preset must be one of: ' + Object.keys(presetsObj).join(', '));\n    files = presetsObj[preset];\n    path = CUBEMAP_ROOT;\n  }\n\n  const isCubeMap = Array.isArray(files);\n  const loader = isCubeMap ? CubeTextureLoader : RGBELoader;\n  const loaderResult = useLoader( // @ts-expect-error\n  loader, isCubeMap ? [files] : files, loader => {\n    loader.setPath(path);\n    if (extensions) extensions(loader);\n  });\n  const texture = isCubeMap ? // @ts-ignore\n  loaderResult[0] : loaderResult;\n  texture.mapping = isCubeMap ? CubeReflectionMapping : EquirectangularReflectionMapping;\n  return texture;\n}\nfunction EnvironmentCube({\n  background = false,\n  scene,\n  ...rest\n}) {\n  const texture = useEnvironment(rest);\n  const defaultScene = useThree(state => state.scene);\n  React.useLayoutEffect(() => {\n    const target = resolveScene(scene || defaultScene);\n    const oldbg = target.background;\n    const oldenv = target.environment;\n    if (background !== 'only') target.environment = texture;\n    if (background) target.background = texture;\n    return () => {\n      if (background !== 'only') target.environment = oldenv;\n      if (background) target.background = oldbg;\n    };\n  }, [texture, background, scene, defaultScene]);\n  return null;\n}\nfunction EnvironmentPortal({\n  children,\n  near = 1,\n  far = 1000,\n  resolution = 256,\n  frames = 1,\n  map,\n  background = false,\n  scene,\n  files,\n  path,\n  preset = undefined,\n  extensions\n}) {\n  const gl = useThree(state => state.gl);\n  const defaultScene = useThree(state => state.scene);\n  const camera = React.useRef(null);\n  const [virtualScene] = React.useState(() => new Scene());\n  const fbo = React.useMemo(() => {\n    const fbo = new WebGLCubeRenderTarget(resolution);\n    fbo.texture.type = HalfFloatType;\n    return fbo;\n  }, [resolution]);\n  React.useLayoutEffect(() => {\n    if (frames === 1) camera.current.update(gl, virtualScene);\n    const target = resolveScene(scene || defaultScene);\n    const oldbg = target.background;\n    const oldenv = target.environment;\n    if (background !== 'only') target.environment = fbo.texture;\n    if (background) target.background = fbo.texture;\n    return () => {\n      if (background !== 'only') target.environment = oldenv;\n      if (background) target.background = oldbg;\n    };\n  }, [children, virtualScene, fbo.texture, scene, defaultScene, background, frames, gl]);\n  let count = 1;\n  useFrame(() => {\n    if (frames === Infinity || count < frames) {\n      camera.current.update(gl, virtualScene);\n      count++;\n    }\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, createPortal( /*#__PURE__*/React.createElement(React.Fragment, null, children, /*#__PURE__*/React.createElement(\"cubeCamera\", {\n    ref: camera,\n    args: [near, far, fbo]\n  }), files || preset ? /*#__PURE__*/React.createElement(EnvironmentCube, {\n    background: true,\n    files: files,\n    preset: preset,\n    path: path,\n    extensions: extensions\n  }) : map ? /*#__PURE__*/React.createElement(EnvironmentMap, {\n    background: true,\n    map: map,\n    extensions: extensions\n  }) : null), virtualScene));\n}\n\nfunction EnvironmentGround(props) {\n  var _props$ground, _props$ground2, _scale, _props$ground3;\n\n  const textureDefault = useEnvironment(props);\n  const texture = props.map || textureDefault;\n  const isCubeMap = isCubeTexture(texture);\n  const defines = React.useMemo(() => {\n    var _ref, _texture$image$;\n\n    const w = (_ref = isCubeMap ? (_texture$image$ = texture.image[0]) == null ? void 0 : _texture$image$.width : texture.image.width) !== null && _ref !== void 0 ? _ref : 1024;\n    const cubeSize = w / 4;\n\n    const _lodMax = Math.floor(Math.log2(cubeSize));\n\n    const _cubeSize = Math.pow(2, _lodMax);\n\n    const width = 3 * Math.max(_cubeSize, 16 * 7);\n    const height = 4 * _cubeSize;\n    return [isCubeMap ? `#define ENVMAP_TYPE_CUBE` : '', `#define CUBEUV_TEXEL_WIDTH ${1.0 / width}`, `#define CUBEUV_TEXEL_HEIGHT ${1.0 / height}`, `#define CUBEUV_MAX_MIP ${_lodMax}.0`, ``];\n  }, []);\n  const fragment = React.useMemo(() => defines.join('\\n') + fragmentShader, [defines]);\n  const uniforms = React.useMemo(() => ({\n    cubemap: {\n      value: null\n    },\n    height: {\n      value: 15\n    },\n    radius: {\n      value: 60\n    }\n  }), []);\n  const mat = React.useRef(null);\n  const height = (_props$ground = props.ground) == null ? void 0 : _props$ground.height;\n  const radius = (_props$ground2 = props.ground) == null ? void 0 : _props$ground2.radius;\n  const scale = (_scale = (_props$ground3 = props.ground) == null ? void 0 : _props$ground3.scale) !== null && _scale !== void 0 ? _scale : 1000;\n  React.useEffect(() => void (height && (mat.current.uniforms.height.value = height)), [height]);\n  React.useEffect(() => void (radius && (mat.current.uniforms.radius.value = radius)), [radius]);\n  React.useEffect(() => void (mat.current.uniforms.cubemap.value = texture), [texture]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(EnvironmentMap, _extends({}, props, {\n    map: texture\n  })), /*#__PURE__*/React.createElement(Icosahedron, {\n    scale: scale,\n    args: [1, 16]\n  }, /*#__PURE__*/React.createElement(\"shaderMaterial\", {\n    ref: mat,\n    side: BackSide,\n    vertexShader: vertexShader,\n    fragmentShader: fragment,\n    uniforms: uniforms\n  })));\n}\n\nfunction Environment(props) {\n  return props.ground ? /*#__PURE__*/React.createElement(EnvironmentGround, props) : props.map ? /*#__PURE__*/React.createElement(EnvironmentMap, props) : props.children ? /*#__PURE__*/React.createElement(EnvironmentPortal, props) : /*#__PURE__*/React.createElement(EnvironmentCube, props);\n}\n\nexport { Environment, EnvironmentCube, EnvironmentMap, EnvironmentPortal, useEnvironment };\n","var fragmentShader = \"#define GLSLIFY 1\\n#define ENVMAP_TYPE_CUBE_UV\\nvarying vec3 vWorldPosition;uniform float radius;uniform float height;\\n#ifdef ENVMAP_TYPE_CUBE\\nuniform samplerCube cubemap;\\n#else\\nuniform sampler2D cubemap;\\n#endif\\nfloat diskIntersect(in vec3 ro,in vec3 rd,vec3 c,vec3 n,float r){vec3 o=ro-c;float t=-dot(n,o)/dot(rd,n);vec3 q=o+rd*t;return(dot(q,q)<r*r)? t : 1e6;}float sphereIntersect(in vec3 ro,in vec3 rd,in vec3 ce,float ra){vec3 oc=ro-ce;float b=dot(oc,rd);float c=dot(oc,oc)-ra*ra;float h=b*b-c;if(h<0.0)-1.0;h=sqrt(h);return-b+h;}vec3 project(){vec3 p=normalize(vWorldPosition);vec3 camPos=cameraPosition;camPos.y-=height;float intersection=sphereIntersect(camPos,p,vec3(0.),radius);if(intersection>0.){vec3 h=vec3(0.0,-height,0.0);float intersection2=diskIntersect(camPos,p,h,vec3(0.0,-1.0,0.0),radius);p=(camPos+min(intersection,intersection2)*p)/radius;}else{p=vec3(0.0,1.0,0.0);}return p;}\\n#include <common>\\n#include <cube_uv_reflection_fragment>\\nvoid main(){vec3 projectedWorldPosition=project();\\n#ifdef ENVMAP_TYPE_CUBE\\nvec3 outcolor=textureCube(cubemap,projectedWorldPosition).rgb;\\n#else\\nvec3 direction=normalize(projectedWorldPosition);vec2 uv=equirectUv(direction);vec3 outcolor=texture2D(cubemap,uv).rgb;\\n#endif\\ngl_FragColor=vec4(outcolor,1.0);\\n#include <tonemapping_fragment>\\n#include <encodings_fragment>\\n}\"; // eslint-disable-line\n\nexport { fragmentShader as default };\n","var vertexShader = \"#define GLSLIFY 1\\nvarying vec3 vWorldPosition;void main(){vec4 worldPosition=modelMatrix*vec4(position,1.0);vWorldPosition=worldPosition.xyz;gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.0);}\"; // eslint-disable-line\n\nexport { vertexShader as default };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { useThree } from '@react-three/fiber';\nimport mergeRefs from 'react-merge-refs';\n\nconst OrthographicCamera = /*#__PURE__*/React.forwardRef(({\n  makeDefault,\n  ...props\n}, ref) => {\n  const set = useThree(({\n    set\n  }) => set);\n  const camera = useThree(({\n    camera\n  }) => camera);\n  const size = useThree(({\n    size\n  }) => size);\n  const cameraRef = React.useRef();\n  React.useLayoutEffect(() => {\n    if (cameraRef.current && !props.manual) {\n      cameraRef.current.updateProjectionMatrix();\n    }\n  }, [size, props]);\n  React.useLayoutEffect(() => {\n    if (makeDefault && cameraRef.current) {\n      const oldCam = camera;\n      set(() => ({\n        camera: cameraRef.current\n      }));\n      return () => set(() => ({\n        camera: oldCam\n      }));\n    } // The camera should not be part of the dependency list because this components camera is a stable reference\n    // that must exchange the default, and clean up after itself on unmount.\n\n  }, [cameraRef, makeDefault, set]);\n  return /*#__PURE__*/React.createElement(\"orthographicCamera\", _extends({\n    left: size.width / -2,\n    right: size.width / 2,\n    top: size.height / 2,\n    bottom: size.height / -2,\n    ref: mergeRefs([cameraRef, ref])\n  }, props));\n});\n\nexport { OrthographicCamera };\n","import * as React from 'react';\nimport { useThree, useFrame, createPortal } from '@react-three/fiber';\nimport { Object3D, Matrix4, Quaternion, Vector3, Scene } from 'three';\nimport { OrthographicCamera } from './OrthographicCamera.js';\nimport { useCamera } from './useCamera.js';\n\nconst Context = /*#__PURE__*/React.createContext({});\nconst useGizmoContext = () => {\n  return React.useContext(Context);\n};\nconst turnRate = 2 * Math.PI; // turn rate in angles per second\n\nconst dummy = new Object3D();\nconst matrix = new Matrix4();\nconst [q1, q2] = [new Quaternion(), new Quaternion()];\nconst target = new Vector3();\nconst targetPosition = new Vector3();\nconst GizmoHelper = ({\n  alignment = 'bottom-right',\n  margin = [80, 80],\n  renderPriority = 0,\n  autoClear = true,\n  onUpdate,\n  onTarget,\n  children: GizmoHelperComponent\n}) => {\n  const size = useThree(({\n    size\n  }) => size);\n  const mainCamera = useThree(({\n    camera\n  }) => camera); // @ts-expect-error new in @react-three/fiber@7.0.5\n\n  const defaultControls = useThree(({\n    controls\n  }) => controls);\n  const gl = useThree(({\n    gl\n  }) => gl);\n  const scene = useThree(({\n    scene\n  }) => scene);\n  const invalidate = useThree(({\n    invalidate\n  }) => invalidate);\n  const backgroundRef = React.useRef();\n  const gizmoRef = React.useRef();\n  const virtualCam = React.useRef(null);\n  const [virtualScene] = React.useState(() => new Scene());\n  const animating = React.useRef(false);\n  const radius = React.useRef(0);\n  const focusPoint = React.useRef(new Vector3(0, 0, 0));\n  const tweenCamera = React.useCallback(direction => {\n    animating.current = true;\n    if (defaultControls || onTarget) focusPoint.current = (defaultControls == null ? void 0 : defaultControls.target) || (onTarget == null ? void 0 : onTarget());\n    radius.current = mainCamera.position.distanceTo(target); // Rotate from current camera orientation\n\n    q1.copy(mainCamera.quaternion); // To new current camera orientation\n\n    targetPosition.copy(direction).multiplyScalar(radius.current).add(target);\n    dummy.lookAt(targetPosition);\n    q2.copy(dummy.quaternion);\n    invalidate();\n  }, [defaultControls, mainCamera, onTarget, invalidate]);\n  React.useEffect(() => {\n    if (scene.background) {\n      //Interchange the actual scene background with the virtual scene\n      backgroundRef.current = scene.background;\n      scene.background = null;\n      virtualScene.background = backgroundRef.current;\n    }\n\n    return () => {\n      // reset on unmount\n      if (backgroundRef.current) scene.background = backgroundRef.current;\n    };\n  }, []);\n  useFrame((_, delta) => {\n    if (virtualCam.current && gizmoRef.current) {\n      var _gizmoRef$current;\n\n      // Animate step\n      if (animating.current) {\n        if (q1.angleTo(q2) < 0.01) {\n          animating.current = false;\n        } else {\n          const step = delta * turnRate; // animate position by doing a slerp and then scaling the position on the unit sphere\n\n          q1.rotateTowards(q2, step); // animate orientation\n\n          mainCamera.position.set(0, 0, 1).applyQuaternion(q1).multiplyScalar(radius.current).add(focusPoint.current);\n          mainCamera.up.set(0, 1, 0).applyQuaternion(q1).normalize();\n          mainCamera.quaternion.copy(q1);\n          if (onUpdate) onUpdate();else if (defaultControls) defaultControls.update();\n          invalidate();\n        }\n      } // Sync Gizmo with main camera orientation\n\n\n      matrix.copy(mainCamera.matrix).invert();\n      (_gizmoRef$current = gizmoRef.current) == null ? void 0 : _gizmoRef$current.quaternion.setFromRotationMatrix(matrix); // Render virtual camera\n\n      if (autoClear) gl.autoClear = false;\n      gl.clearDepth();\n      gl.render(virtualScene, virtualCam.current);\n    }\n  }, renderPriority);\n  const raycast = useCamera(virtualCam);\n  const gizmoHelperContext = React.useMemo(() => ({\n    tweenCamera,\n    raycast\n  }), [tweenCamera]); // Position gizmo component within scene\n\n  const [marginX, marginY] = margin;\n  const x = alignment.endsWith('-left') ? -size.width / 2 + marginX : size.width / 2 - marginX;\n  const y = alignment.startsWith('top-') ? size.height / 2 - marginY : -size.height / 2 + marginY;\n  return createPortal( /*#__PURE__*/React.createElement(Context.Provider, {\n    value: gizmoHelperContext\n  }, /*#__PURE__*/React.createElement(OrthographicCamera, {\n    ref: virtualCam,\n    position: [0, 0, 200]\n  }), /*#__PURE__*/React.createElement(\"group\", {\n    ref: gizmoRef,\n    position: [x, y, 0]\n  }, GizmoHelperComponent)), virtualScene);\n};\n\nexport { GizmoHelper, useGizmoContext };\n","import * as React from 'react';\nimport { Raycaster, Camera } from 'three';\nimport { useThree, applyProps } from '@react-three/fiber';\n\nfunction useCamera(camera, props) {\n  const pointer = useThree(state => state.pointer);\n  const [raycast] = React.useState(() => {\n    const raycaster = new Raycaster();\n    /**\n     * applyProps is an internal method of r3f and\n     * therefore requires its first arg to be an\n     * \"Instance\" a term used with the Reconciler\n     * so we have an expect error to mask this\n     */\n    // @ts-expect-error\n\n    if (props) applyProps(raycaster, props, {});\n    return function (_, intersects) {\n      raycaster.setFromCamera(pointer, camera instanceof Camera ? camera : camera.current);\n      const rc = this.constructor.prototype.raycast.bind(this);\n      if (rc) rc(raycaster, intersects);\n    };\n  });\n  return raycast;\n}\n\nexport { useCamera };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { useThree } from '@react-three/fiber';\nimport { useGizmoContext } from './GizmoHelper.js';\nimport { Vector3, CanvasTexture } from 'three';\n\nconst colors = {\n  bg: '#f0f0f0',\n  hover: '#999',\n  text: 'black',\n  stroke: 'black'\n};\nconst defaultFaces = ['Right', 'Left', 'Top', 'Bottom', 'Front', 'Back'];\n\nconst makePositionVector = xyz => new Vector3(...xyz).multiplyScalar(0.38);\n\nconst corners = [[1, 1, 1], [1, 1, -1], [1, -1, 1], [1, -1, -1], [-1, 1, 1], [-1, 1, -1], [-1, -1, 1], [-1, -1, -1]].map(makePositionVector);\nconst cornerDimensions = [0.25, 0.25, 0.25];\nconst edges = [[1, 1, 0], [1, 0, 1], [1, 0, -1], [1, -1, 0], [0, 1, 1], [0, 1, -1], [0, -1, 1], [0, -1, -1], [-1, 1, 0], [-1, 0, 1], [-1, 0, -1], [-1, -1, 0]].map(makePositionVector);\nconst edgeDimensions = edges.map(edge => edge.toArray().map(axis => axis == 0 ? 0.5 : 0.25));\n\nconst FaceMaterial = ({\n  hover,\n  index,\n  font = '20px Inter var, Arial, sans-serif',\n  faces = defaultFaces,\n  color = colors.bg,\n  hoverColor = colors.hover,\n  textColor = colors.text,\n  strokeColor = colors.stroke,\n  opacity = 1\n}) => {\n  const gl = useThree(state => state.gl);\n  const texture = React.useMemo(() => {\n    const canvas = document.createElement('canvas');\n    canvas.width = 128;\n    canvas.height = 128;\n    const context = canvas.getContext('2d');\n    context.fillStyle = color;\n    context.fillRect(0, 0, canvas.width, canvas.height);\n    context.strokeStyle = strokeColor;\n    context.strokeRect(0, 0, canvas.width, canvas.height);\n    context.font = font;\n    context.textAlign = 'center';\n    context.fillStyle = textColor;\n    context.fillText(faces[index].toUpperCase(), 64, 76);\n    return new CanvasTexture(canvas);\n  }, [index, faces, font, color, textColor, strokeColor]);\n  return /*#__PURE__*/React.createElement(\"meshLambertMaterial\", {\n    map: texture,\n    \"map-encoding\": gl.outputEncoding,\n    \"map-anisotropy\": gl.capabilities.getMaxAnisotropy() || 1,\n    attach: `material-${index}`,\n    color: hover ? hoverColor : 'white',\n    transparent: true,\n    opacity: opacity\n  });\n};\n\nconst FaceCube = props => {\n  const {\n    tweenCamera,\n    raycast\n  } = useGizmoContext();\n  const [hover, setHover] = React.useState(null);\n\n  const handlePointerOut = e => {\n    e.stopPropagation();\n    setHover(null);\n  };\n\n  const handleClick = e => {\n    e.stopPropagation();\n    tweenCamera(e.face.normal);\n  };\n\n  const handlePointerMove = e => {\n    e.stopPropagation();\n    setHover(Math.floor(e.faceIndex / 2));\n  };\n\n  return /*#__PURE__*/React.createElement(\"mesh\", {\n    raycast: raycast,\n    onPointerOut: handlePointerOut,\n    onPointerMove: handlePointerMove,\n    onClick: props.onClick || handleClick\n  }, [...Array(6)].map((_, index) => /*#__PURE__*/React.createElement(FaceMaterial, _extends({\n    key: index,\n    index: index,\n    hover: hover === index\n  }, props))), /*#__PURE__*/React.createElement(\"boxGeometry\", null));\n};\n\nconst EdgeCube = ({\n  onClick,\n  dimensions,\n  position,\n  hoverColor = colors.hover\n}) => {\n  const {\n    tweenCamera,\n    raycast\n  } = useGizmoContext();\n  const [hover, setHover] = React.useState(false);\n\n  const handlePointerOut = e => {\n    e.stopPropagation();\n    setHover(false);\n  };\n\n  const handlePointerOver = e => {\n    e.stopPropagation();\n    setHover(true);\n  };\n\n  const handleClick = e => {\n    e.stopPropagation();\n    tweenCamera(position);\n  };\n\n  return /*#__PURE__*/React.createElement(\"mesh\", {\n    scale: 1.01,\n    position: position,\n    raycast: raycast,\n    onPointerOver: handlePointerOver,\n    onPointerOut: handlePointerOut,\n    onClick: onClick || handleClick\n  }, /*#__PURE__*/React.createElement(\"meshBasicMaterial\", {\n    color: hover ? hoverColor : 'white',\n    transparent: true,\n    opacity: 0.6,\n    visible: hover\n  }), /*#__PURE__*/React.createElement(\"boxGeometry\", {\n    args: dimensions\n  }));\n};\n\nconst GizmoViewcube = props => {\n  return /*#__PURE__*/React.createElement(\"group\", {\n    scale: [60, 60, 60]\n  }, /*#__PURE__*/React.createElement(FaceCube, props), edges.map((edge, index) => /*#__PURE__*/React.createElement(EdgeCube, _extends({\n    key: index,\n    position: edge,\n    dimensions: edgeDimensions[index]\n  }, props))), corners.map((corner, index) => /*#__PURE__*/React.createElement(EdgeCube, _extends({\n    key: index,\n    position: corner,\n    dimensions: cornerDimensions\n  }, props))), /*#__PURE__*/React.createElement(\"ambientLight\", {\n    intensity: 0.5\n  }), /*#__PURE__*/React.createElement(\"pointLight\", {\n    position: [10, 10, 10],\n    intensity: 0.5\n  }));\n};\n\nexport { GizmoViewcube };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport * as React from 'react';\nimport { MapControls as MapControls$1 } from 'three-stdlib';\n\nconst MapControls = /*#__PURE__*/React.forwardRef((props = {\n  enableDamping: true\n}, ref) => {\n  const {\n    domElement,\n    camera,\n    onChange,\n    onStart,\n    onEnd,\n    ...rest\n  } = props;\n  const invalidate = useThree(state => state.invalidate);\n  const defaultCamera = useThree(state => state.camera);\n  const gl = useThree(state => state.gl);\n  const events = useThree(state => state.events);\n  const explDomElement = domElement || events.connected || gl.domElement;\n  const explCamera = camera || defaultCamera;\n  const controls = React.useMemo(() => new MapControls$1(explCamera), [explCamera]);\n  React.useEffect(() => {\n    controls.connect(explDomElement);\n\n    const callback = e => {\n      invalidate();\n      if (onChange) onChange(e);\n    };\n\n    controls.addEventListener('change', callback);\n    if (onStart) controls.addEventListener('start', onStart);\n    if (onEnd) controls.addEventListener('end', onEnd);\n    return () => {\n      controls.dispose();\n      controls.removeEventListener('change', callback);\n      if (onStart) controls.removeEventListener('start', onStart);\n      if (onEnd) controls.removeEventListener('end', onEnd);\n    };\n  }, [onChange, onStart, onEnd, controls, invalidate, explDomElement]);\n  useFrame(() => controls.update(), -1);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    ref: ref,\n    object: controls,\n    enableDamping: true\n  }, rest));\n});\n\nexport { MapControls };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport * as React from 'react';\nimport { OrbitControls as OrbitControls$1 } from 'three-stdlib';\n\nconst OrbitControls = /*#__PURE__*/React.forwardRef(({\n  makeDefault,\n  camera,\n  regress,\n  domElement,\n  enableDamping = true,\n  onChange,\n  onStart,\n  onEnd,\n  ...restProps\n}, ref) => {\n  const invalidate = useThree(state => state.invalidate);\n  const defaultCamera = useThree(state => state.camera);\n  const gl = useThree(state => state.gl);\n  const events = useThree(state => state.events);\n  const set = useThree(state => state.set);\n  const get = useThree(state => state.get);\n  const performance = useThree(state => state.performance);\n  const explCamera = camera || defaultCamera;\n  const explDomElement = domElement || events.connected || gl.domElement;\n  const controls = React.useMemo(() => new OrbitControls$1(explCamera), [explCamera]);\n  useFrame(() => {\n    if (controls.enabled) controls.update();\n  }, -1);\n  React.useEffect(() => {\n    controls.connect(explDomElement);\n    return () => void controls.dispose();\n  }, [explDomElement, regress, controls, invalidate]);\n  React.useEffect(() => {\n    const callback = e => {\n      invalidate();\n      if (regress) performance.regress();\n      if (onChange) onChange(e);\n    };\n\n    controls.addEventListener('change', callback);\n    if (onStart) controls.addEventListener('start', onStart);\n    if (onEnd) controls.addEventListener('end', onEnd);\n    return () => {\n      if (onStart) controls.removeEventListener('start', onStart);\n      if (onEnd) controls.removeEventListener('end', onEnd);\n      controls.removeEventListener('change', callback);\n    };\n  }, [onChange, onStart, onEnd, controls, invalidate]);\n  React.useEffect(() => {\n    if (makeDefault) {\n      const old = get().controls;\n      set({\n        controls\n      });\n      return () => set({\n        controls: old\n      });\n    }\n  }, [makeDefault, controls]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    ref: ref,\n    object: controls,\n    enableDamping: enableDamping\n  }, restProps));\n});\n\nexport { OrbitControls };\n","import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { InstancedBufferGeometry, Box3, Vector3, Float32BufferAttribute, InstancedInterleavedBuffer, InterleavedBufferAttribute, WireframeGeometry, Sphere } from 'three';\n\nclass LineSegmentsGeometry extends InstancedBufferGeometry {\n  constructor() {\n    super();\n\n    _defineProperty(this, \"isLineSegmentsGeometry\", true);\n\n    _defineProperty(this, \"type\", 'LineSegmentsGeometry');\n\n    _defineProperty(this, \"boundingBox\", null);\n\n    _defineProperty(this, \"boundingSphere\", null);\n\n    _defineProperty(this, \"box\", new Box3());\n\n    _defineProperty(this, \"vector\", new Vector3());\n\n    const positions = [-1, 2, 0, 1, 2, 0, -1, 1, 0, 1, 1, 0, -1, 0, 0, 1, 0, 0, -1, -1, 0, 1, -1, 0];\n    const uvs = [-1, 2, 1, 2, -1, 1, 1, 1, -1, -1, 1, -1, -1, -2, 1, -2];\n    const index = [0, 2, 1, 2, 3, 1, 2, 4, 3, 4, 5, 3, 4, 6, 5, 6, 7, 5];\n    this.setIndex(index);\n    this.setAttribute('position', new Float32BufferAttribute(positions, 3));\n    this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n  }\n\n  applyMatrix4(matrix) {\n    const start = this.attributes.instanceStart;\n    const end = this.attributes.instanceEnd;\n\n    if (start !== undefined) {\n      start.applyMatrix4(matrix);\n      end.applyMatrix4(matrix);\n      start.needsUpdate = true;\n    }\n\n    if (this.boundingBox !== null) {\n      this.computeBoundingBox();\n    }\n\n    if (this.boundingSphere !== null) {\n      this.computeBoundingSphere();\n    }\n\n    return this;\n  }\n\n  setPositions(array) {\n    let lineSegments;\n\n    if (array instanceof Float32Array) {\n      lineSegments = array;\n    } else if (Array.isArray(array)) {\n      lineSegments = new Float32Array(array);\n    } else {\n      console.error('LineSegmentsGeometry.setPosition requires either a Float32Array or regular array of numbers');\n      return this;\n    }\n\n    const instanceBuffer = new InstancedInterleavedBuffer(lineSegments, 6, 1); // xyz, xyz\n\n    this.setAttribute('instanceStart', new InterleavedBufferAttribute(instanceBuffer, 3, 0)); // xyz\n\n    this.setAttribute('instanceEnd', new InterleavedBufferAttribute(instanceBuffer, 3, 3)); // xyz\n    //\n\n    this.computeBoundingBox();\n    this.computeBoundingSphere();\n    return this;\n  }\n\n  setColors(array) {\n    let colors;\n\n    if (array instanceof Float32Array) {\n      colors = array;\n    } else if (Array.isArray(array)) {\n      colors = new Float32Array(array);\n    } else {\n      console.error('LineSegmentsGeometry.setColors requires either a Float32Array or regular array of numbers');\n      return this;\n    }\n\n    const instanceColorBuffer = new InstancedInterleavedBuffer(colors, 6, 1); // rgb, rgb\n\n    this.setAttribute('instanceColorStart', new InterleavedBufferAttribute(instanceColorBuffer, 3, 0)); // rgb\n\n    this.setAttribute('instanceColorEnd', new InterleavedBufferAttribute(instanceColorBuffer, 3, 3)); // rgb\n\n    return this;\n  }\n\n  fromWireframeGeometry(geometry) {\n    this.setPositions(Array.from(geometry.attributes.position.array));\n    return this;\n  }\n\n  fromEdgesGeometry(geometry) {\n    this.setPositions(Array.from(geometry.attributes.position.array));\n    return this;\n  }\n\n  fromMesh(mesh) {\n    this.fromWireframeGeometry(new WireframeGeometry(mesh.geometry));\n    return this;\n  }\n\n  fromLineSegments(lineSegments) {\n    const geometry = lineSegments.geometry;\n\n    if (geometry.isBufferGeometry) {\n      this.setPositions(Array.from(geometry.attributes.position.array)); // assumes non-indexed\n    } // set colors, maybe\n\n\n    return this;\n  }\n\n  computeBoundingBox() {\n    if (this.boundingBox === null) {\n      this.boundingBox = new Box3();\n    }\n\n    const start = this.attributes.instanceStart;\n    const end = this.attributes.instanceEnd;\n\n    if (start !== undefined && end !== undefined) {\n      this.boundingBox.setFromBufferAttribute(start);\n      this.box.setFromBufferAttribute(end);\n      this.boundingBox.union(this.box);\n    }\n  }\n\n  computeBoundingSphere() {\n    if (this.boundingSphere === null) {\n      this.boundingSphere = new Sphere();\n    }\n\n    if (this.boundingBox === null) {\n      this.computeBoundingBox();\n    }\n\n    const start = this.attributes.instanceStart;\n    const end = this.attributes.instanceEnd;\n\n    if (start !== undefined && end !== undefined) {\n      const center = this.boundingSphere.center;\n\n      if (this.boundingBox) {\n        this.boundingBox.getCenter(center);\n      }\n\n      let maxRadiusSq = 0;\n\n      for (let i = 0, il = start.count; i < il; i++) {\n        this.vector.fromBufferAttribute(start, i);\n        maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(this.vector));\n        this.vector.fromBufferAttribute(end, i);\n        maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(this.vector));\n      }\n\n      this.boundingSphere.radius = Math.sqrt(maxRadiusSq);\n\n      if (isNaN(this.boundingSphere.radius)) {\n        console.error('THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.', this);\n      }\n    }\n  }\n\n  toJSON() {// todo\n  }\n\n}\n\nexport { LineSegmentsGeometry };\n","import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { Vector2, ShaderLib, UniformsUtils, UniformsLib, ShaderMaterial, Color } from 'three';\n\n/**\n * parameters = {\n *  color: <hex>,\n *  linewidth: <float>,\n *  dashed: <boolean>,\n *  dashScale: <float>,\n *  dashSize: <float>,\n *  dashOffset: <float>,\n *  gapSize: <float>,\n *  resolution: <Vector2>, // to be set by renderer\n * }\n */\nconst LineUniforms = {\n  linewidth: {\n    value: 1\n  },\n  resolution: {\n    value: new Vector2(1, 1)\n  },\n  dashScale: {\n    value: 1\n  },\n  dashSize: {\n    value: 1\n  },\n  dashOffset: {\n    value: 0\n  },\n  gapSize: {\n    value: 1\n  },\n  // todo FIX - maybe change to totalSize\n  opacity: {\n    value: 1\n  }\n};\nShaderLib['line'] = {\n  uniforms: UniformsUtils.merge([UniformsLib.common, UniformsLib.fog, LineUniforms]),\n  vertexShader:\n  /* glsl */\n  `\n\t\t#include <common>\n\t\t#include <color_pars_vertex>\n\t\t#include <fog_pars_vertex>\n\t\t#include <logdepthbuf_pars_vertex>\n\t\t#include <clipping_planes_pars_vertex>\n\n\t\tuniform float linewidth;\n\t\tuniform vec2 resolution;\n\n\t\tattribute vec3 instanceStart;\n\t\tattribute vec3 instanceEnd;\n\n\t\tattribute vec3 instanceColorStart;\n\t\tattribute vec3 instanceColorEnd;\n\n\t\tvarying vec2 vUv;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashScale;\n\t\t\tattribute float instanceDistanceStart;\n\t\t\tattribute float instanceDistanceEnd;\n\t\t\tvarying float vLineDistance;\n\n\t\t#endif\n\n\t\tvoid trimSegment( const in vec4 start, inout vec4 end ) {\n\n\t\t\t// trim end segment so it terminates between the camera plane and the near plane\n\n\t\t\t// conservative estimate of the near plane\n\t\t\tfloat a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column\n\t\t\tfloat b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column\n\t\t\tfloat nearEstimate = - 0.5 * b / a;\n\n\t\t\tfloat alpha = ( nearEstimate - start.z ) / ( end.z - start.z );\n\n\t\t\tend.xyz = mix( start.xyz, end.xyz, alpha );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\t#ifdef USE_COLOR\n\n\t\t\t\tvColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;\n\n\t\t\t#endif\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tvLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;\n\n\t\t\t#endif\n\n\t\t\tfloat aspect = resolution.x / resolution.y;\n\n\t\t\tvUv = uv;\n\n\t\t\t// camera space\n\t\t\tvec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );\n\t\t\tvec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );\n\n\t\t\t// special case for perspective projection, and segments that terminate either in, or behind, the camera plane\n\t\t\t// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space\n\t\t\t// but we need to perform ndc-space calculations in the shader, so we must address this issue directly\n\t\t\t// perhaps there is a more elegant solution -- WestLangley\n\n\t\t\tbool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column\n\n\t\t\tif ( perspective ) {\n\n\t\t\t\tif ( start.z < 0.0 && end.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( start, end );\n\n\t\t\t\t} else if ( end.z < 0.0 && start.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( end, start );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// clip space\n\t\t\tvec4 clipStart = projectionMatrix * start;\n\t\t\tvec4 clipEnd = projectionMatrix * end;\n\n\t\t\t// ndc space\n\t\t\tvec2 ndcStart = clipStart.xy / clipStart.w;\n\t\t\tvec2 ndcEnd = clipEnd.xy / clipEnd.w;\n\n\t\t\t// direction\n\t\t\tvec2 dir = ndcEnd - ndcStart;\n\n\t\t\t// account for clip-space aspect ratio\n\t\t\tdir.x *= aspect;\n\t\t\tdir = normalize( dir );\n\n\t\t\t// perpendicular to dir\n\t\t\tvec2 offset = vec2( dir.y, - dir.x );\n\n\t\t\t// undo aspect ratio adjustment\n\t\t\tdir.x /= aspect;\n\t\t\toffset.x /= aspect;\n\n\t\t\t// sign flip\n\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\n\n\t\t\t// endcaps\n\t\t\tif ( position.y < 0.0 ) {\n\n\t\t\t\toffset += - dir;\n\n\t\t\t} else if ( position.y > 1.0 ) {\n\n\t\t\t\toffset += dir;\n\n\t\t\t}\n\n\t\t\t// adjust for linewidth\n\t\t\toffset *= linewidth;\n\n\t\t\t// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...\n\t\t\toffset /= resolution.y;\n\n\t\t\t// select end\n\t\t\tvec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;\n\n\t\t\t// back to clip space\n\t\t\toffset *= clip.w;\n\n\t\t\tclip.xy += offset;\n\n\t\t\tgl_Position = clip;\n\n\t\t\tvec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation\n\n\t\t\t#include <logdepthbuf_vertex>\n\t\t\t#include <clipping_planes_vertex>\n\t\t\t#include <fog_vertex>\n\n\t\t}\n\t\t`,\n  fragmentShader:\n  /* glsl */\n  `\n\t\tuniform vec3 diffuse;\n\t\tuniform float opacity;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashSize;\n\t\t\tuniform float dashOffset;\n\t\t\tuniform float gapSize;\n\n\t\t#endif\n\n\t\tvarying float vLineDistance;\n\n\t\t#include <common>\n\t\t#include <color_pars_fragment>\n\t\t#include <fog_pars_fragment>\n\t\t#include <logdepthbuf_pars_fragment>\n\t\t#include <clipping_planes_pars_fragment>\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\t#include <clipping_planes_fragment>\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tif ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps\n\n\t\t\t\tif ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX\n\n\t\t\t#endif\n\n\t\t\tfloat alpha = opacity;\n\n\t\t\t#ifdef ALPHA_TO_COVERAGE\n\n\t\t\t// artifacts appear on some hardware if a derivative is taken within a conditional\n\t\t\tfloat a = vUv.x;\n\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\tfloat len2 = a * a + b * b;\n\t\t\tfloat dlen = fwidth( len2 );\n\n\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\talpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );\n\n\t\t\t}\n\n\t\t\t#else\n\n\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\tfloat a = vUv.x;\n\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\t\tfloat len2 = a * a + b * b;\n\n\t\t\t\tif ( len2 > 1.0 ) discard;\n\n\t\t\t}\n\n\t\t\t#endif\n\n\t\t\tvec4 diffuseColor = vec4( diffuse, alpha );\n\n\t\t\t#include <logdepthbuf_fragment>\n\t\t\t#include <color_fragment>\n\n\t\t\tgl_FragColor = vec4( diffuseColor.rgb, alpha );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <encodings_fragment>\n\t\t\t#include <fog_fragment>\n\t\t\t#include <premultiplied_alpha_fragment>\n\n\t\t}\n\t\t`\n};\n\nclass LineMaterial extends ShaderMaterial {\n  constructor(parameters = {}) {\n    super({\n      uniforms: UniformsUtils.clone(ShaderLib['line'].uniforms),\n      vertexShader: ShaderLib['line'].vertexShader,\n      fragmentShader: ShaderLib['line'].fragmentShader,\n      clipping: true // required for clipping support\n\n    });\n    /**\n     * Everytime I remove this, everything just breaks,\n     * so I'm just gonna leave it here.\n     */\n\n    _defineProperty(this, \"isLineMaterial\", true);\n\n    _defineProperty(this, \"dashed\", false);\n\n    _defineProperty(this, \"color\", new Color(0x000000));\n\n    _defineProperty(this, \"lineWidth\", 0);\n\n    _defineProperty(this, \"dashScale\", 0);\n\n    _defineProperty(this, \"dashOffset\", 0);\n\n    _defineProperty(this, \"dashSize\", 0);\n\n    _defineProperty(this, \"opacity\", 0);\n\n    _defineProperty(this, \"resolution\", new Vector2());\n\n    _defineProperty(this, \"alphaToCoverage\", false);\n\n    Object.defineProperties(this, {\n      color: {\n        enumerable: true,\n        get: function () {\n          return this.uniforms.diffuse.value;\n        },\n        set: function (value) {\n          const colorObj = new Color(value);\n          this.uniforms.diffuse.value = colorObj.getHex();\n        }\n      },\n      linewidth: {\n        enumerable: true,\n        get: function () {\n          return this.uniforms.linewidth.value;\n        },\n        set: function (value) {\n          this.uniforms.linewidth.value = value;\n        }\n      },\n      dashScale: {\n        enumerable: true,\n        get: function () {\n          return this.uniforms.dashScale.value;\n        },\n        set: function (value) {\n          this.uniforms.dashScale.value = value;\n        }\n      },\n      dashSize: {\n        enumerable: true,\n        get: function () {\n          return this.uniforms.dashSize.value;\n        },\n        set: function (value) {\n          this.uniforms.dashSize.value = value;\n        }\n      },\n      dashOffset: {\n        enumerable: true,\n        get: function () {\n          return this.uniforms.dashOffset.value;\n        },\n        set: function (value) {\n          this.uniforms.dashOffset.value = value;\n        }\n      },\n      gapSize: {\n        enumerable: true,\n        get: function () {\n          return this.uniforms.gapSize.value;\n        },\n        set: function (value) {\n          this.uniforms.gapSize.value = value;\n        }\n      },\n      opacity: {\n        enumerable: true,\n        get: function () {\n          return this.uniforms.opacity.value;\n        },\n        set: function (value) {\n          this.uniforms.opacity.value = value;\n        }\n      },\n      resolution: {\n        enumerable: true,\n        get: function () {\n          return this.uniforms.resolution.value;\n        },\n        set: function (value) {\n          this.uniforms.resolution.value.copy(value);\n        }\n      },\n      alphaToCoverage: {\n        enumerable: true,\n        get: function () {\n          return Boolean('ALPHA_TO_COVERAGE' in this.defines);\n        },\n        set: function (value) {\n          if (Boolean(value) !== Boolean('ALPHA_TO_COVERAGE' in this.defines)) {\n            this.needsUpdate = true;\n          }\n\n          if (value) {\n            this.defines.ALPHA_TO_COVERAGE = '';\n            this.extensions.derivatives = true;\n          } else {\n            delete this.defines.ALPHA_TO_COVERAGE;\n            this.extensions.derivatives = false;\n          }\n        }\n      },\n      dashed: {\n        enumerable: true,\n        get: function () {\n          return Boolean('USE_DASH' in this.defines);\n        },\n        set: function (value) {\n          if (Boolean(value) !== Boolean('USE_DASH' in this.defines)) {\n            this.needsUpdate = true;\n          }\n\n          if (value) {\n            this.defines.USE_DASH = '';\n          } else {\n            delete this.defines.USE_DASH;\n          }\n        }\n      }\n    });\n    this.setValues(parameters);\n  }\n\n}\n\nexport { LineMaterial };\n","import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { Mesh, Vector3, InstancedInterleavedBuffer, InterleavedBufferAttribute, Vector4, Matrix4, Line3, MathUtils } from 'three';\nimport { LineSegmentsGeometry } from './LineSegmentsGeometry.js';\nimport { LineMaterial } from './LineMaterial.js';\n\nclass LineSegments2 extends Mesh {\n  constructor(_geometry = new LineSegmentsGeometry(), _material = new LineMaterial({\n    color: Math.random() * 0xffffff\n  })) {\n    super(_geometry, _material);\n\n    _defineProperty(this, \"type\", 'LineSegments2');\n\n    _defineProperty(this, \"isLineSegments2\", true);\n\n    _defineProperty(this, \"distStart\", new Vector3());\n\n    _defineProperty(this, \"distEnd\", new Vector3());\n\n    _defineProperty(this, \"computeLineDistances\", () => {\n      const geometry = this.geometry;\n      const instanceStart = geometry.attributes.instanceStart;\n      const instanceEnd = geometry.attributes.instanceEnd;\n      const lineDistances = new Float32Array(2 * instanceStart.data.count);\n\n      for (let i = 0, j = 0, l = instanceStart.data.count; i < l; i++, j += 2) {\n        this.distStart.fromBufferAttribute(instanceStart, i);\n        this.distEnd.fromBufferAttribute(instanceEnd, i);\n        lineDistances[j] = j === 0 ? 0 : lineDistances[j - 1];\n        lineDistances[j + 1] = lineDistances[j] + this.distStart.distanceTo(this.distEnd);\n      }\n\n      const instanceDistanceBuffer = new InstancedInterleavedBuffer(lineDistances, 2, 1); // d0, d1\n\n      geometry.setAttribute('instanceDistanceStart', new InterleavedBufferAttribute(instanceDistanceBuffer, 1, 0)); // d0\n\n      geometry.setAttribute('instanceDistanceEnd', new InterleavedBufferAttribute(instanceDistanceBuffer, 1, 1)); // d1\n\n      return this;\n    });\n\n    _defineProperty(this, \"rayStart\", new Vector4());\n\n    _defineProperty(this, \"rayEnd\", new Vector4());\n\n    _defineProperty(this, \"ssOrigin\", new Vector4());\n\n    _defineProperty(this, \"ssOrigin3\", new Vector3());\n\n    _defineProperty(this, \"mvMatrix\", new Matrix4());\n\n    _defineProperty(this, \"line\", new Line3());\n\n    _defineProperty(this, \"closestPoint\", new Vector3());\n\n    _defineProperty(this, \"raycast\", (raycaster, intersects) => {\n      if (raycaster.camera === null) {\n        console.error('LineSegments2: \"Raycaster.camera\" needs to be set in order to raycast against LineSegments2.');\n      }\n\n      const threshold = 0;\n      const ray = raycaster.ray;\n      const camera = raycaster.camera;\n      const projectionMatrix = camera.projectionMatrix;\n      const geometry = this.geometry;\n      const material = this.material;\n      const resolution = material.resolution;\n      const lineWidth = material.linewidth + threshold;\n      const instanceStart = geometry.attributes.instanceStart;\n      const instanceEnd = geometry.attributes.instanceEnd; // camera forward is negative\n\n      const near = -camera.near; // pick a point 1 unit out along the ray to avoid the ray origin\n      // sitting at the camera origin which will cause \"w\" to be 0 when\n      // applying the projection matrix.\n\n      ray.at(1, this.ssOrigin); // ndc space [ - 1.0, 1.0 ]\n\n      this.ssOrigin.w = 1;\n      this.ssOrigin.applyMatrix4(camera.matrixWorldInverse);\n      this.ssOrigin.applyMatrix4(projectionMatrix);\n      this.ssOrigin.multiplyScalar(1 / this.ssOrigin.w); // screen space\n\n      this.ssOrigin.x *= resolution.x / 2;\n      this.ssOrigin.y *= resolution.y / 2;\n      this.ssOrigin.z = 0;\n      this.ssOrigin3.set(this.ssOrigin.x, this.ssOrigin.y, this.ssOrigin.z);\n      const matrixWorld = this.matrixWorld;\n      this.mvMatrix.multiplyMatrices(camera.matrixWorldInverse, matrixWorld);\n\n      for (let i = 0, l = instanceStart.count; i < l; i++) {\n        this.rayStart.fromBufferAttribute(instanceStart, i);\n        this.rayEnd.fromBufferAttribute(instanceEnd, i);\n        this.rayStart.w = 1;\n        this.rayEnd.w = 1; // camera space\n\n        this.rayStart.applyMatrix4(this.mvMatrix);\n        this.rayEnd.applyMatrix4(this.mvMatrix); // skip the segment if it's entirely behind the camera\n\n        const isBehindCameraNear = this.rayStart.z > near && this.rayEnd.z > near;\n\n        if (isBehindCameraNear) {\n          continue;\n        } // trim the segment if it extends behind camera near\n\n\n        if (this.rayStart.z > near) {\n          const deltaDist = this.rayStart.z - this.rayEnd.z;\n          const t = (this.rayStart.z - near) / deltaDist;\n          this.rayStart.lerp(this.rayEnd, t);\n        } else if (this.rayEnd.z > near) {\n          const deltaDist = this.rayEnd.z - this.rayStart.z;\n          const t = (this.rayEnd.z - near) / deltaDist;\n          this.rayEnd.lerp(this.rayStart, t);\n        } // clip space\n\n\n        this.rayStart.applyMatrix4(projectionMatrix);\n        this.rayEnd.applyMatrix4(projectionMatrix); // ndc space [ - 1.0, 1.0 ]\n\n        this.rayStart.multiplyScalar(1 / this.rayStart.w);\n        this.rayEnd.multiplyScalar(1 / this.rayEnd.w); // screen space\n\n        this.rayStart.x *= resolution.x / 2;\n        this.rayStart.y *= resolution.y / 2;\n        this.rayEnd.x *= resolution.x / 2;\n        this.rayEnd.y *= resolution.y / 2; // create 2d segment\n\n        this.line.start.set(this.rayStart.x, this.rayStart.y, this.rayStart.z);\n        this.line.start.z = 0;\n        this.line.end.set(this.rayEnd.x, this.rayEnd.y, this.rayEnd.z);\n        this.line.end.z = 0; // get closest point on ray to segment\n\n        const param = this.line.closestPointToPointParameter(this.ssOrigin3, true);\n        this.line.at(param, this.closestPoint); // check if the intersection point is within clip space\n\n        const zPos = MathUtils.lerp(this.rayStart.z, this.rayEnd.z, param);\n        const isInClipSpace = zPos >= -1 && zPos <= 1;\n        const isInside = this.ssOrigin3.distanceTo(this.closestPoint) < lineWidth * 0.5;\n\n        if (isInClipSpace && isInside) {\n          this.line.start.fromBufferAttribute(instanceStart, i);\n          this.line.end.fromBufferAttribute(instanceEnd, i);\n          this.line.start.applyMatrix4(matrixWorld);\n          this.line.end.applyMatrix4(matrixWorld);\n          const pointOnLine = new Vector3();\n          const point = new Vector3();\n          ray.distanceSqToSegment(this.line.start, this.line.end, point, pointOnLine);\n          intersects.push({\n            distance: ray.origin.distanceTo(point),\n            point: point,\n            face: null,\n            faceIndex: i,\n            object: this,\n            uv: undefined,\n            pointOnLine\n          });\n        }\n      }\n    });\n  }\n\n}\n\nexport { LineSegments2 };\n","import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { LineSegmentsGeometry } from './LineSegmentsGeometry.js';\n\nclass LineGeometry extends LineSegmentsGeometry {\n  constructor() {\n    super();\n\n    _defineProperty(this, \"type\", 'LineGeometry');\n\n    _defineProperty(this, \"isLineGeometry\", true);\n\n    _defineProperty(this, \"setColors\", array => {\n      // converts [ r1, g1, b1,  r2, g2, b2, ... ] to pairs format\n      const length = array.length - 3;\n      const colors = new Float32Array(2 * length);\n\n      for (let i = 0; i < length; i += 3) {\n        colors[2 * i] = array[i];\n        colors[2 * i + 1] = array[i + 1];\n        colors[2 * i + 2] = array[i + 2];\n        colors[2 * i + 3] = array[i + 3];\n        colors[2 * i + 4] = array[i + 4];\n        colors[2 * i + 5] = array[i + 5];\n      }\n\n      super.setColors(colors);\n      return this;\n    });\n\n    _defineProperty(this, \"fromLine\", line => {\n      const geometry = line.geometry;\n\n      if (geometry.isBufferGeometry) {\n        this.setPositions(Array.from(geometry.attributes.position.array)); // assumes non-indexed\n      } // set colors, maybe\n\n\n      return this;\n    });\n\n    _defineProperty(this, \"copy\", () => {\n      // todo\n      return this;\n    });\n  }\n\n  setPositions(array) {\n    // converts [ x1, y1, z1,  x2, y2, z2, ... ] to pairs format\n    const length = array.length - 3;\n    const points = new Float32Array(2 * length);\n\n    for (let i = 0; i < length; i += 3) {\n      points[2 * i] = array[i];\n      points[2 * i + 1] = array[i + 1];\n      points[2 * i + 2] = array[i + 2];\n      points[2 * i + 3] = array[i + 3];\n      points[2 * i + 4] = array[i + 4];\n      points[2 * i + 5] = array[i + 5];\n    }\n\n    super.setPositions(points);\n    return this;\n  }\n\n}\n\nexport { LineGeometry };\n","import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { LineSegments2 } from './LineSegments2.js';\nimport { LineGeometry } from './LineGeometry.js';\nimport { LineMaterial } from './LineMaterial.js';\n\nclass Line2 extends LineSegments2 {\n  constructor(geometry = new LineGeometry(), material = new LineMaterial({\n    color: Math.random() * 0xffffff\n  })) {\n    super(geometry, material);\n\n    _defineProperty(this, \"type\", 'Line2');\n\n    _defineProperty(this, \"isLine2\", true);\n  }\n\n}\n\nexport { Line2 };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { Vector2, Vector3, Color } from 'three';\nimport { Line2, LineMaterial, LineGeometry } from 'three-stdlib';\n\nconst Line = /*#__PURE__*/React.forwardRef(function Line({\n  points,\n  color = 'black',\n  vertexColors,\n  lineWidth,\n  dashed,\n  ...rest\n}, ref) {\n  const [line2] = React.useState(() => new Line2());\n  const [lineMaterial] = React.useState(() => new LineMaterial());\n  const [resolution] = React.useState(() => new Vector2(512, 512));\n  const lineGeom = React.useMemo(() => {\n    const geom = new LineGeometry();\n    const pValues = points.map(p => p instanceof Vector3 ? p.toArray() : p);\n    geom.setPositions(pValues.flat());\n\n    if (vertexColors) {\n      const cValues = vertexColors.map(c => c instanceof Color ? c.toArray() : c);\n      geom.setColors(cValues.flat());\n    }\n\n    return geom;\n  }, [points, vertexColors]);\n  React.useLayoutEffect(() => {\n    line2.computeLineDistances();\n  }, [points, line2]);\n  React.useLayoutEffect(() => {\n    if (dashed) {\n      lineMaterial.defines.USE_DASH = '';\n    } else {\n      // Setting lineMaterial.defines.USE_DASH to undefined is apparently not sufficient.\n      delete lineMaterial.defines.USE_DASH;\n    }\n\n    lineMaterial.needsUpdate = true;\n  }, [dashed, lineMaterial]);\n  React.useEffect(() => {\n    return () => lineGeom.dispose();\n  }, [lineGeom]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: line2,\n    ref: ref\n  }, rest), /*#__PURE__*/React.createElement(\"primitive\", {\n    object: lineGeom,\n    attach: \"geometry\"\n  }), /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: lineMaterial,\n    attach: \"material\",\n    color: color,\n    vertexColors: Boolean(vertexColors),\n    resolution: resolution,\n    linewidth: lineWidth,\n    dashed: dashed\n  }, rest)));\n});\n\nexport { Line };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { Vector3, QuadraticBezierCurve3 } from 'three';\nimport mergeRefs from 'react-merge-refs';\nimport { Line } from './Line.js';\n\nconst v = new Vector3();\nconst QuadraticBezierLine = /*#__PURE__*/React.forwardRef(function QuadraticBezierLine({\n  start = [0, 0, 0],\n  end = [0, 0, 0],\n  mid,\n  segments = 20,\n  ...rest\n}, forwardref) {\n  const ref = React.useRef(null);\n  const [curve] = React.useState(() => new QuadraticBezierCurve3(undefined, undefined, undefined));\n  const getPoints = React.useCallback((start, end, mid, segments = 20) => {\n    if (start instanceof Vector3) curve.v0.copy(start);else curve.v0.set(...start);\n    if (end instanceof Vector3) curve.v2.copy(end);else curve.v2.set(...end);\n\n    if (mid instanceof Vector3) {\n      curve.v1.copy(mid);\n    } else {\n      curve.v1.copy(curve.v0.clone().add(curve.v2.clone().sub(curve.v0)).add(v.set(0, curve.v0.y - curve.v2.y, 0)));\n    }\n\n    return curve.getPoints(segments);\n  }, []);\n  React.useLayoutEffect(() => {\n    ref.current.setPoints = (start, end, mid) => {\n      const points = getPoints(start, end, mid);\n      if (ref.current.geometry) ref.current.geometry.setPositions(points.map(p => p.toArray()).flat());\n    };\n  }, []);\n  const points = React.useMemo(() => getPoints(start, end, mid, segments), [start, end, mid, segments]);\n  return /*#__PURE__*/React.createElement(Line, _extends({\n    ref: mergeRefs([ref, forwardref]),\n    points: points\n  }, rest));\n});\n\nexport { QuadraticBezierLine };\n","import { Matrix4, Ray, Sphere, Vector3 } from 'three';\n\nconst _inverseMatrix = new Matrix4();\n\nconst _ray = new Ray();\n\nconst _sphere = new Sphere();\n\nconst _vA = new Vector3();\n\nfunction meshBounds(raycaster, intersects) {\n  const geometry = this.geometry;\n  const material = this.material;\n  const matrixWorld = this.matrixWorld;\n  if (material === undefined) return; // Checking boundingSphere distance to ray\n\n  if (geometry.boundingSphere === null) geometry.computeBoundingSphere();\n\n  _sphere.copy(geometry.boundingSphere);\n\n  _sphere.applyMatrix4(matrixWorld);\n\n  if (raycaster.ray.intersectsSphere(_sphere) === false) return;\n\n  _inverseMatrix.copy(matrixWorld).invert();\n\n  _ray.copy(raycaster.ray).applyMatrix4(_inverseMatrix); // Check boundingBox before continuing\n\n\n  if (geometry.boundingBox !== null && _ray.intersectBox(geometry.boundingBox, _vA) === null) return;\n  intersects.push({\n    distance: _vA.distanceTo(raycaster.ray.origin),\n    point: _vA.clone(),\n    object: this\n  });\n}\n\nexport { meshBounds };\n","import { Vector3, Vector2, Triangle, DoubleSide, BackSide } from 'three';\r\n\r\n// Ripped and modified From THREE.js Mesh raycast\r\n// https://github.com/mrdoob/three.js/blob/0aa87c999fe61e216c1133fba7a95772b503eddf/src/objects/Mesh.js#L115\r\nconst vA = /* @__PURE__ */ new Vector3();\r\nconst vB = /* @__PURE__ */ new Vector3();\r\nconst vC = /* @__PURE__ */ new Vector3();\r\n\r\nconst uvA = /* @__PURE__ */ new Vector2();\r\nconst uvB = /* @__PURE__ */ new Vector2();\r\nconst uvC = /* @__PURE__ */ new Vector2();\r\n\r\nconst intersectionPoint = /* @__PURE__ */ new Vector3();\r\nfunction checkIntersection( ray, pA, pB, pC, point, side ) {\r\n\r\n\tlet intersect;\r\n\tif ( side === BackSide ) {\r\n\r\n\t\tintersect = ray.intersectTriangle( pC, pB, pA, true, point );\r\n\r\n\t} else {\r\n\r\n\t\tintersect = ray.intersectTriangle( pA, pB, pC, side !== DoubleSide, point );\r\n\r\n\t}\r\n\r\n\tif ( intersect === null ) return null;\r\n\r\n\tconst distance = ray.origin.distanceTo( point );\r\n\r\n\treturn {\r\n\r\n\t\tdistance: distance,\r\n\t\tpoint: point.clone(),\r\n\r\n\t};\r\n\r\n}\r\n\r\nfunction checkBufferGeometryIntersection( ray, position, uv, a, b, c, side ) {\r\n\r\n\tvA.fromBufferAttribute( position, a );\r\n\tvB.fromBufferAttribute( position, b );\r\n\tvC.fromBufferAttribute( position, c );\r\n\r\n\tconst intersection = checkIntersection( ray, vA, vB, vC, intersectionPoint, side );\r\n\r\n\tif ( intersection ) {\r\n\r\n\t\tif ( uv ) {\r\n\r\n\t\t\tuvA.fromBufferAttribute( uv, a );\r\n\t\t\tuvB.fromBufferAttribute( uv, b );\r\n\t\t\tuvC.fromBufferAttribute( uv, c );\r\n\r\n\t\t\tintersection.uv = Triangle.getUV( intersectionPoint, vA, vB, vC, uvA, uvB, uvC, new Vector2( ) );\r\n\r\n\t\t}\r\n\r\n\t\tconst face = {\r\n\t\t\ta: a,\r\n\t\t\tb: b,\r\n\t\t\tc: c,\r\n\t\t\tnormal: new Vector3(),\r\n\t\t\tmaterialIndex: 0\r\n\t\t};\r\n\r\n\t\tTriangle.getNormal( vA, vB, vC, face.normal );\r\n\r\n\t\tintersection.face = face;\r\n\t\tintersection.faceIndex = a;\r\n\r\n\t}\r\n\r\n\treturn intersection;\r\n\r\n}\r\n\r\n// https://github.com/mrdoob/three.js/blob/0aa87c999fe61e216c1133fba7a95772b503eddf/src/objects/Mesh.js#L258\r\nfunction intersectTri( geo, side, ray, tri, intersections ) {\r\n\r\n\tconst triOffset = tri * 3;\r\n\tconst a = geo.index.getX( triOffset );\r\n\tconst b = geo.index.getX( triOffset + 1 );\r\n\tconst c = geo.index.getX( triOffset + 2 );\r\n\r\n\tconst intersection = checkBufferGeometryIntersection( ray, geo.attributes.position, geo.attributes.uv, a, b, c, side );\r\n\r\n\tif ( intersection ) {\r\n\r\n\t\tintersection.faceIndex = tri;\r\n\t\tif ( intersections ) intersections.push( intersection );\r\n\t\treturn intersection;\r\n\r\n\t}\r\n\r\n\treturn null;\r\n\r\n}\r\n\r\nexport { intersectTri };\r\n","import { intersectTri } from './ThreeRayIntersectUtilities.js';\n\nexport function intersectTris( geo, side, ray, offset, count, intersections ) {\n\n\tfor ( let i = offset, end = offset + count; i < end; i ++ ) {\n\n\t\tintersectTri( geo, side, ray, i, intersections );\n\n\t}\n\n}\n\nexport function intersectClosestTri( geo, side, ray, offset, count ) {\n\n\tlet dist = Infinity;\n\tlet res = null;\n\tfor ( let i = offset, end = offset + count; i < end; i ++ ) {\n\n\t\tconst intersection = intersectTri( geo, side, ray, i );\n\t\tif ( intersection && intersection.distance < dist ) {\n\n\t\t\tres = intersection;\n\t\t\tdist = intersection.distance;\n\n\t\t}\n\n\t}\n\n\treturn res;\n\n}\n\n// converts the given BVH raycast intersection to align with the three.js raycast\n// structure (include object, world space distance and point).\nexport function convertRaycastIntersect( hit, object, raycaster ) {\n\n\tif ( hit === null ) {\n\n\t\treturn null;\n\n\t}\n\n\thit.point.applyMatrix4( object.matrixWorld );\n\thit.distance = hit.point.distanceTo( raycaster.ray.origin );\n\thit.object = object;\n\n\tif ( hit.distance < raycaster.near || hit.distance > raycaster.far ) {\n\n\t\treturn null;\n\n\t} else {\n\n\t\treturn hit;\n\n\t}\n\n}\n","// Split strategy constants\r\nexport const CENTER = 0;\r\nexport const AVERAGE = 1;\r\nexport const SAH = 2;\r\n\r\n// Traversal constants\r\nexport const NOT_INTERSECTED = 0;\r\nexport const INTERSECTED = 1;\r\nexport const CONTAINED = 2;\r\n\r\n// SAH cost constants\r\n// TODO: hone these costs more. The relative difference between them should be the\r\n// difference in measured time to perform a triangle intersection vs traversing\r\n// bounds.\r\nexport const TRIANGLE_INTERSECT_COST = 1.25;\r\nexport const TRAVERSAL_COST = 1;\r\n\r\n\r\n// Build constants\r\nexport const BYTES_PER_NODE = 6 * 4 + 4 + 4;\r\nexport const IS_LEAFNODE_FLAG = 0xFFFF;\r\n\r\n// EPSILON for computing floating point error during build\r\n// https://en.wikipedia.org/wiki/Machine_epsilon#Values_for_standard_hardware_floating_point_arithmetics\r\nexport const FLOAT32_EPSILON = Math.pow( 2, - 24 );\r\n\r\n","export class MeshBVHNode {\r\n\r\n\tconstructor() {\r\n\r\n\t\t// internal nodes have boundingData, left, right, and splitAxis\r\n\t\t// leaf nodes have offset and count (referring to primitives in the mesh geometry)\r\n\r\n\t}\r\n\r\n}\r\n","export function arrayToBox( nodeIndex32, array, target ) {\r\n\r\n\ttarget.min.x = array[ nodeIndex32 ];\r\n\ttarget.min.y = array[ nodeIndex32 + 1 ];\r\n\ttarget.min.z = array[ nodeIndex32 + 2 ];\r\n\r\n\ttarget.max.x = array[ nodeIndex32 + 3 ];\r\n\ttarget.max.y = array[ nodeIndex32 + 4 ];\r\n\ttarget.max.z = array[ nodeIndex32 + 5 ];\r\n\r\n\treturn target;\r\n\r\n}\r\n\r\nexport function getLongestEdgeIndex( bounds ) {\r\n\r\n\tlet splitDimIdx = - 1;\r\n\tlet splitDist = - Infinity;\r\n\r\n\tfor ( let i = 0; i < 3; i ++ ) {\r\n\r\n\t\tconst dist = bounds[ i + 3 ] - bounds[ i ];\r\n\t\tif ( dist > splitDist ) {\r\n\r\n\t\t\tsplitDist = dist;\r\n\t\t\tsplitDimIdx = i;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn splitDimIdx;\r\n\r\n}\r\n\r\n// copys bounds a into bounds b\r\nexport function copyBounds( source, target ) {\r\n\r\n\ttarget.set( source );\r\n\r\n}\r\n\r\n// sets bounds target to the union of bounds a and b\r\nexport function unionBounds( a, b, target ) {\r\n\r\n\tlet aVal, bVal;\r\n\tfor ( let d = 0; d < 3; d ++ ) {\r\n\r\n\t\tconst d3 = d + 3;\r\n\r\n\t\t// set the minimum values\r\n\t\taVal = a[ d ];\r\n\t\tbVal = b[ d ];\r\n\t\ttarget[ d ] = aVal < bVal ? aVal : bVal;\r\n\r\n\t\t// set the max values\r\n\t\taVal = a[ d3 ];\r\n\t\tbVal = b[ d3 ];\r\n\t\ttarget[ d3 ] = aVal > bVal ? aVal : bVal;\r\n\r\n\t}\r\n\r\n}\r\n\r\n// expands the given bounds by the provided triangle bounds\r\nexport function expandByTriangleBounds( startIndex, triangleBounds, bounds ) {\r\n\r\n\tfor ( let d = 0; d < 3; d ++ ) {\r\n\r\n\t\tconst tCenter = triangleBounds[ startIndex + 2 * d ];\r\n\t\tconst tHalf = triangleBounds[ startIndex + 2 * d + 1 ];\r\n\r\n\t\tconst tMin = tCenter - tHalf;\r\n\t\tconst tMax = tCenter + tHalf;\r\n\r\n\t\tif ( tMin < bounds[ d ] ) {\r\n\r\n\t\t\tbounds[ d ] = tMin;\r\n\r\n\t\t}\r\n\r\n\t\tif ( tMax > bounds[ d + 3 ] ) {\r\n\r\n\t\t\tbounds[ d + 3 ] = tMax;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\n// compute bounds surface area\r\nexport function computeSurfaceArea( bounds ) {\r\n\r\n\tconst d0 = bounds[ 3 ] - bounds[ 0 ];\r\n\tconst d1 = bounds[ 4 ] - bounds[ 1 ];\r\n\tconst d2 = bounds[ 5 ] - bounds[ 2 ];\r\n\r\n\treturn 2 * ( d0 * d1 + d1 * d2 + d2 * d0 );\r\n\r\n}\r\n","import { BufferAttribute } from 'three';\r\nimport { MeshBVHNode } from './MeshBVHNode.js';\r\nimport { getLongestEdgeIndex, computeSurfaceArea, copyBounds, unionBounds, expandByTriangleBounds } from '../utils/ArrayBoxUtilities.js';\r\nimport {\r\n\tCENTER, AVERAGE, SAH, TRIANGLE_INTERSECT_COST, TRAVERSAL_COST,\r\n\tBYTES_PER_NODE, FLOAT32_EPSILON, IS_LEAFNODE_FLAG,\r\n} from './Constants.js';\r\n\r\nfunction ensureIndex( geo, options ) {\r\n\r\n\tif ( ! geo.index ) {\r\n\r\n\t\tconst vertexCount = geo.attributes.position.count;\r\n\t\tconst BufferConstructor = options.useSharedArrayBuffer ? SharedArrayBuffer : ArrayBuffer;\r\n\t\tlet index;\r\n\t\tif ( vertexCount > 65535 ) {\r\n\r\n\t\t\tindex = new Uint32Array( new BufferConstructor( 4 * vertexCount ) );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tindex = new Uint16Array( new BufferConstructor( 2 * vertexCount ) );\r\n\r\n\t\t}\r\n\r\n\t\tgeo.setIndex( new BufferAttribute( index, 1 ) );\r\n\r\n\t\tfor ( let i = 0; i < vertexCount; i ++ ) {\r\n\r\n\t\t\tindex[ i ] = i;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\n// Computes the set of { offset, count } ranges which need independent BVH roots. Each\r\n// region in the geometry index that belongs to a different set of material groups requires\r\n// a separate BVH root, so that triangles indices belonging to one group never get swapped\r\n// with triangle indices belongs to another group. For example, if the groups were like this:\r\n//\r\n// [-------------------------------------------------------------]\r\n// |__________________|\r\n//   g0 = [0, 20]  |______________________||_____________________|\r\n//                      g1 = [16, 40]           g2 = [41, 60]\r\n//\r\n// we would need four BVH roots: [0, 15], [16, 20], [21, 40], [41, 60].\r\nfunction getRootIndexRanges( geo ) {\r\n\r\n\tif ( ! geo.groups || ! geo.groups.length ) {\r\n\r\n\t\treturn [ { offset: 0, count: geo.index.count / 3 } ];\r\n\r\n\t}\r\n\r\n\tconst ranges = [];\r\n\tconst rangeBoundaries = new Set();\r\n\tfor ( const group of geo.groups ) {\r\n\r\n\t\trangeBoundaries.add( group.start );\r\n\t\trangeBoundaries.add( group.start + group.count );\r\n\r\n\t}\r\n\r\n\t// note that if you don't pass in a comparator, it sorts them lexicographically as strings :-(\r\n\tconst sortedBoundaries = Array.from( rangeBoundaries.values() ).sort( ( a, b ) => a - b );\r\n\tfor ( let i = 0; i < sortedBoundaries.length - 1; i ++ ) {\r\n\r\n\t\tconst start = sortedBoundaries[ i ], end = sortedBoundaries[ i + 1 ];\r\n\t\tranges.push( { offset: ( start / 3 ), count: ( end - start ) / 3 } );\r\n\r\n\t}\r\n\r\n\treturn ranges;\r\n\r\n}\r\n\r\n// computes the union of the bounds of all of the given triangles and puts the resulting box in target. If\r\n// centroidTarget is provided then a bounding box is computed for the centroids of the triangles, as well.\r\n// These are computed together to avoid redundant accesses to bounds array.\r\nfunction getBounds( triangleBounds, offset, count, target, centroidTarget = null ) {\r\n\r\n\tlet minx = Infinity;\r\n\tlet miny = Infinity;\r\n\tlet minz = Infinity;\r\n\tlet maxx = - Infinity;\r\n\tlet maxy = - Infinity;\r\n\tlet maxz = - Infinity;\r\n\r\n\tlet cminx = Infinity;\r\n\tlet cminy = Infinity;\r\n\tlet cminz = Infinity;\r\n\tlet cmaxx = - Infinity;\r\n\tlet cmaxy = - Infinity;\r\n\tlet cmaxz = - Infinity;\r\n\r\n\tconst includeCentroid = centroidTarget !== null;\r\n\tfor ( let i = offset * 6, end = ( offset + count ) * 6; i < end; i += 6 ) {\r\n\r\n\t\tconst cx = triangleBounds[ i + 0 ];\r\n\t\tconst hx = triangleBounds[ i + 1 ];\r\n\t\tconst lx = cx - hx;\r\n\t\tconst rx = cx + hx;\r\n\t\tif ( lx < minx ) minx = lx;\r\n\t\tif ( rx > maxx ) maxx = rx;\r\n\t\tif ( includeCentroid && cx < cminx ) cminx = cx;\r\n\t\tif ( includeCentroid && cx > cmaxx ) cmaxx = cx;\r\n\r\n\t\tconst cy = triangleBounds[ i + 2 ];\r\n\t\tconst hy = triangleBounds[ i + 3 ];\r\n\t\tconst ly = cy - hy;\r\n\t\tconst ry = cy + hy;\r\n\t\tif ( ly < miny ) miny = ly;\r\n\t\tif ( ry > maxy ) maxy = ry;\r\n\t\tif ( includeCentroid && cy < cminy ) cminy = cy;\r\n\t\tif ( includeCentroid && cy > cmaxy ) cmaxy = cy;\r\n\r\n\t\tconst cz = triangleBounds[ i + 4 ];\r\n\t\tconst hz = triangleBounds[ i + 5 ];\r\n\t\tconst lz = cz - hz;\r\n\t\tconst rz = cz + hz;\r\n\t\tif ( lz < minz ) minz = lz;\r\n\t\tif ( rz > maxz ) maxz = rz;\r\n\t\tif ( includeCentroid && cz < cminz ) cminz = cz;\r\n\t\tif ( includeCentroid && cz > cmaxz ) cmaxz = cz;\r\n\r\n\t}\r\n\r\n\ttarget[ 0 ] = minx;\r\n\ttarget[ 1 ] = miny;\r\n\ttarget[ 2 ] = minz;\r\n\r\n\ttarget[ 3 ] = maxx;\r\n\ttarget[ 4 ] = maxy;\r\n\ttarget[ 5 ] = maxz;\r\n\r\n\tif ( includeCentroid ) {\r\n\r\n\t\tcentroidTarget[ 0 ] = cminx;\r\n\t\tcentroidTarget[ 1 ] = cminy;\r\n\t\tcentroidTarget[ 2 ] = cminz;\r\n\r\n\t\tcentroidTarget[ 3 ] = cmaxx;\r\n\t\tcentroidTarget[ 4 ] = cmaxy;\r\n\t\tcentroidTarget[ 5 ] = cmaxz;\r\n\r\n\t}\r\n\r\n}\r\n\r\n// A stand alone function for retrieving the centroid bounds.\r\nfunction getCentroidBounds( triangleBounds, offset, count, centroidTarget ) {\r\n\r\n\tlet cminx = Infinity;\r\n\tlet cminy = Infinity;\r\n\tlet cminz = Infinity;\r\n\tlet cmaxx = - Infinity;\r\n\tlet cmaxy = - Infinity;\r\n\tlet cmaxz = - Infinity;\r\n\r\n\tfor ( let i = offset * 6, end = ( offset + count ) * 6; i < end; i += 6 ) {\r\n\r\n\t\tconst cx = triangleBounds[ i + 0 ];\r\n\t\tif ( cx < cminx ) cminx = cx;\r\n\t\tif ( cx > cmaxx ) cmaxx = cx;\r\n\r\n\t\tconst cy = triangleBounds[ i + 2 ];\r\n\t\tif ( cy < cminy ) cminy = cy;\r\n\t\tif ( cy > cmaxy ) cmaxy = cy;\r\n\r\n\t\tconst cz = triangleBounds[ i + 4 ];\r\n\t\tif ( cz < cminz ) cminz = cz;\r\n\t\tif ( cz > cmaxz ) cmaxz = cz;\r\n\r\n\t}\r\n\r\n\tcentroidTarget[ 0 ] = cminx;\r\n\tcentroidTarget[ 1 ] = cminy;\r\n\tcentroidTarget[ 2 ] = cminz;\r\n\r\n\tcentroidTarget[ 3 ] = cmaxx;\r\n\tcentroidTarget[ 4 ] = cmaxy;\r\n\tcentroidTarget[ 5 ] = cmaxz;\r\n\r\n}\r\n\r\n\r\n// reorders `tris` such that for `count` elements after `offset`, elements on the left side of the split\r\n// will be on the left and elements on the right side of the split will be on the right. returns the index\r\n// of the first element on the right side, or offset + count if there are no elements on the right side.\r\nfunction partition( index, triangleBounds, offset, count, split ) {\r\n\r\n\tlet left = offset;\r\n\tlet right = offset + count - 1;\r\n\tconst pos = split.pos;\r\n\tconst axisOffset = split.axis * 2;\r\n\r\n\t// hoare partitioning, see e.g. https://en.wikipedia.org/wiki/Quicksort#Hoare_partition_scheme\r\n\twhile ( true ) {\r\n\r\n\t\twhile ( left <= right && triangleBounds[ left * 6 + axisOffset ] < pos ) {\r\n\r\n\t\t\tleft ++;\r\n\r\n\t\t}\r\n\r\n\r\n\t\t// if a triangle center lies on the partition plane it is considered to be on the right side\r\n\t\twhile ( left <= right && triangleBounds[ right * 6 + axisOffset ] >= pos ) {\r\n\r\n\t\t\tright --;\r\n\r\n\t\t}\r\n\r\n\t\tif ( left < right ) {\r\n\r\n\t\t\t// we need to swap all of the information associated with the triangles at index\r\n\t\t\t// left and right; that's the verts in the geometry index, the bounds,\r\n\t\t\t// and perhaps the SAH planes\r\n\r\n\t\t\tfor ( let i = 0; i < 3; i ++ ) {\r\n\r\n\t\t\t\tlet t0 = index[ left * 3 + i ];\r\n\t\t\t\tindex[ left * 3 + i ] = index[ right * 3 + i ];\r\n\t\t\t\tindex[ right * 3 + i ] = t0;\r\n\r\n\t\t\t\tlet t1 = triangleBounds[ left * 6 + i * 2 + 0 ];\r\n\t\t\t\ttriangleBounds[ left * 6 + i * 2 + 0 ] = triangleBounds[ right * 6 + i * 2 + 0 ];\r\n\t\t\t\ttriangleBounds[ right * 6 + i * 2 + 0 ] = t1;\r\n\r\n\t\t\t\tlet t2 = triangleBounds[ left * 6 + i * 2 + 1 ];\r\n\t\t\t\ttriangleBounds[ left * 6 + i * 2 + 1 ] = triangleBounds[ right * 6 + i * 2 + 1 ];\r\n\t\t\t\ttriangleBounds[ right * 6 + i * 2 + 1 ] = t2;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tleft ++;\r\n\t\t\tright --;\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn left;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nconst BIN_COUNT = 32;\r\nconst binsSort = ( a, b ) => a.candidate - b.candidate;\r\nconst sahBins = new Array( BIN_COUNT ).fill().map( () => {\r\n\r\n\treturn {\r\n\r\n\t\tcount: 0,\r\n\t\tbounds: new Float32Array( 6 ),\r\n\t\trightCacheBounds: new Float32Array( 6 ),\r\n\t\tleftCacheBounds: new Float32Array( 6 ),\r\n\t\tcandidate: 0,\r\n\r\n\t};\r\n\r\n} );\r\nconst leftBounds = new Float32Array( 6 );\r\n\r\nfunction getOptimalSplit( nodeBoundingData, centroidBoundingData, triangleBounds, offset, count, strategy ) {\r\n\r\n\tlet axis = - 1;\r\n\tlet pos = 0;\r\n\r\n\t// Center\r\n\tif ( strategy === CENTER ) {\r\n\r\n\t\taxis = getLongestEdgeIndex( centroidBoundingData );\r\n\t\tif ( axis !== - 1 ) {\r\n\r\n\t\t\tpos = ( centroidBoundingData[ axis ] + centroidBoundingData[ axis + 3 ] ) / 2;\r\n\r\n\t\t}\r\n\r\n\t} else if ( strategy === AVERAGE ) {\r\n\r\n\t\taxis = getLongestEdgeIndex( nodeBoundingData );\r\n\t\tif ( axis !== - 1 ) {\r\n\r\n\t\t\tpos = getAverage( triangleBounds, offset, count, axis );\r\n\r\n\t\t}\r\n\r\n\t} else if ( strategy === SAH ) {\r\n\r\n\t\tconst rootSurfaceArea = computeSurfaceArea( nodeBoundingData );\r\n\t\tlet bestCost = TRIANGLE_INTERSECT_COST * count;\r\n\r\n\t\t// iterate over all axes\r\n\t\tconst cStart = offset * 6;\r\n\t\tconst cEnd = ( offset + count ) * 6;\r\n\t\tfor ( let a = 0; a < 3; a ++ ) {\r\n\r\n\t\t\tconst axisLeft = centroidBoundingData[ a ];\r\n\t\t\tconst axisRight = centroidBoundingData[ a + 3 ];\r\n\t\t\tconst axisLength = axisRight - axisLeft;\r\n\t\t\tconst binWidth = axisLength / BIN_COUNT;\r\n\r\n\t\t\t// If we have fewer triangles than we're planning to split then just check all\r\n\t\t\t// the triangle positions because it will be faster.\r\n\t\t\tif ( count < BIN_COUNT / 4 ) {\r\n\r\n\t\t\t\t// initialize the bin candidates\r\n\t\t\t\tconst truncatedBins = [ ...sahBins ];\r\n\t\t\t\ttruncatedBins.length = count;\r\n\r\n\t\t\t\t// set the candidates\r\n\t\t\t\tlet b = 0;\r\n\t\t\t\tfor ( let c = cStart; c < cEnd; c += 6, b ++ ) {\r\n\r\n\t\t\t\t\tconst bin = truncatedBins[ b ];\r\n\t\t\t\t\tbin.candidate = triangleBounds[ c + 2 * a ];\r\n\t\t\t\t\tbin.count = 0;\r\n\r\n\t\t\t\t\tconst {\r\n\t\t\t\t\t\tbounds,\r\n\t\t\t\t\t\tleftCacheBounds,\r\n\t\t\t\t\t\trightCacheBounds,\r\n\t\t\t\t\t} = bin;\r\n\t\t\t\t\tfor ( let d = 0; d < 3; d ++ ) {\r\n\r\n\t\t\t\t\t\trightCacheBounds[ d ] = Infinity;\r\n\t\t\t\t\t\trightCacheBounds[ d + 3 ] = - Infinity;\r\n\r\n\t\t\t\t\t\tleftCacheBounds[ d ] = Infinity;\r\n\t\t\t\t\t\tleftCacheBounds[ d + 3 ] = - Infinity;\r\n\r\n\t\t\t\t\t\tbounds[ d ] = Infinity;\r\n\t\t\t\t\t\tbounds[ d + 3 ] = - Infinity;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\texpandByTriangleBounds( c, triangleBounds, bounds );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttruncatedBins.sort( binsSort );\r\n\r\n\t\t\t\t// remove redundant splits\r\n\t\t\t\tlet splitCount = count;\r\n\t\t\t\tfor ( let bi = 0; bi < splitCount; bi ++ ) {\r\n\r\n\t\t\t\t\tconst bin = truncatedBins[ bi ];\r\n\t\t\t\t\twhile ( bi + 1 < splitCount && truncatedBins[ bi + 1 ].candidate === bin.candidate ) {\r\n\r\n\t\t\t\t\t\ttruncatedBins.splice( bi + 1, 1 );\r\n\t\t\t\t\t\tsplitCount --;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// find the appropriate bin for each triangle and expand the bounds.\r\n\t\t\t\tfor ( let c = cStart; c < cEnd; c += 6 ) {\r\n\r\n\t\t\t\t\tconst center = triangleBounds[ c + 2 * a ];\r\n\t\t\t\t\tfor ( let bi = 0; bi < splitCount; bi ++ ) {\r\n\r\n\t\t\t\t\t\tconst bin = truncatedBins[ bi ];\r\n\t\t\t\t\t\tif ( center >= bin.candidate ) {\r\n\r\n\t\t\t\t\t\t\texpandByTriangleBounds( c, triangleBounds, bin.rightCacheBounds );\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\texpandByTriangleBounds( c, triangleBounds, bin.leftCacheBounds );\r\n\t\t\t\t\t\t\tbin.count ++;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// expand all the bounds\r\n\t\t\t\tfor ( let bi = 0; bi < splitCount; bi ++ ) {\r\n\r\n\t\t\t\t\tconst bin = truncatedBins[ bi ];\r\n\t\t\t\t\tconst leftCount = bin.count;\r\n\t\t\t\t\tconst rightCount = count - bin.count;\r\n\r\n\t\t\t\t\t// check the cost of this split\r\n\t\t\t\t\tconst leftBounds = bin.leftCacheBounds;\r\n\t\t\t\t\tconst rightBounds = bin.rightCacheBounds;\r\n\r\n\t\t\t\t\tlet leftProb = 0;\r\n\t\t\t\t\tif ( leftCount !== 0 ) {\r\n\r\n\t\t\t\t\t\tleftProb = computeSurfaceArea( leftBounds ) / rootSurfaceArea;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tlet rightProb = 0;\r\n\t\t\t\t\tif ( rightCount !== 0 ) {\r\n\r\n\t\t\t\t\t\trightProb = computeSurfaceArea( rightBounds ) / rootSurfaceArea;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst cost = TRAVERSAL_COST + TRIANGLE_INTERSECT_COST * (\r\n\t\t\t\t\t\tleftProb * leftCount + rightProb * rightCount\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\tif ( cost < bestCost ) {\r\n\r\n\t\t\t\t\t\taxis = a;\r\n\t\t\t\t\t\tbestCost = cost;\r\n\t\t\t\t\t\tpos = bin.candidate;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// reset the bins\r\n\t\t\t\tfor ( let i = 0; i < BIN_COUNT; i ++ ) {\r\n\r\n\t\t\t\t\tconst bin = sahBins[ i ];\r\n\t\t\t\t\tbin.count = 0;\r\n\t\t\t\t\tbin.candidate = axisLeft + binWidth + i * binWidth;\r\n\r\n\t\t\t\t\tconst bounds = bin.bounds;\r\n\t\t\t\t\tfor ( let d = 0; d < 3; d ++ ) {\r\n\r\n\t\t\t\t\t\tbounds[ d ] = Infinity;\r\n\t\t\t\t\t\tbounds[ d + 3 ] = - Infinity;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// iterate over all center positions\r\n\t\t\t\tfor ( let c = cStart; c < cEnd; c += 6 ) {\r\n\r\n\t\t\t\t\tconst triCenter = triangleBounds[ c + 2 * a ];\r\n\t\t\t\t\tconst relativeCenter = triCenter - axisLeft;\r\n\r\n\t\t\t\t\t// in the partition function if the centroid lies on the split plane then it is\r\n\t\t\t\t\t// considered to be on the right side of the split\r\n\t\t\t\t\tlet binIndex = ~ ~ ( relativeCenter / binWidth );\r\n\t\t\t\t\tif ( binIndex >= BIN_COUNT ) binIndex = BIN_COUNT - 1;\r\n\r\n\t\t\t\t\tconst bin = sahBins[ binIndex ];\r\n\t\t\t\t\tbin.count ++;\r\n\r\n\t\t\t\t\texpandByTriangleBounds( c, triangleBounds, bin.bounds );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// cache the unioned bounds from right to left so we don't have to regenerate them each time\r\n\t\t\t\tconst lastBin = sahBins[ BIN_COUNT - 1 ];\r\n\t\t\t\tcopyBounds( lastBin.bounds, lastBin.rightCacheBounds );\r\n\t\t\t\tfor ( let i = BIN_COUNT - 2; i >= 0; i -- ) {\r\n\r\n\t\t\t\t\tconst bin = sahBins[ i ];\r\n\t\t\t\t\tconst nextBin = sahBins[ i + 1 ];\r\n\t\t\t\t\tunionBounds( bin.bounds, nextBin.rightCacheBounds, bin.rightCacheBounds );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet leftCount = 0;\r\n\t\t\t\tfor ( let i = 0; i < BIN_COUNT - 1; i ++ ) {\r\n\r\n\t\t\t\t\tconst bin = sahBins[ i ];\r\n\t\t\t\t\tconst binCount = bin.count;\r\n\t\t\t\t\tconst bounds = bin.bounds;\r\n\r\n\t\t\t\t\tconst nextBin = sahBins[ i + 1 ];\r\n\t\t\t\t\tconst rightBounds = nextBin.rightCacheBounds;\r\n\r\n\t\t\t\t\t// dont do anything with the bounds if the new bounds have no triangles\r\n\t\t\t\t\tif ( binCount !== 0 ) {\r\n\r\n\t\t\t\t\t\tif ( leftCount === 0 ) {\r\n\r\n\t\t\t\t\t\t\tcopyBounds( bounds, leftBounds );\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tunionBounds( bounds, leftBounds, leftBounds );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tleftCount += binCount;\r\n\r\n\t\t\t\t\t// check the cost of this split\r\n\t\t\t\t\tlet leftProb = 0;\r\n\t\t\t\t\tlet rightProb = 0;\r\n\r\n\t\t\t\t\tif ( leftCount !== 0 ) {\r\n\r\n\t\t\t\t\t\tleftProb = computeSurfaceArea( leftBounds ) / rootSurfaceArea;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst rightCount = count - leftCount;\r\n\t\t\t\t\tif ( rightCount !== 0 ) {\r\n\r\n\t\t\t\t\t\trightProb = computeSurfaceArea( rightBounds ) / rootSurfaceArea;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst cost = TRAVERSAL_COST + TRIANGLE_INTERSECT_COST * (\r\n\t\t\t\t\t\tleftProb * leftCount + rightProb * rightCount\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\tif ( cost < bestCost ) {\r\n\r\n\t\t\t\t\t\taxis = a;\r\n\t\t\t\t\t\tbestCost = cost;\r\n\t\t\t\t\t\tpos = bin.candidate;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( `MeshBVH: Invalid build strategy value ${ strategy } used.` );\r\n\r\n\t}\r\n\r\n\treturn { axis, pos };\r\n\r\n}\r\n\r\n// returns the average coordinate on the specified axis of the all the provided triangles\r\nfunction getAverage( triangleBounds, offset, count, axis ) {\r\n\r\n\tlet avg = 0;\r\n\tfor ( let i = offset, end = offset + count; i < end; i ++ ) {\r\n\r\n\t\tavg += triangleBounds[ i * 6 + axis * 2 ];\r\n\r\n\t}\r\n\r\n\treturn avg / count;\r\n\r\n}\r\n\r\n// precomputes the bounding box for each triangle; required for quickly calculating tree splits.\r\n// result is an array of size tris.length * 6 where triangle i maps to a\r\n// [x_center, x_delta, y_center, y_delta, z_center, z_delta] tuple starting at index i * 6,\r\n// representing the center and half-extent in each dimension of triangle i\r\nfunction computeTriangleBounds( geo, fullBounds ) {\r\n\r\n\tconst posAttr = geo.attributes.position;\r\n\tconst posArr = posAttr.array;\r\n\tconst index = geo.index.array;\r\n\tconst triCount = index.length / 3;\r\n\tconst triangleBounds = new Float32Array( triCount * 6 );\r\n\r\n\t// support for an interleaved position buffer\r\n\tconst bufferOffset = posAttr.offset || 0;\r\n\tlet stride = 3;\r\n\tif ( posAttr.isInterleavedBufferAttribute ) {\r\n\r\n\t\tstride = posAttr.data.stride;\r\n\r\n\t}\r\n\r\n\tfor ( let tri = 0; tri < triCount; tri ++ ) {\r\n\r\n\t\tconst tri3 = tri * 3;\r\n\t\tconst tri6 = tri * 6;\r\n\t\tconst ai = index[ tri3 + 0 ] * stride + bufferOffset;\r\n\t\tconst bi = index[ tri3 + 1 ] * stride + bufferOffset;\r\n\t\tconst ci = index[ tri3 + 2 ] * stride + bufferOffset;\r\n\r\n\t\tfor ( let el = 0; el < 3; el ++ ) {\r\n\r\n\t\t\tconst a = posArr[ ai + el ];\r\n\t\t\tconst b = posArr[ bi + el ];\r\n\t\t\tconst c = posArr[ ci + el ];\r\n\r\n\t\t\tlet min = a;\r\n\t\t\tif ( b < min ) min = b;\r\n\t\t\tif ( c < min ) min = c;\r\n\r\n\t\t\tlet max = a;\r\n\t\t\tif ( b > max ) max = b;\r\n\t\t\tif ( c > max ) max = c;\r\n\r\n\t\t\t// Increase the bounds size by float32 epsilon to avoid precision errors when\r\n\t\t\t// converting to 32 bit float. Scale the epsilon by the size of the numbers being\r\n\t\t\t// worked with.\r\n\t\t\tconst halfExtents = ( max - min ) / 2;\r\n\t\t\tconst el2 = el * 2;\r\n\t\t\ttriangleBounds[ tri6 + el2 + 0 ] = min + halfExtents;\r\n\t\t\ttriangleBounds[ tri6 + el2 + 1 ] = halfExtents + ( Math.abs( min ) + halfExtents ) * FLOAT32_EPSILON;\r\n\r\n\t\t\tif ( min < fullBounds[ el ] ) fullBounds[ el ] = min;\r\n\t\t\tif ( max > fullBounds[ el + 3 ] ) fullBounds[ el + 3 ] = max;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn triangleBounds;\r\n\r\n}\r\n\r\nexport function buildTree( geo, options ) {\r\n\r\n\tfunction triggerProgress( trianglesProcessed ) {\r\n\r\n\t\tif ( onProgress ) {\r\n\r\n\t\t\tonProgress( trianglesProcessed / totalTriangles );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// either recursively splits the given node, creating left and right subtrees for it, or makes it a leaf node,\r\n\t// recording the offset and count of its triangles and writing them into the reordered geometry index.\r\n\tfunction splitNode( node, offset, count, centroidBoundingData = null, depth = 0 ) {\r\n\r\n\t\tif ( ! reachedMaxDepth && depth >= maxDepth ) {\r\n\r\n\t\t\treachedMaxDepth = true;\r\n\t\t\tif ( verbose ) {\r\n\r\n\t\t\t\tconsole.warn( `MeshBVH: Max depth of ${ maxDepth } reached when generating BVH. Consider increasing maxDepth.` );\r\n\t\t\t\tconsole.warn( geo );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// early out if we've met our capacity\r\n\t\tif ( count <= maxLeafTris || depth >= maxDepth ) {\r\n\r\n\t\t\ttriggerProgress( offset + count );\r\n\t\t\tnode.offset = offset;\r\n\t\t\tnode.count = count;\r\n\t\t\treturn node;\r\n\r\n\t\t}\r\n\r\n\t\t// Find where to split the volume\r\n\t\tconst split = getOptimalSplit( node.boundingData, centroidBoundingData, triangleBounds, offset, count, strategy );\r\n\t\tif ( split.axis === - 1 ) {\r\n\r\n\t\t\ttriggerProgress( offset + count );\r\n\t\t\tnode.offset = offset;\r\n\t\t\tnode.count = count;\r\n\t\t\treturn node;\r\n\r\n\t\t}\r\n\r\n\t\tconst splitOffset = partition( indexArray, triangleBounds, offset, count, split );\r\n\r\n\t\t// create the two new child nodes\r\n\t\tif ( splitOffset === offset || splitOffset === offset + count ) {\r\n\r\n\t\t\ttriggerProgress( offset + count );\r\n\t\t\tnode.offset = offset;\r\n\t\t\tnode.count = count;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tnode.splitAxis = split.axis;\r\n\r\n\t\t\t// create the left child and compute its bounding box\r\n\t\t\tconst left = new MeshBVHNode();\r\n\t\t\tconst lstart = offset;\r\n\t\t\tconst lcount = splitOffset - offset;\r\n\t\t\tnode.left = left;\r\n\t\t\tleft.boundingData = new Float32Array( 6 );\r\n\r\n\t\t\tgetBounds( triangleBounds, lstart, lcount, left.boundingData, cacheCentroidBoundingData );\r\n\t\t\tsplitNode( left, lstart, lcount, cacheCentroidBoundingData, depth + 1 );\r\n\r\n\t\t\t// repeat for right\r\n\t\t\tconst right = new MeshBVHNode();\r\n\t\t\tconst rstart = splitOffset;\r\n\t\t\tconst rcount = count - lcount;\r\n\t\t\tnode.right = right;\r\n\t\t\tright.boundingData = new Float32Array( 6 );\r\n\r\n\t\t\tgetBounds( triangleBounds, rstart, rcount, right.boundingData, cacheCentroidBoundingData );\r\n\t\t\tsplitNode( right, rstart, rcount, cacheCentroidBoundingData, depth + 1 );\r\n\r\n\t\t}\r\n\r\n\t\treturn node;\r\n\r\n\t}\r\n\r\n\tensureIndex( geo, options );\r\n\r\n\t// Compute the full bounds of the geometry at the same time as triangle bounds because\r\n\t// we'll need it for the root bounds in the case with no groups and it should be fast here.\r\n\t// We can't use the geometrying bounding box if it's available because it may be out of date.\r\n\tconst fullBounds = new Float32Array( 6 );\r\n\tconst cacheCentroidBoundingData = new Float32Array( 6 );\r\n\tconst triangleBounds = computeTriangleBounds( geo, fullBounds );\r\n\tconst indexArray = geo.index.array;\r\n\tconst maxDepth = options.maxDepth;\r\n\tconst verbose = options.verbose;\r\n\tconst maxLeafTris = options.maxLeafTris;\r\n\tconst strategy = options.strategy;\r\n\tconst onProgress = options.onProgress;\r\n\tconst totalTriangles = geo.index.count / 3;\r\n\tlet reachedMaxDepth = false;\r\n\r\n\tconst roots = [];\r\n\tconst ranges = getRootIndexRanges( geo );\r\n\r\n\tif ( ranges.length === 1 ) {\r\n\r\n\t\tconst range = ranges[ 0 ];\r\n\t\tconst root = new MeshBVHNode();\r\n\t\troot.boundingData = fullBounds;\r\n\t\tgetCentroidBounds( triangleBounds, range.offset, range.count, cacheCentroidBoundingData );\r\n\r\n\t\tsplitNode( root, range.offset, range.count, cacheCentroidBoundingData );\r\n\t\troots.push( root );\r\n\r\n\t} else {\r\n\r\n\t\tfor ( let range of ranges ) {\r\n\r\n\t\t\tconst root = new MeshBVHNode();\r\n\t\t\troot.boundingData = new Float32Array( 6 );\r\n\t\t\tgetBounds( triangleBounds, range.offset, range.count, root.boundingData, cacheCentroidBoundingData );\r\n\r\n\t\t\tsplitNode( root, range.offset, range.count, cacheCentroidBoundingData );\r\n\t\t\troots.push( root );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn roots;\r\n\r\n}\r\n\r\nexport function buildPackedTree( geo, options ) {\r\n\r\n\t// boundingData  \t\t\t\t: 6 float32\r\n\t// right / offset \t\t\t\t: 1 uint32\r\n\t// splitAxis / isLeaf + count \t: 1 uint32 / 2 uint16\r\n\tconst roots = buildTree( geo, options );\r\n\r\n\tlet float32Array;\r\n\tlet uint32Array;\r\n\tlet uint16Array;\r\n\tconst packedRoots = [];\r\n\tconst BufferConstructor = options.useSharedArrayBuffer ? SharedArrayBuffer : ArrayBuffer;\r\n\tfor ( let i = 0; i < roots.length; i ++ ) {\r\n\r\n\t\tconst root = roots[ i ];\r\n\t\tlet nodeCount = countNodes( root );\r\n\r\n\t\tconst buffer = new BufferConstructor( BYTES_PER_NODE * nodeCount );\r\n\t\tfloat32Array = new Float32Array( buffer );\r\n\t\tuint32Array = new Uint32Array( buffer );\r\n\t\tuint16Array = new Uint16Array( buffer );\r\n\t\tpopulateBuffer( 0, root );\r\n\t\tpackedRoots.push( buffer );\r\n\r\n\t}\r\n\r\n\treturn packedRoots;\r\n\r\n\tfunction countNodes( node ) {\r\n\r\n\t\tif ( node.count ) {\r\n\r\n\t\t\treturn 1;\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn 1 + countNodes( node.left ) + countNodes( node.right );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction populateBuffer( byteOffset, node ) {\r\n\r\n\t\tconst stride4Offset = byteOffset / 4;\r\n\t\tconst stride2Offset = byteOffset / 2;\r\n\t\tconst isLeaf = ! ! node.count;\r\n\t\tconst boundingData = node.boundingData;\r\n\t\tfor ( let i = 0; i < 6; i ++ ) {\r\n\r\n\t\t\tfloat32Array[ stride4Offset + i ] = boundingData[ i ];\r\n\r\n\t\t}\r\n\r\n\t\tif ( isLeaf ) {\r\n\r\n\t\t\tconst offset = node.offset;\r\n\t\t\tconst count = node.count;\r\n\t\t\tuint32Array[ stride4Offset + 6 ] = offset;\r\n\t\t\tuint16Array[ stride2Offset + 14 ] = count;\r\n\t\t\tuint16Array[ stride2Offset + 15 ] = IS_LEAFNODE_FLAG;\r\n\t\t\treturn byteOffset + BYTES_PER_NODE;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconst left = node.left;\r\n\t\t\tconst right = node.right;\r\n\t\t\tconst splitAxis = node.splitAxis;\r\n\r\n\t\t\tlet nextUnusedPointer;\r\n\t\t\tnextUnusedPointer = populateBuffer( byteOffset + BYTES_PER_NODE, left );\r\n\r\n\t\t\tif ( ( nextUnusedPointer / 4 ) > Math.pow( 2, 32 ) ) {\r\n\r\n\t\t\t\tthrow new Error( 'MeshBVH: Cannot store child pointer greater than 32 bits.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tuint32Array[ stride4Offset + 6 ] = nextUnusedPointer / 4;\r\n\t\t\tnextUnusedPointer = populateBuffer( nextUnusedPointer, right );\r\n\r\n\t\t\tuint32Array[ stride4Offset + 7 ] = splitAxis;\r\n\t\t\treturn nextUnusedPointer;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n","import { Vector3 } from 'three';\r\n\r\nexport class SeparatingAxisBounds {\r\n\r\n\tconstructor() {\r\n\r\n\t\tthis.min = Infinity;\r\n\t\tthis.max = - Infinity;\r\n\r\n\t}\r\n\r\n\tsetFromPointsField( points, field ) {\r\n\r\n\t\tlet min = Infinity;\r\n\t\tlet max = - Infinity;\r\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\r\n\r\n\t\t\tconst p = points[ i ];\r\n\t\t\tconst val = p[ field ];\r\n\t\t\tmin = val < min ? val : min;\r\n\t\t\tmax = val > max ? val : max;\r\n\r\n\t\t}\r\n\r\n\t\tthis.min = min;\r\n\t\tthis.max = max;\r\n\r\n\t}\r\n\r\n\tsetFromPoints( axis, points ) {\r\n\r\n\t\tlet min = Infinity;\r\n\t\tlet max = - Infinity;\r\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\r\n\r\n\t\t\tconst p = points[ i ];\r\n\t\t\tconst val = axis.dot( p );\r\n\t\t\tmin = val < min ? val : min;\r\n\t\t\tmax = val > max ? val : max;\r\n\r\n\t\t}\r\n\r\n\t\tthis.min = min;\r\n\t\tthis.max = max;\r\n\r\n\t}\r\n\r\n\tisSeparated( other ) {\r\n\r\n\t\treturn this.min > other.max || other.min > this.max;\r\n\r\n\t}\r\n\r\n}\r\n\r\nSeparatingAxisBounds.prototype.setFromBox = ( function () {\r\n\r\n\tconst p = new Vector3();\r\n\treturn function setFromBox( axis, box ) {\r\n\r\n\t\tconst boxMin = box.min;\r\n\t\tconst boxMax = box.max;\r\n\t\tlet min = Infinity;\r\n\t\tlet max = - Infinity;\r\n\t\tfor ( let x = 0; x <= 1; x ++ ) {\r\n\r\n\t\t\tfor ( let y = 0; y <= 1; y ++ ) {\r\n\r\n\t\t\t\tfor ( let z = 0; z <= 1; z ++ ) {\r\n\r\n\t\t\t\t\tp.x = boxMin.x * x + boxMax.x * ( 1 - x );\r\n\t\t\t\t\tp.y = boxMin.y * y + boxMax.y * ( 1 - y );\r\n\t\t\t\t\tp.z = boxMin.z * z + boxMax.z * ( 1 - z );\r\n\r\n\t\t\t\t\tconst val = axis.dot( p );\r\n\t\t\t\t\tmin = Math.min( val, min );\r\n\t\t\t\t\tmax = Math.max( val, max );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis.min = min;\r\n\t\tthis.max = max;\r\n\r\n\t};\r\n\r\n} )();\r\n\r\nexport const areIntersecting = ( function () {\r\n\r\n\tconst cacheSatBounds = new SeparatingAxisBounds();\r\n\treturn function areIntersecting( shape1, shape2 ) {\r\n\r\n\t\tconst points1 = shape1.points;\r\n\t\tconst satAxes1 = shape1.satAxes;\r\n\t\tconst satBounds1 = shape1.satBounds;\r\n\r\n\t\tconst points2 = shape2.points;\r\n\t\tconst satAxes2 = shape2.satAxes;\r\n\t\tconst satBounds2 = shape2.satBounds;\r\n\r\n\t\t// check axes of the first shape\r\n\t\tfor ( let i = 0; i < 3; i ++ ) {\r\n\r\n\t\t\tconst sb = satBounds1[ i ];\r\n\t\t\tconst sa = satAxes1[ i ];\r\n\t\t\tcacheSatBounds.setFromPoints( sa, points2 );\r\n\t\t\tif ( sb.isSeparated( cacheSatBounds ) ) return false;\r\n\r\n\t\t}\r\n\r\n\t\t// check axes of the second shape\r\n\t\tfor ( let i = 0; i < 3; i ++ ) {\r\n\r\n\t\t\tconst sb = satBounds2[ i ];\r\n\t\t\tconst sa = satAxes2[ i ];\r\n\t\t\tcacheSatBounds.setFromPoints( sa, points1 );\r\n\t\t\tif ( sb.isSeparated( cacheSatBounds ) ) return false;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n} )();\r\n","import { Vector3, Vector2, Plane, Line3 } from 'three';\r\n\r\nexport const closestPointLineToLine = ( function () {\r\n\r\n\t// https://github.com/juj/MathGeoLib/blob/master/src/Geometry/Line.cpp#L56\r\n\tconst dir1 = new Vector3();\r\n\tconst dir2 = new Vector3();\r\n\tconst v02 = new Vector3();\r\n\treturn function closestPointLineToLine( l1, l2, result ) {\r\n\r\n\t\tconst v0 = l1.start;\r\n\t\tconst v10 = dir1;\r\n\t\tconst v2 = l2.start;\r\n\t\tconst v32 = dir2;\r\n\r\n\t\tv02.subVectors( v0, v2 );\r\n\t\tdir1.subVectors( l1.end, l2.start );\r\n\t\tdir2.subVectors( l2.end, l2.start );\r\n\r\n\t\t// float d0232 = v02.Dot(v32);\r\n\t\tconst d0232 = v02.dot( v32 );\r\n\r\n\t\t// float d3210 = v32.Dot(v10);\r\n\t\tconst d3210 = v32.dot( v10 );\r\n\r\n\t\t// float d3232 = v32.Dot(v32);\r\n\t\tconst d3232 = v32.dot( v32 );\r\n\r\n\t\t// float d0210 = v02.Dot(v10);\r\n\t\tconst d0210 = v02.dot( v10 );\r\n\r\n\t\t// float d1010 = v10.Dot(v10);\r\n\t\tconst d1010 = v10.dot( v10 );\r\n\r\n\t\t// float denom = d1010*d3232 - d3210*d3210;\r\n\t\tconst denom = d1010 * d3232 - d3210 * d3210;\r\n\r\n\t\tlet d, d2;\r\n\t\tif ( denom !== 0 ) {\r\n\r\n\t\t\td = ( d0232 * d3210 - d0210 * d3232 ) / denom;\r\n\r\n\t\t} else {\r\n\r\n\t\t\td = 0;\r\n\r\n\t\t}\r\n\r\n\t\td2 = ( d0232 + d * d3210 ) / d3232;\r\n\r\n\t\tresult.x = d;\r\n\t\tresult.y = d2;\r\n\r\n\t};\r\n\r\n} )();\r\n\r\nexport const closestPointsSegmentToSegment = ( function () {\r\n\r\n\t// https://github.com/juj/MathGeoLib/blob/master/src/Geometry/LineSegment.cpp#L187\r\n\tconst paramResult = new Vector2();\r\n\tconst temp1 = new Vector3();\r\n\tconst temp2 = new Vector3();\r\n\treturn function closestPointsSegmentToSegment( l1, l2, target1, target2 ) {\r\n\r\n\t\tclosestPointLineToLine( l1, l2, paramResult );\r\n\r\n\t\tlet d = paramResult.x;\r\n\t\tlet d2 = paramResult.y;\r\n\t\tif ( d >= 0 && d <= 1 && d2 >= 0 && d2 <= 1 ) {\r\n\r\n\t\t\tl1.at( d, target1 );\r\n\t\t\tl2.at( d2, target2 );\r\n\r\n\t\t\treturn;\r\n\r\n\t\t} else if ( d >= 0 && d <= 1 ) {\r\n\r\n\t\t\t// Only d2 is out of bounds.\r\n\t\t\tif ( d2 < 0 ) {\r\n\r\n\t\t\t\tl2.at( 0, target2 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tl2.at( 1, target2 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tl1.closestPointToPoint( target2, true, target1 );\r\n\t\t\treturn;\r\n\r\n\t\t} else if ( d2 >= 0 && d2 <= 1 ) {\r\n\r\n\t\t\t// Only d is out of bounds.\r\n\t\t\tif ( d < 0 ) {\r\n\r\n\t\t\t\tl1.at( 0, target1 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tl1.at( 1, target1 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tl2.closestPointToPoint( target1, true, target2 );\r\n\t\t\treturn;\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// Both u and u2 are out of bounds.\r\n\t\t\tlet p;\r\n\t\t\tif ( d < 0 ) {\r\n\r\n\t\t\t\tp = l1.start;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tp = l1.end;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tlet p2;\r\n\t\t\tif ( d2 < 0 ) {\r\n\r\n\t\t\t\tp2 = l2.start;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tp2 = l2.end;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst closestPoint = temp1;\r\n\t\t\tconst closestPoint2 = temp2;\r\n\t\t\tl1.closestPointToPoint( p2, true, temp1 );\r\n\t\t\tl2.closestPointToPoint( p, true, temp2 );\r\n\r\n\t\t\tif ( closestPoint.distanceToSquared( p2 ) <= closestPoint2.distanceToSquared( p ) ) {\r\n\r\n\t\t\t\ttarget1.copy( closestPoint );\r\n\t\t\t\ttarget2.copy( p2 );\r\n\t\t\t\treturn;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\ttarget1.copy( p );\r\n\t\t\t\ttarget2.copy( closestPoint2 );\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n} )();\r\n\r\n\r\nexport const sphereIntersectTriangle = ( function () {\r\n\r\n\t// https://stackoverflow.com/questions/34043955/detect-collision-between-sphere-and-triangle-in-three-js\r\n\tconst closestPointTemp = new Vector3();\r\n\tconst projectedPointTemp = new Vector3();\r\n\tconst planeTemp = new Plane();\r\n\tconst lineTemp = new Line3();\r\n\treturn function sphereIntersectTriangle( sphere, triangle ) {\r\n\r\n\t\tconst { radius, center } = sphere;\r\n\t\tconst { a, b, c } = triangle;\r\n\r\n\t\t// phase 1\r\n\t\tlineTemp.start = a;\r\n\t\tlineTemp.end = b;\r\n\t\tconst closestPoint1 = lineTemp.closestPointToPoint( center, true, closestPointTemp );\r\n\t\tif ( closestPoint1.distanceTo( center ) <= radius ) return true;\r\n\r\n\t\tlineTemp.start = a;\r\n\t\tlineTemp.end = c;\r\n\t\tconst closestPoint2 = lineTemp.closestPointToPoint( center, true, closestPointTemp );\r\n\t\tif ( closestPoint2.distanceTo( center ) <= radius ) return true;\r\n\r\n\t\tlineTemp.start = b;\r\n\t\tlineTemp.end = c;\r\n\t\tconst closestPoint3 = lineTemp.closestPointToPoint( center, true, closestPointTemp );\r\n\t\tif ( closestPoint3.distanceTo( center ) <= radius ) return true;\r\n\r\n\t\t// phase 2\r\n\t\tconst plane = triangle.getPlane( planeTemp );\r\n\t\tconst dp = Math.abs( plane.distanceToPoint( center ) );\r\n\t\tif ( dp <= radius ) {\r\n\r\n\t\t\tconst pp = plane.projectPoint( center, projectedPointTemp );\r\n\t\t\tconst cp = triangle.containsPoint( pp );\r\n\t\t\tif ( cp ) return true;\r\n\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\r\n\t};\r\n\r\n} )();\r\n","import { Triangle, Vector3, Line3, Sphere, Plane } from 'three';\r\nimport { SeparatingAxisBounds } from './SeparatingAxisBounds.js';\r\nimport { closestPointsSegmentToSegment, sphereIntersectTriangle } from './MathUtilities.js';\r\n\r\nconst DIST_EPSILON = 1e-15;\r\nfunction isNearZero( value ) {\r\n\r\n\treturn Math.abs( value ) < DIST_EPSILON;\r\n\r\n}\r\n\r\nexport class ExtendedTriangle extends Triangle {\r\n\r\n\tconstructor( ...args ) {\r\n\r\n\t\tsuper( ...args );\r\n\r\n\t\tthis.isExtendedTriangle = true;\r\n\t\tthis.satAxes = new Array( 4 ).fill().map( () => new Vector3() );\r\n\t\tthis.satBounds = new Array( 4 ).fill().map( () => new SeparatingAxisBounds() );\r\n\t\tthis.points = [ this.a, this.b, this.c ];\r\n\t\tthis.sphere = new Sphere();\r\n\t\tthis.plane = new Plane();\r\n\t\tthis.needsUpdate = true;\r\n\r\n\t}\r\n\r\n\tintersectsSphere( sphere ) {\r\n\r\n\t\treturn sphereIntersectTriangle( sphere, this );\r\n\r\n\t}\r\n\r\n\tupdate() {\r\n\r\n\t\tconst a = this.a;\r\n\t\tconst b = this.b;\r\n\t\tconst c = this.c;\r\n\t\tconst points = this.points;\r\n\r\n\t\tconst satAxes = this.satAxes;\r\n\t\tconst satBounds = this.satBounds;\r\n\r\n\t\tconst axis0 = satAxes[ 0 ];\r\n\t\tconst sab0 = satBounds[ 0 ];\r\n\t\tthis.getNormal( axis0 );\r\n\t\tsab0.setFromPoints( axis0, points );\r\n\r\n\t\tconst axis1 = satAxes[ 1 ];\r\n\t\tconst sab1 = satBounds[ 1 ];\r\n\t\taxis1.subVectors( a, b );\r\n\t\tsab1.setFromPoints( axis1, points );\r\n\r\n\t\tconst axis2 = satAxes[ 2 ];\r\n\t\tconst sab2 = satBounds[ 2 ];\r\n\t\taxis2.subVectors( b, c );\r\n\t\tsab2.setFromPoints( axis2, points );\r\n\r\n\t\tconst axis3 = satAxes[ 3 ];\r\n\t\tconst sab3 = satBounds[ 3 ];\r\n\t\taxis3.subVectors( c, a );\r\n\t\tsab3.setFromPoints( axis3, points );\r\n\r\n\t\tthis.sphere.setFromPoints( this.points );\r\n\t\tthis.plane.setFromNormalAndCoplanarPoint( axis0, a );\r\n\t\tthis.needsUpdate = false;\r\n\r\n\t}\r\n\r\n}\r\n\r\nExtendedTriangle.prototype.closestPointToSegment = ( function () {\r\n\r\n\tconst point1 = new Vector3();\r\n\tconst point2 = new Vector3();\r\n\tconst edge = new Line3();\r\n\r\n\treturn function distanceToSegment( segment, target1 = null, target2 = null ) {\r\n\r\n\t\tconst { start, end } = segment;\r\n\t\tconst points = this.points;\r\n\t\tlet distSq;\r\n\t\tlet closestDistanceSq = Infinity;\r\n\r\n\t\t// check the triangle edges\r\n\t\tfor ( let i = 0; i < 3; i ++ ) {\r\n\r\n\t\t\tconst nexti = ( i + 1 ) % 3;\r\n\t\t\tedge.start.copy( points[ i ] );\r\n\t\t\tedge.end.copy( points[ nexti ] );\r\n\r\n\t\t\tclosestPointsSegmentToSegment( edge, segment, point1, point2 );\r\n\r\n\t\t\tdistSq = point1.distanceToSquared( point2 );\r\n\t\t\tif ( distSq < closestDistanceSq ) {\r\n\r\n\t\t\t\tclosestDistanceSq = distSq;\r\n\t\t\t\tif ( target1 ) target1.copy( point1 );\r\n\t\t\t\tif ( target2 ) target2.copy( point2 );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// check end points\r\n\t\tthis.closestPointToPoint( start, point1 );\r\n\t\tdistSq = start.distanceToSquared( point1 );\r\n\t\tif ( distSq < closestDistanceSq ) {\r\n\r\n\t\t\tclosestDistanceSq = distSq;\r\n\t\t\tif ( target1 ) target1.copy( point1 );\r\n\t\t\tif ( target2 ) target2.copy( start );\r\n\r\n\t\t}\r\n\r\n\t\tthis.closestPointToPoint( end, point1 );\r\n\t\tdistSq = end.distanceToSquared( point1 );\r\n\t\tif ( distSq < closestDistanceSq ) {\r\n\r\n\t\t\tclosestDistanceSq = distSq;\r\n\t\t\tif ( target1 ) target1.copy( point1 );\r\n\t\t\tif ( target2 ) target2.copy( end );\r\n\r\n\t\t}\r\n\r\n\t\treturn Math.sqrt( closestDistanceSq );\r\n\r\n\t};\r\n\r\n} )();\r\n\r\nExtendedTriangle.prototype.intersectsTriangle = ( function () {\r\n\r\n\tconst saTri2 = new ExtendedTriangle();\r\n\tconst arr1 = new Array( 3 );\r\n\tconst arr2 = new Array( 3 );\r\n\tconst cachedSatBounds = new SeparatingAxisBounds();\r\n\tconst cachedSatBounds2 = new SeparatingAxisBounds();\r\n\tconst cachedAxis = new Vector3();\r\n\tconst dir1 = new Vector3();\r\n\tconst dir2 = new Vector3();\r\n\tconst tempDir = new Vector3();\r\n\tconst edge = new Line3();\r\n\tconst edge1 = new Line3();\r\n\tconst edge2 = new Line3();\r\n\r\n\t// TODO: If the triangles are coplanar and intersecting the target is nonsensical. It should at least\r\n\t// be a line contained by both triangles if not a different special case somehow represented in the return result.\r\n\treturn function intersectsTriangle( other, target = null ) {\r\n\r\n\t\tif ( this.needsUpdate ) {\r\n\r\n\t\t\tthis.update();\r\n\r\n\t\t}\r\n\r\n\t\tif ( ! other.isExtendedTriangle ) {\r\n\r\n\t\t\tsaTri2.copy( other );\r\n\t\t\tsaTri2.update();\r\n\t\t\tother = saTri2;\r\n\r\n\t\t} else if ( other.needsUpdate ) {\r\n\r\n\t\t\tother.update();\r\n\r\n\t\t}\r\n\r\n\t\tconst plane1 = this.plane;\r\n\t\tconst plane2 = other.plane;\r\n\r\n\t\tif ( Math.abs( plane1.normal.dot( plane2.normal ) ) > 1.0 - 1e-10 ) {\r\n\r\n\t\t\t// perform separating axis intersection test only for coplanar triangles\r\n\t\t\tconst satBounds1 = this.satBounds;\r\n\t\t\tconst satAxes1 = this.satAxes;\r\n\t\t\tarr2[ 0 ] = other.a;\r\n\t\t\tarr2[ 1 ] = other.b;\r\n\t\t\tarr2[ 2 ] = other.c;\r\n\t\t\tfor ( let i = 0; i < 4; i ++ ) {\r\n\r\n\t\t\t\tconst sb = satBounds1[ i ];\r\n\t\t\t\tconst sa = satAxes1[ i ];\r\n\t\t\t\tcachedSatBounds.setFromPoints( sa, arr2 );\r\n\t\t\t\tif ( sb.isSeparated( cachedSatBounds ) ) return false;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst satBounds2 = other.satBounds;\r\n\t\t\tconst satAxes2 = other.satAxes;\r\n\t\t\tarr1[ 0 ] = this.a;\r\n\t\t\tarr1[ 1 ] = this.b;\r\n\t\t\tarr1[ 2 ] = this.c;\r\n\t\t\tfor ( let i = 0; i < 4; i ++ ) {\r\n\r\n\t\t\t\tconst sb = satBounds2[ i ];\r\n\t\t\t\tconst sa = satAxes2[ i ];\r\n\t\t\t\tcachedSatBounds.setFromPoints( sa, arr1 );\r\n\t\t\t\tif ( sb.isSeparated( cachedSatBounds ) ) return false;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// check crossed axes\r\n\t\t\tfor ( let i = 0; i < 4; i ++ ) {\r\n\r\n\t\t\t\tconst sa1 = satAxes1[ i ];\r\n\t\t\t\tfor ( let i2 = 0; i2 < 4; i2 ++ ) {\r\n\r\n\t\t\t\t\tconst sa2 = satAxes2[ i2 ];\r\n\t\t\t\t\tcachedAxis.crossVectors( sa1, sa2 );\r\n\t\t\t\t\tcachedSatBounds.setFromPoints( cachedAxis, arr1 );\r\n\t\t\t\t\tcachedSatBounds2.setFromPoints( cachedAxis, arr2 );\r\n\t\t\t\t\tif ( cachedSatBounds.isSeparated( cachedSatBounds2 ) ) return false;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( target ) {\r\n\r\n\t\t\t\t// TODO find two points that intersect on the edges and make that the result\r\n\t\t\t\tconsole.warn( 'ExtendedTriangle.intersectsTriangle: Triangles are coplanar which does not support an output edge. Setting edge to 0, 0, 0.' );\r\n\r\n\t\t\t\ttarget.start.set( 0, 0, 0 );\r\n\t\t\t\ttarget.end.set( 0, 0, 0 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// find the edge that intersects the other triangle plane\r\n\t\t\tconst points1 = this.points;\r\n\t\t\tlet found1 = false;\r\n\t\t\tlet count1 = 0;\r\n\t\t\tfor ( let i = 0; i < 3; i ++ ) {\r\n\r\n\t\t\t\tconst p = points1[ i ];\r\n\t\t\t\tconst pNext = points1[ ( i + 1 ) % 3 ];\r\n\r\n\t\t\t\tedge.start.copy( p );\r\n\t\t\t\tedge.end.copy( pNext );\r\n\t\t\t\tedge.delta( dir1 );\r\n\r\n\t\t\t\tconst targetPoint = found1 ? edge1.start : edge1.end;\r\n\t\t\t\tconst startIntersects = isNearZero( plane2.distanceToPoint( p ) );\r\n\t\t\t\tif ( isNearZero( plane2.normal.dot( dir1 ) ) && startIntersects ) {\r\n\r\n\t\t\t\t\t// if the edge lies on the plane then take the line\r\n\t\t\t\t\tedge1.copy( edge );\r\n\t\t\t\t\tcount1 = 2;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// check if the start point is near the plane because \"intersectLine\" is not robust to that case\r\n\t\t\t\tconst doesIntersect = plane2.intersectLine( edge, targetPoint ) || startIntersects;\r\n\t\t\t\tif ( doesIntersect && ! isNearZero( targetPoint.distanceTo( pNext ) ) ) {\r\n\r\n\t\t\t\t\tcount1 ++;\r\n\t\t\t\t\tif ( found1 ) {\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfound1 = true;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( count1 === 1 && this.containsPoint( edge1.start ) ) {\r\n\r\n\t\t\t\tif ( target ) {\r\n\r\n\t\t\t\t\ttarget.start.copy( edge1.start );\r\n\t\t\t\t\ttarget.end.copy( edge1.start );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn true;\r\n\r\n\t\t\t} else if ( count1 !== 2 ) {\r\n\r\n\t\t\t\treturn false;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// find the other triangles edge that intersects this plane\r\n\t\t\tconst points2 = other.points;\r\n\t\t\tlet found2 = false;\r\n\t\t\tlet count2 = 0;\r\n\t\t\tfor ( let i = 0; i < 3; i ++ ) {\r\n\r\n\t\t\t\tconst p = points2[ i ];\r\n\t\t\t\tconst pNext = points2[ ( i + 1 ) % 3 ];\r\n\r\n\t\t\t\tedge.start.copy( p );\r\n\t\t\t\tedge.end.copy( pNext );\r\n\t\t\t\tedge.delta( dir2 );\r\n\r\n\t\t\t\tconst targetPoint = found2 ? edge2.start : edge2.end;\r\n\t\t\t\tconst startIntersects = isNearZero( plane1.distanceToPoint( p ) );\r\n\t\t\t\tif ( isNearZero( plane1.normal.dot( dir2 ) ) && startIntersects ) {\r\n\r\n\t\t\t\t\t// if the edge lies on the plane then take the line\r\n\t\t\t\t\tedge2.copy( edge );\r\n\t\t\t\t\tcount2 = 2;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// check if the start point is near the plane because \"intersectLine\" is not robust to that case\r\n\t\t\t\tconst doesIntersect = plane1.intersectLine( edge, targetPoint ) || startIntersects;\r\n\t\t\t\tif ( doesIntersect && ! isNearZero( targetPoint.distanceTo( pNext ) ) ) {\r\n\r\n\t\t\t\t\tcount2 ++;\r\n\t\t\t\t\tif ( found2 ) {\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfound2 = true;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( count2 === 1 && this.containsPoint( edge2.start ) ) {\r\n\r\n\t\t\t\tif ( target ) {\r\n\r\n\t\t\t\t\ttarget.start.copy( edge2.start );\r\n\t\t\t\t\ttarget.end.copy( edge2.start );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn true;\r\n\r\n\t\t\t} else if ( count2 !== 2 ) {\r\n\r\n\t\t\t\treturn false;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// find swap the second edge so both lines are running the same direction\r\n\t\t\tedge1.delta( dir1 );\r\n\t\t\tedge2.delta( dir2 );\r\n\r\n\t\t\tif ( dir1.dot( dir2 ) < 0 ) {\r\n\r\n\t\t\t\tlet tmp = edge2.start;\r\n\t\t\t\tedge2.start = edge2.end;\r\n\t\t\t\tedge2.end = tmp;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// check if the edges are overlapping\r\n\t\t\tconst s1 = edge1.start.dot( dir1 );\r\n\t\t\tconst e1 = edge1.end.dot( dir1 );\r\n\t\t\tconst s2 = edge2.start.dot( dir1 );\r\n\t\t\tconst e2 = edge2.end.dot( dir1 );\r\n\t\t\tconst separated1 = e1 < s2;\r\n\t\t\tconst separated2 = s1 < e2;\r\n\r\n\t\t\tif ( s1 !== e2 && s2 !== e1 && separated1 === separated2 ) {\r\n\r\n\t\t\t\treturn false;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// assign the target output\r\n\t\t\tif ( target ) {\r\n\r\n\t\t\t\ttempDir.subVectors( edge1.start, edge2.start );\r\n\t\t\t\tif ( tempDir.dot( dir1 ) > 0 ) {\r\n\r\n\t\t\t\t\ttarget.start.copy( edge1.start );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\ttarget.start.copy( edge2.start );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttempDir.subVectors( edge1.end, edge2.end );\r\n\t\t\t\tif ( tempDir.dot( dir1 ) < 0 ) {\r\n\r\n\t\t\t\t\ttarget.end.copy( edge1.end );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\ttarget.end.copy( edge2.end );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n} )();\r\n\r\n\r\nExtendedTriangle.prototype.distanceToPoint = ( function () {\r\n\r\n\tconst target = new Vector3();\r\n\treturn function distanceToPoint( point ) {\r\n\r\n\t\tthis.closestPointToPoint( point, target );\r\n\t\treturn point.distanceTo( target );\r\n\r\n\t};\r\n\r\n} )();\r\n\r\n\r\nExtendedTriangle.prototype.distanceToTriangle = ( function () {\r\n\r\n\tconst point = new Vector3();\r\n\tconst point2 = new Vector3();\r\n\tconst cornerFields = [ 'a', 'b', 'c' ];\r\n\tconst line1 = new Line3();\r\n\tconst line2 = new Line3();\r\n\r\n\treturn function distanceToTriangle( other, target1 = null, target2 = null ) {\r\n\r\n\t\tconst lineTarget = target1 || target2 ? line1 : null;\r\n\t\tif ( this.intersectsTriangle( other, lineTarget ) ) {\r\n\r\n\t\t\tif ( target1 || target2 ) {\r\n\r\n\t\t\t\tif ( target1 ) lineTarget.getCenter( target1 );\r\n\t\t\t\tif ( target2 ) lineTarget.getCenter( target2 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn 0;\r\n\r\n\t\t}\r\n\r\n\t\tlet closestDistanceSq = Infinity;\r\n\r\n\t\t// check all point distances\r\n\t\tfor ( let i = 0; i < 3; i ++ ) {\r\n\r\n\t\t\tlet dist;\r\n\t\t\tconst field = cornerFields[ i ];\r\n\t\t\tconst otherVec = other[ field ];\r\n\t\t\tthis.closestPointToPoint( otherVec, point );\r\n\r\n\t\t\tdist = otherVec.distanceToSquared( point );\r\n\r\n\t\t\tif ( dist < closestDistanceSq ) {\r\n\r\n\t\t\t\tclosestDistanceSq = dist;\r\n\t\t\t\tif ( target1 ) target1.copy( point );\r\n\t\t\t\tif ( target2 ) target2.copy( otherVec );\r\n\r\n\t\t\t}\r\n\r\n\r\n\t\t\tconst thisVec = this[ field ];\r\n\t\t\tother.closestPointToPoint( thisVec, point );\r\n\r\n\t\t\tdist = thisVec.distanceToSquared( point );\r\n\r\n\t\t\tif ( dist < closestDistanceSq ) {\r\n\r\n\t\t\t\tclosestDistanceSq = dist;\r\n\t\t\t\tif ( target1 ) target1.copy( thisVec );\r\n\t\t\t\tif ( target2 ) target2.copy( point );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfor ( let i = 0; i < 3; i ++ ) {\r\n\r\n\t\t\tconst f11 = cornerFields[ i ];\r\n\t\t\tconst f12 = cornerFields[ ( i + 1 ) % 3 ];\r\n\t\t\tline1.set( this[ f11 ], this[ f12 ] );\r\n\t\t\tfor ( let i2 = 0; i2 < 3; i2 ++ ) {\r\n\r\n\t\t\t\tconst f21 = cornerFields[ i2 ];\r\n\t\t\t\tconst f22 = cornerFields[ ( i2 + 1 ) % 3 ];\r\n\t\t\t\tline2.set( other[ f21 ], other[ f22 ] );\r\n\r\n\t\t\t\tclosestPointsSegmentToSegment( line1, line2, point, point2 );\r\n\r\n\t\t\t\tconst dist = point.distanceToSquared( point2 );\r\n\t\t\t\tif ( dist < closestDistanceSq ) {\r\n\r\n\t\t\t\t\tclosestDistanceSq = dist;\r\n\t\t\t\t\tif ( target1 ) target1.copy( point );\r\n\t\t\t\t\tif ( target2 ) target2.copy( point2 );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn Math.sqrt( closestDistanceSq );\r\n\r\n\t};\r\n\r\n} )();\r\n","import { Box3, Vector3, Matrix4, Line3 } from 'three';\r\nimport { SeparatingAxisBounds } from './SeparatingAxisBounds.js';\r\nimport { ExtendedTriangle } from './ExtendedTriangle.js';\r\nimport { closestPointsSegmentToSegment } from './MathUtilities.js';\r\n\r\nexport class OrientedBox extends Box3 {\r\n\r\n\tconstructor( ...args ) {\r\n\r\n\t\tsuper( ...args );\r\n\r\n\t\tthis.isOrientedBox = true;\r\n\t\tthis.matrix = new Matrix4();\r\n\t\tthis.invMatrix = new Matrix4();\r\n\t\tthis.points = new Array( 8 ).fill().map( () => new Vector3() );\r\n\t\tthis.satAxes = new Array( 3 ).fill().map( () => new Vector3() );\r\n\t\tthis.satBounds = new Array( 3 ).fill().map( () => new SeparatingAxisBounds() );\r\n\t\tthis.alignedSatBounds = new Array( 3 ).fill().map( () => new SeparatingAxisBounds() );\r\n\t\tthis.needsUpdate = false;\r\n\r\n\t}\r\n\r\n\tset( min, max, matrix ) {\r\n\r\n\t\tsuper.set( min, max );\r\n\t\tthis.matrix.copy( matrix );\r\n\t\tthis.needsUpdate = true;\r\n\r\n\t}\r\n\r\n\tcopy( other ) {\r\n\r\n\t\tsuper.copy( other );\r\n\t\tthis.matrix.copy( other.matrix );\r\n\t\tthis.needsUpdate = true;\r\n\r\n\t}\r\n\r\n}\r\n\r\nOrientedBox.prototype.update = ( function () {\r\n\r\n\treturn function update() {\r\n\r\n\t\tconst matrix = this.matrix;\r\n\t\tconst min = this.min;\r\n\t\tconst max = this.max;\r\n\r\n\t\tconst points = this.points;\r\n\t\tfor ( let x = 0; x <= 1; x ++ ) {\r\n\r\n\t\t\tfor ( let y = 0; y <= 1; y ++ ) {\r\n\r\n\t\t\t\tfor ( let z = 0; z <= 1; z ++ ) {\r\n\r\n\t\t\t\t\tconst i = ( ( 1 << 0 ) * x ) | ( ( 1 << 1 ) * y ) | ( ( 1 << 2 ) * z );\r\n\t\t\t\t\tconst v = points[ i ];\r\n\t\t\t\t\tv.x = x ? max.x : min.x;\r\n\t\t\t\t\tv.y = y ? max.y : min.y;\r\n\t\t\t\t\tv.z = z ? max.z : min.z;\r\n\r\n\t\t\t\t\tv.applyMatrix4( matrix );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tconst satBounds = this.satBounds;\r\n\t\tconst satAxes = this.satAxes;\r\n\t\tconst minVec = points[ 0 ];\r\n\t\tfor ( let i = 0; i < 3; i ++ ) {\r\n\r\n\t\t\tconst axis = satAxes[ i ];\r\n\t\t\tconst sb = satBounds[ i ];\r\n\t\t\tconst index = 1 << i;\r\n\t\t\tconst pi = points[ index ];\r\n\r\n\t\t\taxis.subVectors( minVec, pi );\r\n\t\t\tsb.setFromPoints( axis, points );\r\n\r\n\t\t}\r\n\r\n\t\tconst alignedSatBounds = this.alignedSatBounds;\r\n\t\talignedSatBounds[ 0 ].setFromPointsField( points, 'x' );\r\n\t\talignedSatBounds[ 1 ].setFromPointsField( points, 'y' );\r\n\t\talignedSatBounds[ 2 ].setFromPointsField( points, 'z' );\r\n\r\n\t\tthis.invMatrix.copy( this.matrix ).invert();\r\n\t\tthis.needsUpdate = false;\r\n\r\n\t};\r\n\r\n} )();\r\n\r\nOrientedBox.prototype.intersectsBox = ( function () {\r\n\r\n\tconst aabbBounds = new SeparatingAxisBounds();\r\n\treturn function intersectsBox( box ) {\r\n\r\n\t\t// TODO: should this be doing SAT against the AABB?\r\n\t\tif ( this.needsUpdate ) {\r\n\r\n\t\t\tthis.update();\r\n\r\n\t\t}\r\n\r\n\t\tconst min = box.min;\r\n\t\tconst max = box.max;\r\n\t\tconst satBounds = this.satBounds;\r\n\t\tconst satAxes = this.satAxes;\r\n\t\tconst alignedSatBounds = this.alignedSatBounds;\r\n\r\n\t\taabbBounds.min = min.x;\r\n\t\taabbBounds.max = max.x;\r\n\t\tif ( alignedSatBounds[ 0 ].isSeparated( aabbBounds ) ) return false;\r\n\r\n\t\taabbBounds.min = min.y;\r\n\t\taabbBounds.max = max.y;\r\n\t\tif ( alignedSatBounds[ 1 ].isSeparated( aabbBounds ) ) return false;\r\n\r\n\t\taabbBounds.min = min.z;\r\n\t\taabbBounds.max = max.z;\r\n\t\tif ( alignedSatBounds[ 2 ].isSeparated( aabbBounds ) ) return false;\r\n\r\n\t\tfor ( let i = 0; i < 3; i ++ ) {\r\n\r\n\t\t\tconst axis = satAxes[ i ];\r\n\t\t\tconst sb = satBounds[ i ];\r\n\t\t\taabbBounds.setFromBox( axis, box );\r\n\t\t\tif ( sb.isSeparated( aabbBounds ) ) return false;\r\n\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\r\n\t};\r\n\r\n} )();\r\n\r\nOrientedBox.prototype.intersectsTriangle = ( function () {\r\n\r\n\tconst saTri = new ExtendedTriangle();\r\n\tconst pointsArr = new Array( 3 );\r\n\tconst cachedSatBounds = new SeparatingAxisBounds();\r\n\tconst cachedSatBounds2 = new SeparatingAxisBounds();\r\n\tconst cachedAxis = new Vector3();\r\n\treturn function intersectsTriangle( triangle ) {\r\n\r\n\t\tif ( this.needsUpdate ) {\r\n\r\n\t\t\tthis.update();\r\n\r\n\t\t}\r\n\r\n\t\tif ( ! triangle.isExtendedTriangle ) {\r\n\r\n\t\t\tsaTri.copy( triangle );\r\n\t\t\tsaTri.update();\r\n\t\t\ttriangle = saTri;\r\n\r\n\t\t} else if ( triangle.needsUpdate ) {\r\n\r\n\t\t\ttriangle.update();\r\n\r\n\t\t}\r\n\r\n\t\tconst satBounds = this.satBounds;\r\n\t\tconst satAxes = this.satAxes;\r\n\r\n\t\tpointsArr[ 0 ] = triangle.a;\r\n\t\tpointsArr[ 1 ] = triangle.b;\r\n\t\tpointsArr[ 2 ] = triangle.c;\r\n\r\n\t\tfor ( let i = 0; i < 3; i ++ ) {\r\n\r\n\t\t\tconst sb = satBounds[ i ];\r\n\t\t\tconst sa = satAxes[ i ];\r\n\t\t\tcachedSatBounds.setFromPoints( sa, pointsArr );\r\n\t\t\tif ( sb.isSeparated( cachedSatBounds ) ) return false;\r\n\r\n\t\t}\r\n\r\n\t\tconst triSatBounds = triangle.satBounds;\r\n\t\tconst triSatAxes = triangle.satAxes;\r\n\t\tconst points = this.points;\r\n\t\tfor ( let i = 0; i < 3; i ++ ) {\r\n\r\n\t\t\tconst sb = triSatBounds[ i ];\r\n\t\t\tconst sa = triSatAxes[ i ];\r\n\t\t\tcachedSatBounds.setFromPoints( sa, points );\r\n\t\t\tif ( sb.isSeparated( cachedSatBounds ) ) return false;\r\n\r\n\t\t}\r\n\r\n\t\t// check crossed axes\r\n\t\tfor ( let i = 0; i < 3; i ++ ) {\r\n\r\n\t\t\tconst sa1 = satAxes[ i ];\r\n\t\t\tfor ( let i2 = 0; i2 < 4; i2 ++ ) {\r\n\r\n\t\t\t\tconst sa2 = triSatAxes[ i2 ];\r\n\t\t\t\tcachedAxis.crossVectors( sa1, sa2 );\r\n\t\t\t\tcachedSatBounds.setFromPoints( cachedAxis, pointsArr );\r\n\t\t\t\tcachedSatBounds2.setFromPoints( cachedAxis, points );\r\n\t\t\t\tif ( cachedSatBounds.isSeparated( cachedSatBounds2 ) ) return false;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\r\n\t};\r\n\r\n} )();\r\n\r\nOrientedBox.prototype.closestPointToPoint = ( function () {\r\n\r\n\treturn function closestPointToPoint( point, target1 ) {\r\n\r\n\t\tif ( this.needsUpdate ) {\r\n\r\n\t\t\tthis.update();\r\n\r\n\t\t}\r\n\r\n\t\ttarget1\r\n\t\t\t.copy( point )\r\n\t\t\t.applyMatrix4( this.invMatrix )\r\n\t\t\t.clamp( this.min, this.max )\r\n\t\t\t.applyMatrix4( this.matrix );\r\n\r\n\t\treturn target1;\r\n\r\n\t};\r\n\r\n} )();\r\n\r\nOrientedBox.prototype.distanceToPoint = ( function () {\r\n\r\n\tconst target = new Vector3();\r\n\treturn function distanceToPoint( point ) {\r\n\r\n\t\tthis.closestPointToPoint( point, target );\r\n\t\treturn point.distanceTo( target );\r\n\r\n\t};\r\n\r\n} )();\r\n\r\nOrientedBox.prototype.distanceToBox = ( function () {\r\n\r\n\tconst xyzFields = [ 'x', 'y', 'z' ];\r\n\tconst segments1 = new Array( 12 ).fill().map( () => new Line3() );\r\n\tconst segments2 = new Array( 12 ).fill().map( () => new Line3() );\r\n\r\n\tconst point1 = new Vector3();\r\n\tconst point2 = new Vector3();\r\n\r\n\t// early out if we find a value below threshold\r\n\treturn function distanceToBox( box, threshold = 0, target1 = null, target2 = null ) {\r\n\r\n\t\tif ( this.needsUpdate ) {\r\n\r\n\t\t\tthis.update();\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.intersectsBox( box ) ) {\r\n\r\n\t\t\tif ( target1 || target2 ) {\r\n\r\n\t\t\t\tbox.getCenter( point2 );\r\n\t\t\t\tthis.closestPointToPoint( point2, point1 );\r\n\t\t\t\tbox.closestPointToPoint( point1, point2 );\r\n\r\n\t\t\t\tif ( target1 ) target1.copy( point1 );\r\n\t\t\t\tif ( target2 ) target2.copy( point2 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn 0;\r\n\r\n\t\t}\r\n\r\n\t\tconst threshold2 = threshold * threshold;\r\n\t\tconst min = box.min;\r\n\t\tconst max = box.max;\r\n\t\tconst points = this.points;\r\n\r\n\r\n\t\t// iterate over every edge and compare distances\r\n\t\tlet closestDistanceSq = Infinity;\r\n\r\n\t\t// check over all these points\r\n\t\tfor ( let i = 0; i < 8; i ++ ) {\r\n\r\n\t\t\tconst p = points[ i ];\r\n\t\t\tpoint2.copy( p ).clamp( min, max );\r\n\r\n\t\t\tconst dist = p.distanceToSquared( point2 );\r\n\t\t\tif ( dist < closestDistanceSq ) {\r\n\r\n\t\t\t\tclosestDistanceSq = dist;\r\n\t\t\t\tif ( target1 ) target1.copy( p );\r\n\t\t\t\tif ( target2 ) target2.copy( point2 );\r\n\r\n\t\t\t\tif ( dist < threshold2 ) return Math.sqrt( dist );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// generate and check all line segment distances\r\n\t\tlet count = 0;\r\n\t\tfor ( let i = 0; i < 3; i ++ ) {\r\n\r\n\t\t\tfor ( let i1 = 0; i1 <= 1; i1 ++ ) {\r\n\r\n\t\t\t\tfor ( let i2 = 0; i2 <= 1; i2 ++ ) {\r\n\r\n\t\t\t\t\tconst nextIndex = ( i + 1 ) % 3;\r\n\t\t\t\t\tconst nextIndex2 = ( i + 2 ) % 3;\r\n\r\n\t\t\t\t\t// get obb line segments\r\n\t\t\t\t\tconst index = i1 << nextIndex | i2 << nextIndex2;\r\n\t\t\t\t\tconst index2 = 1 << i | i1 << nextIndex | i2 << nextIndex2;\r\n\t\t\t\t\tconst p1 = points[ index ];\r\n\t\t\t\t\tconst p2 = points[ index2 ];\r\n\t\t\t\t\tconst line1 = segments1[ count ];\r\n\t\t\t\t\tline1.set( p1, p2 );\r\n\r\n\r\n\t\t\t\t\t// get aabb line segments\r\n\t\t\t\t\tconst f1 = xyzFields[ i ];\r\n\t\t\t\t\tconst f2 = xyzFields[ nextIndex ];\r\n\t\t\t\t\tconst f3 = xyzFields[ nextIndex2 ];\r\n\t\t\t\t\tconst line2 = segments2[ count ];\r\n\t\t\t\t\tconst start = line2.start;\r\n\t\t\t\t\tconst end = line2.end;\r\n\r\n\t\t\t\t\tstart[ f1 ] = min[ f1 ];\r\n\t\t\t\t\tstart[ f2 ] = i1 ? min[ f2 ] : max[ f2 ];\r\n\t\t\t\t\tstart[ f3 ] = i2 ? min[ f3 ] : max[ f2 ];\r\n\r\n\t\t\t\t\tend[ f1 ] = max[ f1 ];\r\n\t\t\t\t\tend[ f2 ] = i1 ? min[ f2 ] : max[ f2 ];\r\n\t\t\t\t\tend[ f3 ] = i2 ? min[ f3 ] : max[ f2 ];\r\n\r\n\t\t\t\t\tcount ++;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// check all the other boxes point\r\n\t\tfor ( let x = 0; x <= 1; x ++ ) {\r\n\r\n\t\t\tfor ( let y = 0; y <= 1; y ++ ) {\r\n\r\n\t\t\t\tfor ( let z = 0; z <= 1; z ++ ) {\r\n\r\n\t\t\t\t\tpoint2.x = x ? max.x : min.x;\r\n\t\t\t\t\tpoint2.y = y ? max.y : min.y;\r\n\t\t\t\t\tpoint2.z = z ? max.z : min.z;\r\n\r\n\t\t\t\t\tthis.closestPointToPoint( point2, point1 );\r\n\t\t\t\t\tconst dist = point2.distanceToSquared( point1 );\r\n\t\t\t\t\tif ( dist < closestDistanceSq ) {\r\n\r\n\t\t\t\t\t\tclosestDistanceSq = dist;\r\n\t\t\t\t\t\tif ( target1 ) target1.copy( point1 );\r\n\t\t\t\t\t\tif ( target2 ) target2.copy( point2 );\r\n\r\n\t\t\t\t\t\tif ( dist < threshold2 ) return Math.sqrt( dist );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfor ( let i = 0; i < 12; i ++ ) {\r\n\r\n\t\t\tconst l1 = segments1[ i ];\r\n\t\t\tfor ( let i2 = 0; i2 < 12; i2 ++ ) {\r\n\r\n\t\t\t\tconst l2 = segments2[ i2 ];\r\n\t\t\t\tclosestPointsSegmentToSegment( l1, l2, point1, point2 );\r\n\t\t\t\tconst dist = point1.distanceToSquared( point2 );\r\n\t\t\t\tif ( dist < closestDistanceSq ) {\r\n\r\n\t\t\t\t\tclosestDistanceSq = dist;\r\n\t\t\t\t\tif ( target1 ) target1.copy( point1 );\r\n\t\t\t\t\tif ( target2 ) target2.copy( point2 );\r\n\r\n\t\t\t\t\tif ( dist < threshold2 ) return Math.sqrt( dist );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn Math.sqrt( closestDistanceSq );\r\n\r\n\t};\r\n\r\n} )();\r\n","\r\nimport { Vector2, Vector3, Triangle } from 'three';\r\n\r\n// sets the vertices of triangle `tri` with the 3 vertices after i\r\nexport function setTriangle( tri, i, index, pos ) {\r\n\r\n\tconst ta = tri.a;\r\n\tconst tb = tri.b;\r\n\tconst tc = tri.c;\r\n\r\n\tlet i0 = i;\r\n\tlet i1 = i + 1;\r\n\tlet i2 = i + 2;\r\n\tif ( index ) {\r\n\r\n\t\ti0 = index.getX( i );\r\n\t\ti1 = index.getX( i + 1 );\r\n\t\ti2 = index.getX( i + 2 );\r\n\r\n\t}\r\n\r\n\tta.x = pos.getX( i0 );\r\n\tta.y = pos.getY( i0 );\r\n\tta.z = pos.getZ( i0 );\r\n\r\n\ttb.x = pos.getX( i1 );\r\n\ttb.y = pos.getY( i1 );\r\n\ttb.z = pos.getZ( i1 );\r\n\r\n\ttc.x = pos.getX( i2 );\r\n\ttc.y = pos.getY( i2 );\r\n\ttc.z = pos.getZ( i2 );\r\n\r\n}\r\n\r\nexport function iterateOverTriangles(\r\n\toffset,\r\n\tcount,\r\n\tgeometry,\r\n\tintersectsTriangleFunc,\r\n\tcontained,\r\n\tdepth,\r\n\ttriangle\r\n) {\r\n\r\n\tconst index = geometry.index;\r\n\tconst pos = geometry.attributes.position;\r\n\tfor ( let i = offset, l = count + offset; i < l; i ++ ) {\r\n\r\n\t\tsetTriangle( triangle, i * 3, index, pos );\r\n\t\ttriangle.needsUpdate = true;\r\n\r\n\t\tif ( intersectsTriangleFunc( triangle, i, contained, depth ) ) {\r\n\r\n\t\t\treturn true;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn false;\r\n\r\n}\r\n\r\nconst tempV1 = /* @__PURE__ */ new Vector3();\r\nconst tempV2 = /* @__PURE__ */ new Vector3();\r\nconst tempV3 = /* @__PURE__ */ new Vector3();\r\nconst tempUV1 = /* @__PURE__ */ new Vector2();\r\nconst tempUV2 = /* @__PURE__ */ new Vector2();\r\nconst tempUV3 = /* @__PURE__ */ new Vector2();\r\n\r\nexport function getTriangleHitPointInfo( point, geometry, triangleIndex, target ) {\r\n\r\n\tconst indices = geometry.getIndex().array;\r\n\tconst positions = geometry.getAttribute( 'position' );\r\n\tconst uvs = geometry.getAttribute( 'uv' );\r\n\r\n\tconst a = indices[ triangleIndex * 3 ];\r\n\tconst b = indices[ triangleIndex * 3 + 1 ];\r\n\tconst c = indices[ triangleIndex * 3 + 2 ];\r\n\r\n\ttempV1.fromBufferAttribute( positions, a );\r\n\ttempV2.fromBufferAttribute( positions, b );\r\n\ttempV3.fromBufferAttribute( positions, c );\r\n\r\n\t// find the associated material index\r\n\tlet materialIndex = 0;\r\n\tconst groups = geometry.groups;\r\n\tconst firstVertexIndex = triangleIndex * 3;\r\n\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\r\n\r\n\t\tconst group = groups[ i ];\r\n\t\tconst { start, count } = group;\r\n\t\tif ( firstVertexIndex >= start && firstVertexIndex < start + count ) {\r\n\r\n\t\t\tmaterialIndex = group.materialIndex;\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// extract uvs\r\n\tlet uv = null;\r\n\tif ( uvs ) {\r\n\r\n\t\ttempUV1.fromBufferAttribute( uvs, a );\r\n\t\ttempUV2.fromBufferAttribute( uvs, b );\r\n\t\ttempUV3.fromBufferAttribute( uvs, c );\r\n\r\n\t\tif ( target && target.uv ) uv = target.uv;\r\n\t\telse uv = new Vector2();\r\n\r\n\t\tTriangle.getUV( point, tempV1, tempV2, tempV3, tempUV1, tempUV2, tempUV3, uv );\r\n\r\n\t}\r\n\r\n\t// adjust the provided target or create a new one\r\n\tif ( target ) {\r\n\r\n\t\tif ( ! target.face ) target.face = { };\r\n\t\ttarget.face.a = a;\r\n\t\ttarget.face.b = b;\r\n\t\ttarget.face.c = c;\r\n\t\ttarget.face.materialIndex = materialIndex;\r\n\t\tif ( ! target.face.normal ) target.face.normal = new Vector3();\r\n\t\tTriangle.getNormal( tempV1, tempV2, tempV3, target.face.normal );\r\n\r\n\t\tif ( ! target.uv ) target.uv = new Vector2();\r\n\t\ttarget.uv.copy( uv );\r\n\r\n\t\treturn target;\r\n\r\n\t} else {\r\n\r\n\t\treturn {\r\n\t\t\tface: {\r\n\t\t\t\ta: a,\r\n\t\t\t\tb: b,\r\n\t\t\t\tc: c,\r\n\t\t\t\tmaterialIndex: materialIndex,\r\n\t\t\t\tnormal: Triangle.getNormal( tempV1, tempV2, tempV3, new Vector3() )\r\n\t\t\t},\r\n\t\t\tuv: uv\r\n\t\t};\r\n\r\n\t}\r\n\r\n}\r\n","export class PrimitivePool {\r\n\r\n\tconstructor( getNewPrimitive ) {\r\n\r\n\t\tthis._getNewPrimitive = getNewPrimitive;\r\n\t\tthis._primitives = [];\r\n\r\n\t}\r\n\r\n\tgetPrimitive() {\r\n\r\n\t\tconst primitives = this._primitives;\r\n\t\tif ( primitives.length === 0 ) {\r\n\r\n\t\t\treturn this._getNewPrimitive();\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn primitives.pop();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treleasePrimitive( primitive ) {\r\n\r\n\t\tthis._primitives.push( primitive );\r\n\r\n\t}\r\n\r\n}\r\n","export function IS_LEAF( n16, uint16Array ) {\r\n\r\n\treturn uint16Array[ n16 + 15 ] === 0xFFFF;\r\n\r\n}\r\n\r\nexport function OFFSET( n32, uint32Array ) {\r\n\r\n\treturn uint32Array[ n32 + 6 ];\r\n\r\n}\r\n\r\nexport function COUNT( n16, uint16Array ) {\r\n\r\n\treturn uint16Array[ n16 + 14 ];\r\n\r\n}\r\n\r\nexport function LEFT_NODE( n32 ) {\r\n\r\n\treturn n32 + 8;\r\n\r\n}\r\n\r\nexport function RIGHT_NODE( n32, uint32Array ) {\r\n\r\n\treturn uint32Array[ n32 + 6 ];\r\n\r\n}\r\n\r\nexport function SPLIT_AXIS( n32, uint32Array ) {\r\n\r\n\treturn uint32Array[ n32 + 7 ];\r\n\r\n}\r\n\r\nexport function BOUNDING_DATA_INDEX( n32 ) {\r\n\r\n\treturn n32;\r\n\r\n}\r\n","import { Box3, Vector3, Matrix4 } from 'three';\r\nimport { CONTAINED } from './Constants.js';\r\n\r\nimport { OrientedBox } from '../math/OrientedBox.js';\r\nimport { ExtendedTriangle } from '../math/ExtendedTriangle.js';\r\nimport { intersectTris, intersectClosestTri } from '../utils/GeometryRayIntersectUtilities.js';\r\nimport { setTriangle } from '../utils/TriangleUtilities.js';\r\nimport { arrayToBox } from '../utils/ArrayBoxUtilities.js';\r\nimport { PrimitivePool } from '../utils/PrimitivePool.js';\r\nimport { COUNT, OFFSET, LEFT_NODE, RIGHT_NODE, IS_LEAF, BOUNDING_DATA_INDEX, SPLIT_AXIS } from './nodeBufferFunctions.js';\r\n\r\nconst boundingBox = new Box3();\r\nconst boxIntersection = new Vector3();\r\nconst xyzFields = [ 'x', 'y', 'z' ];\r\n\r\nexport function raycast( nodeIndex32, geometry, side, ray, intersects ) {\r\n\r\n\tlet nodeIndex16 = nodeIndex32 * 2, float32Array = _float32Array, uint16Array = _uint16Array, uint32Array = _uint32Array;\r\n\r\n\tconst isLeaf = IS_LEAF( nodeIndex16, uint16Array );\r\n\tif ( isLeaf ) {\r\n\r\n\t\tconst offset = OFFSET( nodeIndex32, uint32Array );\r\n\t\tconst count = COUNT( nodeIndex16, uint16Array );\r\n\r\n\t\tintersectTris( geometry, side, ray, offset, count, intersects );\r\n\r\n\t} else {\r\n\r\n\t\tconst leftIndex = LEFT_NODE( nodeIndex32 );\r\n\t\tif ( intersectRay( leftIndex, float32Array, ray, boxIntersection ) ) {\r\n\r\n\t\t\traycast( leftIndex, geometry, side, ray, intersects );\r\n\r\n\t\t}\r\n\r\n\t\tconst rightIndex = RIGHT_NODE( nodeIndex32, uint32Array );\r\n\t\tif ( intersectRay( rightIndex, float32Array, ray, boxIntersection ) ) {\r\n\r\n\t\t\traycast( rightIndex, geometry, side, ray, intersects );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nexport function raycastFirst( nodeIndex32, geometry, side, ray ) {\r\n\r\n\tlet nodeIndex16 = nodeIndex32 * 2, float32Array = _float32Array, uint16Array = _uint16Array, uint32Array = _uint32Array;\r\n\r\n\tconst isLeaf = IS_LEAF( nodeIndex16, uint16Array );\r\n\tif ( isLeaf ) {\r\n\r\n\t\tconst offset = OFFSET( nodeIndex32, uint32Array );\r\n\t\tconst count = COUNT( nodeIndex16, uint16Array );\r\n\t\treturn intersectClosestTri( geometry, side, ray, offset, count );\r\n\r\n\t} else {\r\n\r\n\t\t// consider the position of the split plane with respect to the oncoming ray; whichever direction\r\n\t\t// the ray is coming from, look for an intersection among that side of the tree first\r\n\t\tconst splitAxis = SPLIT_AXIS( nodeIndex32, uint32Array );\r\n\t\tconst xyzAxis = xyzFields[ splitAxis ];\r\n\t\tconst rayDir = ray.direction[ xyzAxis ];\r\n\t\tconst leftToRight = rayDir >= 0;\r\n\r\n\t\t// c1 is the child to check first\r\n\t\tlet c1, c2;\r\n\t\tif ( leftToRight ) {\r\n\r\n\t\t\tc1 = LEFT_NODE( nodeIndex32 );\r\n\t\t\tc2 = RIGHT_NODE( nodeIndex32, uint32Array );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tc1 = RIGHT_NODE( nodeIndex32, uint32Array );\r\n\t\t\tc2 = LEFT_NODE( nodeIndex32 );\r\n\r\n\t\t}\r\n\r\n\t\tconst c1Intersection = intersectRay( c1, float32Array, ray, boxIntersection );\r\n\t\tconst c1Result = c1Intersection ? raycastFirst( c1, geometry, side, ray ) : null;\r\n\r\n\t\t// if we got an intersection in the first node and it's closer than the second node's bounding\r\n\t\t// box, we don't need to consider the second node because it couldn't possibly be a better result\r\n\t\tif ( c1Result ) {\r\n\r\n\t\t\t// check if the point is within the second bounds\r\n\t\t\t// \"point\" is in the local frame of the bvh\r\n\t\t\tconst point = c1Result.point[ xyzAxis ];\r\n\t\t\tconst isOutside = leftToRight ?\r\n\t\t\t\tpoint <= float32Array[ c2 + splitAxis ] : // min bounding data\r\n\t\t\t\tpoint >= float32Array[ c2 + splitAxis + 3 ]; // max bounding data\r\n\r\n\t\t\tif ( isOutside ) {\r\n\r\n\t\t\t\treturn c1Result;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// either there was no intersection in the first node, or there could still be a closer\r\n\t\t// intersection in the second, so check the second node and then take the better of the two\r\n\t\tconst c2Intersection = intersectRay( c2, float32Array, ray, boxIntersection );\r\n\t\tconst c2Result = c2Intersection ? raycastFirst( c2, geometry, side, ray ) : null;\r\n\r\n\t\tif ( c1Result && c2Result ) {\r\n\r\n\t\t\treturn c1Result.distance <= c2Result.distance ? c1Result : c2Result;\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn c1Result || c2Result || null;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nexport const shapecast = ( function () {\r\n\r\n\tlet _box1, _box2;\r\n\tconst boxStack = [];\r\n\tconst boxPool = new PrimitivePool( () => new Box3() );\r\n\r\n\treturn function shapecast( ...args ) {\r\n\r\n\t\t_box1 = boxPool.getPrimitive();\r\n\t\t_box2 = boxPool.getPrimitive();\r\n\t\tboxStack.push( _box1, _box2 );\r\n\r\n\t\tconst result = shapecastTraverse( ...args );\r\n\r\n\t\tboxPool.releasePrimitive( _box1 );\r\n\t\tboxPool.releasePrimitive( _box2 );\r\n\t\tboxStack.pop();\r\n\t\tboxStack.pop();\r\n\r\n\t\tconst length = boxStack.length;\r\n\t\tif ( length > 0 ) {\r\n\r\n\t\t\t_box2 = boxStack[ length - 1 ];\r\n\t\t\t_box1 = boxStack[ length - 2 ];\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\r\n\t};\r\n\r\n\tfunction shapecastTraverse(\r\n\t\tnodeIndex32,\r\n\t\tgeometry,\r\n\t\tintersectsBoundsFunc,\r\n\t\tintersectsRangeFunc,\r\n\t\tnodeScoreFunc = null,\r\n\t\tnodeIndexByteOffset = 0, // offset for unique node identifier\r\n\t\tdepth = 0\r\n\t) {\r\n\r\n\t\t// Define these inside the function so it has access to the local variables needed\r\n\t\t// when converting to the buffer equivalents\r\n\t\tfunction getLeftOffset( nodeIndex32 ) {\r\n\r\n\t\t\tlet nodeIndex16 = nodeIndex32 * 2, uint16Array = _uint16Array, uint32Array = _uint32Array;\r\n\r\n\t\t\t// traverse until we find a leaf\r\n\t\t\twhile ( ! IS_LEAF( nodeIndex16, uint16Array ) ) {\r\n\r\n\t\t\t\tnodeIndex32 = LEFT_NODE( nodeIndex32 );\r\n\t\t\t\tnodeIndex16 = nodeIndex32 * 2;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn OFFSET( nodeIndex32, uint32Array );\r\n\r\n\t\t}\r\n\r\n\t\tfunction getRightEndOffset( nodeIndex32 ) {\r\n\r\n\t\t\tlet nodeIndex16 = nodeIndex32 * 2, uint16Array = _uint16Array, uint32Array = _uint32Array;\r\n\r\n\t\t\t// traverse until we find a leaf\r\n\t\t\twhile ( ! IS_LEAF( nodeIndex16, uint16Array ) ) {\r\n\r\n\t\t\t\t// adjust offset to point to the right node\r\n\t\t\t\tnodeIndex32 = RIGHT_NODE( nodeIndex32, uint32Array );\r\n\t\t\t\tnodeIndex16 = nodeIndex32 * 2;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// return the end offset of the triangle range\r\n\t\t\treturn OFFSET( nodeIndex32, uint32Array ) + COUNT( nodeIndex16, uint16Array );\r\n\r\n\t\t}\r\n\r\n\t\tlet nodeIndex16 = nodeIndex32 * 2, float32Array = _float32Array, uint16Array = _uint16Array, uint32Array = _uint32Array;\r\n\r\n\t\tconst isLeaf = IS_LEAF( nodeIndex16, uint16Array );\r\n\t\tif ( isLeaf ) {\r\n\r\n\t\t\tconst offset = OFFSET( nodeIndex32, uint32Array );\r\n\t\t\tconst count = COUNT( nodeIndex16, uint16Array );\r\n\t\t\tarrayToBox( BOUNDING_DATA_INDEX( nodeIndex32 ), float32Array, _box1 );\r\n\t\t\treturn intersectsRangeFunc( offset, count, false, depth, nodeIndexByteOffset + nodeIndex32, _box1 );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconst left = LEFT_NODE( nodeIndex32 );\r\n\t\t\tconst right = RIGHT_NODE( nodeIndex32, uint32Array );\r\n\t\t\tlet c1 = left;\r\n\t\t\tlet c2 = right;\r\n\r\n\t\t\tlet score1, score2;\r\n\t\t\tlet box1, box2;\r\n\t\t\tif ( nodeScoreFunc ) {\r\n\r\n\t\t\t\tbox1 = _box1;\r\n\t\t\t\tbox2 = _box2;\r\n\r\n\t\t\t\t// bounding data is not offset\r\n\t\t\t\tarrayToBox( BOUNDING_DATA_INDEX( c1 ), float32Array, box1 );\r\n\t\t\t\tarrayToBox( BOUNDING_DATA_INDEX( c2 ), float32Array, box2 );\r\n\r\n\t\t\t\tscore1 = nodeScoreFunc( box1 );\r\n\t\t\t\tscore2 = nodeScoreFunc( box2 );\r\n\r\n\t\t\t\tif ( score2 < score1 ) {\r\n\r\n\t\t\t\t\tc1 = right;\r\n\t\t\t\t\tc2 = left;\r\n\r\n\t\t\t\t\tconst temp = score1;\r\n\t\t\t\t\tscore1 = score2;\r\n\t\t\t\t\tscore2 = temp;\r\n\r\n\t\t\t\t\tbox1 = box2;\r\n\t\t\t\t\t// box2 is always set before use below\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Check box 1 intersection\r\n\t\t\tif ( ! box1 ) {\r\n\r\n\t\t\t\tbox1 = _box1;\r\n\t\t\t\tarrayToBox( BOUNDING_DATA_INDEX( c1 ), float32Array, box1 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst isC1Leaf = IS_LEAF( c1 * 2, uint16Array );\r\n\t\t\tconst c1Intersection = intersectsBoundsFunc( box1, isC1Leaf, score1, depth + 1, nodeIndexByteOffset + c1 );\r\n\r\n\t\t\tlet c1StopTraversal;\r\n\t\t\tif ( c1Intersection === CONTAINED ) {\r\n\r\n\t\t\t\tconst offset = getLeftOffset( c1 );\r\n\t\t\t\tconst end = getRightEndOffset( c1 );\r\n\t\t\t\tconst count = end - offset;\r\n\r\n\t\t\t\tc1StopTraversal = intersectsRangeFunc( offset, count, true, depth + 1, nodeIndexByteOffset + c1, box1 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tc1StopTraversal =\r\n\t\t\t\t\tc1Intersection &&\r\n\t\t\t\t\tshapecastTraverse(\r\n\t\t\t\t\t\tc1,\r\n\t\t\t\t\t\tgeometry,\r\n\t\t\t\t\t\tintersectsBoundsFunc,\r\n\t\t\t\t\t\tintersectsRangeFunc,\r\n\t\t\t\t\t\tnodeScoreFunc,\r\n\t\t\t\t\t\tnodeIndexByteOffset,\r\n\t\t\t\t\t\tdepth + 1\r\n\t\t\t\t\t);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( c1StopTraversal ) return true;\r\n\r\n\t\t\t// Check box 2 intersection\r\n\t\t\t// cached box2 will have been overwritten by previous traversal\r\n\t\t\tbox2 = _box2;\r\n\t\t\tarrayToBox( BOUNDING_DATA_INDEX( c2 ), float32Array, box2 );\r\n\r\n\t\t\tconst isC2Leaf = IS_LEAF( c2 * 2, uint16Array );\r\n\t\t\tconst c2Intersection = intersectsBoundsFunc( box2, isC2Leaf, score2, depth + 1, nodeIndexByteOffset + c2 );\r\n\r\n\t\t\tlet c2StopTraversal;\r\n\t\t\tif ( c2Intersection === CONTAINED ) {\r\n\r\n\t\t\t\tconst offset = getLeftOffset( c2 );\r\n\t\t\t\tconst end = getRightEndOffset( c2 );\r\n\t\t\t\tconst count = end - offset;\r\n\r\n\t\t\t\tc2StopTraversal = intersectsRangeFunc( offset, count, true, depth + 1, nodeIndexByteOffset + c2, box2 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tc2StopTraversal =\r\n\t\t\t\t\tc2Intersection &&\r\n\t\t\t\t\tshapecastTraverse(\r\n\t\t\t\t\t\tc2,\r\n\t\t\t\t\t\tgeometry,\r\n\t\t\t\t\t\tintersectsBoundsFunc,\r\n\t\t\t\t\t\tintersectsRangeFunc,\r\n\t\t\t\t\t\tnodeScoreFunc,\r\n\t\t\t\t\t\tnodeIndexByteOffset,\r\n\t\t\t\t\t\tdepth + 1\r\n\t\t\t\t\t);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( c2StopTraversal ) return true;\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} )();\r\n\r\nexport const intersectsGeometry = ( function () {\r\n\r\n\tconst triangle = new ExtendedTriangle();\r\n\tconst triangle2 = new ExtendedTriangle();\r\n\tconst invertedMat = new Matrix4();\r\n\r\n\tconst obb = new OrientedBox();\r\n\tconst obb2 = new OrientedBox();\r\n\r\n\treturn function intersectsGeometry( nodeIndex32, geometry, otherGeometry, geometryToBvh, cachedObb = null ) {\r\n\r\n\t\tlet nodeIndex16 = nodeIndex32 * 2, float32Array = _float32Array, uint16Array = _uint16Array, uint32Array = _uint32Array;\r\n\r\n\t\tif ( cachedObb === null ) {\r\n\r\n\t\t\tif ( ! otherGeometry.boundingBox ) {\r\n\r\n\t\t\t\totherGeometry.computeBoundingBox();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tobb.set( otherGeometry.boundingBox.min, otherGeometry.boundingBox.max, geometryToBvh );\r\n\t\t\tcachedObb = obb;\r\n\r\n\t\t}\r\n\r\n\t\tconst isLeaf = IS_LEAF( nodeIndex16, uint16Array );\r\n\t\tif ( isLeaf ) {\r\n\r\n\t\t\tconst thisGeometry = geometry;\r\n\t\t\tconst thisIndex = thisGeometry.index;\r\n\t\t\tconst thisPos = thisGeometry.attributes.position;\r\n\r\n\t\t\tconst index = otherGeometry.index;\r\n\t\t\tconst pos = otherGeometry.attributes.position;\r\n\r\n\t\t\tconst offset = OFFSET( nodeIndex32, uint32Array );\r\n\t\t\tconst count = COUNT( nodeIndex16, uint16Array );\r\n\r\n\t\t\t// get the inverse of the geometry matrix so we can transform our triangles into the\r\n\t\t\t// geometry space we're trying to test. We assume there are fewer triangles being checked\r\n\t\t\t// here.\r\n\t\t\tinvertedMat.copy( geometryToBvh ).invert();\r\n\r\n\t\t\tif ( otherGeometry.boundsTree ) {\r\n\r\n\t\t\t\tarrayToBox( BOUNDING_DATA_INDEX( nodeIndex32 ), float32Array, obb2 );\r\n\t\t\t\tobb2.matrix.copy( invertedMat );\r\n\t\t\t\tobb2.needsUpdate = true;\r\n\r\n\t\t\t\tconst res = otherGeometry.boundsTree.shapecast( {\r\n\r\n\t\t\t\t\tintersectsBounds: box => obb2.intersectsBox( box ),\r\n\r\n\t\t\t\t\tintersectsTriangle: tri => {\r\n\r\n\t\t\t\t\t\ttri.a.applyMatrix4( geometryToBvh );\r\n\t\t\t\t\t\ttri.b.applyMatrix4( geometryToBvh );\r\n\t\t\t\t\t\ttri.c.applyMatrix4( geometryToBvh );\r\n\t\t\t\t\t\ttri.needsUpdate = true;\r\n\r\n\t\t\t\t\t\tfor ( let i = offset * 3, l = ( count + offset ) * 3; i < l; i += 3 ) {\r\n\r\n\t\t\t\t\t\t\t// this triangle needs to be transformed into the current BVH coordinate frame\r\n\t\t\t\t\t\t\tsetTriangle( triangle2, i, thisIndex, thisPos );\r\n\t\t\t\t\t\t\ttriangle2.needsUpdate = true;\r\n\t\t\t\t\t\t\tif ( tri.intersectsTriangle( triangle2 ) ) {\r\n\r\n\t\t\t\t\t\t\t\treturn true;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} );\r\n\r\n\t\t\t\treturn res;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tfor ( let i = offset * 3, l = ( count + offset * 3 ); i < l; i += 3 ) {\r\n\r\n\t\t\t\t\t// this triangle needs to be transformed into the current BVH coordinate frame\r\n\t\t\t\t\tsetTriangle( triangle, i, thisIndex, thisPos );\r\n\t\t\t\t\ttriangle.a.applyMatrix4( invertedMat );\r\n\t\t\t\t\ttriangle.b.applyMatrix4( invertedMat );\r\n\t\t\t\t\ttriangle.c.applyMatrix4( invertedMat );\r\n\t\t\t\t\ttriangle.needsUpdate = true;\r\n\r\n\t\t\t\t\tfor ( let i2 = 0, l2 = index.count; i2 < l2; i2 += 3 ) {\r\n\r\n\t\t\t\t\t\tsetTriangle( triangle2, i2, index, pos );\r\n\t\t\t\t\t\ttriangle2.needsUpdate = true;\r\n\r\n\t\t\t\t\t\tif ( triangle.intersectsTriangle( triangle2 ) ) {\r\n\r\n\t\t\t\t\t\t\treturn true;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconst left = nodeIndex32 + 8;\r\n\t\t\tconst right = uint32Array[ nodeIndex32 + 6 ];\r\n\r\n\t\t\tarrayToBox( BOUNDING_DATA_INDEX( left ), float32Array, boundingBox );\r\n\t\t\tconst leftIntersection =\r\n\t\t\t\tcachedObb.intersectsBox( boundingBox ) &&\r\n\t\t\t\tintersectsGeometry( left, geometry, otherGeometry, geometryToBvh, cachedObb );\r\n\r\n\t\t\tif ( leftIntersection ) return true;\r\n\r\n\t\t\tarrayToBox( BOUNDING_DATA_INDEX( right ), float32Array, boundingBox );\r\n\t\t\tconst rightIntersection =\r\n\t\t\t\tcachedObb.intersectsBox( boundingBox ) &&\r\n\t\t\t\tintersectsGeometry( right, geometry, otherGeometry, geometryToBvh, cachedObb );\r\n\r\n\t\t\tif ( rightIntersection ) return true;\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n} )();\r\n\r\nfunction intersectRay( nodeIndex32, array, ray, target ) {\r\n\r\n\tarrayToBox( nodeIndex32, array, boundingBox );\r\n\treturn ray.intersectBox( boundingBox, target );\r\n\r\n}\r\n\r\nconst bufferStack = [];\r\nlet _prevBuffer;\r\nlet _float32Array;\r\nlet _uint16Array;\r\nlet _uint32Array;\r\nexport function setBuffer( buffer ) {\r\n\r\n\tif ( _prevBuffer ) {\r\n\r\n\t\tbufferStack.push( _prevBuffer );\r\n\r\n\t}\r\n\r\n\t_prevBuffer = buffer;\r\n\t_float32Array = new Float32Array( buffer );\r\n\t_uint16Array = new Uint16Array( buffer );\r\n\t_uint32Array = new Uint32Array( buffer );\r\n\r\n}\r\n\r\nexport function clearBuffer() {\r\n\r\n\t_prevBuffer = null;\r\n\t_float32Array = null;\r\n\t_uint16Array = null;\r\n\t_uint32Array = null;\r\n\r\n\tif ( bufferStack.length ) {\r\n\r\n\t\tsetBuffer( bufferStack.pop() );\r\n\r\n\t}\r\n\r\n}\r\n","import { Vector3, BufferAttribute, Box3, FrontSide, Matrix4 } from 'three';\r\nimport { CENTER, BYTES_PER_NODE, IS_LEAFNODE_FLAG } from './Constants.js';\r\nimport { buildPackedTree } from './buildFunctions.js';\r\nimport {\r\n\traycast,\r\n\traycastFirst,\r\n\tshapecast,\r\n\tintersectsGeometry,\r\n\tsetBuffer,\r\n\tclearBuffer,\r\n} from './castFunctions.js';\r\nimport { OrientedBox } from '../math/OrientedBox.js';\r\nimport { ExtendedTriangle } from '../math/ExtendedTriangle.js';\r\nimport { PrimitivePool } from '../utils/PrimitivePool.js';\r\nimport { arrayToBox } from '../utils/ArrayBoxUtilities.js';\r\nimport { iterateOverTriangles, setTriangle } from '../utils/TriangleUtilities.js';\r\nimport { convertRaycastIntersect } from '../utils/GeometryRayIntersectUtilities.js';\r\n\r\nconst SKIP_GENERATION = Symbol( 'skip tree generation' );\r\n\r\nconst aabb = /* @__PURE__ */ new Box3();\r\nconst aabb2 = /* @__PURE__ */ new Box3();\r\nconst tempMatrix = /* @__PURE__ */ new Matrix4();\r\nconst obb = /* @__PURE__ */ new OrientedBox();\r\nconst obb2 = /* @__PURE__ */ new OrientedBox();\r\nconst temp = /* @__PURE__ */ new Vector3();\r\nconst temp1 = /* @__PURE__ */ new Vector3();\r\nconst temp2 = /* @__PURE__ */ new Vector3();\r\nconst temp3 = /* @__PURE__ */ new Vector3();\r\nconst temp4 = /* @__PURE__ */ new Vector3();\r\nconst tempBox = /* @__PURE__ */ new Box3();\r\nconst trianglePool = /* @__PURE__ */ new PrimitivePool( () => new ExtendedTriangle() );\r\n\r\nexport class MeshBVH {\r\n\r\n\tstatic serialize( bvh, options = {} ) {\r\n\r\n\t\tif ( options.isBufferGeometry ) {\r\n\r\n\t\t\tconsole.warn( 'MeshBVH.serialize: The arguments for the function have changed. See documentation for new signature.' );\r\n\r\n\t\t\treturn MeshBVH.serialize(\r\n\t\t\t\targuments[ 0 ],\r\n\t\t\t\t{\r\n\t\t\t\t\tcloneBuffers: arguments[ 2 ] === undefined ? true : arguments[ 2 ],\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toptions = {\r\n\t\t\tcloneBuffers: true,\r\n\t\t\t...options,\r\n\t\t};\r\n\r\n\t\tconst geometry = bvh.geometry;\r\n\t\tconst rootData = bvh._roots;\r\n\t\tconst indexAttribute = geometry.getIndex();\r\n\t\tlet result;\r\n\t\tif ( options.cloneBuffers ) {\r\n\r\n\t\t\tresult = {\r\n\t\t\t\troots: rootData.map( root => root.slice() ),\r\n\t\t\t\tindex: indexAttribute.array.slice(),\r\n\t\t\t};\r\n\r\n\t\t} else {\r\n\r\n\t\t\tresult = {\r\n\t\t\t\troots: rootData,\r\n\t\t\t\tindex: indexAttribute.array,\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\r\n\t}\r\n\r\n\tstatic deserialize( data, geometry, options = {} ) {\r\n\r\n\t\tif ( typeof options === 'boolean' ) {\r\n\r\n\t\t\tconsole.warn( 'MeshBVH.deserialize: The arguments for the function have changed. See documentation for new signature.' );\r\n\r\n\t\t\treturn MeshBVH.deserialize(\r\n\t\t\t\targuments[ 0 ],\r\n\t\t\t\targuments[ 1 ],\r\n\t\t\t\t{\r\n\t\t\t\t\tsetIndex: arguments[ 2 ] === undefined ? true : arguments[ 2 ],\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toptions = {\r\n\t\t\tsetIndex: true,\r\n\t\t\t...options,\r\n\t\t};\r\n\r\n\t\tconst { index, roots } = data;\r\n\t\tconst bvh = new MeshBVH( geometry, { ...options, [ SKIP_GENERATION ]: true } );\r\n\t\tbvh._roots = roots;\r\n\r\n\t\tif ( options.setIndex ) {\r\n\r\n\t\t\tconst indexAttribute = geometry.getIndex();\r\n\t\t\tif ( indexAttribute === null ) {\r\n\r\n\t\t\t\tconst newIndex = new BufferAttribute( data.index, 1, false );\r\n\t\t\t\tgeometry.setIndex( newIndex );\r\n\r\n\t\t\t} else if ( indexAttribute.array !== index ) {\r\n\r\n\t\t\t\tindexAttribute.array.set( index );\r\n\t\t\t\tindexAttribute.needsUpdate = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn bvh;\r\n\r\n\t}\r\n\r\n\tconstructor( geometry, options = {} ) {\r\n\r\n\t\tif ( ! geometry.isBufferGeometry ) {\r\n\r\n\t\t\tthrow new Error( 'MeshBVH: Only BufferGeometries are supported.' );\r\n\r\n\t\t} else if ( geometry.index && geometry.index.isInterleavedBufferAttribute ) {\r\n\r\n\t\t\tthrow new Error( 'MeshBVH: InterleavedBufferAttribute is not supported for the index attribute.' );\r\n\r\n\t\t}\r\n\r\n\t\t// default options\r\n\t\toptions = Object.assign( {\r\n\r\n\t\t\tstrategy: CENTER,\r\n\t\t\tmaxDepth: 40,\r\n\t\t\tmaxLeafTris: 10,\r\n\t\t\tverbose: true,\r\n\t\t\tuseSharedArrayBuffer: false,\r\n\t\t\tsetBoundingBox: true,\r\n\t\t\tonProgress: null,\r\n\r\n\t\t\t// undocumented options\r\n\r\n\t\t\t// Whether to skip generating the tree. Used for deserialization.\r\n\t\t\t[ SKIP_GENERATION ]: false,\r\n\r\n\t\t}, options );\r\n\r\n\t\tif ( options.useSharedArrayBuffer && typeof SharedArrayBuffer === 'undefined' ) {\r\n\r\n\t\t\tthrow new Error( 'MeshBVH: SharedArrayBuffer is not available.' );\r\n\r\n\t\t}\r\n\r\n\t\tthis._roots = null;\r\n\t\tif ( ! options[ SKIP_GENERATION ] ) {\r\n\r\n\t\t\tthis._roots = buildPackedTree( geometry, options );\r\n\r\n\t\t\tif ( ! geometry.boundingBox && options.setBoundingBox ) {\r\n\r\n\t\t\t\tgeometry.boundingBox = this.getBoundingBox( new Box3() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// retain references to the geometry so we can use them it without having to\r\n\t\t// take a geometry reference in every function.\r\n\t\tthis.geometry = geometry;\r\n\r\n\t}\r\n\r\n\trefit( nodeIndices = null ) {\r\n\r\n\t\tif ( nodeIndices && Array.isArray( nodeIndices ) ) {\r\n\r\n\t\t\tnodeIndices = new Set( nodeIndices );\r\n\r\n\t\t}\r\n\r\n\t\tconst geometry = this.geometry;\r\n\t\tconst indexArr = geometry.index.array;\r\n\t\tconst posAttr = geometry.attributes.position;\r\n\t\tconst posArr = posAttr.array;\r\n\r\n\t\t// support for an interleaved position buffer\r\n\t\tconst bufferOffset = posAttr.offset || 0;\r\n\t\tlet stride = 3;\r\n\t\tif ( posAttr.isInterleavedBufferAttribute ) {\r\n\r\n\t\t\tstride = posAttr.data.stride;\r\n\r\n\t\t}\r\n\r\n\t\tlet buffer, uint32Array, uint16Array, float32Array;\r\n\t\tlet byteOffset = 0;\r\n\t\tconst roots = this._roots;\r\n\t\tfor ( let i = 0, l = roots.length; i < l; i ++ ) {\r\n\r\n\t\t\tbuffer = roots[ i ];\r\n\t\t\tuint32Array = new Uint32Array( buffer );\r\n\t\t\tuint16Array = new Uint16Array( buffer );\r\n\t\t\tfloat32Array = new Float32Array( buffer );\r\n\r\n\t\t\t_traverse( 0, byteOffset );\r\n\t\t\tbyteOffset += buffer.byteLength;\r\n\r\n\t\t}\r\n\r\n\t\tfunction _traverse( node32Index, byteOffset, force = false ) {\r\n\r\n\t\t\tconst node16Index = node32Index * 2;\r\n\t\t\tconst isLeaf = uint16Array[ node16Index + 15 ] === IS_LEAFNODE_FLAG;\r\n\t\t\tif ( isLeaf ) {\r\n\r\n\t\t\t\tconst offset = uint32Array[ node32Index + 6 ];\r\n\t\t\t\tconst count = uint16Array[ node16Index + 14 ];\r\n\r\n\t\t\t\tlet minx = Infinity;\r\n\t\t\t\tlet miny = Infinity;\r\n\t\t\t\tlet minz = Infinity;\r\n\t\t\t\tlet maxx = - Infinity;\r\n\t\t\t\tlet maxy = - Infinity;\r\n\t\t\t\tlet maxz = - Infinity;\r\n\t\t\t\tfor ( let i = 3 * offset, l = 3 * ( offset + count ); i < l; i ++ ) {\r\n\r\n\t\t\t\t\tconst index = indexArr[ i ] * stride + bufferOffset;\r\n\t\t\t\t\tconst x = posArr[ index + 0 ];\r\n\t\t\t\t\tconst y = posArr[ index + 1 ];\r\n\t\t\t\t\tconst z = posArr[ index + 2 ];\r\n\r\n\t\t\t\t\tif ( x < minx ) minx = x;\r\n\t\t\t\t\tif ( x > maxx ) maxx = x;\r\n\r\n\t\t\t\t\tif ( y < miny ) miny = y;\r\n\t\t\t\t\tif ( y > maxy ) maxy = y;\r\n\r\n\t\t\t\t\tif ( z < minz ) minz = z;\r\n\t\t\t\t\tif ( z > maxz ) maxz = z;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (\r\n\t\t\t\t\tfloat32Array[ node32Index + 0 ] !== minx ||\r\n\t\t\t\t\tfloat32Array[ node32Index + 1 ] !== miny ||\r\n\t\t\t\t\tfloat32Array[ node32Index + 2 ] !== minz ||\r\n\r\n\t\t\t\t\tfloat32Array[ node32Index + 3 ] !== maxx ||\r\n\t\t\t\t\tfloat32Array[ node32Index + 4 ] !== maxy ||\r\n\t\t\t\t\tfloat32Array[ node32Index + 5 ] !== maxz\r\n\t\t\t\t) {\r\n\r\n\t\t\t\t\tfloat32Array[ node32Index + 0 ] = minx;\r\n\t\t\t\t\tfloat32Array[ node32Index + 1 ] = miny;\r\n\t\t\t\t\tfloat32Array[ node32Index + 2 ] = minz;\r\n\r\n\t\t\t\t\tfloat32Array[ node32Index + 3 ] = maxx;\r\n\t\t\t\t\tfloat32Array[ node32Index + 4 ] = maxy;\r\n\t\t\t\t\tfloat32Array[ node32Index + 5 ] = maxz;\r\n\r\n\t\t\t\t\treturn true;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconst left = node32Index + 8;\r\n\t\t\t\tconst right = uint32Array[ node32Index + 6 ];\r\n\r\n\t\t\t\t// the identifying node indices provided by the shapecast function include offsets of all\r\n\t\t\t\t// root buffers to guarantee they're unique between roots so offset left and right indices here.\r\n\t\t\t\tconst offsetLeft = left + byteOffset;\r\n\t\t\t\tconst offsetRight = right + byteOffset;\r\n\t\t\t\tlet forceChildren = force;\r\n\t\t\t\tlet includesLeft = false;\r\n\t\t\t\tlet includesRight = false;\r\n\r\n\t\t\t\tif ( nodeIndices ) {\r\n\r\n\t\t\t\t\t// if we see that neither the left or right child are included in the set that need to be updated\r\n\t\t\t\t\t// then we assume that all children need to be updated.\r\n\t\t\t\t\tif ( ! forceChildren ) {\r\n\r\n\t\t\t\t\t\tincludesLeft = nodeIndices.has( offsetLeft );\r\n\t\t\t\t\t\tincludesRight = nodeIndices.has( offsetRight );\r\n\t\t\t\t\t\tforceChildren = ! includesLeft && ! includesRight;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tincludesLeft = true;\r\n\t\t\t\t\tincludesRight = true;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst traverseLeft = forceChildren || includesLeft;\r\n\t\t\t\tconst traverseRight = forceChildren || includesRight;\r\n\r\n\t\t\t\tlet leftChange = false;\r\n\t\t\t\tif ( traverseLeft ) {\r\n\r\n\t\t\t\t\tleftChange = _traverse( left, byteOffset, forceChildren );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet rightChange = false;\r\n\t\t\t\tif ( traverseRight ) {\r\n\r\n\t\t\t\t\trightChange = _traverse( right, byteOffset, forceChildren );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst didChange = leftChange || rightChange;\r\n\t\t\t\tif ( didChange ) {\r\n\r\n\t\t\t\t\tfor ( let i = 0; i < 3; i ++ ) {\r\n\r\n\t\t\t\t\t\tconst lefti = left + i;\r\n\t\t\t\t\t\tconst righti = right + i;\r\n\t\t\t\t\t\tconst minLeftValue = float32Array[ lefti ];\r\n\t\t\t\t\t\tconst maxLeftValue = float32Array[ lefti + 3 ];\r\n\t\t\t\t\t\tconst minRightValue = float32Array[ righti ];\r\n\t\t\t\t\t\tconst maxRightValue = float32Array[ righti + 3 ];\r\n\r\n\t\t\t\t\t\tfloat32Array[ node32Index + i ] = minLeftValue < minRightValue ? minLeftValue : minRightValue;\r\n\t\t\t\t\t\tfloat32Array[ node32Index + i + 3 ] = maxLeftValue > maxRightValue ? maxLeftValue : maxRightValue;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn didChange;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\ttraverse( callback, rootIndex = 0 ) {\r\n\r\n\t\tconst buffer = this._roots[ rootIndex ];\r\n\t\tconst uint32Array = new Uint32Array( buffer );\r\n\t\tconst uint16Array = new Uint16Array( buffer );\r\n\t\t_traverse( 0 );\r\n\r\n\t\tfunction _traverse( node32Index, depth = 0 ) {\r\n\r\n\t\t\tconst node16Index = node32Index * 2;\r\n\t\t\tconst isLeaf = uint16Array[ node16Index + 15 ] === IS_LEAFNODE_FLAG;\r\n\t\t\tif ( isLeaf ) {\r\n\r\n\t\t\t\tconst offset = uint32Array[ node32Index + 6 ];\r\n\t\t\t\tconst count = uint16Array[ node16Index + 14 ];\r\n\t\t\t\tcallback( depth, isLeaf, new Float32Array( buffer, node32Index * 4, 6 ), offset, count );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// TODO: use node functions here\r\n\t\t\t\tconst left = node32Index + BYTES_PER_NODE / 4;\r\n\t\t\t\tconst right = uint32Array[ node32Index + 6 ];\r\n\t\t\t\tconst splitAxis = uint32Array[ node32Index + 7 ];\r\n\t\t\t\tconst stopTraversal = callback( depth, isLeaf, new Float32Array( buffer, node32Index * 4, 6 ), splitAxis );\r\n\r\n\t\t\t\tif ( ! stopTraversal ) {\r\n\r\n\t\t\t\t\t_traverse( left, depth + 1 );\r\n\t\t\t\t\t_traverse( right, depth + 1 );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/* Core Cast Functions */\r\n\traycast( ray, materialOrSide = FrontSide ) {\r\n\r\n\t\tconst roots = this._roots;\r\n\t\tconst geometry = this.geometry;\r\n\t\tconst intersects = [];\r\n\t\tconst isMaterial = materialOrSide.isMaterial;\r\n\t\tconst isArrayMaterial = Array.isArray( materialOrSide );\r\n\r\n\t\tconst groups = geometry.groups;\r\n\t\tconst side = isMaterial ? materialOrSide.side : materialOrSide;\r\n\t\tfor ( let i = 0, l = roots.length; i < l; i ++ ) {\r\n\r\n\t\t\tconst materialSide = isArrayMaterial ? materialOrSide[ groups[ i ].materialIndex ].side : side;\r\n\t\t\tconst startCount = intersects.length;\r\n\r\n\t\t\tsetBuffer( roots[ i ] );\r\n\t\t\traycast( 0, geometry, materialSide, ray, intersects );\r\n\t\t\tclearBuffer();\r\n\r\n\t\t\tif ( isArrayMaterial ) {\r\n\r\n\t\t\t\tconst materialIndex = groups[ i ].materialIndex;\r\n\t\t\t\tfor ( let j = startCount, jl = intersects.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\tintersects[ j ].face.materialIndex = materialIndex;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn intersects;\r\n\r\n\t}\r\n\r\n\traycastFirst( ray, materialOrSide = FrontSide ) {\r\n\r\n\t\tconst roots = this._roots;\r\n\t\tconst geometry = this.geometry;\r\n\t\tconst isMaterial = materialOrSide.isMaterial;\r\n\t\tconst isArrayMaterial = Array.isArray( materialOrSide );\r\n\r\n\t\tlet closestResult = null;\r\n\r\n\t\tconst groups = geometry.groups;\r\n\t\tconst side = isMaterial ? materialOrSide.side : materialOrSide;\r\n\t\tfor ( let i = 0, l = roots.length; i < l; i ++ ) {\r\n\r\n\t\t\tconst materialSide = isArrayMaterial ? materialOrSide[ groups[ i ].materialIndex ].side : side;\r\n\r\n\t\t\tsetBuffer( roots[ i ] );\r\n\t\t\tconst result = raycastFirst( 0, geometry, materialSide, ray );\r\n\t\t\tclearBuffer();\r\n\r\n\t\t\tif ( result != null && ( closestResult == null || result.distance < closestResult.distance ) ) {\r\n\r\n\t\t\t\tclosestResult = result;\r\n\t\t\t\tif ( isArrayMaterial ) {\r\n\r\n\t\t\t\t\tresult.face.materialIndex = groups[ i ].materialIndex;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn closestResult;\r\n\r\n\t}\r\n\r\n\tintersectsGeometry( otherGeometry, geomToMesh ) {\r\n\r\n\t\tconst geometry = this.geometry;\r\n\t\tlet result = false;\r\n\t\tfor ( const root of this._roots ) {\r\n\r\n\t\t\tsetBuffer( root );\r\n\t\t\tresult = intersectsGeometry( 0, geometry, otherGeometry, geomToMesh );\r\n\t\t\tclearBuffer();\r\n\r\n\t\t\tif ( result ) {\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\r\n\t}\r\n\r\n\tshapecast( callbacks, _intersectsTriangleFunc, _orderNodesFunc ) {\r\n\r\n\t\tconst geometry = this.geometry;\r\n\t\tif ( callbacks instanceof Function ) {\r\n\r\n\t\t\tif ( _intersectsTriangleFunc ) {\r\n\r\n\t\t\t\t// Support the previous function signature that provided three sequential index buffer\r\n\t\t\t\t// indices here.\r\n\t\t\t\tconst originalTriangleFunc = _intersectsTriangleFunc;\r\n\t\t\t\t_intersectsTriangleFunc = ( tri, index, contained, depth ) => {\r\n\r\n\t\t\t\t\tconst i3 = index * 3;\r\n\t\t\t\t\treturn originalTriangleFunc( tri, i3, i3 + 1, i3 + 2, contained, depth );\r\n\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t}\r\n\r\n\t\t\tcallbacks = {\r\n\r\n\t\t\t\tboundsTraverseOrder: _orderNodesFunc,\r\n\t\t\t\tintersectsBounds: callbacks,\r\n\t\t\t\tintersectsTriangle: _intersectsTriangleFunc,\r\n\t\t\t\tintersectsRange: null,\r\n\r\n\t\t\t};\r\n\r\n\t\t\tconsole.warn( 'MeshBVH: Shapecast function signature has changed and now takes an object of callbacks as a second argument. See docs for new signature.' );\r\n\r\n\t\t}\r\n\r\n\t\tconst triangle = trianglePool.getPrimitive();\r\n\t\tlet {\r\n\t\t\tboundsTraverseOrder,\r\n\t\t\tintersectsBounds,\r\n\t\t\tintersectsRange,\r\n\t\t\tintersectsTriangle,\r\n\t\t} = callbacks;\r\n\r\n\t\tif ( intersectsRange && intersectsTriangle ) {\r\n\r\n\t\t\tconst originalIntersectsRange = intersectsRange;\r\n\t\t\tintersectsRange = ( offset, count, contained, depth, nodeIndex ) => {\r\n\r\n\t\t\t\tif ( ! originalIntersectsRange( offset, count, contained, depth, nodeIndex ) ) {\r\n\r\n\t\t\t\t\treturn iterateOverTriangles( offset, count, geometry, intersectsTriangle, contained, depth, triangle );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn true;\r\n\r\n\t\t\t};\r\n\r\n\t\t} else if ( ! intersectsRange ) {\r\n\r\n\t\t\tif ( intersectsTriangle ) {\r\n\r\n\t\t\t\tintersectsRange = ( offset, count, contained, depth ) => {\r\n\r\n\t\t\t\t\treturn iterateOverTriangles( offset, count, geometry, intersectsTriangle, contained, depth, triangle );\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tintersectsRange = ( offset, count, contained ) => {\r\n\r\n\t\t\t\t\treturn contained;\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tlet result = false;\r\n\t\tlet byteOffset = 0;\r\n\t\tfor ( const root of this._roots ) {\r\n\r\n\t\t\tsetBuffer( root );\r\n\t\t\tresult = shapecast( 0, geometry, intersectsBounds, intersectsRange, boundsTraverseOrder, byteOffset );\r\n\t\t\tclearBuffer();\r\n\r\n\t\t\tif ( result ) {\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tbyteOffset += root.byteLength;\r\n\r\n\t\t}\r\n\r\n\t\ttrianglePool.releasePrimitive( triangle );\r\n\r\n\t\treturn result;\r\n\r\n\t}\r\n\r\n\tbvhcast( otherBvh, matrixToLocal, callbacks ) {\r\n\r\n\t\t// BVHCast function for intersecting two BVHs against each other. Ultimately just uses two recursive shapecast calls rather\r\n\t\t// than an approach that walks down the tree (see bvhcast.js file for more info).\r\n\r\n\t\tlet {\r\n\t\t\tintersectsRanges,\r\n\t\t\tintersectsTriangles,\r\n\t\t} = callbacks;\r\n\r\n\t\tconst indexAttr = this.geometry.index;\r\n\t\tconst positionAttr = this.geometry.attributes.position;\r\n\r\n\t\tconst otherIndexAttr = otherBvh.geometry.index;\r\n\t\tconst otherPositionAttr = otherBvh.geometry.attributes.position;\r\n\r\n\t\ttempMatrix.copy( matrixToLocal ).invert();\r\n\r\n\t\tconst triangle = trianglePool.getPrimitive();\r\n\t\tconst triangle2 = trianglePool.getPrimitive();\r\n\r\n\t\tif ( intersectsTriangles ) {\r\n\r\n\t\t\tfunction iterateOverDoubleTriangles( offset1, count1, offset2, count2, depth1, index1, depth2, index2 ) {\r\n\r\n\t\t\t\tfor ( let i2 = offset2, l2 = offset2 + count2; i2 < l2; i2 ++ ) {\r\n\r\n\t\t\t\t\tsetTriangle( triangle2, i2 * 3, otherIndexAttr, otherPositionAttr );\r\n\t\t\t\t\ttriangle2.a.applyMatrix4( matrixToLocal );\r\n\t\t\t\t\ttriangle2.b.applyMatrix4( matrixToLocal );\r\n\t\t\t\t\ttriangle2.c.applyMatrix4( matrixToLocal );\r\n\t\t\t\t\ttriangle2.needsUpdate = true;\r\n\r\n\t\t\t\t\tfor ( let i1 = offset1, l1 = offset1 + count1; i1 < l1; i1 ++ ) {\r\n\r\n\t\t\t\t\t\tsetTriangle( triangle, i1 * 3, indexAttr, positionAttr );\r\n\t\t\t\t\t\ttriangle.needsUpdate = true;\r\n\r\n\t\t\t\t\t\tif ( intersectsTriangles( triangle, triangle2, i1, i2, depth1, index1, depth2, index2 ) ) {\r\n\r\n\t\t\t\t\t\t\treturn true;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn false;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( intersectsRanges ) {\r\n\r\n\t\t\t\tconst originalIntersectsRanges = intersectsRanges;\r\n\t\t\t\tintersectsRanges = function ( offset1, count1, offset2, count2, depth1, index1, depth2, index2 ) {\r\n\r\n\t\t\t\t\tif ( ! originalIntersectsRanges( offset1, count1, offset2, count2, depth1, index1, depth2, index2 ) ) {\r\n\r\n\t\t\t\t\t\treturn iterateOverDoubleTriangles( offset1, count1, offset2, count2, depth1, index1, depth2, index2 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn true;\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tintersectsRanges = iterateOverDoubleTriangles;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\totherBvh.getBoundingBox( aabb2 );\r\n\t\taabb2.applyMatrix4( matrixToLocal );\r\n\t\tconst result = this.shapecast( {\r\n\r\n\t\t\tintersectsBounds: box => aabb2.intersectsBox( box ),\r\n\r\n\t\t\tintersectsRange: ( offset1, count1, contained, depth1, nodeIndex1, box ) => {\r\n\r\n\t\t\t\taabb.copy( box );\r\n\t\t\t\taabb.applyMatrix4( tempMatrix );\r\n\t\t\t\treturn otherBvh.shapecast( {\r\n\r\n\t\t\t\t\tintersectsBounds: box => aabb.intersectsBox( box ),\r\n\r\n\t\t\t\t\tintersectsRange: ( offset2, count2, contained, depth2, nodeIndex2 ) => {\r\n\r\n\t\t\t\t\t\treturn intersectsRanges( offset1, count1, offset2, count2, depth1, nodeIndex1, depth2, nodeIndex2 );\r\n\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t} );\r\n\r\n\t\t\t}\r\n\r\n\t\t} );\r\n\r\n\t\ttrianglePool.releasePrimitive( triangle );\r\n\t\ttrianglePool.releasePrimitive( triangle2 );\r\n\t\treturn result;\r\n\r\n\t}\r\n\r\n\t/* Derived Cast Functions */\r\n\tintersectsBox( box, boxToMesh ) {\r\n\r\n\t\tobb.set( box.min, box.max, boxToMesh );\r\n\t\tobb.needsUpdate = true;\r\n\r\n\t\treturn this.shapecast(\r\n\t\t\t{\r\n\t\t\t\tintersectsBounds: box => obb.intersectsBox( box ),\r\n\t\t\t\tintersectsTriangle: tri => obb.intersectsTriangle( tri )\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t}\r\n\r\n\tintersectsSphere( sphere ) {\r\n\r\n\t\treturn this.shapecast(\r\n\t\t\t{\r\n\t\t\t\tintersectsBounds: box => sphere.intersectsBox( box ),\r\n\t\t\t\tintersectsTriangle: tri => tri.intersectsSphere( sphere )\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t}\r\n\r\n\tclosestPointToGeometry( otherGeometry, geometryToBvh, target1 = { }, target2 = { }, minThreshold = 0, maxThreshold = Infinity ) {\r\n\r\n\t\tif ( ! otherGeometry.boundingBox ) {\r\n\r\n\t\t\totherGeometry.computeBoundingBox();\r\n\r\n\t\t}\r\n\r\n\t\tobb.set( otherGeometry.boundingBox.min, otherGeometry.boundingBox.max, geometryToBvh );\r\n\t\tobb.needsUpdate = true;\r\n\r\n\t\tconst geometry = this.geometry;\r\n\t\tconst pos = geometry.attributes.position;\r\n\t\tconst index = geometry.index;\r\n\t\tconst otherPos = otherGeometry.attributes.position;\r\n\t\tconst otherIndex = otherGeometry.index;\r\n\t\tconst triangle = trianglePool.getPrimitive();\r\n\t\tconst triangle2 = trianglePool.getPrimitive();\r\n\r\n\t\tlet tempTarget1 = temp1;\r\n\t\tlet tempTargetDest1 = temp2;\r\n\t\tlet tempTarget2 = null;\r\n\t\tlet tempTargetDest2 = null;\r\n\r\n\t\tif ( target2 ) {\r\n\r\n\t\t\ttempTarget2 = temp3;\r\n\t\t\ttempTargetDest2 = temp4;\r\n\r\n\t\t}\r\n\r\n\t\tlet closestDistance = Infinity;\r\n\t\tlet closestDistanceTriIndex = null;\r\n\t\tlet closestDistanceOtherTriIndex = null;\r\n\t\ttempMatrix.copy( geometryToBvh ).invert();\r\n\t\tobb2.matrix.copy( tempMatrix );\r\n\t\tthis.shapecast(\r\n\t\t\t{\r\n\r\n\t\t\t\tboundsTraverseOrder: box => {\r\n\r\n\t\t\t\t\treturn obb.distanceToBox( box );\r\n\r\n\t\t\t\t},\r\n\r\n\t\t\t\tintersectsBounds: ( box, isLeaf, score ) => {\r\n\r\n\t\t\t\t\tif ( score < closestDistance && score < maxThreshold ) {\r\n\r\n\t\t\t\t\t\t// if we know the triangles of this bounds will be intersected next then\r\n\t\t\t\t\t\t// save the bounds to use during triangle checks.\r\n\t\t\t\t\t\tif ( isLeaf ) {\r\n\r\n\t\t\t\t\t\t\tobb2.min.copy( box.min );\r\n\t\t\t\t\t\t\tobb2.max.copy( box.max );\r\n\t\t\t\t\t\t\tobb2.needsUpdate = true;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn true;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t},\r\n\r\n\t\t\t\tintersectsRange: ( offset, count ) => {\r\n\r\n\t\t\t\t\tif ( otherGeometry.boundsTree ) {\r\n\r\n\t\t\t\t\t\t// if the other geometry has a bvh then use the accelerated path where we use shapecast to find\r\n\t\t\t\t\t\t// the closest bounds in the other geometry to check.\r\n\t\t\t\t\t\treturn otherGeometry.boundsTree.shapecast( {\r\n\t\t\t\t\t\t\tboundsTraverseOrder: box => {\r\n\r\n\t\t\t\t\t\t\t\treturn obb2.distanceToBox( box );\r\n\r\n\t\t\t\t\t\t\t},\r\n\r\n\t\t\t\t\t\t\tintersectsBounds: ( box, isLeaf, score ) => {\r\n\r\n\t\t\t\t\t\t\t\treturn score < closestDistance && score < maxThreshold;\r\n\r\n\t\t\t\t\t\t\t},\r\n\r\n\t\t\t\t\t\t\tintersectsRange: ( otherOffset, otherCount ) => {\r\n\r\n\t\t\t\t\t\t\t\tfor ( let i2 = otherOffset * 3, l2 = ( otherOffset + otherCount ) * 3; i2 < l2; i2 += 3 ) {\r\n\r\n\t\t\t\t\t\t\t\t\tsetTriangle( triangle2, i2, otherIndex, otherPos );\r\n\t\t\t\t\t\t\t\t\ttriangle2.a.applyMatrix4( geometryToBvh );\r\n\t\t\t\t\t\t\t\t\ttriangle2.b.applyMatrix4( geometryToBvh );\r\n\t\t\t\t\t\t\t\t\ttriangle2.c.applyMatrix4( geometryToBvh );\r\n\t\t\t\t\t\t\t\t\ttriangle2.needsUpdate = true;\r\n\r\n\t\t\t\t\t\t\t\t\tfor ( let i = offset * 3, l = ( offset + count ) * 3; i < l; i += 3 ) {\r\n\r\n\t\t\t\t\t\t\t\t\t\tsetTriangle( triangle, i, index, pos );\r\n\t\t\t\t\t\t\t\t\t\ttriangle.needsUpdate = true;\r\n\r\n\t\t\t\t\t\t\t\t\t\tconst dist = triangle.distanceToTriangle( triangle2, tempTarget1, tempTarget2 );\r\n\t\t\t\t\t\t\t\t\t\tif ( dist < closestDistance ) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\ttempTargetDest1.copy( tempTarget1 );\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tif ( tempTargetDest2 ) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\ttempTargetDest2.copy( tempTarget2 );\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tclosestDistance = dist;\r\n\t\t\t\t\t\t\t\t\t\t\tclosestDistanceTriIndex = i / 3;\r\n\t\t\t\t\t\t\t\t\t\t\tclosestDistanceOtherTriIndex = i2 / 3;\r\n\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t// stop traversal if we find a point that's under the given threshold\r\n\t\t\t\t\t\t\t\t\t\tif ( dist < minThreshold ) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\treturn true;\r\n\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t} );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t// If no bounds tree then we'll just check every triangle.\r\n\t\t\t\t\t\tconst triCount = otherIndex ? otherIndex.count : otherPos.count;\r\n\t\t\t\t\t\tfor ( let i2 = 0, l2 = triCount; i2 < l2; i2 += 3 ) {\r\n\r\n\t\t\t\t\t\t\tsetTriangle( triangle2, i2, otherIndex, otherPos );\r\n\t\t\t\t\t\t\ttriangle2.a.applyMatrix4( geometryToBvh );\r\n\t\t\t\t\t\t\ttriangle2.b.applyMatrix4( geometryToBvh );\r\n\t\t\t\t\t\t\ttriangle2.c.applyMatrix4( geometryToBvh );\r\n\t\t\t\t\t\t\ttriangle2.needsUpdate = true;\r\n\r\n\t\t\t\t\t\t\tfor ( let i = offset * 3, l = ( offset + count ) * 3; i < l; i += 3 ) {\r\n\r\n\t\t\t\t\t\t\t\tsetTriangle( triangle, i, index, pos );\r\n\t\t\t\t\t\t\t\ttriangle.needsUpdate = true;\r\n\r\n\t\t\t\t\t\t\t\tconst dist = triangle.distanceToTriangle( triangle2, tempTarget1, tempTarget2 );\r\n\t\t\t\t\t\t\t\tif ( dist < closestDistance ) {\r\n\r\n\t\t\t\t\t\t\t\t\ttempTargetDest1.copy( tempTarget1 );\r\n\r\n\t\t\t\t\t\t\t\t\tif ( tempTargetDest2 ) {\r\n\r\n\t\t\t\t\t\t\t\t\t\ttempTargetDest2.copy( tempTarget2 );\r\n\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tclosestDistance = dist;\r\n\t\t\t\t\t\t\t\t\tclosestDistanceTriIndex = i / 3;\r\n\t\t\t\t\t\t\t\t\tclosestDistanceOtherTriIndex = i2 / 3;\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t// stop traversal if we find a point that's under the given threshold\r\n\t\t\t\t\t\t\t\tif ( dist < minThreshold ) {\r\n\r\n\t\t\t\t\t\t\t\t\treturn true;\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t},\r\n\r\n\t\t\t}\r\n\r\n\t\t);\r\n\r\n\t\ttrianglePool.releasePrimitive( triangle );\r\n\t\ttrianglePool.releasePrimitive( triangle2 );\r\n\r\n\t\tif ( closestDistance === Infinity ) return null;\r\n\r\n\t\tif ( ! target1.point ) target1.point = tempTargetDest1.clone();\r\n\t\telse target1.point.copy( tempTargetDest1 );\r\n\t\ttarget1.distance = closestDistance,\r\n\t\ttarget1.faceIndex = closestDistanceTriIndex;\r\n\r\n\t\tif ( target2 ) {\r\n\r\n\t\t\tif ( ! target2.point ) target2.point = tempTargetDest2.clone();\r\n\t\t\telse target2.point.copy( tempTargetDest2 );\r\n\t\t\ttarget2.point.applyMatrix4( tempMatrix );\r\n\t\t\ttempTargetDest1.applyMatrix4( tempMatrix );\r\n\t\t\ttarget2.distance = tempTargetDest1.sub( target2.point ).length();\r\n\t\t\ttarget2.faceIndex = closestDistanceOtherTriIndex;\r\n\r\n\t\t}\r\n\r\n\t\treturn target1;\r\n\r\n\t}\r\n\r\n\tclosestPointToPoint( point, target = { }, minThreshold = 0, maxThreshold = Infinity ) {\r\n\r\n\t\t// early out if under minThreshold\r\n\t\t// skip checking if over maxThreshold\r\n\t\t// set minThreshold = maxThreshold to quickly check if a point is within a threshold\r\n\t\t// returns Infinity if no value found\r\n\t\tconst minThresholdSq = minThreshold * minThreshold;\r\n\t\tconst maxThresholdSq = maxThreshold * maxThreshold;\r\n\t\tlet closestDistanceSq = Infinity;\r\n\t\tlet closestDistanceTriIndex = null;\r\n\t\tthis.shapecast(\r\n\r\n\t\t\t{\r\n\r\n\t\t\t\tboundsTraverseOrder: box => {\r\n\r\n\t\t\t\t\ttemp.copy( point ).clamp( box.min, box.max );\r\n\t\t\t\t\treturn temp.distanceToSquared( point );\r\n\r\n\t\t\t\t},\r\n\r\n\t\t\t\tintersectsBounds: ( box, isLeaf, score ) => {\r\n\r\n\t\t\t\t\treturn score < closestDistanceSq && score < maxThresholdSq;\r\n\r\n\t\t\t\t},\r\n\r\n\t\t\t\tintersectsTriangle: ( tri, triIndex ) => {\r\n\r\n\t\t\t\t\ttri.closestPointToPoint( point, temp );\r\n\t\t\t\t\tconst distSq = point.distanceToSquared( temp );\r\n\t\t\t\t\tif ( distSq < closestDistanceSq ) {\r\n\r\n\t\t\t\t\t\ttemp1.copy( temp );\r\n\t\t\t\t\t\tclosestDistanceSq = distSq;\r\n\t\t\t\t\t\tclosestDistanceTriIndex = triIndex;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( distSq < minThresholdSq ) {\r\n\r\n\t\t\t\t\t\treturn true;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t},\r\n\r\n\t\t\t}\r\n\r\n\t\t);\r\n\r\n\t\tif ( closestDistanceSq === Infinity ) return null;\r\n\r\n\t\tconst closestDistance = Math.sqrt( closestDistanceSq );\r\n\r\n\t\tif ( ! target.point ) target.point = temp1.clone();\r\n\t\telse target.point.copy( temp1 );\r\n\t\ttarget.distance = closestDistance,\r\n\t\ttarget.faceIndex = closestDistanceTriIndex;\r\n\r\n\t\treturn target;\r\n\r\n\t}\r\n\r\n\tgetBoundingBox( target ) {\r\n\r\n\t\ttarget.makeEmpty();\r\n\r\n\t\tconst roots = this._roots;\r\n\t\troots.forEach( buffer => {\r\n\r\n\t\t\tarrayToBox( 0, new Float32Array( buffer ), tempBox );\r\n\t\t\ttarget.union( tempBox );\r\n\r\n\t\t} );\r\n\r\n\t\treturn target;\r\n\r\n\t}\r\n\r\n}\r\n\r\n// Deprecation\r\nconst originalRaycast = MeshBVH.prototype.raycast;\r\nMeshBVH.prototype.raycast = function ( ...args ) {\r\n\r\n\tif ( args[ 0 ].isMesh ) {\r\n\r\n\t\tconsole.warn( 'MeshBVH: The function signature and results frame for \"raycast\" has changed. See docs for new signature.' );\r\n\t\tconst [\r\n\t\t\tmesh, raycaster, ray, intersects,\r\n\t\t] = args;\r\n\r\n\t\tconst results = originalRaycast.call( this, ray, mesh.material );\r\n\t\tresults.forEach( hit => {\r\n\r\n\t\t\thit = convertRaycastIntersect( hit, mesh, raycaster );\r\n\t\t\tif ( hit ) {\r\n\r\n\t\t\t\tintersects.push( hit );\r\n\r\n\t\t\t}\r\n\r\n\t\t} );\r\n\r\n\t\treturn intersects;\r\n\r\n\t} else {\r\n\r\n\t\treturn originalRaycast.apply( this, args );\r\n\r\n\t}\r\n\r\n};\r\n\r\nconst originalRaycastFirst = MeshBVH.prototype.raycastFirst;\r\nMeshBVH.prototype.raycastFirst = function ( ...args ) {\r\n\r\n\tif ( args[ 0 ].isMesh ) {\r\n\r\n\t\tconsole.warn( 'MeshBVH: The function signature and results frame for \"raycastFirst\" has changed. See docs for new signature.' );\r\n\t\tconst [\r\n\t\t\tmesh, raycaster, ray,\r\n\t\t] = args;\r\n\r\n\t\treturn convertRaycastIntersect( originalRaycastFirst.call( this, ray, mesh.material ), mesh, raycaster );\r\n\r\n\t} else {\r\n\r\n\t\treturn originalRaycastFirst.apply( this, args );\r\n\r\n\t}\r\n\r\n};\r\n\r\nconst originalClosestPointToPoint = MeshBVH.prototype.closestPointToPoint;\r\nMeshBVH.prototype.closestPointToPoint = function ( ...args ) {\r\n\r\n\r\n\tif ( args[ 0 ].isMesh ) {\r\n\r\n\t\tconsole.warn( 'MeshBVH: The function signature and results frame for \"closestPointToPoint\" has changed. See docs for new signature.' );\r\n\r\n\t\targs.unshift();\r\n\r\n\t\tconst target = args[ 1 ];\r\n\t\tconst result = {};\r\n\t\targs[ 1 ] = result;\r\n\r\n\t\toriginalClosestPointToPoint.apply( this, args );\r\n\r\n\t\tif ( target ) {\r\n\r\n\t\t\ttarget.copy( result.point );\r\n\r\n\t\t}\r\n\r\n\t\treturn result.distance;\r\n\r\n\t} else {\r\n\r\n\t\treturn originalClosestPointToPoint.apply( this, args );\r\n\r\n\t}\r\n\r\n};\r\n\r\nconst originalClosestPointToGeometry = MeshBVH.prototype.closestPointToGeometry;\r\nMeshBVH.prototype.closestPointToGeometry = function ( ...args ) {\r\n\r\n\tconst target1 = args[ 2 ];\r\n\tconst target2 = args[ 3 ];\r\n\tif ( target1 && target1.isVector3 || target2 && target2.isVector3 ) {\r\n\r\n\t\tconsole.warn( 'MeshBVH: The function signature and results frame for \"closestPointToGeometry\" has changed. See docs for new signature.' );\r\n\r\n\t\tconst result1 = {};\r\n\t\tconst result2 = {};\r\n\t\tconst geometryToBvh = args[ 1 ];\r\n\t\targs[ 2 ] = result1;\r\n\t\targs[ 3 ] = result2;\r\n\r\n\t\toriginalClosestPointToGeometry.apply( this, args );\r\n\r\n\t\tif ( target1 ) {\r\n\r\n\t\t\ttarget1.copy( result1.point );\r\n\r\n\t\t}\r\n\r\n\t\tif ( target2 ) {\r\n\r\n\t\t\ttarget2.copy( result2.point ).applyMatrix4( geometryToBvh );\r\n\r\n\t\t}\r\n\r\n\t\treturn result1.distance;\r\n\r\n\t} else {\r\n\r\n\t\treturn originalClosestPointToGeometry.apply( this, args );\r\n\r\n\t}\r\n\r\n};\r\n\r\nconst originalRefit = MeshBVH.prototype.refit;\r\nMeshBVH.prototype.refit = function ( ...args ) {\r\n\r\n\tconst nodeIndices = args[ 0 ];\r\n\tconst terminationIndices = args[ 1 ];\r\n\tif ( terminationIndices && ( terminationIndices instanceof Set || Array.isArray( terminationIndices ) ) ) {\r\n\r\n\t\tconsole.warn( 'MeshBVH: The function signature for \"refit\" has changed. See docs for new signature.' );\r\n\r\n\t\tconst newNodeIndices = new Set();\r\n\t\tterminationIndices.forEach( v => newNodeIndices.add( v ) );\r\n\t\tif ( nodeIndices ) {\r\n\r\n\t\t\tnodeIndices.forEach( v => newNodeIndices.add( v ) );\r\n\r\n\t\t}\r\n\r\n\t\toriginalRefit.call( this, newNodeIndices );\r\n\r\n\t} else {\r\n\r\n\t\toriginalRefit.apply( this, args );\r\n\r\n\t}\r\n\r\n};\r\n\r\n[\r\n\t'intersectsGeometry',\r\n\t'shapecast',\r\n\t'intersectsBox',\r\n\t'intersectsSphere',\r\n].forEach( name => {\r\n\r\n\tconst originalFunc = MeshBVH.prototype[ name ];\r\n\tMeshBVH.prototype[ name ] = function ( ...args ) {\r\n\r\n\t\tif ( args[ 0 ] === null || args[ 0 ].isMesh ) {\r\n\r\n\t\t\targs.shift();\r\n\t\t\tconsole.warn( `MeshBVH: The function signature for \"${ name }\" has changed and no longer takes Mesh. See docs for new signature.` );\r\n\r\n\t\t}\r\n\r\n\t\treturn originalFunc.apply( this, args );\r\n\r\n\t};\r\n\r\n} );\r\n","import { Ray, Matrix4, Mesh } from 'three';\r\nimport { convertRaycastIntersect } from './GeometryRayIntersectUtilities.js';\r\nimport { MeshBVH } from '../core/MeshBVH.js';\r\n\r\nconst ray = /* @__PURE__ */ new Ray();\r\nconst tmpInverseMatrix = /* @__PURE__ */ new Matrix4();\r\nconst origMeshRaycastFunc = Mesh.prototype.raycast;\r\n\r\nexport function acceleratedRaycast( raycaster, intersects ) {\r\n\r\n\tif ( this.geometry.boundsTree ) {\r\n\r\n\t\tif ( this.material === undefined ) return;\r\n\r\n\t\ttmpInverseMatrix.copy( this.matrixWorld ).invert();\r\n\t\tray.copy( raycaster.ray ).applyMatrix4( tmpInverseMatrix );\r\n\r\n\t\tconst bvh = this.geometry.boundsTree;\r\n\t\tif ( raycaster.firstHitOnly === true ) {\r\n\r\n\t\t\tconst hit = convertRaycastIntersect( bvh.raycastFirst( ray, this.material ), this, raycaster );\r\n\t\t\tif ( hit ) {\r\n\r\n\t\t\t\tintersects.push( hit );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconst hits = bvh.raycast( ray, this.material );\r\n\t\t\tfor ( let i = 0, l = hits.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tconst hit = convertRaycastIntersect( hits[ i ], this, raycaster );\r\n\t\t\t\tif ( hit ) {\r\n\r\n\t\t\t\t\tintersects.push( hit );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\torigMeshRaycastFunc.call( this, raycaster, intersects );\r\n\r\n\t}\r\n\r\n}\r\n\r\nexport function computeBoundsTree( options ) {\r\n\r\n\tthis.boundsTree = new MeshBVH( this, options );\r\n\treturn this.boundsTree;\r\n\r\n}\r\n\r\nexport function disposeBoundsTree() {\r\n\r\n\tthis.boundsTree = null;\r\n\r\n}\r\n","import * as React from 'react';\nimport { acceleratedRaycast, computeBoundsTree, disposeBoundsTree } from 'three-mesh-bvh';\n\nfunction useBVH(mesh, options) {\n  React.useEffect(() => {\n    if (mesh.current) {\n      mesh.current.raycast = acceleratedRaycast;\n      const geometry = mesh.current.geometry;\n      geometry.computeBoundsTree = computeBoundsTree;\n      geometry.disposeBoundsTree = disposeBoundsTree;\n      geometry.computeBoundsTree(options);\n      return () => {\n        if (geometry.boundsTree) {\n          geometry.disposeBoundsTree();\n        }\n      };\n    }\n  }, [mesh, options]);\n}\n\nexport { useBVH };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom/client';\nimport { Vector3, OrthographicCamera, PerspectiveCamera } from 'three';\nimport { useThree, useFrame } from '@react-three/fiber';\n\nconst v1 = new Vector3();\nconst v2 = new Vector3();\nconst v3 = new Vector3();\n\nfunction defaultCalculatePosition(el, camera, size) {\n  const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n  objectPos.project(camera);\n  const widthHalf = size.width / 2;\n  const heightHalf = size.height / 2;\n  return [objectPos.x * widthHalf + widthHalf, -(objectPos.y * heightHalf) + heightHalf];\n}\n\nfunction isObjectBehindCamera(el, camera) {\n  const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n  const cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n  const deltaCamObj = objectPos.sub(cameraPos);\n  const camDir = camera.getWorldDirection(v3);\n  return deltaCamObj.angleTo(camDir) > Math.PI / 2;\n}\n\nfunction isObjectVisible(el, camera, raycaster, occlude) {\n  const elPos = v1.setFromMatrixPosition(el.matrixWorld);\n  const screenPos = elPos.clone();\n  screenPos.project(camera);\n  raycaster.setFromCamera(screenPos, camera);\n  const intersects = raycaster.intersectObjects(occlude, true);\n\n  if (intersects.length) {\n    const intersectionDistance = intersects[0].distance;\n    const pointDistance = elPos.distanceTo(raycaster.ray.origin);\n    return pointDistance < intersectionDistance;\n  }\n\n  return true;\n}\n\nfunction objectScale(el, camera) {\n  if (camera instanceof OrthographicCamera) {\n    return camera.zoom;\n  } else if (camera instanceof PerspectiveCamera) {\n    const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n    const cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n    const vFOV = camera.fov * Math.PI / 180;\n    const dist = objectPos.distanceTo(cameraPos);\n    const scaleFOV = 2 * Math.tan(vFOV / 2) * dist;\n    return 1 / scaleFOV;\n  } else {\n    return 1;\n  }\n}\n\nfunction objectZIndex(el, camera, zIndexRange) {\n  if (camera instanceof PerspectiveCamera || camera instanceof OrthographicCamera) {\n    const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n    const cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n    const dist = objectPos.distanceTo(cameraPos);\n    const A = (zIndexRange[1] - zIndexRange[0]) / (camera.far - camera.near);\n    const B = zIndexRange[1] - A * camera.far;\n    return Math.round(A * dist + B);\n  }\n\n  return undefined;\n}\n\nconst epsilon = value => Math.abs(value) < 1e-10 ? 0 : value;\n\nfunction getCSSMatrix(matrix, multipliers, prepend = '') {\n  let matrix3d = 'matrix3d(';\n\n  for (let i = 0; i !== 16; i++) {\n    matrix3d += epsilon(multipliers[i] * matrix.elements[i]) + (i !== 15 ? ',' : ')');\n  }\n\n  return prepend + matrix3d;\n}\n\nconst getCameraCSSMatrix = (multipliers => {\n  return matrix => getCSSMatrix(matrix, multipliers);\n})([1, -1, 1, 1, 1, -1, 1, 1, 1, -1, 1, 1, 1, -1, 1, 1]);\n\nconst getObjectCSSMatrix = (scaleMultipliers => {\n  return (matrix, factor) => getCSSMatrix(matrix, scaleMultipliers(factor), 'translate(-50%,-50%)');\n})(f => [1 / f, 1 / f, 1 / f, 1, -1 / f, -1 / f, -1 / f, -1, 1 / f, 1 / f, 1 / f, 1, 1, 1, 1, 1]);\n\nconst Html = /*#__PURE__*/React.forwardRef(({\n  children,\n  eps = 0.001,\n  style,\n  className,\n  prepend,\n  center,\n  fullscreen,\n  portal,\n  distanceFactor,\n  sprite = false,\n  transform = false,\n  occlude,\n  onOcclude,\n  zIndexRange = [16777271, 0],\n  calculatePosition = defaultCalculatePosition,\n  as = 'div',\n  wrapperClass,\n  pointerEvents = 'auto',\n  ...props\n}, ref) => {\n  var _portal$current;\n\n  const gl = useThree(({\n    gl\n  }) => gl);\n  const camera = useThree(({\n    camera\n  }) => camera);\n  const scene = useThree(({\n    scene\n  }) => scene);\n  const size = useThree(({\n    size\n  }) => size);\n  const raycaster = useThree(({\n    raycaster\n  }) => raycaster);\n  const [el] = React.useState(() => document.createElement(as));\n  const root = React.useRef();\n  const group = React.useRef(null);\n  const oldZoom = React.useRef(0);\n  const oldPosition = React.useRef([0, 0]);\n  const transformOuterRef = React.useRef(null);\n  const transformInnerRef = React.useRef(null);\n  const target = (_portal$current = portal == null ? void 0 : portal.current) !== null && _portal$current !== void 0 ? _portal$current : gl.domElement.parentNode;\n  React.useEffect(() => {\n    if (group.current) {\n      const currentRoot = root.current = ReactDOM.createRoot(el);\n      scene.updateMatrixWorld();\n\n      if (transform) {\n        el.style.cssText = `position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;`;\n      } else {\n        const vec = calculatePosition(group.current, camera, size);\n        el.style.cssText = `position:absolute;top:0;left:0;transform:translate3d(${vec[0]}px,${vec[1]}px,0);transform-origin:0 0;`;\n      }\n\n      if (target) {\n        if (prepend) target.prepend(el);else target.appendChild(el);\n      }\n\n      return () => {\n        if (target) target.removeChild(el);\n        currentRoot.unmount();\n      };\n    }\n  }, [target, transform]);\n  React.useLayoutEffect(() => {\n    if (wrapperClass) el.className = wrapperClass;\n  }, [wrapperClass]);\n  const styles = React.useMemo(() => {\n    if (transform) {\n      return {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: size.width,\n        height: size.height,\n        transformStyle: 'preserve-3d',\n        pointerEvents: 'none'\n      };\n    } else {\n      return {\n        position: 'absolute',\n        transform: center ? 'translate3d(-50%,-50%,0)' : 'none',\n        ...(fullscreen && {\n          top: -size.height / 2,\n          left: -size.width / 2,\n          width: size.width,\n          height: size.height\n        }),\n        ...style\n      };\n    }\n  }, [style, center, fullscreen, size, transform]);\n  const transformInnerStyles = React.useMemo(() => ({\n    position: 'absolute',\n    pointerEvents\n  }), [pointerEvents]);\n  React.useLayoutEffect(() => {\n    if (transform) {\n      var _root$current;\n\n      (_root$current = root.current) == null ? void 0 : _root$current.render( /*#__PURE__*/React.createElement(\"div\", {\n        ref: transformOuterRef,\n        style: styles\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: transformInnerRef,\n        style: transformInnerStyles\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: ref,\n        className: className,\n        style: style,\n        children: children\n      }))));\n    } else {\n      var _root$current2;\n\n      (_root$current2 = root.current) == null ? void 0 : _root$current2.render( /*#__PURE__*/React.createElement(\"div\", {\n        ref: ref,\n        style: styles,\n        className: className,\n        children: children\n      }));\n    }\n  });\n  const visible = React.useRef(true);\n  useFrame(() => {\n    if (group.current) {\n      camera.updateMatrixWorld();\n      group.current.updateWorldMatrix(true, false);\n      const vec = transform ? oldPosition.current : calculatePosition(group.current, camera, size);\n\n      if (transform || Math.abs(oldZoom.current - camera.zoom) > eps || Math.abs(oldPosition.current[0] - vec[0]) > eps || Math.abs(oldPosition.current[1] - vec[1]) > eps) {\n        const isBehindCamera = isObjectBehindCamera(group.current, camera);\n        let raytraceTarget = false;\n\n        if (typeof occlude === 'boolean') {\n          if (occlude === true) {\n            raytraceTarget = [scene];\n          }\n        } else if (Array.isArray(occlude)) {\n          raytraceTarget = occlude.map(item => item.current);\n        }\n\n        const previouslyVisible = visible.current;\n\n        if (raytraceTarget) {\n          const isvisible = isObjectVisible(group.current, camera, raycaster, raytraceTarget);\n          visible.current = isvisible && !isBehindCamera;\n        } else {\n          visible.current = !isBehindCamera;\n        }\n\n        if (previouslyVisible !== visible.current) {\n          if (onOcclude) onOcclude(!visible.current);else el.style.display = visible.current ? 'block' : 'none';\n        }\n\n        el.style.zIndex = `${objectZIndex(group.current, camera, zIndexRange)}`;\n\n        if (transform) {\n          const [widthHalf, heightHalf] = [size.width / 2, size.height / 2];\n          const fov = camera.projectionMatrix.elements[5] * heightHalf;\n          const {\n            isOrthographicCamera,\n            top,\n            left,\n            bottom,\n            right\n          } = camera;\n          const cameraMatrix = getCameraCSSMatrix(camera.matrixWorldInverse);\n          const cameraTransform = isOrthographicCamera ? `scale(${fov})translate(${epsilon(-(right + left) / 2)}px,${epsilon((top + bottom) / 2)}px)` : `translateZ(${fov}px)`;\n          let matrix = group.current.matrixWorld;\n\n          if (sprite) {\n            matrix = camera.matrixWorldInverse.clone().transpose().copyPosition(matrix).scale(group.current.scale);\n            matrix.elements[3] = matrix.elements[7] = matrix.elements[11] = 0;\n            matrix.elements[15] = 1;\n          }\n\n          el.style.width = size.width + 'px';\n          el.style.height = size.height + 'px';\n          el.style.perspective = isOrthographicCamera ? '' : `${fov}px`;\n\n          if (transformOuterRef.current && transformInnerRef.current) {\n            transformOuterRef.current.style.transform = `${cameraTransform}${cameraMatrix}translate(${widthHalf}px,${heightHalf}px)`;\n            transformInnerRef.current.style.transform = getObjectCSSMatrix(matrix, 1 / ((distanceFactor || 10) / 400));\n          }\n        } else {\n          const scale = distanceFactor === undefined ? 1 : objectScale(group.current, camera) * distanceFactor;\n          el.style.transform = `translate3d(${vec[0]}px,${vec[1]}px,0) scale(${scale})`;\n        }\n\n        oldPosition.current = vec;\n        oldZoom.current = camera.zoom;\n      }\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"group\", _extends({}, props, {\n    ref: group\n  }));\n});\n\nexport { Html };\n","import { Frustum, Vector3 } from 'three';\n\n/**\n * This is a class to check whether objects are in a selection area in 3D space\n */\n\nconst SelectionBox = (() => {\n  const frustum = new Frustum();\n  const center = new Vector3();\n  const tmpPoint = new Vector3();\n  const vecNear = new Vector3();\n  const vecTopLeft = new Vector3();\n  const vecTopRight = new Vector3();\n  const vecDownRight = new Vector3();\n  const vecDownLeft = new Vector3();\n  const vecFarTopLeft = new Vector3();\n  const vecFarTopRight = new Vector3();\n  const vecFarDownRight = new Vector3();\n  const vecFarDownLeft = new Vector3();\n  const vectemp1 = new Vector3();\n  const vectemp2 = new Vector3();\n  const vectemp3 = new Vector3();\n\n  class SelectionBox {\n    constructor(camera, scene, deep) {\n      this.camera = camera;\n      this.scene = scene;\n      this.startPoint = new Vector3();\n      this.endPoint = new Vector3();\n      this.collection = [];\n      this.deep = deep || Number.MAX_VALUE;\n    }\n\n    select(startPoint, endPoint) {\n      this.startPoint = startPoint || this.startPoint;\n      this.endPoint = endPoint || this.endPoint;\n      this.collection = [];\n      this.updateFrustum(this.startPoint, this.endPoint);\n      this.searchChildInFrustum(frustum, this.scene);\n      return this.collection;\n    }\n\n    updateFrustum(startPoint, endPoint) {\n      startPoint = startPoint || this.startPoint;\n      endPoint = endPoint || this.endPoint; // Avoid invalid frustum\n\n      if (startPoint.x === endPoint.x) {\n        endPoint.x += Number.EPSILON;\n      }\n\n      if (startPoint.y === endPoint.y) {\n        endPoint.y += Number.EPSILON;\n      }\n\n      this.camera.updateProjectionMatrix();\n      this.camera.updateMatrixWorld();\n\n      if (this.camera.isPerspectiveCamera) {\n        tmpPoint.copy(startPoint);\n        tmpPoint.x = Math.min(startPoint.x, endPoint.x);\n        tmpPoint.y = Math.max(startPoint.y, endPoint.y);\n        endPoint.x = Math.max(startPoint.x, endPoint.x);\n        endPoint.y = Math.min(startPoint.y, endPoint.y);\n        vecNear.setFromMatrixPosition(this.camera.matrixWorld);\n        vecTopLeft.copy(tmpPoint);\n        vecTopRight.set(endPoint.x, tmpPoint.y, 0);\n        vecDownRight.copy(endPoint);\n        vecDownLeft.set(tmpPoint.x, endPoint.y, 0);\n        vecTopLeft.unproject(this.camera);\n        vecTopRight.unproject(this.camera);\n        vecDownRight.unproject(this.camera);\n        vecDownLeft.unproject(this.camera);\n        vectemp1.copy(vecTopLeft).sub(vecNear);\n        vectemp2.copy(vecTopRight).sub(vecNear);\n        vectemp3.copy(vecDownRight).sub(vecNear);\n        vectemp1.normalize();\n        vectemp2.normalize();\n        vectemp3.normalize();\n        vectemp1.multiplyScalar(this.deep);\n        vectemp2.multiplyScalar(this.deep);\n        vectemp3.multiplyScalar(this.deep);\n        vectemp1.add(vecNear);\n        vectemp2.add(vecNear);\n        vectemp3.add(vecNear);\n        var planes = frustum.planes;\n        planes[0].setFromCoplanarPoints(vecNear, vecTopLeft, vecTopRight);\n        planes[1].setFromCoplanarPoints(vecNear, vecTopRight, vecDownRight);\n        planes[2].setFromCoplanarPoints(vecDownRight, vecDownLeft, vecNear);\n        planes[3].setFromCoplanarPoints(vecDownLeft, vecTopLeft, vecNear);\n        planes[4].setFromCoplanarPoints(vecTopRight, vecDownRight, vecDownLeft);\n        planes[5].setFromCoplanarPoints(vectemp3, vectemp2, vectemp1);\n        planes[5].normal.multiplyScalar(-1);\n      } else if (this.camera.isOrthographicCamera) {\n        const left = Math.min(startPoint.x, endPoint.x);\n        const top = Math.max(startPoint.y, endPoint.y);\n        const right = Math.max(startPoint.x, endPoint.x);\n        const down = Math.min(startPoint.y, endPoint.y);\n        vecTopLeft.set(left, top, -1);\n        vecTopRight.set(right, top, -1);\n        vecDownRight.set(right, down, -1);\n        vecDownLeft.set(left, down, -1);\n        vecFarTopLeft.set(left, top, 1);\n        vecFarTopRight.set(right, top, 1);\n        vecFarDownRight.set(right, down, 1);\n        vecFarDownLeft.set(left, down, 1);\n        vecTopLeft.unproject(this.camera);\n        vecTopRight.unproject(this.camera);\n        vecDownRight.unproject(this.camera);\n        vecDownLeft.unproject(this.camera);\n        vecFarTopLeft.unproject(this.camera);\n        vecFarTopRight.unproject(this.camera);\n        vecFarDownRight.unproject(this.camera);\n        vecFarDownLeft.unproject(this.camera);\n        var planes = frustum.planes;\n        planes[0].setFromCoplanarPoints(vecTopLeft, vecFarTopLeft, vecFarTopRight);\n        planes[1].setFromCoplanarPoints(vecTopRight, vecFarTopRight, vecFarDownRight);\n        planes[2].setFromCoplanarPoints(vecFarDownRight, vecFarDownLeft, vecDownLeft);\n        planes[3].setFromCoplanarPoints(vecFarDownLeft, vecFarTopLeft, vecTopLeft);\n        planes[4].setFromCoplanarPoints(vecTopRight, vecDownRight, vecDownLeft);\n        planes[5].setFromCoplanarPoints(vecFarDownRight, vecFarTopRight, vecFarTopLeft);\n        planes[5].normal.multiplyScalar(-1);\n      } else {\n        console.error('THREE.SelectionBox: Unsupported camera type.');\n      }\n    }\n\n    searchChildInFrustum(frustum, object) {\n      if (object.isMesh || object.isLine || object.isPoints) {\n        if (object.material !== undefined) {\n          if (object.geometry.boundingSphere === null) object.geometry.computeBoundingSphere();\n          center.copy(object.geometry.boundingSphere.center);\n          center.applyMatrix4(object.matrixWorld);\n\n          if (frustum.containsPoint(center)) {\n            this.collection.push(object);\n          }\n        }\n      }\n\n      if (object.children.length > 0) {\n        for (let x = 0; x < object.children.length; x++) {\n          this.searchChildInFrustum(frustum, object.children[x]);\n        }\n      }\n    }\n\n  }\n\n  return SelectionBox;\n})();\n\nexport { SelectionBox };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { SelectionBox } from 'three-stdlib';\nimport { useThree } from '@react-three/fiber';\nimport shallow from 'zustand/shallow';\n\nconst context = /*#__PURE__*/React.createContext([]);\nfunction Select({\n  box,\n  multiple,\n  children,\n  onChange,\n  border = '1px solid #55aaff',\n  backgroundColor = 'rgba(75, 160, 255, 0.1)',\n  filter: customFilter = item => item,\n  ...props\n}) {\n  const {\n    setEvents,\n    camera,\n    raycaster,\n    gl,\n    controls,\n    size,\n    get\n  } = useThree();\n  const [hovered, hover] = React.useState(false);\n  const [active, dispatch] = React.useReducer((state, {\n    object,\n    shift\n  }) => {\n    if (object === undefined) return [];else if (Array.isArray(object)) return object;else if (!shift) return state[0] === object ? [] : [object];else if (state.includes(object)) return state.filter(o => o !== object);else return [object, ...state];\n  }, []);\n  React.useEffect(() => void (onChange == null ? void 0 : onChange(active)), [active]);\n  const onClick = React.useCallback(e => {\n    e.stopPropagation();\n    dispatch({\n      object: customFilter([e.object])[0],\n      shift: multiple && e.shiftKey\n    });\n  }, []);\n  const onPointerMissed = React.useCallback(e => !hovered && dispatch({}), [hovered]);\n  const ref = React.useRef(null);\n  React.useEffect(() => {\n    if (!box || !multiple) return;\n    const selBox = new SelectionBox(camera, ref.current);\n    const element = document.createElement('div');\n    element.style.pointerEvents = 'none';\n    element.style.border = border;\n    element.style.backgroundColor = backgroundColor;\n    element.style.position = 'fixed';\n    const startPoint = new THREE.Vector2();\n    const pointTopLeft = new THREE.Vector2();\n    const pointBottomRight = new THREE.Vector2();\n    const oldRaycasterEnabled = get().events.enabled;\n    const oldControlsEnabled = controls == null ? void 0 : controls.enabled;\n    let isDown = false;\n\n    function prepareRay(event, vec) {\n      const {\n        offsetX,\n        offsetY\n      } = event;\n      const {\n        width,\n        height\n      } = size;\n      vec.set(offsetX / width * 2 - 1, -(offsetY / height) * 2 + 1);\n    }\n\n    function onSelectStart(event) {\n      var _gl$domElement$parent;\n\n      if (controls) controls.enabled = false;\n      setEvents({\n        enabled: false\n      });\n      isDown = true;\n      (_gl$domElement$parent = gl.domElement.parentElement) == null ? void 0 : _gl$domElement$parent.appendChild(element);\n      element.style.left = `${event.clientX}px`;\n      element.style.top = `${event.clientY}px`;\n      element.style.width = '0px';\n      element.style.height = '0px';\n      startPoint.x = event.clientX;\n      startPoint.y = event.clientY;\n    }\n\n    function onSelectMove(event) {\n      pointBottomRight.x = Math.max(startPoint.x, event.clientX);\n      pointBottomRight.y = Math.max(startPoint.y, event.clientY);\n      pointTopLeft.x = Math.min(startPoint.x, event.clientX);\n      pointTopLeft.y = Math.min(startPoint.y, event.clientY);\n      element.style.left = `${pointTopLeft.x}px`;\n      element.style.top = `${pointTopLeft.y}px`;\n      element.style.width = `${pointBottomRight.x - pointTopLeft.x}px`;\n      element.style.height = `${pointBottomRight.y - pointTopLeft.y}px`;\n    }\n\n    function onSelectOver() {\n      if (isDown) {\n        var _element$parentElemen;\n\n        if (controls) controls.enabled = oldControlsEnabled;\n        setEvents({\n          enabled: oldRaycasterEnabled\n        });\n        isDown = false;\n        (_element$parentElemen = element.parentElement) == null ? void 0 : _element$parentElemen.removeChild(element);\n      }\n    }\n\n    function pointerDown(event) {\n      if (event.shiftKey) {\n        onSelectStart(event);\n        prepareRay(event, selBox.startPoint);\n      }\n    }\n\n    let previous = [];\n\n    function pointerMove(event) {\n      if (isDown) {\n        onSelectMove(event);\n        prepareRay(event, selBox.endPoint);\n        const allSelected = selBox.select().sort(o => o.uuid).filter(o => o.isMesh);\n\n        if (!shallow(allSelected, previous)) {\n          previous = allSelected;\n          dispatch({\n            object: customFilter(allSelected)\n          });\n        }\n      }\n    }\n\n    function pointerUp(event) {\n      if (isDown) onSelectOver();\n    }\n\n    document.addEventListener('pointerdown', pointerDown, {\n      passive: true\n    });\n    document.addEventListener('pointermove', pointerMove, {\n      passive: true,\n      capture: true\n    });\n    document.addEventListener('pointerup', pointerUp, {\n      passive: true\n    });\n    return () => {\n      document.removeEventListener('pointerdown', pointerDown);\n      document.removeEventListener('pointermove', pointerMove);\n      document.removeEventListener('pointerup', pointerUp);\n    };\n  }, [size, raycaster, camera, controls, gl]);\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: ref,\n    onClick: onClick,\n    onPointerOver: () => hover(true),\n    onPointerOut: () => hover(false),\n    onPointerMissed: onPointerMissed\n  }, props), /*#__PURE__*/React.createElement(context.Provider, {\n    value: active\n  }, children));\n}\nfunction useSelect() {\n  return React.useContext(context);\n}\n\nexport { Select, useSelect };\n","import * as React from 'react';\n\nfunction useCursor(hovered, onPointerOver = 'pointer', onPointerOut = 'auto') {\n  React.useEffect(() => {\n    if (hovered) {\n      document.body.style.cursor = onPointerOver;\n      return () => void (document.body.style.cursor = onPointerOut);\n    }\n  }, [hovered]);\n}\n\nexport { useCursor };\n","import { useState, useRef, useEffect, useMemo } from 'react';\nimport createDebounce from 'debounce';\n\nfunction useMeasure(_temp) {\n  let {\n    debounce,\n    scroll,\n    polyfill,\n    offsetSize\n  } = _temp === void 0 ? {\n    debounce: 0,\n    scroll: false,\n    offsetSize: false\n  } : _temp;\n  const ResizeObserver = polyfill || (typeof window === 'undefined' ? class ResizeObserver {} : window.ResizeObserver);\n\n  if (!ResizeObserver) {\n    throw new Error('This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills');\n  }\n\n  const [bounds, set] = useState({\n    left: 0,\n    top: 0,\n    width: 0,\n    height: 0,\n    bottom: 0,\n    right: 0,\n    x: 0,\n    y: 0\n  }); // keep all state in a ref\n\n  const state = useRef({\n    element: null,\n    scrollContainers: null,\n    resizeObserver: null,\n    lastBounds: bounds\n  }); // set actual debounce values early, so effects know if they should react accordingly\n\n  const scrollDebounce = debounce ? typeof debounce === 'number' ? debounce : debounce.scroll : null;\n  const resizeDebounce = debounce ? typeof debounce === 'number' ? debounce : debounce.resize : null; // make sure to update state only as long as the component is truly mounted\n\n  const mounted = useRef(false);\n  useEffect(() => {\n    mounted.current = true;\n    return () => void (mounted.current = false);\n  }); // memoize handlers, so event-listeners know when they should update\n\n  const [forceRefresh, resizeChange, scrollChange] = useMemo(() => {\n    const callback = () => {\n      if (!state.current.element) return;\n      const {\n        left,\n        top,\n        width,\n        height,\n        bottom,\n        right,\n        x,\n        y\n      } = state.current.element.getBoundingClientRect();\n      const size = {\n        left,\n        top,\n        width,\n        height,\n        bottom,\n        right,\n        x,\n        y\n      };\n\n      if (state.current.element instanceof HTMLElement && offsetSize) {\n        size.height = state.current.element.offsetHeight;\n        size.width = state.current.element.offsetWidth;\n      }\n\n      Object.freeze(size);\n      if (mounted.current && !areBoundsEqual(state.current.lastBounds, size)) set(state.current.lastBounds = size);\n    };\n\n    return [callback, resizeDebounce ? createDebounce(callback, resizeDebounce) : callback, scrollDebounce ? createDebounce(callback, scrollDebounce) : callback];\n  }, [set, offsetSize, scrollDebounce, resizeDebounce]); // cleanup current scroll-listeners / observers\n\n  function removeListeners() {\n    if (state.current.scrollContainers) {\n      state.current.scrollContainers.forEach(element => element.removeEventListener('scroll', scrollChange, true));\n      state.current.scrollContainers = null;\n    }\n\n    if (state.current.resizeObserver) {\n      state.current.resizeObserver.disconnect();\n      state.current.resizeObserver = null;\n    }\n  } // add scroll-listeners / observers\n\n\n  function addListeners() {\n    if (!state.current.element) return;\n    state.current.resizeObserver = new ResizeObserver(scrollChange);\n    state.current.resizeObserver.observe(state.current.element);\n\n    if (scroll && state.current.scrollContainers) {\n      state.current.scrollContainers.forEach(scrollContainer => scrollContainer.addEventListener('scroll', scrollChange, {\n        capture: true,\n        passive: true\n      }));\n    }\n  } // the ref we expose to the user\n\n\n  const ref = node => {\n    if (!node || node === state.current.element) return;\n    removeListeners();\n    state.current.element = node;\n    state.current.scrollContainers = findScrollContainers(node);\n    addListeners();\n  }; // add general event listeners\n\n\n  useOnWindowScroll(scrollChange, Boolean(scroll));\n  useOnWindowResize(resizeChange); // respond to changes that are relevant for the listeners\n\n  useEffect(() => {\n    removeListeners();\n    addListeners();\n  }, [scroll, scrollChange, resizeChange]); // remove all listeners when the components unmounts\n\n  useEffect(() => removeListeners, []);\n  return [ref, bounds, forceRefresh];\n} // Adds native resize listener to window\n\n\nfunction useOnWindowResize(onWindowResize) {\n  useEffect(() => {\n    const cb = onWindowResize;\n    window.addEventListener('resize', cb);\n    return () => void window.removeEventListener('resize', cb);\n  }, [onWindowResize]);\n}\n\nfunction useOnWindowScroll(onScroll, enabled) {\n  useEffect(() => {\n    if (enabled) {\n      const cb = onScroll;\n      window.addEventListener('scroll', cb, {\n        capture: true,\n        passive: true\n      });\n      return () => void window.removeEventListener('scroll', cb, true);\n    }\n  }, [onScroll, enabled]);\n} // Returns a list of scroll offsets\n\n\nfunction findScrollContainers(element) {\n  const result = [];\n  if (!element || element === document.body) return result;\n  const {\n    overflow,\n    overflowX,\n    overflowY\n  } = window.getComputedStyle(element);\n  if ([overflow, overflowX, overflowY].some(prop => prop === 'auto' || prop === 'scroll')) result.push(element);\n  return [...result, ...findScrollContainers(element.parentElement)];\n} // Checks if element boundaries are equal\n\n\nconst keys = ['x', 'y', 'top', 'bottom', 'left', 'right', 'width', 'height'];\n\nconst areBoundsEqual = (a, b) => keys.every(key => a[key] === b[key]);\n\nexport { useMeasure as default };\n","import { c as createEvents, e as extend, u as useMutableCallback, a as createRoot, E as ErrorBoundary, B as Block, b as useIsomorphicLayoutEffect, d as unmountComponentAtNode } from './index-4f1a8e2f.esm.js';\nexport { t as ReactThreeFiber, s as _roots, q as act, n as addAfterEffect, m as addEffect, o as addTail, l as advance, i as applyProps, f as context, c as createEvents, g as createPortal, a as createRoot, j as dispose, e as extend, p as getRootState, k as invalidate, h as reconciler, r as render, d as unmountComponentAtNode, x as useFrame, y as useGraph, z as useLoader, v as useStore, w as useThree } from './index-4f1a8e2f.esm.js';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport useMeasure from 'react-use-measure';\nimport 'react-reconciler/constants';\nimport 'zustand';\nimport 'react-reconciler';\nimport 'scheduler';\nimport 'suspend-react';\n\nconst DOM_EVENTS = {\n  onClick: ['click', false],\n  onContextMenu: ['contextmenu', false],\n  onDoubleClick: ['dblclick', false],\n  onWheel: ['wheel', true],\n  onPointerDown: ['pointerdown', true],\n  onPointerUp: ['pointerup', true],\n  onPointerLeave: ['pointerleave', true],\n  onPointerMove: ['pointermove', true],\n  onPointerCancel: ['pointercancel', true],\n  onLostPointerCapture: ['lostpointercapture', true]\n};\n/** Default R3F event manager for web */\n\nfunction createPointerEvents(store) {\n  const {\n    handlePointer\n  } = createEvents(store);\n  return {\n    priority: 1,\n    enabled: true,\n\n    compute(event, state, previous) {\n      // https://github.com/pmndrs/react-three-fiber/pull/782\n      // Events trigger outside of canvas when moved, use offsetX/Y by default and allow overrides\n      state.pointer.set(event.offsetX / state.size.width * 2 - 1, -(event.offsetY / state.size.height) * 2 + 1);\n      state.raycaster.setFromCamera(state.pointer, state.camera);\n    },\n\n    connected: undefined,\n    handlers: Object.keys(DOM_EVENTS).reduce((acc, key) => ({ ...acc,\n      [key]: handlePointer(key)\n    }), {}),\n    connect: target => {\n      var _events$handlers;\n\n      const {\n        set,\n        events\n      } = store.getState();\n      events.disconnect == null ? void 0 : events.disconnect();\n      set(state => ({\n        events: { ...state.events,\n          connected: target\n        }\n      }));\n      Object.entries((_events$handlers = events.handlers) != null ? _events$handlers : []).forEach(([name, event]) => {\n        const [eventName, passive] = DOM_EVENTS[name];\n        target.addEventListener(eventName, event, {\n          passive\n        });\n      });\n    },\n    disconnect: () => {\n      const {\n        set,\n        events\n      } = store.getState();\n\n      if (events.connected) {\n        var _events$handlers2;\n\n        Object.entries((_events$handlers2 = events.handlers) != null ? _events$handlers2 : []).forEach(([name, event]) => {\n          if (events && events.connected instanceof HTMLElement) {\n            const [eventName] = DOM_EVENTS[name];\n            events.connected.removeEventListener(eventName, event);\n          }\n        });\n        set(state => ({\n          events: { ...state.events,\n            connected: undefined\n          }\n        }));\n      }\n    }\n  };\n}\n\n/**\n * A DOM canvas which accepts threejs elements as children.\n * @see https://docs.pmnd.rs/react-three-fiber/api/canvas\n */\nconst Canvas = /*#__PURE__*/React.forwardRef(function Canvas({\n  children,\n  fallback,\n  resize,\n  style,\n  gl,\n  events = createPointerEvents,\n  shadows,\n  linear,\n  flat,\n  legacy,\n  orthographic,\n  frameloop,\n  dpr,\n  performance,\n  raycaster,\n  camera,\n  onPointerMissed,\n  onCreated,\n  ...props\n}, forwardedRef) {\n  // Create a known catalogue of Threejs-native elements\n  // This will include the entire THREE namespace by default, users can extend\n  // their own elements by using the createRoot API instead\n  React.useMemo(() => extend(THREE), []);\n  const [containerRef, {\n    width,\n    height\n  }] = useMeasure({\n    scroll: true,\n    debounce: {\n      scroll: 50,\n      resize: 0\n    },\n    ...resize\n  });\n  const canvasRef = React.useRef(null);\n  const divRef = React.useRef(null);\n  const [canvas, setCanvas] = React.useState(null);\n  React.useImperativeHandle(forwardedRef, () => canvasRef.current);\n  const handlePointerMissed = useMutableCallback(onPointerMissed);\n  const [block, setBlock] = React.useState(false);\n  const [error, setError] = React.useState(false); // Suspend this component if block is a promise (2nd run)\n\n  if (block) throw block; // Throw exception outwards if anything within canvas throws\n\n  if (error) throw error;\n  const root = React.useRef(null);\n\n  if (width > 0 && height > 0 && canvas) {\n    if (!root.current) root.current = createRoot(canvas);\n    root.current.configure({\n      gl,\n      events,\n      shadows,\n      linear,\n      flat,\n      legacy,\n      orthographic,\n      frameloop,\n      dpr,\n      performance,\n      raycaster,\n      camera,\n      size: {\n        width,\n        height\n      },\n      // Pass mutable reference to onPointerMissed so it's free to update\n      onPointerMissed: (...args) => handlePointerMissed.current == null ? void 0 : handlePointerMissed.current(...args),\n      onCreated: state => {\n        state.events.connect == null ? void 0 : state.events.connect(divRef.current);\n        onCreated == null ? void 0 : onCreated(state);\n      }\n    });\n    root.current.render( /*#__PURE__*/React.createElement(ErrorBoundary, {\n      set: setError\n    }, /*#__PURE__*/React.createElement(React.Suspense, {\n      fallback: /*#__PURE__*/React.createElement(Block, {\n        set: setBlock\n      })\n    }, children)));\n  }\n\n  useIsomorphicLayoutEffect(() => {\n    setCanvas(canvasRef.current);\n  }, []);\n  React.useEffect(() => {\n    if (canvas) return () => unmountComponentAtNode(canvas);\n  }, [canvas]);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: divRef,\n    style: {\n      position: 'relative',\n      width: '100%',\n      height: '100%',\n      overflow: 'hidden',\n      ...style\n    }\n  }, props), /*#__PURE__*/React.createElement(\"div\", {\n    ref: containerRef,\n    style: {\n      width: '100%',\n      height: '100%'\n    }\n  }, /*#__PURE__*/React.createElement(\"canvas\", {\n    ref: canvasRef,\n    style: {\n      display: 'block'\n    }\n  }, fallback)));\n});\n\nexport { Canvas, createPointerEvents as events };\n","/*!\n * assign-symbols <https://github.com/jonschlinkert/assign-symbols>\n *\n * Copyright (c) 2015, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function(receiver, objects) {\n  if (receiver === null || typeof receiver === 'undefined') {\n    throw new TypeError('expected first argument to be an object.');\n  }\n\n  if (typeof objects === 'undefined' || typeof Symbol === 'undefined') {\n    return receiver;\n  }\n\n  if (typeof Object.getOwnPropertySymbols !== 'function') {\n    return receiver;\n  }\n\n  var isEnumerable = Object.prototype.propertyIsEnumerable;\n  var target = Object(receiver);\n  var len = arguments.length, i = 0;\n\n  while (++i < len) {\n    var provider = Object(arguments[i]);\n    var names = Object.getOwnPropertySymbols(provider);\n\n    for (var j = 0; j < names.length; j++) {\n      var key = names[j];\n\n      if (isEnumerable.call(provider, key)) {\n        target[key] = provider[key];\n      }\n    }\n  }\n  return target;\n};\n","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (file, acceptedFiles) {\n  if (file && acceptedFiles) {\n    var acceptedFilesArray = Array.isArray(acceptedFiles) ? acceptedFiles : acceptedFiles.split(',');\n    var fileName = file.name || '';\n    var mimeType = (file.type || '').toLowerCase();\n    var baseMimeType = mimeType.replace(/\\/.*$/, '');\n    return acceptedFilesArray.some(function (type) {\n      var validType = type.trim().toLowerCase();\n\n      if (validType.charAt(0) === '.') {\n        return fileName.toLowerCase().endsWith(validType);\n      } else if (validType.endsWith('/*')) {\n        // This is something like a image/* mime type\n        return baseMimeType === validType.replace(/\\/.*$/, '');\n      }\n\n      return mimeType === validType;\n    });\n  }\n\n  return true;\n};","/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n// Adds compatibility for ES modules\ndebounce.debounce = debounce;\n\nmodule.exports = debounce;\n","'use strict';\n\nvar isObject = require('is-extendable');\n\nmodule.exports = function extend(o/*, objects*/) {\n  if (!isObject(o)) { o = {}; }\n\n  var len = arguments.length;\n  for (var i = 1; i < len; i++) {\n    var obj = arguments[i];\n\n    if (isObject(obj)) {\n      assign(o, obj);\n    }\n  }\n  return o;\n};\n\nfunction assign(a, b) {\n  for (var key in b) {\n    if (hasOwn(b, key)) {\n      a[key] = b[key];\n    }\n  }\n}\n\n/**\n * Returns true if the given `key` is an own property of `obj`.\n */\n\nfunction hasOwn(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n}\n","/*!\n * is-extendable <https://github.com/jonschlinkert/is-extendable>\n *\n * Copyright (c) 2015, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function isExtendable(val) {\n  return typeof val !== 'undefined' && val !== null\n    && (typeof val === 'object' || typeof val === 'function');\n};\n","/*!\n * for-in <https://github.com/jonschlinkert/for-in>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function forIn(obj, fn, thisArg) {\n  for (var key in obj) {\n    if (fn.call(thisArg, obj[key], key, obj) === false) {\n      break;\n    }\n  }\n};\n","/*!\n * get-value <https://github.com/jonschlinkert/get-value>\n *\n * Copyright (c) 2014-2015, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\nmodule.exports = function(obj, prop, a, b, c) {\n  if (!isObject(obj) || !prop) {\n    return obj;\n  }\n\n  prop = toString(prop);\n\n  // allowing for multiple properties to be passed as\n  // a string or array, but much faster (3-4x) than doing\n  // `[].slice.call(arguments)`\n  if (a) prop += '.' + toString(a);\n  if (b) prop += '.' + toString(b);\n  if (c) prop += '.' + toString(c);\n\n  if (prop in obj) {\n    return obj[prop];\n  }\n\n  var segs = prop.split('.');\n  var len = segs.length;\n  var i = -1;\n\n  while (obj && (++i < len)) {\n    var key = segs[i];\n    while (key[key.length - 1] === '\\\\') {\n      key = key.slice(0, -1) + '.' + segs[++i];\n    }\n    obj = obj[key];\n  }\n  return obj;\n};\n\nfunction isObject(val) {\n  return val !== null && (typeof val === 'object' || typeof val === 'function');\n}\n\nfunction toString(val) {\n  if (!val) return '';\n  if (Array.isArray(val)) {\n    return val.join('.');\n  }\n  return val;\n}\n","/*!\n * is-extendable <https://github.com/jonschlinkert/is-extendable>\n *\n * Copyright (c) 2015-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nvar isPlainObject = require('is-plain-object');\n\nmodule.exports = function isExtendable(val) {\n  return isPlainObject(val) || typeof val === 'function' || Array.isArray(val);\n};\n","/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nvar isObject = require('isobject');\n\nfunction isObjectObject(o) {\n  return isObject(o) === true\n    && Object.prototype.toString.call(o) === '[object Object]';\n}\n\nmodule.exports = function isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObjectObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (typeof ctor !== 'function') return false;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObjectObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n};\n","/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function isObject(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n};\n","import * as React from 'react';\n\ntype PossibleRef<T> = React.Ref<T> | undefined;\n\n/**\n * Set a given ref to a given value\n * This utility takes care of different types of refs: callback refs and RefObject(s)\n */\nfunction setRef<T>(ref: PossibleRef<T>, value: T) {\n  if (typeof ref === 'function') {\n    ref(value);\n  } else if (ref !== null && ref !== undefined) {\n    (ref as React.MutableRefObject<T>).current = value;\n  }\n}\n\n/**\n * A utility to compose multiple refs together\n * Accepts callback refs and RefObject(s)\n */\nfunction composeRefs<T>(...refs: PossibleRef<T>[]) {\n  return (node: T) => refs.forEach((ref) => setRef(ref, node));\n}\n\n/**\n * A custom hook that composes multiple refs\n * Accepts callback refs and RefObject(s)\n */\nfunction useComposedRefs<T>(...refs: PossibleRef<T>[]) {\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  return React.useCallback(composeRefs(...refs), refs);\n}\n\nexport { composeRefs, useComposedRefs };\n","import * as React from 'react';\nimport { composeRefs } from '@radix-ui/react-compose-refs';\n\n/* -------------------------------------------------------------------------------------------------\n * Slot\n * -----------------------------------------------------------------------------------------------*/\n\ninterface SlotProps extends React.HTMLAttributes<HTMLElement> {\n  children?: React.ReactNode;\n}\n\nconst Slot = React.forwardRef<HTMLElement, SlotProps>((props, forwardedRef) => {\n  const { children, ...slotProps } = props;\n\n  if (React.Children.toArray(children).some(isSlottable)) {\n    return (\n      <>\n        {React.Children.map(children, (child) => {\n          return isSlottable(child) ? (\n            <SlotClone {...slotProps} ref={forwardedRef}>\n              {child.props.children}\n            </SlotClone>\n          ) : (\n            child\n          );\n        })}\n      </>\n    );\n  }\n\n  return (\n    <SlotClone {...slotProps} ref={forwardedRef}>\n      {children}\n    </SlotClone>\n  );\n});\n\nSlot.displayName = 'Slot';\n\n/* -------------------------------------------------------------------------------------------------\n * SlotClone\n * -----------------------------------------------------------------------------------------------*/\n\ninterface SlotCloneProps {\n  children: React.ReactNode;\n}\n\nconst SlotClone = React.forwardRef<any, SlotCloneProps>((props, forwardedRef) => {\n  const { children, ...slotProps } = props;\n\n  if (React.isValidElement(children)) {\n    return React.cloneElement(children, {\n      ...mergeProps(slotProps, children.props),\n      ref: composeRefs(forwardedRef, (children as any).ref),\n    });\n  }\n\n  return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n});\n\nSlotClone.displayName = 'SlotClone';\n\n/* -------------------------------------------------------------------------------------------------\n * Slottable\n * -----------------------------------------------------------------------------------------------*/\n\nconst Slottable = ({ children }: { children: React.ReactNode }) => {\n  return <>{children}</>;\n};\n\n/* ---------------------------------------------------------------------------------------------- */\n\ntype AnyProps = Record<string, any>;\n\nfunction isSlottable(child: React.ReactNode): child is React.ReactElement {\n  return React.isValidElement(child) && child.type === Slottable;\n}\n\nfunction mergeProps(slotProps: AnyProps, childProps: AnyProps) {\n  // all child props should override\n  const overrideProps = { ...childProps };\n\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n\n    const isHandler = /^on[A-Z]/.test(propName);\n    // if it's a handler, modify the override by composing the base handler\n    if (isHandler) {\n      overrideProps[propName] = (...args: unknown[]) => {\n        childPropValue?.(...args);\n        slotPropValue?.(...args);\n      };\n    }\n    // if it's `style`, we merge them\n    else if (propName === 'style') {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === 'className') {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(' ');\n    }\n  }\n\n  return { ...slotProps, ...overrideProps };\n}\n\nconst Root = Slot;\n\nexport {\n  Slot,\n  Slottable,\n  //\n  Root,\n};\nexport type { SlotProps };\n","import * as React from 'react';\nimport { Slot } from '@radix-ui/react-slot';\n\nconst NODES = [\n  'a',\n  'button',\n  'div',\n  'h2',\n  'h3',\n  'img',\n  'li',\n  'nav',\n  'ol',\n  'p',\n  'span',\n  'svg',\n  'ul',\n] as const;\n\n// Temporary while we await merge of this fix:\n// https://github.com/DefinitelyTyped/DefinitelyTyped/pull/55396\n// prettier-ignore\ntype PropsWithoutRef<P> = P extends any ? ('ref' extends keyof P ? Pick<P, Exclude<keyof P, 'ref'>> : P) : P;\ntype ComponentPropsWithoutRef<T extends React.ElementType> = PropsWithoutRef<\n  React.ComponentProps<T>\n>;\n\ntype Primitives = { [E in typeof NODES[number]]: PrimitiveForwardRefComponent<E> };\ntype PrimitivePropsWithRef<E extends React.ElementType> = React.ComponentPropsWithRef<E> & {\n  asChild?: boolean;\n};\n\ninterface PrimitiveForwardRefComponent<E extends React.ElementType>\n  extends React.ForwardRefExoticComponent<PrimitivePropsWithRef<E>> {}\n\n/* -------------------------------------------------------------------------------------------------\n * Primitive\n * -----------------------------------------------------------------------------------------------*/\n\nconst Primitive = NODES.reduce(\n  (primitive, node) => ({\n    ...primitive,\n    [node]: React.forwardRef((props: PrimitivePropsWithRef<typeof node>, forwardedRef: any) => {\n      const { asChild, ...primitiveProps } = props;\n      const Comp: any = asChild ? Slot : node;\n\n      React.useEffect(() => {\n        (window as any)[Symbol.for('radix-ui')] = true;\n      }, []);\n\n      // DEPRECATED\n      if (process.env.NODE_ENV === 'development' && (props as any).as) {\n        console.warn(AS_ERROR);\n      }\n\n      return <Comp {...primitiveProps} ref={forwardedRef} />;\n    }),\n  }),\n  {} as Primitives\n);\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst AS_ERROR = `Warning: The \\`as\\` prop has been removed in favour of \\`asChild\\`. For details, see https://radix-ui.com/docs/primitives/overview/styling#changing-the-rendered-element`;\n\nconst Root = Primitive;\n\nexport {\n  Primitive,\n  //\n  Root,\n};\nexport type { ComponentPropsWithoutRef, PrimitivePropsWithRef };\n","import * as React from 'react';\n\n/**\n * On the server, React emits a warning when calling `useLayoutEffect`.\n * This is because neither `useLayoutEffect` nor `useEffect` run on the server.\n * We use this safe version which suppresses the warning by replacing it with a noop on the server.\n *\n * See: https://reactjs.org/docs/hooks-reference.html#uselayouteffect\n */\nconst useLayoutEffect = Boolean(globalThis?.document) ? React.useLayoutEffect : () => {};\n\nexport { useLayoutEffect };\n","import * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport { useLayoutEffect } from '@radix-ui/react-use-layout-effect';\nimport { Primitive } from '@radix-ui/react-primitive';\n\nimport type * as Radix from '@radix-ui/react-primitive';\n\nconst MAX_Z_INDEX = 2147483647;\n\n/* -------------------------------------------------------------------------------------------------\n * Portal\n * -----------------------------------------------------------------------------------------------*/\n\nconst PORTAL_NAME = 'Portal';\n\ntype PortalElement = React.ElementRef<typeof Primitive.div>;\ntype PrimitiveDivProps = Radix.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface PortalProps extends PrimitiveDivProps {\n  containerRef?: React.RefObject<HTMLElement>;\n}\n\nconst Portal = React.forwardRef<PortalElement, PortalProps>((props, forwardedRef) => {\n  const { containerRef, style, ...portalProps } = props;\n  const hostElement = containerRef?.current ?? globalThis?.document?.body;\n  const [, forceUpdate] = React.useState({});\n\n  /**\n   * containerRef.current won't be set on first render, so we force a re-render.\n   * Because we do this in `useLayoutEffect`, we still avoid a flash.\n   */\n  useLayoutEffect(() => {\n    forceUpdate({});\n  }, []);\n\n  if (hostElement) {\n    return ReactDOM.createPortal(\n      <Primitive.div\n        data-radix-portal=\"\"\n        {...portalProps}\n        ref={forwardedRef}\n        style={\n          /**\n           * If the Portal is injected in `body`, we assume we want whatever is portalled\n           * to appear on top of everything. Ideally this would be handled by making sure the\n           * app root creates a new stacking context, however this is quite hard to automate.\n           * For this reason, we have opted for setting the max z-index on the portal itself.\n           */\n          hostElement === document.body\n            ? {\n                position: 'absolute',\n                top: 0,\n                left: 0,\n                zIndex: MAX_Z_INDEX,\n                ...style,\n              }\n            : undefined\n        }\n      />,\n      hostElement\n    );\n  }\n\n  // bail out of ssr\n  return null;\n});\n\nPortal.displayName = PORTAL_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * UnstablePortal\n * -----------------------------------------------------------------------------------------------*/\n\nconst UNSTABLE_PORTAL_NAME = 'Portal';\n\ntype UnstablePortalElement = React.ElementRef<typeof Primitive.div>;\ninterface UnstablePortalProps extends PrimitiveDivProps {\n  container?: HTMLElement | null;\n}\n\nconst UnstablePortal = React.forwardRef<UnstablePortalElement, UnstablePortalProps>(\n  (props, forwardedRef) => {\n    const { container = globalThis?.document?.body, ...portalProps } = props;\n    return container\n      ? ReactDOM.createPortal(<Primitive.div {...portalProps} ref={forwardedRef} />, container)\n      : null;\n  }\n);\n\nUnstablePortal.displayName = UNSTABLE_PORTAL_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst Root = Portal;\n\nexport {\n  Portal,\n  UnstablePortal,\n  //\n  Root,\n};\nexport type { PortalProps, UnstablePortalProps };\n","var has = Object.prototype.hasOwnProperty;\n\nexport function dequal(foo, bar) {\n\tvar ctor, len;\n\tif (foo === bar) return true;\n\n\tif (foo && bar && (ctor=foo.constructor) === bar.constructor) {\n\t\tif (ctor === Date) return foo.getTime() === bar.getTime();\n\t\tif (ctor === RegExp) return foo.toString() === bar.toString();\n\n\t\tif (ctor === Array) {\n\t\t\tif ((len=foo.length) === bar.length) {\n\t\t\t\twhile (len-- && dequal(foo[len], bar[len]));\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (!ctor || typeof foo === 'object') {\n\t\t\tlen = 0;\n\t\t\tfor (ctor in foo) {\n\t\t\t\tif (has.call(foo, ctor) && ++len && !has.call(bar, ctor)) return false;\n\t\t\t\tif (!(ctor in bar) || !dequal(foo[ctor], bar[ctor])) return false;\n\t\t\t}\n\t\t\treturn Object.keys(bar).length === len;\n\t\t}\n\t}\n\n\treturn foo !== foo && bar !== bar;\n}\n","var Rule = function Rule(name, fn, args, modifiers) {\n  this.name = name;\n  this.fn = fn;\n  this.args = args;\n  this.modifiers = modifiers;\n};\n\nRule.prototype._test = function _test (value) {\n  var fn = this.fn;\n\n  try {\n    testAux(this.modifiers.slice(), fn, this)(value);\n  } catch (ex) {\n    fn = function () { return false; };\n  }\n\n  try {\n    return testAux(this.modifiers.slice(), fn, this)(value);\n  } catch (ex$1) {\n    return false;\n  }\n};\n\nRule.prototype._check = function _check (value) {\n  try {\n    testAux(this.modifiers.slice(), this.fn, this)(value);\n  } catch (ex) {\n    if (testAux(this.modifiers.slice(), function (it) { return it; }, this)(false)) {\n      return;\n    }\n  }\n\n  if (!testAux(this.modifiers.slice(), this.fn, this)(value)) {\n    throw null;\n  }\n};\n\nRule.prototype._testAsync = function _testAsync (value) {\n    var this$1 = this;\n\n  return new Promise(function (resolve, reject) {\n    testAsyncAux(\n      this$1.modifiers.slice(),\n      this$1.fn,\n      this$1\n    )(value)\n      .then(function (valid) {\n        if (valid) {\n          resolve(value);\n        } else {\n          reject(null);\n        }\n      })\n      .catch(function (ex) { return reject(ex); });\n  });\n};\n\nfunction pickFn(fn, variant) {\n  if ( variant === void 0 ) variant = 'simple';\n\n  return typeof fn === 'object' ? fn[variant] : fn;\n}\n\nfunction testAux(modifiers, fn, rule) {\n  if (modifiers.length) {\n    var modifier = modifiers.shift();\n    var nextFn = testAux(modifiers, fn, rule);\n    return modifier.perform(nextFn, rule);\n  } else {\n    return pickFn(fn);\n  }\n}\n\nfunction testAsyncAux(modifiers, fn, rule) {\n  if (modifiers.length) {\n    var modifier = modifiers.shift();\n    var nextFn = testAsyncAux(modifiers, fn, rule);\n    return modifier.performAsync(nextFn, rule);\n  } else {\n    return function (value) { return Promise.resolve(pickFn(fn, 'async')(value)); };\n  }\n}\n\nvar Modifier = function Modifier(name, perform, performAsync) {\n  this.name = name;\n  this.perform = perform;\n  this.performAsync = performAsync;\n};\n\nvar ValidationError = /*@__PURE__*/(function (Error) {\n  function ValidationError(rule, value, cause, target) {\n    var remaining = [], len = arguments.length - 4;\n    while ( len-- > 0 ) remaining[ len ] = arguments[ len + 4 ];\n\n    Error.call(this, remaining);\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, ValidationError);\n    }\n    this.rule = rule;\n    this.value = value;\n    this.cause = cause;\n    this.target = target;\n  }\n\n  if ( Error ) ValidationError.__proto__ = Error;\n  ValidationError.prototype = Object.create( Error && Error.prototype );\n  ValidationError.prototype.constructor = ValidationError;\n\n  return ValidationError;\n}(Error));\n\nvar Context = function Context(chain, nextRuleModifiers) {\n  if ( chain === void 0 ) chain = [];\n  if ( nextRuleModifiers === void 0 ) nextRuleModifiers = [];\n\n  this.chain = chain;\n  this.nextRuleModifiers = nextRuleModifiers;\n};\n\nContext.prototype._applyRule = function _applyRule (ruleFn, name) {\n    var this$1 = this;\n\n  return function () {\n      var args = [], len = arguments.length;\n      while ( len-- ) args[ len ] = arguments[ len ];\n\n    this$1.chain.push(\n      new Rule(name, ruleFn.apply(this$1, args), args, this$1.nextRuleModifiers)\n    );\n    this$1.nextRuleModifiers = [];\n    return this$1;\n  };\n};\n\nContext.prototype._applyModifier = function _applyModifier (modifier, name) {\n  this.nextRuleModifiers.push(\n    new Modifier(name, modifier.simple, modifier.async)\n  );\n  return this;\n};\n\nContext.prototype._clone = function _clone () {\n  return new Context(this.chain.slice(), this.nextRuleModifiers.slice());\n};\n\nContext.prototype.test = function test (value) {\n  return this.chain.every(function (rule) { return rule._test(value); });\n};\n\nContext.prototype.testAll = function testAll (value) {\n  var err = [];\n  this.chain.forEach(function (rule) {\n    try {\n      rule._check(value);\n    } catch (ex) {\n      err.push(new ValidationError(rule, value, ex));\n    }\n  });\n  return err;\n};\n\nContext.prototype.check = function check (value) {\n  this.chain.forEach(function (rule) {\n    try {\n      rule._check(value);\n    } catch (ex) {\n      throw new ValidationError(rule, value, ex);\n    }\n  });\n};\n\nContext.prototype.testAsync = function testAsync (value) {\n    var this$1 = this;\n\n  return new Promise(function (resolve, reject) {\n    executeAsyncRules(value, this$1.chain.slice(), resolve, reject);\n  });\n};\n\nfunction executeAsyncRules(value, rules, resolve, reject) {\n  if (rules.length) {\n    var rule = rules.shift();\n    rule._testAsync(value).then(\n      function () {\n        executeAsyncRules(value, rules, resolve, reject);\n      },\n      function (cause) {\n        reject(new ValidationError(rule, value, cause));\n      }\n    );\n  } else {\n    resolve(value);\n  }\n}\n\nvar consideredEmpty = function (value, considerTrimmedEmptyString) {\n  if (\n    considerTrimmedEmptyString &&\n    typeof value === 'string' &&\n    value.trim().length === 0\n  ) {\n    return true;\n  }\n\n  return value === undefined || value === null;\n};\n\nfunction optional (validation, considerTrimmedEmptyString) {\n  if ( considerTrimmedEmptyString === void 0 ) considerTrimmedEmptyString = false;\n\n  return ({\n  simple: function (value) { return consideredEmpty(value, considerTrimmedEmptyString) ||\n    validation.check(value) === undefined; },\n  async: function (value) { return consideredEmpty(value, considerTrimmedEmptyString) ||\n    validation.testAsync(value); },\n});\n}\n\nfunction v8n() {\n  return typeof Proxy !== 'undefined'\n    ? proxyContext(new Context())\n    : proxylessContext(new Context());\n}\n\n// Custom rules\nvar customRules = {};\n\nv8n.extend = function(newRules) {\n  Object.assign(customRules, newRules);\n};\n\nv8n.clearCustomRules = function() {\n  customRules = {};\n};\n\nfunction proxyContext(context) {\n  return new Proxy(context, {\n    get: function get(obj, prop) {\n      if (prop in obj) {\n        return obj[prop];\n      }\n\n      var newContext = proxyContext(context._clone());\n\n      if (prop in availableModifiers) {\n        return newContext._applyModifier(availableModifiers[prop], prop);\n      }\n      if (prop in customRules) {\n        return newContext._applyRule(customRules[prop], prop);\n      }\n      if (prop in availableRules) {\n        return newContext._applyRule(availableRules[prop], prop);\n      }\n    },\n  });\n}\n\nfunction proxylessContext(context) {\n  var addRuleSet = function (ruleSet, targetContext) {\n    Object.keys(ruleSet).forEach(function (prop) {\n      targetContext[prop] = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var newContext = proxylessContext(targetContext._clone());\n        var contextWithRuleApplied = newContext._applyRule(\n          ruleSet[prop],\n          prop\n        ).apply(void 0, args);\n        return contextWithRuleApplied;\n      };\n    });\n    return targetContext;\n  };\n\n  var contextWithAvailableRules = addRuleSet(availableRules, context);\n  var contextWithAllRules = addRuleSet(\n    customRules,\n    contextWithAvailableRules\n  );\n\n  Object.keys(availableModifiers).forEach(function (prop) {\n    Object.defineProperty(contextWithAllRules, prop, {\n      get: function () {\n        var newContext = proxylessContext(contextWithAllRules._clone());\n        return newContext._applyModifier(availableModifiers[prop], prop);\n      },\n    });\n  });\n\n  return contextWithAllRules;\n}\n\nvar availableModifiers = {\n  not: {\n    simple: function (fn) { return function (value) { return !fn(value); }; },\n    async: function (fn) { return function (value) { return Promise.resolve(fn(value))\n        .then(function (result) { return !result; })\n        .catch(function () { return true; }); }; },\n  },\n\n  some: {\n    simple: function (fn) { return function (value) {\n      return split(value).some(function (item) {\n        try {\n          return fn(item);\n        } catch (ex) {\n          return false;\n        }\n      });\n    }; },\n    async: function (fn) { return function (value) {\n      return Promise.all(\n        split(value).map(function (item) {\n          try {\n            return fn(item).catch(function () { return false; });\n          } catch (ex) {\n            return false;\n          }\n        })\n      ).then(function (result) { return result.some(Boolean); });\n    }; },\n  },\n\n  every: {\n    simple: function (fn) { return function (value) { return value !== false && split(value).every(fn); }; },\n    async: function (fn) { return function (value) { return Promise.all(split(value).map(fn)).then(function (result) { return result.every(Boolean); }); }; },\n  },\n\n  strict: {\n    simple: function (fn, rule) { return function (value) {\n      if (isSchemaRule(rule) && value && typeof value === 'object') {\n        return (\n          Object.keys(rule.args[0]).length === Object.keys(value).length &&\n          fn(value)\n        );\n      }\n      return fn(value);\n    }; },\n    async: function (fn, rule) { return function (value) { return Promise.resolve(fn(value))\n        .then(function (result) {\n          if (isSchemaRule(rule) && value && typeof value === 'object') {\n            return (\n              Object.keys(rule.args[0]).length === Object.keys(value).length &&\n              result\n            );\n          }\n          return result;\n        })\n        .catch(function () { return false; }); }; },\n  },\n};\n\nfunction isSchemaRule(rule) {\n  return (\n    rule &&\n    rule.name === 'schema' &&\n    rule.args.length > 0 &&\n    typeof rule.args[0] === 'object'\n  );\n}\n\nfunction split(value) {\n  if (typeof value === 'string') {\n    return value.split('');\n  }\n  return value;\n}\n\nvar availableRules = {\n  // Value\n\n  equal: function (expected) { return function (value) { return value == expected; }; },\n\n  exact: function (expected) { return function (value) { return value === expected; }; },\n\n  // Types\n\n  number: function (allowInfinite) {\n    if ( allowInfinite === void 0 ) allowInfinite = true;\n\n    return function (value) { return typeof value === 'number' && (allowInfinite || isFinite(value)); };\n},\n\n  integer: function () { return function (value) {\n    var isInteger = Number.isInteger || isIntegerPolyfill;\n    return isInteger(value);\n  }; },\n\n  numeric: function () { return function (value) { return !isNaN(parseFloat(value)) && isFinite(value); }; },\n\n  string: function () { return testType('string'); },\n\n  boolean: function () { return testType('boolean'); },\n\n  undefined: function () { return testType('undefined'); },\n\n  null: function () { return testType('null'); },\n\n  array: function () { return testType('array'); },\n\n  object: function () { return testType('object'); },\n\n  instanceOf: function (instance) { return function (value) { return value instanceof instance; }; },\n\n  // Pattern\n\n  pattern: function (expected) { return function (value) { return expected.test(value); }; },\n\n  lowercase: function () { return function (value) {\n    return (\n      typeof value === 'boolean' ||\n      (value === value.toLowerCase() && value.trim() !== '')\n    );\n  }; },\n\n  uppercase: function () { return function (value) { return value === value.toUpperCase() && value.trim() !== ''; }; },\n\n  vowel: function () { return function (value) { return /^[aeiou]+$/i.test(value); }; },\n\n  consonant: function () { return function (value) { return /^(?=[^aeiou])([a-z]+)$/i.test(value); }; },\n\n  // Value at\n\n  first: function (expected) { return function (value) { return value[0] == expected; }; },\n\n  last: function (expected) { return function (value) { return value[value.length - 1] == expected; }; },\n\n  // Length\n\n  empty: function () { return function (value) { return value.length === 0; }; },\n\n  length: function (min, max) { return function (value) { return value.length >= min && value.length <= (max || min); }; },\n\n  minLength: function (min) { return function (value) { return value.length >= min; }; },\n\n  maxLength: function (max) { return function (value) { return value.length <= max; }; },\n\n  // Range\n\n  negative: function () { return function (value) { return value < 0; }; },\n\n  positive: function () { return function (value) { return value >= 0; }; },\n\n  between: function (a, b) { return function (value) { return value >= a && value <= b; }; },\n\n  range: function (a, b) { return function (value) { return value >= a && value <= b; }; },\n\n  lessThan: function (n) { return function (value) { return value < n; }; },\n\n  lessThanOrEqual: function (n) { return function (value) { return value <= n; }; },\n\n  greaterThan: function (n) { return function (value) { return value > n; }; },\n\n  greaterThanOrEqual: function (n) { return function (value) { return value >= n; }; },\n\n  // Divisible\n\n  even: function () { return function (value) { return value % 2 === 0; }; },\n\n  odd: function () { return function (value) { return value % 2 !== 0; }; },\n\n  includes: function (expected) { return function (value) { return ~value.indexOf(expected); }; },\n\n  schema: function (schema) { return testSchema(schema); },\n\n  // branching\n\n  passesAnyOf: function () {\n    var validations = [], len = arguments.length;\n    while ( len-- ) validations[ len ] = arguments[ len ];\n\n    return function (value) { return validations.some(function (validation) { return validation.test(value); }); };\n},\n\n  optional: optional,\n};\n\nfunction testType(expected) {\n  return function (value) {\n    return (\n      (Array.isArray(value) && expected === 'array') ||\n      (value === null && expected === 'null') ||\n      typeof value === expected\n    );\n  };\n}\n\nfunction isIntegerPolyfill(value) {\n  return (\n    typeof value === 'number' && isFinite(value) && Math.floor(value) === value\n  );\n}\n\nfunction testSchema(schema) {\n  return {\n    simple: function (value) {\n      var causes = [];\n      Object.keys(schema).forEach(function (key) {\n        var nestedValidation = schema[key];\n        try {\n          nestedValidation.check((value || {})[key]);\n        } catch (ex) {\n          ex.target = key;\n          causes.push(ex);\n        }\n      });\n      if (causes.length > 0) {\n        throw causes;\n      }\n      return true;\n    },\n    async: function (value) {\n      var causes = [];\n      var nested = Object.keys(schema).map(function (key) {\n        var nestedValidation = schema[key];\n        return nestedValidation.testAsync((value || {})[key]).catch(function (ex) {\n          ex.target = key;\n          causes.push(ex);\n        });\n      });\n      return Promise.all(nested).then(function () {\n        if (causes.length > 0) {\n          throw causes;\n        }\n\n        return true;\n      });\n    },\n  };\n}\n\nexport default v8n;\n","var e=\"colors\",t=\"sizes\",r=\"space\",n={gap:r,gridGap:r,columnGap:r,gridColumnGap:r,rowGap:r,gridRowGap:r,inset:r,insetBlock:r,insetBlockEnd:r,insetBlockStart:r,insetInline:r,insetInlineEnd:r,insetInlineStart:r,margin:r,marginTop:r,marginRight:r,marginBottom:r,marginLeft:r,marginBlock:r,marginBlockEnd:r,marginBlockStart:r,marginInline:r,marginInlineEnd:r,marginInlineStart:r,padding:r,paddingTop:r,paddingRight:r,paddingBottom:r,paddingLeft:r,paddingBlock:r,paddingBlockEnd:r,paddingBlockStart:r,paddingInline:r,paddingInlineEnd:r,paddingInlineStart:r,top:r,right:r,bottom:r,left:r,scrollMargin:r,scrollMarginTop:r,scrollMarginRight:r,scrollMarginBottom:r,scrollMarginLeft:r,scrollMarginX:r,scrollMarginY:r,scrollMarginBlock:r,scrollMarginBlockEnd:r,scrollMarginBlockStart:r,scrollMarginInline:r,scrollMarginInlineEnd:r,scrollMarginInlineStart:r,scrollPadding:r,scrollPaddingTop:r,scrollPaddingRight:r,scrollPaddingBottom:r,scrollPaddingLeft:r,scrollPaddingX:r,scrollPaddingY:r,scrollPaddingBlock:r,scrollPaddingBlockEnd:r,scrollPaddingBlockStart:r,scrollPaddingInline:r,scrollPaddingInlineEnd:r,scrollPaddingInlineStart:r,fontSize:\"fontSizes\",background:e,backgroundColor:e,backgroundImage:e,borderImage:e,border:e,borderBlock:e,borderBlockEnd:e,borderBlockStart:e,borderBottom:e,borderBottomColor:e,borderColor:e,borderInline:e,borderInlineEnd:e,borderInlineStart:e,borderLeft:e,borderLeftColor:e,borderRight:e,borderRightColor:e,borderTop:e,borderTopColor:e,caretColor:e,color:e,columnRuleColor:e,fill:e,outline:e,outlineColor:e,stroke:e,textDecorationColor:e,fontFamily:\"fonts\",fontWeight:\"fontWeights\",lineHeight:\"lineHeights\",letterSpacing:\"letterSpacings\",blockSize:t,minBlockSize:t,maxBlockSize:t,inlineSize:t,minInlineSize:t,maxInlineSize:t,width:t,minWidth:t,maxWidth:t,height:t,minHeight:t,maxHeight:t,flexBasis:t,gridTemplateColumns:t,gridTemplateRows:t,borderWidth:\"borderWidths\",borderTopWidth:\"borderWidths\",borderRightWidth:\"borderWidths\",borderBottomWidth:\"borderWidths\",borderLeftWidth:\"borderWidths\",borderStyle:\"borderStyles\",borderTopStyle:\"borderStyles\",borderRightStyle:\"borderStyles\",borderBottomStyle:\"borderStyles\",borderLeftStyle:\"borderStyles\",borderRadius:\"radii\",borderTopLeftRadius:\"radii\",borderTopRightRadius:\"radii\",borderBottomRightRadius:\"radii\",borderBottomLeftRadius:\"radii\",boxShadow:\"shadows\",textShadow:\"shadows\",transition:\"transitions\",zIndex:\"zIndices\"},i=(e,t)=>\"function\"==typeof t?{\"()\":Function.prototype.toString.call(t)}:t,o=()=>{const e=Object.create(null);return(t,r,...n)=>{const o=(e=>JSON.stringify(e,i))(t);return o in e?e[o]:e[o]=r(t,...n)}},l=Symbol.for(\"sxs.internal\"),s=(e,t)=>Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)),a=e=>{for(const t in e)return!0;return!1},{hasOwnProperty:c}=Object.prototype,d=e=>e.includes(\"-\")?e:e.replace(/[A-Z]/g,(e=>\"-\"+e.toLowerCase())),g=/\\s+(?![^()]*\\))/,p=e=>t=>e(...\"string\"==typeof t?String(t).split(g):[t]),u={appearance:e=>({WebkitAppearance:e,appearance:e}),backfaceVisibility:e=>({WebkitBackfaceVisibility:e,backfaceVisibility:e}),backdropFilter:e=>({WebkitBackdropFilter:e,backdropFilter:e}),backgroundClip:e=>({WebkitBackgroundClip:e,backgroundClip:e}),boxDecorationBreak:e=>({WebkitBoxDecorationBreak:e,boxDecorationBreak:e}),clipPath:e=>({WebkitClipPath:e,clipPath:e}),content:e=>({content:e.includes('\"')||e.includes(\"'\")||/^([A-Za-z]+\\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(e)?e:`\"${e}\"`}),hyphens:e=>({WebkitHyphens:e,hyphens:e}),maskImage:e=>({WebkitMaskImage:e,maskImage:e}),maskSize:e=>({WebkitMaskSize:e,maskSize:e}),tabSize:e=>({MozTabSize:e,tabSize:e}),textSizeAdjust:e=>({WebkitTextSizeAdjust:e,textSizeAdjust:e}),userSelect:e=>({WebkitUserSelect:e,userSelect:e}),marginBlock:p(((e,t)=>({marginBlockStart:e,marginBlockEnd:t||e}))),marginInline:p(((e,t)=>({marginInlineStart:e,marginInlineEnd:t||e}))),maxSize:p(((e,t)=>({maxBlockSize:e,maxInlineSize:t||e}))),minSize:p(((e,t)=>({minBlockSize:e,minInlineSize:t||e}))),paddingBlock:p(((e,t)=>({paddingBlockStart:e,paddingBlockEnd:t||e}))),paddingInline:p(((e,t)=>({paddingInlineStart:e,paddingInlineEnd:t||e})))},h=/([\\d.]+)([^]*)/,f=(e,t)=>e.length?e.reduce(((e,r)=>(e.push(...t.map((e=>e.includes(\"&\")?e.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(e)?`:is(${r})`:r):r+\" \"+e))),e)),[]):t,m=(e,t)=>e in b&&\"string\"==typeof t?t.replace(/^((?:[^]*[^\\w-])?)(fit-content|stretch)((?:[^\\w-][^]*)?)$/,((t,r,n,i)=>r+(\"stretch\"===n?`-moz-available${i};${d(e)}:${r}-webkit-fill-available`:`-moz-fit-content${i};${d(e)}:${r}fit-content`)+i)):String(t),b={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},S=e=>e?e+\"-\":\"\",k=(e,t,r)=>e.replace(/([+-])?((?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:[Ee][+-]?\\d+)?)?(\\$|--)([$\\w-]+)/g,((e,n,i,o,l)=>\"$\"==o==!!i?e:(n||\"--\"==o?\"calc(\":\"\")+\"var(--\"+(\"$\"===o?S(t)+(l.includes(\"$\")?\"\":S(r))+l.replace(/\\$/g,\"-\"):l)+\")\"+(n||\"--\"==o?\"*\"+(n||\"\")+(i||\"1\")+\")\":\"\"))),y=/\\s*,\\s*(?![^()]*\\))/,B=Object.prototype.toString,$=(e,t,r,n,i)=>{let o,l,s;const a=(e,t,r)=>{let c,g;const p=e=>{for(c in e){const R=64===c.charCodeAt(0),z=R&&Array.isArray(e[c])?e[c]:[e[c]];for(g of z){const e=/[A-Z]/.test($=c)?$:$.replace(/-[^]/g,(e=>e[1].toUpperCase())),z=\"object\"==typeof g&&g&&g.toString===B&&(!n.utils[e]||!t.length);if(e in n.utils&&!z){const t=n.utils[e];if(t!==l){l=t,p(t(g)),l=null;continue}}else if(e in u){const t=u[e];if(t!==s){s=t,p(t(g)),s=null;continue}}if(R&&(b=c.slice(1)in n.media?\"@media \"+n.media[c.slice(1)]:c,c=b.replace(/\\(\\s*([\\w-]+)\\s*(=|<|<=|>|>=)\\s*([\\w-]+)\\s*(?:(<|<=|>|>=)\\s*([\\w-]+)\\s*)?\\)/g,((e,t,r,n,i,o)=>{const l=h.test(t),s=.0625*(l?-1:1),[a,c]=l?[n,t]:[t,n];return\"(\"+(\"=\"===r[0]?\"\":\">\"===r[0]===l?\"max-\":\"min-\")+a+\":\"+(\"=\"!==r[0]&&1===r.length?c.replace(h,((e,t,n)=>Number(t)+s*(\">\"===r?1:-1)+n)):c)+(i?\") and (\"+(\">\"===i[0]?\"min-\":\"max-\")+a+\":\"+(1===i.length?o.replace(h,((e,t,r)=>Number(t)+s*(\">\"===i?-1:1)+r)):o):\"\")+\")\"}))),z){const e=R?r.concat(c):[...r],n=R?[...t]:f(t,c.split(y));void 0!==o&&i(x(...o)),o=void 0,a(g,n,e)}else void 0===o&&(o=[[],t,r]),c=R||36!==c.charCodeAt(0)?c:`--${S(n.prefix)}${c.slice(1).replace(/\\$/g,\"-\")}`,g=z?g:\"number\"==typeof g?g&&e in I?String(g)+\"px\":String(g):k(m(e,null==g?\"\":g),n.prefix,n.themeMap[e]),o[0].push(`${R?`${c} `:`${d(c)}:`}${g}`)}}var b,$};p(e),void 0!==o&&i(x(...o)),o=void 0};a(e,t,r)},x=(e,t,r)=>`${r.map((e=>`${e}{`)).join(\"\")}${t.length?`${t.join(\",\")}{`:\"\"}${e.join(\";\")}${t.length?\"}\":\"\"}${Array(r.length?r.length+1:0).join(\"}\")}`,I={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},R=e=>String.fromCharCode(e+(e>25?39:97)),z=e=>(e=>{let t,r=\"\";for(t=Math.abs(e);t>52;t=t/52|0)r=R(t%52)+r;return R(t%52)+r})(((e,t)=>{let r=t.length;for(;r;)e=33*e^t.charCodeAt(--r);return e})(5381,JSON.stringify(e))>>>0),W=[\"themed\",\"global\",\"styled\",\"onevar\",\"resonevar\",\"allvar\",\"inline\"],j=e=>{if(e.href&&!e.href.startsWith(location.origin))return!1;try{return!!e.cssRules}catch(e){return!1}},E=e=>{let t;const r=()=>{const{cssRules:e}=t.sheet;return[].map.call(e,((r,n)=>{const{cssText:i}=r;let o=\"\";if(i.startsWith(\"--sxs\"))return\"\";if(e[n-1]&&(o=e[n-1].cssText).startsWith(\"--sxs\")){if(!r.cssRules.length)return\"\";for(const e in t.rules)if(t.rules[e].group===r)return`--sxs{--sxs:${[...t.rules[e].cache].join(\" \")}}${i}`;return r.cssRules.length?`${o}${i}`:\"\"}return i})).join(\"\")},n=()=>{if(t){const{rules:e,sheet:r}=t;if(!r.deleteRule){for(;3===Object(Object(r.cssRules)[0]).type;)r.cssRules.splice(0,1);r.cssRules=[]}for(const t in e)delete e[t]}const i=Object(e).styleSheets||[];for(const e of i)if(j(e)){for(let i=0,o=e.cssRules;o[i];++i){const l=Object(o[i]);if(1!==l.type)continue;const s=Object(o[i+1]);if(4!==s.type)continue;++i;const{cssText:a}=l;if(!a.startsWith(\"--sxs\"))continue;const c=a.slice(14,-3).trim().split(/\\s+/),d=W[c[0]];d&&(t||(t={sheet:e,reset:n,rules:{},toString:r}),t.rules[d]={group:s,index:i,cache:new Set(c)})}if(t)break}if(!t){const i=(e,t)=>({type:t,cssRules:[],insertRule(e,t){this.cssRules.splice(t,0,i(e,{import:3,undefined:1}[(e.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return\"@media{}\"===e?`@media{${[].map.call(this.cssRules,(e=>e.cssText)).join(\"\")}}`:e}});t={sheet:e?(e.head||e).appendChild(document.createElement(\"style\")).sheet:i(\"\",\"text/css\"),rules:{},reset:n,toString:r}}const{sheet:o,rules:l}=t;for(let e=W.length-1;e>=0;--e){const t=W[e];if(!l[t]){const r=W[e+1],n=l[r]?l[r].index:o.cssRules.length;o.insertRule(\"@media{}\",n),o.insertRule(`--sxs{--sxs:${e}}`,n),l[t]={group:o.cssRules[n+1],index:n,cache:new Set([e])}}v(l[t])}};return n(),t},v=e=>{const t=e.group;let r=t.cssRules.length;e.apply=e=>{try{t.insertRule(e,r),++r}catch(e){}}},T=Symbol(),w=o(),M=(e,t)=>w(e,(()=>(...r)=>{let n={type:null,composers:new Set};for(const t of r)if(null!=t)if(t[l]){null==n.type&&(n.type=t[l].type);for(const e of t[l].composers)n.composers.add(e)}else t.constructor!==Object||t.$$typeof?null==n.type&&(n.type=t):n.composers.add(C(t,e));return null==n.type&&(n.type=\"span\"),n.composers.size||n.composers.add([\"PJLV\",{},[],[],{},[]]),P(e,n,t)})),C=({variants:e,compoundVariants:t,defaultVariants:r,...n},i)=>{const o=`${S(i.prefix)}c-${z(n)}`,l=[],s=[],d=Object.create(null),g=[];for(const e in r)d[e]=String(r[e]);if(\"object\"==typeof e&&e)for(const t in e){p=d,u=t,c.call(p,u)||(d[t]=\"undefined\");const r=e[t];for(const e in r){const n={[t]:String(e)};\"undefined\"===String(e)&&g.push(t);const i=r[e],o=[n,i,!a(i)];l.push(o)}}var p,u;if(\"object\"==typeof t&&t)for(const e of t){let{css:t,...r}=e;t=\"object\"==typeof t&&t||{};for(const e in r)r[e]=String(r[e]);const n=[r,t,!a(t)];s.push(n)}return[o,n,l,s,d,g]},P=(e,t,r)=>{const[n,i,o,a]=L(t.composers),c=\"function\"==typeof t.type||t.type.$$typeof?(e=>{function t(){for(let r=0;r<t[T].length;r++){const[n,i]=t[T][r];e.rules[n].apply(i)}return t[T]=[],null}return t[T]=[],t.rules={},W.forEach((e=>t.rules[e]={apply:r=>t[T].push([e,r])})),t})(r):null,d=(c||r).rules,g=`.${n}${i.length>1?`:where(.${i.slice(1).join(\".\")})`:\"\"}`,p=l=>{l=\"object\"==typeof l&&l||A;const{css:s,...p}=l,u={};for(const e in o)if(delete p[e],e in l){let t=l[e];\"object\"==typeof t&&t?u[e]={\"@initial\":o[e],...t}:(t=String(t),u[e]=\"undefined\"!==t||a.has(e)?t:o[e])}else u[e]=o[e];const h=new Set([...i]);for(const[n,i,o,l]of t.composers){r.rules.styled.cache.has(n)||(r.rules.styled.cache.add(n),$(i,[`.${n}`],[],e,(e=>{d.styled.apply(e)})));const t=O(o,u,e.media),s=O(l,u,e.media,!0);for(const i of t)if(void 0!==i)for(const[t,o,l]of i){const i=`${n}-${z(o)}-${t}`;h.add(i);const s=(l?r.rules.resonevar:r.rules.onevar).cache,a=l?d.resonevar:d.onevar;s.has(i)||(s.add(i),$(o,[`.${i}`],[],e,(e=>{a.apply(e)})))}for(const t of s)if(void 0!==t)for(const[i,o]of t){const t=`${n}-${z(o)}-${i}`;h.add(t),r.rules.allvar.cache.has(t)||(r.rules.allvar.cache.add(t),$(o,[`.${t}`],[],e,(e=>{d.allvar.apply(e)})))}}if(\"object\"==typeof s&&s){const t=`${n}-i${z(s)}-css`;h.add(t),r.rules.inline.cache.has(t)||(r.rules.inline.cache.add(t),$(s,[`.${t}`],[],e,(e=>{d.inline.apply(e)})))}for(const e of String(l.className||\"\").trim().split(/\\s+/))e&&h.add(e);const f=p.className=[...h].join(\" \");return{type:t.type,className:f,selector:g,props:p,toString:()=>f,deferredInjector:c}};return s(p,{className:n,selector:g,[l]:t,toString:()=>(r.rules.styled.cache.has(n)||p(),n)})},L=e=>{let t=\"\";const r=[],n={},i=[];for(const[o,,,,l,s]of e){\"\"===t&&(t=o),r.push(o),i.push(...s);for(const e in l){const t=l[e];(void 0===n[e]||\"undefined\"!==t||s.includes(t))&&(n[e]=t)}}return[t,r,n,new Set(i)]},O=(e,t,r,n)=>{const i=[];e:for(let[o,l,s]of e){if(s)continue;let e,a=0,c=!1;for(e in o){const n=o[e];let i=t[e];if(i!==n){if(\"object\"!=typeof i||!i)continue e;{let e,t,o=0;for(const l in i){if(n===String(i[l])){if(\"@initial\"!==l){const e=l.slice(1);(t=t||[]).push(e in r?r[e]:l.replace(/^@media ?/,\"\")),c=!0}a+=o,e=!0}++o}if(t&&t.length&&(l={[\"@media \"+t.join(\", \")]:l}),!e)continue e}}}(i[a]=i[a]||[]).push([n?\"cv\":`${e}-${o[e]}`,l,c])}return i},A={},N=o(),D=(e,t)=>N(e,(()=>(...r)=>{const n=()=>{for(let n of r){n=\"object\"==typeof n&&n||{};let r=z(n);if(!t.rules.global.cache.has(r)){if(t.rules.global.cache.add(r),\"@import\"in n){let e=[].indexOf.call(t.sheet.cssRules,t.rules.themed.group)-1;for(let r of[].concat(n[\"@import\"]))r=r.includes('\"')||r.includes(\"'\")?r:`\"${r}\"`,t.sheet.insertRule(`@import ${r};`,e++);delete n[\"@import\"]}$(n,[],[],e,(e=>{t.rules.global.apply(e)}))}}return\"\"};return s(n,{toString:n})})),H=o(),V=(e,t)=>H(e,(()=>r=>{const n=`${S(e.prefix)}k-${z(r)}`,i=()=>{if(!t.rules.global.cache.has(n)){t.rules.global.cache.add(n);const i=[];$(r,[],[],e,(e=>i.push(e)));const o=`@keyframes ${n}{${i.join(\"\")}}`;t.rules.global.apply(o)}return n};return s(i,{get name(){return i()},toString:i})})),G=class{constructor(e,t,r,n){this.token=null==e?\"\":String(e),this.value=null==t?\"\":String(t),this.scale=null==r?\"\":String(r),this.prefix=null==n?\"\":String(n)}get computedValue(){return\"var(\"+this.variable+\")\"}get variable(){return\"--\"+S(this.prefix)+S(this.scale)+this.token}toString(){return this.computedValue}},F=o(),J=(e,t)=>F(e,(()=>(r,n)=>{n=\"object\"==typeof r&&r||Object(n);const i=`.${r=(r=\"string\"==typeof r?r:\"\")||`${S(e.prefix)}t-${z(n)}`}`,o={},l=[];for(const t in n){o[t]={};for(const r in n[t]){const i=`--${S(e.prefix)}${t}-${r}`,s=k(String(n[t][r]),e.prefix,t);o[t][r]=new G(r,s,t,e.prefix),l.push(`${i}:${s}`)}}const s=()=>{if(l.length&&!t.rules.themed.cache.has(r)){t.rules.themed.cache.add(r);const i=`${n===e.theme?\":root,\":\"\"}.${r}{${l.join(\";\")}}`;t.rules.themed.apply(i)}return r};return{...o,get className(){return s()},selector:i,toString:s}})),U=o();import Z from\"react\";var X,Y=o(),q=e=>{const t=(e=>{let t=!1;const r=U(e,(e=>{t=!0;const r=\"prefix\"in(e=\"object\"==typeof e&&e||{})?String(e.prefix):\"\",i=\"object\"==typeof e.media&&e.media||{},o=\"object\"==typeof e.root?e.root||null:globalThis.document||null,l=\"object\"==typeof e.theme&&e.theme||{},s={prefix:r,media:i,theme:l,themeMap:\"object\"==typeof e.themeMap&&e.themeMap||{...n},utils:\"object\"==typeof e.utils&&e.utils||{}},a=E(o),c={css:M(s,a),globalCss:D(s,a),keyframes:V(s,a),createTheme:J(s,a),reset(){a.reset(),c.theme.toString()},theme:{},sheet:a,config:s,prefix:r,getCssText:a.toString,toString:a.toString};return String(c.theme=c.createTheme(l)),c}));return t||r.reset(),r})(e);return t.styled=(({config:e,sheet:t})=>Y(e,(()=>{const r=M(e,t);return(...e)=>{const t=r(...e),n=t[l].type,i=Z.forwardRef(((e,r)=>{const i=e&&e.as||n,{props:o,deferredInjector:l}=t(e);return delete o.as,o.ref=r,l?Z.createElement(Z.Fragment,null,Z.createElement(i,o),Z.createElement(l,null)):Z.createElement(i,o)}));return i.className=t.className,i.displayName=`Styled.${n.displayName||n.name||n}`,i.selector=t.selector,i.toString=()=>t.selector,i[l]=t[l],i}})))(t),t},K=()=>X||(X=q()),Q=(...e)=>K().createTheme(...e),_=(...e)=>K().globalCss(...e),ee=(...e)=>K().keyframes(...e),te=(...e)=>K().css(...e),re=(...e)=>K().styled(...e);export{q as createStitches,Q as createTheme,te as css,n as defaultThemeMap,_ as globalCss,ee as keyframes,re as styled};\n//# sourceMappingUrl=index.map","function clamp(v, min, max) {\n  return Math.max(min, Math.min(v, max));\n}\nconst V = {\n  toVector(v, fallback) {\n    if (v === undefined) v = fallback;\n    return Array.isArray(v) ? v : [v, v];\n  },\n\n  add(v1, v2) {\n    return [v1[0] + v2[0], v1[1] + v2[1]];\n  },\n\n  sub(v1, v2) {\n    return [v1[0] - v2[0], v1[1] - v2[1]];\n  },\n\n  addTo(v1, v2) {\n    v1[0] += v2[0];\n    v1[1] += v2[1];\n  },\n\n  subTo(v1, v2) {\n    v1[0] -= v2[0];\n    v1[1] -= v2[1];\n  }\n\n};\n\nfunction rubberband(distance, dimension, constant) {\n  if (dimension === 0 || Math.abs(dimension) === Infinity) return Math.pow(distance, constant * 5);\n  return distance * dimension * constant / (dimension + constant * distance);\n}\n\nfunction rubberbandIfOutOfBounds(position, min, max, constant = 0.15) {\n  if (constant === 0) return clamp(position, min, max);\n  if (position < min) return -rubberband(min - position, max - min, constant) + min;\n  if (position > max) return +rubberband(position - max, max - min, constant) + max;\n  return position;\n}\nfunction computeRubberband(bounds, [Vx, Vy], [Rx, Ry]) {\n  const [[X0, X1], [Y0, Y1]] = bounds;\n  return [rubberbandIfOutOfBounds(Vx, X0, X1, Rx), rubberbandIfOutOfBounds(Vy, Y0, Y1, Ry)];\n}\n\nexport { V, computeRubberband as c, rubberbandIfOutOfBounds as r };\n","import { V, c as computeRubberband } from './maths-b2a210f4.esm.js';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nconst EVENT_TYPE_MAP = {\n  pointer: {\n    start: 'down',\n    change: 'move',\n    end: 'up'\n  },\n  mouse: {\n    start: 'down',\n    change: 'move',\n    end: 'up'\n  },\n  touch: {\n    start: 'start',\n    change: 'move',\n    end: 'end'\n  },\n  gesture: {\n    start: 'start',\n    change: 'change',\n    end: 'end'\n  }\n};\n\nfunction capitalize(string) {\n  if (!string) return '';\n  return string[0].toUpperCase() + string.slice(1);\n}\n\nconst actionsWithoutCaptureSupported = ['enter', 'leave'];\n\nfunction hasCapture(capture = false, actionKey) {\n  return capture && !actionsWithoutCaptureSupported.includes(actionKey);\n}\n\nfunction toHandlerProp(device, action = '', capture = false) {\n  const deviceProps = EVENT_TYPE_MAP[device];\n  const actionKey = deviceProps ? deviceProps[action] || action : action;\n  return 'on' + capitalize(device) + capitalize(actionKey) + (hasCapture(capture, actionKey) ? 'Capture' : '');\n}\nconst pointerCaptureEvents = ['gotpointercapture', 'lostpointercapture'];\nfunction parseProp(prop) {\n  let eventKey = prop.substring(2).toLowerCase();\n  const passive = !!~eventKey.indexOf('passive');\n  if (passive) eventKey = eventKey.replace('passive', '');\n  const captureKey = pointerCaptureEvents.includes(eventKey) ? 'capturecapture' : 'capture';\n  const capture = !!~eventKey.indexOf(captureKey);\n  if (capture) eventKey = eventKey.replace('capture', '');\n  return {\n    device: eventKey,\n    capture,\n    passive\n  };\n}\nfunction toDomEventType(device, action = '') {\n  const deviceProps = EVENT_TYPE_MAP[device];\n  const actionKey = deviceProps ? deviceProps[action] || action : action;\n  return device + actionKey;\n}\nfunction isTouch(event) {\n  return 'touches' in event;\n}\nfunction getPointerType(event) {\n  if (isTouch(event)) return 'touch';\n  if ('pointerType' in event) return event.pointerType;\n  return 'mouse';\n}\n\nfunction getCurrentTargetTouchList(event) {\n  return Array.from(event.touches).filter(e => {\n    var _event$currentTarget, _event$currentTarget$;\n\n    return e.target === event.currentTarget || ((_event$currentTarget = event.currentTarget) === null || _event$currentTarget === void 0 ? void 0 : (_event$currentTarget$ = _event$currentTarget.contains) === null || _event$currentTarget$ === void 0 ? void 0 : _event$currentTarget$.call(_event$currentTarget, e.target));\n  });\n}\n\nfunction getTouchList(event) {\n  return event.type === 'touchend' || event.type === 'touchcancel' ? event.changedTouches : event.targetTouches;\n}\n\nfunction getValueEvent(event) {\n  return isTouch(event) ? getTouchList(event)[0] : event;\n}\n\nfunction distanceAngle(P1, P2) {\n  const dx = P2.clientX - P1.clientX;\n  const dy = P2.clientY - P1.clientY;\n  const cx = (P2.clientX + P1.clientX) / 2;\n  const cy = (P2.clientY + P1.clientY) / 2;\n  const distance = Math.hypot(dx, dy);\n  const angle = -(Math.atan2(dx, dy) * 180) / Math.PI;\n  const origin = [cx, cy];\n  return {\n    angle,\n    distance,\n    origin\n  };\n}\nfunction touchIds(event) {\n  return getCurrentTargetTouchList(event).map(touch => touch.identifier);\n}\nfunction touchDistanceAngle(event, ids) {\n  const [P1, P2] = Array.from(event.touches).filter(touch => ids.includes(touch.identifier));\n  return distanceAngle(P1, P2);\n}\nfunction pointerId(event) {\n  const valueEvent = getValueEvent(event);\n  return isTouch(event) ? valueEvent.identifier : valueEvent.pointerId;\n}\nfunction pointerValues(event) {\n  const valueEvent = getValueEvent(event);\n  return [valueEvent.clientX, valueEvent.clientY];\n}\nconst LINE_HEIGHT = 40;\nconst PAGE_HEIGHT = 800;\nfunction wheelValues(event) {\n  let {\n    deltaX,\n    deltaY,\n    deltaMode\n  } = event;\n\n  if (deltaMode === 1) {\n    deltaX *= LINE_HEIGHT;\n    deltaY *= LINE_HEIGHT;\n  } else if (deltaMode === 2) {\n    deltaX *= PAGE_HEIGHT;\n    deltaY *= PAGE_HEIGHT;\n  }\n\n  return [deltaX, deltaY];\n}\nfunction scrollValues(event) {\n  var _ref, _ref2;\n\n  const {\n    scrollX,\n    scrollY,\n    scrollLeft,\n    scrollTop\n  } = event.currentTarget;\n  return [(_ref = scrollX !== null && scrollX !== void 0 ? scrollX : scrollLeft) !== null && _ref !== void 0 ? _ref : 0, (_ref2 = scrollY !== null && scrollY !== void 0 ? scrollY : scrollTop) !== null && _ref2 !== void 0 ? _ref2 : 0];\n}\nfunction getEventDetails(event) {\n  const payload = {};\n  if ('buttons' in event) payload.buttons = event.buttons;\n\n  if ('shiftKey' in event) {\n    const {\n      shiftKey,\n      altKey,\n      metaKey,\n      ctrlKey\n    } = event;\n    Object.assign(payload, {\n      shiftKey,\n      altKey,\n      metaKey,\n      ctrlKey\n    });\n  }\n\n  return payload;\n}\n\nfunction call(v, ...args) {\n  if (typeof v === 'function') {\n    return v(...args);\n  } else {\n    return v;\n  }\n}\nfunction noop() {}\nfunction chain(...fns) {\n  if (fns.length === 0) return noop;\n  if (fns.length === 1) return fns[0];\n  return function () {\n    let result;\n\n    for (const fn of fns) {\n      result = fn.apply(this, arguments) || result;\n    }\n\n    return result;\n  };\n}\nfunction assignDefault(value, fallback) {\n  return Object.assign({}, fallback, value || {});\n}\n\nconst BEFORE_LAST_KINEMATICS_DELAY = 32;\nclass Engine {\n  constructor(ctrl, args, key) {\n    this.ctrl = ctrl;\n    this.args = args;\n    this.key = key;\n\n    if (!this.state) {\n      this.state = {};\n      this.computeValues([0, 0]);\n      this.computeInitial();\n      if (this.init) this.init();\n      this.reset();\n    }\n  }\n\n  get state() {\n    return this.ctrl.state[this.key];\n  }\n\n  set state(state) {\n    this.ctrl.state[this.key] = state;\n  }\n\n  get shared() {\n    return this.ctrl.state.shared;\n  }\n\n  get eventStore() {\n    return this.ctrl.gestureEventStores[this.key];\n  }\n\n  get timeoutStore() {\n    return this.ctrl.gestureTimeoutStores[this.key];\n  }\n\n  get config() {\n    return this.ctrl.config[this.key];\n  }\n\n  get sharedConfig() {\n    return this.ctrl.config.shared;\n  }\n\n  get handler() {\n    return this.ctrl.handlers[this.key];\n  }\n\n  reset() {\n    const {\n      state,\n      shared,\n      ingKey,\n      args\n    } = this;\n    shared[ingKey] = state._active = state.active = state._blocked = state._force = false;\n    state._step = [false, false];\n    state.intentional = false;\n    state._movement = [0, 0];\n    state._distance = [0, 0];\n    state._direction = [0, 0];\n    state._delta = [0, 0];\n    state._bounds = [[-Infinity, Infinity], [-Infinity, Infinity]];\n    state.args = args;\n    state.axis = undefined;\n    state.memo = undefined;\n    state.elapsedTime = 0;\n    state.direction = [0, 0];\n    state.distance = [0, 0];\n    state.overflow = [0, 0];\n    state._movementBound = [false, false];\n    state.velocity = [0, 0];\n    state.movement = [0, 0];\n    state.delta = [0, 0];\n    state.timeStamp = 0;\n  }\n\n  start(event) {\n    const state = this.state;\n    const config = this.config;\n\n    if (!state._active) {\n      this.reset();\n      this.computeInitial();\n      state._active = true;\n      state.target = event.target;\n      state.currentTarget = event.currentTarget;\n      state.lastOffset = config.from ? call(config.from, state) : state.offset;\n      state.offset = state.lastOffset;\n    }\n\n    state.startTime = state.timeStamp = event.timeStamp;\n  }\n\n  computeValues(values) {\n    const state = this.state;\n    state._values = values;\n    state.values = this.config.transform(values);\n  }\n\n  computeInitial() {\n    const state = this.state;\n    state._initial = state._values;\n    state.initial = state.values;\n  }\n\n  compute(event) {\n    const {\n      state,\n      config,\n      shared\n    } = this;\n    state.args = this.args;\n    let dt = 0;\n\n    if (event) {\n      state.event = event;\n      if (config.preventDefault && event.cancelable) state.event.preventDefault();\n      state.type = event.type;\n      shared.touches = this.ctrl.pointerIds.size || this.ctrl.touchIds.size;\n      shared.locked = !!document.pointerLockElement;\n      Object.assign(shared, getEventDetails(event));\n      shared.down = shared.pressed = shared.buttons % 2 === 1 || shared.touches > 0;\n      dt = event.timeStamp - state.timeStamp;\n      state.timeStamp = event.timeStamp;\n      state.elapsedTime = state.timeStamp - state.startTime;\n    }\n\n    if (state._active) {\n      const _absoluteDelta = state._delta.map(Math.abs);\n\n      V.addTo(state._distance, _absoluteDelta);\n    }\n\n    if (this.axisIntent) this.axisIntent(event);\n    const [_m0, _m1] = state._movement;\n    const [t0, t1] = config.threshold;\n    const {\n      _step,\n      values\n    } = state;\n\n    if (config.hasCustomTransform) {\n      if (_step[0] === false) _step[0] = Math.abs(_m0) >= t0 && values[0];\n      if (_step[1] === false) _step[1] = Math.abs(_m1) >= t1 && values[1];\n    } else {\n      if (_step[0] === false) _step[0] = Math.abs(_m0) >= t0 && Math.sign(_m0) * t0;\n      if (_step[1] === false) _step[1] = Math.abs(_m1) >= t1 && Math.sign(_m1) * t1;\n    }\n\n    state.intentional = _step[0] !== false || _step[1] !== false;\n    if (!state.intentional) return;\n    const movement = [0, 0];\n\n    if (config.hasCustomTransform) {\n      const [v0, v1] = values;\n      movement[0] = _step[0] !== false ? v0 - _step[0] : 0;\n      movement[1] = _step[1] !== false ? v1 - _step[1] : 0;\n    } else {\n      movement[0] = _step[0] !== false ? _m0 - _step[0] : 0;\n      movement[1] = _step[1] !== false ? _m1 - _step[1] : 0;\n    }\n\n    if (this.restrictToAxis && !state._blocked) this.restrictToAxis(movement);\n    const previousOffset = state.offset;\n    const gestureIsActive = state._active && !state._blocked || state.active;\n\n    if (gestureIsActive) {\n      state.first = state._active && !state.active;\n      state.last = !state._active && state.active;\n      state.active = shared[this.ingKey] = state._active;\n\n      if (event) {\n        if (state.first) {\n          if ('bounds' in config) state._bounds = call(config.bounds, state);\n          if (this.setup) this.setup();\n        }\n\n        state.movement = movement;\n        this.computeOffset();\n      }\n    }\n\n    const [ox, oy] = state.offset;\n    const [[x0, x1], [y0, y1]] = state._bounds;\n    state.overflow = [ox < x0 ? -1 : ox > x1 ? 1 : 0, oy < y0 ? -1 : oy > y1 ? 1 : 0];\n    state._movementBound[0] = state.overflow[0] ? state._movementBound[0] === false ? state._movement[0] : state._movementBound[0] : false;\n    state._movementBound[1] = state.overflow[1] ? state._movementBound[1] === false ? state._movement[1] : state._movementBound[1] : false;\n    const rubberband = state._active ? config.rubberband || [0, 0] : [0, 0];\n    state.offset = computeRubberband(state._bounds, state.offset, rubberband);\n    state.delta = V.sub(state.offset, previousOffset);\n    this.computeMovement();\n\n    if (gestureIsActive && (!state.last || dt > BEFORE_LAST_KINEMATICS_DELAY)) {\n      state.delta = V.sub(state.offset, previousOffset);\n      const absoluteDelta = state.delta.map(Math.abs);\n      V.addTo(state.distance, absoluteDelta);\n      state.direction = state.delta.map(Math.sign);\n      state._direction = state._delta.map(Math.sign);\n\n      if (!state.first && dt > 0) {\n        state.velocity = [absoluteDelta[0] / dt, absoluteDelta[1] / dt];\n      }\n    }\n  }\n\n  emit() {\n    const state = this.state;\n    const shared = this.shared;\n    const config = this.config;\n    if (!state._active) this.clean();\n    if ((state._blocked || !state.intentional) && !state._force && !config.triggerAllEvents) return;\n    const memo = this.handler(_objectSpread2(_objectSpread2(_objectSpread2({}, shared), state), {}, {\n      [this.aliasKey]: state.values\n    }));\n    if (memo !== undefined) state.memo = memo;\n  }\n\n  clean() {\n    this.eventStore.clean();\n    this.timeoutStore.clean();\n  }\n\n}\n\nfunction selectAxis([dx, dy], threshold) {\n  const absDx = Math.abs(dx);\n  const absDy = Math.abs(dy);\n\n  if (absDx > absDy && absDx > threshold) {\n    return 'x';\n  }\n\n  if (absDy > absDx && absDy > threshold) {\n    return 'y';\n  }\n\n  return undefined;\n}\n\nclass CoordinatesEngine extends Engine {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"aliasKey\", 'xy');\n  }\n\n  reset() {\n    super.reset();\n    this.state.axis = undefined;\n  }\n\n  init() {\n    this.state.offset = [0, 0];\n    this.state.lastOffset = [0, 0];\n  }\n\n  computeOffset() {\n    this.state.offset = V.add(this.state.lastOffset, this.state.movement);\n  }\n\n  computeMovement() {\n    this.state.movement = V.sub(this.state.offset, this.state.lastOffset);\n  }\n\n  axisIntent(event) {\n    const state = this.state;\n    const config = this.config;\n\n    if (!state.axis && event) {\n      const threshold = typeof config.axisThreshold === 'object' ? config.axisThreshold[getPointerType(event)] : config.axisThreshold;\n      state.axis = selectAxis(state._movement, threshold);\n    }\n\n    state._blocked = (config.lockDirection || !!config.axis) && !state.axis || !!config.axis && config.axis !== state.axis;\n  }\n\n  restrictToAxis(v) {\n    if (this.config.axis || this.config.lockDirection) {\n      switch (this.state.axis) {\n        case 'x':\n          v[1] = 0;\n          break;\n\n        case 'y':\n          v[0] = 0;\n          break;\n      }\n    }\n  }\n\n}\n\nconst identity = v => v;\nconst DEFAULT_RUBBERBAND = 0.15;\nconst commonConfigResolver = {\n  enabled(value = true) {\n    return value;\n  },\n\n  eventOptions(value, _k, config) {\n    return _objectSpread2(_objectSpread2({}, config.shared.eventOptions), value);\n  },\n\n  preventDefault(value = false) {\n    return value;\n  },\n\n  triggerAllEvents(value = false) {\n    return value;\n  },\n\n  rubberband(value = 0) {\n    switch (value) {\n      case true:\n        return [DEFAULT_RUBBERBAND, DEFAULT_RUBBERBAND];\n\n      case false:\n        return [0, 0];\n\n      default:\n        return V.toVector(value);\n    }\n  },\n\n  from(value) {\n    if (typeof value === 'function') return value;\n    if (value != null) return V.toVector(value);\n  },\n\n  transform(value, _k, config) {\n    const transform = value || config.shared.transform;\n    this.hasCustomTransform = !!transform;\n\n    if (process.env.NODE_ENV === 'development') {\n      const originalTransform = transform || identity;\n      return v => {\n        const r = originalTransform(v);\n\n        if (!isFinite(r[0]) || !isFinite(r[1])) {\n          console.warn(`[@use-gesture]: config.transform() must produce a valid result, but it was: [${r[0]},${[1]}]`);\n        }\n\n        return r;\n      };\n    }\n\n    return transform || identity;\n  },\n\n  threshold(value) {\n    return V.toVector(value, 0);\n  }\n\n};\n\nif (process.env.NODE_ENV === 'development') {\n  Object.assign(commonConfigResolver, {\n    domTarget(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`domTarget\\` option has been renamed to \\`target\\`.`);\n      }\n\n      return NaN;\n    },\n\n    lockDirection(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`lockDirection\\` option has been merged with \\`axis\\`. Use it as in \\`{ axis: 'lock' }\\``);\n      }\n\n      return NaN;\n    },\n\n    initial(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`initial\\` option has been renamed to \\`from\\`.`);\n      }\n\n      return NaN;\n    }\n\n  });\n}\n\nconst DEFAULT_AXIS_THRESHOLD = 0;\nconst coordinatesConfigResolver = _objectSpread2(_objectSpread2({}, commonConfigResolver), {}, {\n  axis(_v, _k, {\n    axis\n  }) {\n    this.lockDirection = axis === 'lock';\n    if (!this.lockDirection) return axis;\n  },\n\n  axisThreshold(value = DEFAULT_AXIS_THRESHOLD) {\n    return value;\n  },\n\n  bounds(value = {}) {\n    if (typeof value === 'function') {\n      return state => coordinatesConfigResolver.bounds(value(state));\n    }\n\n    if ('current' in value) {\n      return () => value.current;\n    }\n\n    if (typeof HTMLElement === 'function' && value instanceof HTMLElement) {\n      return value;\n    }\n\n    const {\n      left = -Infinity,\n      right = Infinity,\n      top = -Infinity,\n      bottom = Infinity\n    } = value;\n    return [[left, right], [top, bottom]];\n  }\n\n});\n\nconst DISPLACEMENT = 10;\nconst KEYS_DELTA_MAP = {\n  ArrowRight: (factor = 1) => [DISPLACEMENT * factor, 0],\n  ArrowLeft: (factor = 1) => [-DISPLACEMENT * factor, 0],\n  ArrowUp: (factor = 1) => [0, -DISPLACEMENT * factor],\n  ArrowDown: (factor = 1) => [0, DISPLACEMENT * factor]\n};\nclass DragEngine extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"ingKey\", 'dragging');\n  }\n\n  reset() {\n    super.reset();\n    const state = this.state;\n    state._pointerId = undefined;\n    state._pointerActive = false;\n    state._keyboardActive = false;\n    state._preventScroll = false;\n    state._delayed = false;\n    state.swipe = [0, 0];\n    state.tap = false;\n    state.canceled = false;\n    state.cancel = this.cancel.bind(this);\n  }\n\n  setup() {\n    const state = this.state;\n\n    if (state._bounds instanceof HTMLElement) {\n      const boundRect = state._bounds.getBoundingClientRect();\n\n      const targetRect = state.currentTarget.getBoundingClientRect();\n      const _bounds = {\n        left: boundRect.left - targetRect.left + state.offset[0],\n        right: boundRect.right - targetRect.right + state.offset[0],\n        top: boundRect.top - targetRect.top + state.offset[1],\n        bottom: boundRect.bottom - targetRect.bottom + state.offset[1]\n      };\n      state._bounds = coordinatesConfigResolver.bounds(_bounds);\n    }\n  }\n\n  cancel() {\n    const state = this.state;\n    if (state.canceled) return;\n    state.canceled = true;\n    state._active = false;\n    setTimeout(() => {\n      this.compute();\n      this.emit();\n    }, 0);\n  }\n\n  setActive() {\n    this.state._active = this.state._pointerActive || this.state._keyboardActive;\n  }\n\n  clean() {\n    this.pointerClean();\n    this.state._pointerActive = false;\n    this.state._keyboardActive = false;\n    super.clean();\n  }\n\n  pointerDown(event) {\n    const config = this.config;\n    const state = this.state;\n    if (event.buttons != null && (Array.isArray(config.pointerButtons) ? !config.pointerButtons.includes(event.buttons) : config.pointerButtons !== -1 && config.pointerButtons !== event.buttons)) return;\n    const ctrlIds = this.ctrl.setEventIds(event);\n\n    if (config.pointerCapture) {\n      event.target.setPointerCapture(event.pointerId);\n    }\n\n    if (ctrlIds && ctrlIds.size > 1 && state._pointerActive) return;\n    this.start(event);\n    this.setupPointer(event);\n    state._pointerId = pointerId(event);\n    state._pointerActive = true;\n    this.computeValues(pointerValues(event));\n    this.computeInitial();\n\n    if (config.preventScrollAxis && getPointerType(event) !== 'mouse') {\n      state._active = false;\n      this.setupScrollPrevention(event);\n    } else if (config.delay > 0) {\n      this.setupDelayTrigger(event);\n\n      if (config.triggerAllEvents) {\n        this.compute(event);\n        this.emit();\n      }\n    } else {\n      this.startPointerDrag(event);\n    }\n  }\n\n  startPointerDrag(event) {\n    const state = this.state;\n    state._active = true;\n    state._preventScroll = true;\n    state._delayed = false;\n    this.compute(event);\n    this.emit();\n  }\n\n  pointerMove(event) {\n    const state = this.state;\n    const config = this.config;\n    if (!state._pointerActive) return;\n    if (state.type === event.type && event.timeStamp === state.timeStamp) return;\n    const id = pointerId(event);\n    if (state._pointerId !== undefined && id !== state._pointerId) return;\n\n    const _values = pointerValues(event);\n\n    if (document.pointerLockElement === event.target) {\n      state._delta = [event.movementX, event.movementY];\n    } else {\n      state._delta = V.sub(_values, state._values);\n      this.computeValues(_values);\n    }\n\n    V.addTo(state._movement, state._delta);\n    this.compute(event);\n\n    if (state._delayed && state.intentional) {\n      this.timeoutStore.remove('dragDelay');\n      state.active = false;\n      this.startPointerDrag(event);\n      return;\n    }\n\n    if (config.preventScrollAxis && !state._preventScroll) {\n      if (state.axis) {\n        if (state.axis === config.preventScrollAxis || config.preventScrollAxis === 'xy') {\n          state._active = false;\n          this.clean();\n          return;\n        } else {\n          this.timeoutStore.remove('startPointerDrag');\n          this.startPointerDrag(event);\n          return;\n        }\n      } else {\n        return;\n      }\n    }\n\n    this.emit();\n  }\n\n  pointerUp(event) {\n    this.ctrl.setEventIds(event);\n\n    try {\n      if (this.config.pointerCapture && event.target.hasPointerCapture(event.pointerId)) {\n        ;\n        event.target.releasePointerCapture(event.pointerId);\n      }\n    } catch (_unused) {\n      if (process.env.NODE_ENV === 'development') {\n        console.warn(`[@use-gesture]: If you see this message, it's likely that you're using an outdated version of \\`@react-three/fiber\\`. \\n\\nPlease upgrade to the latest version.`);\n      }\n    }\n\n    const state = this.state;\n    const config = this.config;\n    if (!state._active || !state._pointerActive) return;\n    const id = pointerId(event);\n    if (state._pointerId !== undefined && id !== state._pointerId) return;\n    this.state._pointerActive = false;\n    this.setActive();\n    this.compute(event);\n    const [dx, dy] = state._distance;\n    state.tap = dx <= config.tapsThreshold && dy <= config.tapsThreshold;\n\n    if (state.tap && config.filterTaps) {\n      state._force = true;\n    } else {\n      const [dirx, diry] = state.direction;\n      const [vx, vy] = state.velocity;\n      const [mx, my] = state.movement;\n      const [svx, svy] = config.swipe.velocity;\n      const [sx, sy] = config.swipe.distance;\n      const sdt = config.swipe.duration;\n\n      if (state.elapsedTime < sdt) {\n        if (Math.abs(vx) > svx && Math.abs(mx) > sx) state.swipe[0] = dirx;\n        if (Math.abs(vy) > svy && Math.abs(my) > sy) state.swipe[1] = diry;\n      }\n    }\n\n    this.emit();\n  }\n\n  pointerClick(event) {\n    if (!this.state.tap) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  }\n\n  setupPointer(event) {\n    const config = this.config;\n    const device = config.device;\n\n    if (process.env.NODE_ENV === 'development') {\n      try {\n        if (device === 'pointer' && config.preventScrollDelay === undefined) {\n          const currentTarget = 'uv' in event ? event.sourceEvent.currentTarget : event.currentTarget;\n          const style = window.getComputedStyle(currentTarget);\n\n          if (style.touchAction === 'auto') {\n            console.warn(`[@use-gesture]: The drag target has its \\`touch-action\\` style property set to \\`auto\\`. It is recommended to add \\`touch-action: 'none'\\` so that the drag gesture behaves correctly on touch-enabled devices. For more information read this: https://use-gesture.netlify.app/docs/extras/#touch-action.\\n\\nThis message will only show in development mode. It won't appear in production. If this is intended, you can ignore it.`, currentTarget);\n          }\n        }\n      } catch (_unused2) {}\n    }\n\n    if (config.pointerLock) {\n      event.currentTarget.requestPointerLock();\n    }\n\n    if (!config.pointerCapture) {\n      this.eventStore.add(this.sharedConfig.window, device, 'change', this.pointerMove.bind(this));\n      this.eventStore.add(this.sharedConfig.window, device, 'end', this.pointerUp.bind(this));\n      this.eventStore.add(this.sharedConfig.window, device, 'cancel', this.pointerUp.bind(this));\n    }\n  }\n\n  pointerClean() {\n    if (this.config.pointerLock && document.pointerLockElement === this.state.currentTarget) {\n      document.exitPointerLock();\n    }\n  }\n\n  preventScroll(event) {\n    if (this.state._preventScroll && event.cancelable) {\n      event.preventDefault();\n    }\n  }\n\n  setupScrollPrevention(event) {\n    this.state._preventScroll = false;\n    persistEvent(event);\n    const remove = this.eventStore.add(this.sharedConfig.window, 'touch', 'change', this.preventScroll.bind(this), {\n      passive: false\n    });\n    this.eventStore.add(this.sharedConfig.window, 'touch', 'end', remove);\n    this.eventStore.add(this.sharedConfig.window, 'touch', 'cancel', remove);\n    this.timeoutStore.add('startPointerDrag', this.startPointerDrag.bind(this), this.config.preventScrollDelay, event);\n  }\n\n  setupDelayTrigger(event) {\n    this.state._delayed = true;\n    this.timeoutStore.add('dragDelay', () => {\n      this.state._step = [0, 0];\n      this.startPointerDrag(event);\n    }, this.config.delay);\n  }\n\n  keyDown(event) {\n    const deltaFn = KEYS_DELTA_MAP[event.key];\n\n    if (deltaFn) {\n      const state = this.state;\n      const factor = event.shiftKey ? 10 : event.altKey ? 0.1 : 1;\n      this.start(event);\n      state._delta = deltaFn(factor);\n      state._keyboardActive = true;\n      V.addTo(state._movement, state._delta);\n      this.compute(event);\n      this.emit();\n    }\n  }\n\n  keyUp(event) {\n    if (!(event.key in KEYS_DELTA_MAP)) return;\n    this.state._keyboardActive = false;\n    this.setActive();\n    this.compute(event);\n    this.emit();\n  }\n\n  bind(bindFunction) {\n    const device = this.config.device;\n    bindFunction(device, 'start', this.pointerDown.bind(this));\n\n    if (this.config.pointerCapture) {\n      bindFunction(device, 'change', this.pointerMove.bind(this));\n      bindFunction(device, 'end', this.pointerUp.bind(this));\n      bindFunction(device, 'cancel', this.pointerUp.bind(this));\n      bindFunction('lostPointerCapture', '', this.pointerUp.bind(this));\n    }\n\n    bindFunction('key', 'down', this.keyDown.bind(this));\n    bindFunction('key', 'up', this.keyUp.bind(this));\n\n    if (this.config.filterTaps) {\n      bindFunction('click', '', this.pointerClick.bind(this), {\n        capture: true,\n        passive: false\n      });\n    }\n  }\n\n}\n\nfunction persistEvent(event) {\n  'persist' in event && typeof event.persist === 'function' && event.persist();\n}\n\nconst isBrowser = typeof window !== 'undefined' && window.document && window.document.createElement;\n\nfunction supportsTouchEvents() {\n  return isBrowser && 'ontouchstart' in window;\n}\n\nfunction isTouchScreen() {\n  return supportsTouchEvents() || isBrowser && window.navigator.maxTouchPoints > 1;\n}\n\nfunction supportsPointerEvents() {\n  return isBrowser && 'onpointerdown' in window;\n}\n\nfunction supportsPointerLock() {\n  return isBrowser && 'exitPointerLock' in window.document;\n}\n\nfunction supportsGestureEvents() {\n  try {\n    return 'constructor' in GestureEvent;\n  } catch (e) {\n    return false;\n  }\n}\n\nconst SUPPORT = {\n  isBrowser,\n  gesture: supportsGestureEvents(),\n  touch: isTouchScreen(),\n  touchscreen: isTouchScreen(),\n  pointer: supportsPointerEvents(),\n  pointerLock: supportsPointerLock()\n};\n\nconst DEFAULT_PREVENT_SCROLL_DELAY = 250;\nconst DEFAULT_DRAG_DELAY = 180;\nconst DEFAULT_SWIPE_VELOCITY = 0.5;\nconst DEFAULT_SWIPE_DISTANCE = 50;\nconst DEFAULT_SWIPE_DURATION = 250;\nconst DEFAULT_DRAG_AXIS_THRESHOLD = {\n  mouse: 0,\n  touch: 0,\n  pen: 8\n};\nconst dragConfigResolver = _objectSpread2(_objectSpread2({}, coordinatesConfigResolver), {}, {\n  device(_v, _k, {\n    pointer: {\n      touch = false,\n      lock = false,\n      mouse = false\n    } = {}\n  }) {\n    this.pointerLock = lock && SUPPORT.pointerLock;\n    if (SUPPORT.touch && touch) return 'touch';\n    if (this.pointerLock) return 'mouse';\n    if (SUPPORT.pointer && !mouse) return 'pointer';\n    if (SUPPORT.touch) return 'touch';\n    return 'mouse';\n  },\n\n  preventScrollAxis(value, _k, {\n    preventScroll\n  }) {\n    this.preventScrollDelay = typeof preventScroll === 'number' ? preventScroll : preventScroll || preventScroll === undefined && value ? DEFAULT_PREVENT_SCROLL_DELAY : undefined;\n    if (!SUPPORT.touchscreen || preventScroll === false) return undefined;\n    return value ? value : preventScroll !== undefined ? 'y' : undefined;\n  },\n\n  pointerCapture(_v, _k, {\n    pointer: {\n      capture = true,\n      buttons = 1\n    } = {}\n  }) {\n    this.pointerButtons = buttons;\n    return !this.pointerLock && this.device === 'pointer' && capture;\n  },\n\n  threshold(value, _k, {\n    filterTaps = false,\n    tapsThreshold = 3,\n    axis = undefined\n  }) {\n    const threshold = V.toVector(value, filterTaps ? tapsThreshold : axis ? 1 : 0);\n    this.filterTaps = filterTaps;\n    this.tapsThreshold = tapsThreshold;\n    return threshold;\n  },\n\n  swipe({\n    velocity = DEFAULT_SWIPE_VELOCITY,\n    distance = DEFAULT_SWIPE_DISTANCE,\n    duration = DEFAULT_SWIPE_DURATION\n  } = {}) {\n    return {\n      velocity: this.transform(V.toVector(velocity)),\n      distance: this.transform(V.toVector(distance)),\n      duration\n    };\n  },\n\n  delay(value = 0) {\n    switch (value) {\n      case true:\n        return DEFAULT_DRAG_DELAY;\n\n      case false:\n        return 0;\n\n      default:\n        return value;\n    }\n  },\n\n  axisThreshold(value) {\n    if (!value) return DEFAULT_DRAG_AXIS_THRESHOLD;\n    return _objectSpread2(_objectSpread2({}, DEFAULT_DRAG_AXIS_THRESHOLD), value);\n  }\n\n});\n\nif (process.env.NODE_ENV === 'development') {\n  Object.assign(dragConfigResolver, {\n    useTouch(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`useTouch\\` option has been renamed to \\`pointer.touch\\`. Use it as in \\`{ pointer: { touch: true } }\\`.`);\n      }\n\n      return NaN;\n    },\n\n    experimental_preventWindowScrollY(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`experimental_preventWindowScrollY\\` option has been renamed to \\`preventScroll\\`.`);\n      }\n\n      return NaN;\n    },\n\n    swipeVelocity(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`swipeVelocity\\` option has been renamed to \\`swipe.velocity\\`. Use it as in \\`{ swipe: { velocity: 0.5 } }\\`.`);\n      }\n\n      return NaN;\n    },\n\n    swipeDistance(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`swipeDistance\\` option has been renamed to \\`swipe.distance\\`. Use it as in \\`{ swipe: { distance: 50 } }\\`.`);\n      }\n\n      return NaN;\n    },\n\n    swipeDuration(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`swipeDuration\\` option has been renamed to \\`swipe.duration\\`. Use it as in \\`{ swipe: { duration: 250 } }\\`.`);\n      }\n\n      return NaN;\n    }\n\n  });\n}\n\nconst SCALE_ANGLE_RATIO_INTENT_DEG = 30;\nconst PINCH_WHEEL_RATIO = 100;\nclass PinchEngine extends Engine {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"ingKey\", 'pinching');\n\n    _defineProperty(this, \"aliasKey\", 'da');\n  }\n\n  init() {\n    this.state.offset = [1, 0];\n    this.state.lastOffset = [1, 0];\n    this.state._pointerEvents = new Map();\n  }\n\n  reset() {\n    super.reset();\n    const state = this.state;\n    state._touchIds = [];\n    state.canceled = false;\n    state.cancel = this.cancel.bind(this);\n    state.turns = 0;\n  }\n\n  computeOffset() {\n    const {\n      type,\n      movement,\n      lastOffset\n    } = this.state;\n\n    if (type === 'wheel') {\n      this.state.offset = V.add(movement, lastOffset);\n    } else {\n      this.state.offset = [(1 + movement[0]) * lastOffset[0], movement[1] + lastOffset[1]];\n    }\n  }\n\n  computeMovement() {\n    const {\n      offset,\n      lastOffset\n    } = this.state;\n    this.state.movement = [offset[0] / lastOffset[0], offset[1] - lastOffset[1]];\n  }\n\n  axisIntent() {\n    const state = this.state;\n    const [_m0, _m1] = state._movement;\n\n    if (!state.axis) {\n      const axisMovementDifference = Math.abs(_m0) * SCALE_ANGLE_RATIO_INTENT_DEG - Math.abs(_m1);\n      if (axisMovementDifference < 0) state.axis = 'angle';else if (axisMovementDifference > 0) state.axis = 'scale';\n    }\n  }\n\n  restrictToAxis(v) {\n    if (this.config.lockDirection) {\n      if (this.state.axis === 'scale') v[1] = 0;else if (this.state.axis === 'angle') v[0] = 0;\n    }\n  }\n\n  cancel() {\n    const state = this.state;\n    if (state.canceled) return;\n    setTimeout(() => {\n      state.canceled = true;\n      state._active = false;\n      this.compute();\n      this.emit();\n    }, 0);\n  }\n\n  touchStart(event) {\n    this.ctrl.setEventIds(event);\n    const state = this.state;\n    const ctrlTouchIds = this.ctrl.touchIds;\n\n    if (state._active) {\n      if (state._touchIds.every(id => ctrlTouchIds.has(id))) return;\n    }\n\n    if (ctrlTouchIds.size < 2) return;\n    this.start(event);\n    state._touchIds = Array.from(ctrlTouchIds).slice(0, 2);\n    const payload = touchDistanceAngle(event, state._touchIds);\n    this.pinchStart(event, payload);\n  }\n\n  pointerStart(event) {\n    if (event.buttons != null && event.buttons % 2 !== 1) return;\n    this.ctrl.setEventIds(event);\n    event.target.setPointerCapture(event.pointerId);\n    const state = this.state;\n    const _pointerEvents = state._pointerEvents;\n    const ctrlPointerIds = this.ctrl.pointerIds;\n\n    if (state._active) {\n      if (Array.from(_pointerEvents.keys()).every(id => ctrlPointerIds.has(id))) return;\n    }\n\n    if (_pointerEvents.size < 2) {\n      _pointerEvents.set(event.pointerId, event);\n    }\n\n    if (state._pointerEvents.size < 2) return;\n    this.start(event);\n    const payload = distanceAngle(...Array.from(_pointerEvents.values()));\n    this.pinchStart(event, payload);\n  }\n\n  pinchStart(event, payload) {\n    const state = this.state;\n    state.origin = payload.origin;\n    this.computeValues([payload.distance, payload.angle]);\n    this.computeInitial();\n    this.compute(event);\n    this.emit();\n  }\n\n  touchMove(event) {\n    if (!this.state._active) return;\n    const payload = touchDistanceAngle(event, this.state._touchIds);\n    this.pinchMove(event, payload);\n  }\n\n  pointerMove(event) {\n    const _pointerEvents = this.state._pointerEvents;\n\n    if (_pointerEvents.has(event.pointerId)) {\n      _pointerEvents.set(event.pointerId, event);\n    }\n\n    if (!this.state._active) return;\n    const payload = distanceAngle(...Array.from(_pointerEvents.values()));\n    this.pinchMove(event, payload);\n  }\n\n  pinchMove(event, payload) {\n    const state = this.state;\n    const prev_a = state._values[1];\n    const delta_a = payload.angle - prev_a;\n    let delta_turns = 0;\n    if (Math.abs(delta_a) > 270) delta_turns += Math.sign(delta_a);\n    this.computeValues([payload.distance, payload.angle - 360 * delta_turns]);\n    state.origin = payload.origin;\n    state.turns = delta_turns;\n    state._movement = [state._values[0] / state._initial[0] - 1, state._values[1] - state._initial[1]];\n    this.compute(event);\n    this.emit();\n  }\n\n  touchEnd(event) {\n    this.ctrl.setEventIds(event);\n    if (!this.state._active) return;\n\n    if (this.state._touchIds.some(id => !this.ctrl.touchIds.has(id))) {\n      this.state._active = false;\n      this.compute(event);\n      this.emit();\n    }\n  }\n\n  pointerEnd(event) {\n    const state = this.state;\n    this.ctrl.setEventIds(event);\n\n    try {\n      event.target.releasePointerCapture(event.pointerId);\n    } catch (_unused) {}\n\n    if (state._pointerEvents.has(event.pointerId)) {\n      state._pointerEvents.delete(event.pointerId);\n    }\n\n    if (!state._active) return;\n\n    if (state._pointerEvents.size < 2) {\n      state._active = false;\n      this.compute(event);\n      this.emit();\n    }\n  }\n\n  gestureStart(event) {\n    if (event.cancelable) event.preventDefault();\n    const state = this.state;\n    if (state._active) return;\n    this.start(event);\n    this.computeValues([event.scale, event.rotation]);\n    state.origin = [event.clientX, event.clientY];\n    this.compute(event);\n    this.emit();\n  }\n\n  gestureMove(event) {\n    if (event.cancelable) event.preventDefault();\n    if (!this.state._active) return;\n    const state = this.state;\n    this.computeValues([event.scale, event.rotation]);\n    state.origin = [event.clientX, event.clientY];\n    const _previousMovement = state._movement;\n    state._movement = [event.scale - 1, event.rotation];\n    state._delta = V.sub(state._movement, _previousMovement);\n    this.compute(event);\n    this.emit();\n  }\n\n  gestureEnd(event) {\n    if (!this.state._active) return;\n    this.state._active = false;\n    this.compute(event);\n    this.emit();\n  }\n\n  wheel(event) {\n    const modifierKey = this.config.modifierKey;\n    if (modifierKey && !event[modifierKey]) return;\n    if (!this.state._active) this.wheelStart(event);else this.wheelChange(event);\n    this.timeoutStore.add('wheelEnd', this.wheelEnd.bind(this));\n  }\n\n  wheelStart(event) {\n    this.start(event);\n    this.wheelChange(event);\n  }\n\n  wheelChange(event) {\n    const isR3f = ('uv' in event);\n\n    if (!isR3f) {\n      if (event.cancelable) {\n        event.preventDefault();\n      }\n\n      if (process.env.NODE_ENV === 'development' && !event.defaultPrevented) {\n        console.warn(`[@use-gesture]: To properly support zoom on trackpads, try using the \\`target\\` option.\\n\\nThis message will only appear in development mode.`);\n      }\n    }\n\n    const state = this.state;\n    state._delta = [-wheelValues(event)[1] / PINCH_WHEEL_RATIO * state.offset[0], 0];\n    V.addTo(state._movement, state._delta);\n    this.state.origin = [event.clientX, event.clientY];\n    this.compute(event);\n    this.emit();\n  }\n\n  wheelEnd() {\n    if (!this.state._active) return;\n    this.state._active = false;\n    this.compute();\n    this.emit();\n  }\n\n  bind(bindFunction) {\n    const device = this.config.device;\n\n    if (!!device) {\n      bindFunction(device, 'start', this[device + 'Start'].bind(this));\n      bindFunction(device, 'change', this[device + 'Move'].bind(this));\n      bindFunction(device, 'end', this[device + 'End'].bind(this));\n      bindFunction(device, 'cancel', this[device + 'End'].bind(this));\n    } else {\n      bindFunction('wheel', '', this.wheel.bind(this), {\n        passive: false\n      });\n    }\n  }\n\n}\n\nconst pinchConfigResolver = _objectSpread2(_objectSpread2({}, commonConfigResolver), {}, {\n  device(_v, _k, {\n    shared,\n    pointer: {\n      touch = false\n    } = {}\n  }) {\n    const sharedConfig = shared;\n    if (sharedConfig.target && !SUPPORT.touch && SUPPORT.gesture) return 'gesture';\n    if (SUPPORT.touch && touch) return 'touch';\n\n    if (SUPPORT.touchscreen) {\n      if (SUPPORT.pointer) return 'pointer';\n      if (SUPPORT.touch) return 'touch';\n    }\n  },\n\n  bounds(_v, _k, {\n    scaleBounds = {},\n    angleBounds = {}\n  }) {\n    const _scaleBounds = state => {\n      const D = assignDefault(call(scaleBounds, state), {\n        min: -Infinity,\n        max: Infinity\n      });\n      return [D.min, D.max];\n    };\n\n    const _angleBounds = state => {\n      const A = assignDefault(call(angleBounds, state), {\n        min: -Infinity,\n        max: Infinity\n      });\n      return [A.min, A.max];\n    };\n\n    if (typeof scaleBounds !== 'function' && typeof angleBounds !== 'function') return [_scaleBounds(), _angleBounds()];\n    return state => [_scaleBounds(state), _angleBounds(state)];\n  },\n\n  threshold(value, _k, config) {\n    this.lockDirection = config.axis === 'lock';\n    const threshold = V.toVector(value, this.lockDirection ? [0.1, 3] : 0);\n    return threshold;\n  },\n\n  modifierKey(value) {\n    if (value === undefined) return 'ctrlKey';\n    return value;\n  }\n\n});\n\nclass MoveEngine extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"ingKey\", 'moving');\n  }\n\n  move(event) {\n    if (this.config.mouseOnly && event.pointerType !== 'mouse') return;\n    if (!this.state._active) this.moveStart(event);else this.moveChange(event);\n    this.timeoutStore.add('moveEnd', this.moveEnd.bind(this));\n  }\n\n  moveStart(event) {\n    this.start(event);\n    this.computeValues(pointerValues(event));\n    this.compute(event);\n    this.computeInitial();\n    this.emit();\n  }\n\n  moveChange(event) {\n    if (!this.state._active) return;\n    const values = pointerValues(event);\n    const state = this.state;\n    state._delta = V.sub(values, state._values);\n    V.addTo(state._movement, state._delta);\n    this.computeValues(values);\n    this.compute(event);\n    this.emit();\n  }\n\n  moveEnd(event) {\n    if (!this.state._active) return;\n    this.state._active = false;\n    this.compute(event);\n    this.emit();\n  }\n\n  bind(bindFunction) {\n    bindFunction('pointer', 'change', this.move.bind(this));\n    bindFunction('pointer', 'leave', this.moveEnd.bind(this));\n  }\n\n}\n\nconst moveConfigResolver = _objectSpread2(_objectSpread2({}, coordinatesConfigResolver), {}, {\n  mouseOnly: (value = true) => value\n});\n\nclass ScrollEngine extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"ingKey\", 'scrolling');\n  }\n\n  scroll(event) {\n    if (!this.state._active) this.start(event);\n    this.scrollChange(event);\n    this.timeoutStore.add('scrollEnd', this.scrollEnd.bind(this));\n  }\n\n  scrollChange(event) {\n    if (event.cancelable) event.preventDefault();\n    const state = this.state;\n    const values = scrollValues(event);\n    state._delta = V.sub(values, state._values);\n    V.addTo(state._movement, state._delta);\n    this.computeValues(values);\n    this.compute(event);\n    this.emit();\n  }\n\n  scrollEnd() {\n    if (!this.state._active) return;\n    this.state._active = false;\n    this.compute();\n    this.emit();\n  }\n\n  bind(bindFunction) {\n    bindFunction('scroll', '', this.scroll.bind(this));\n  }\n\n}\n\nconst scrollConfigResolver = coordinatesConfigResolver;\n\nclass WheelEngine extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"ingKey\", 'wheeling');\n  }\n\n  wheel(event) {\n    if (!this.state._active) this.start(event);\n    this.wheelChange(event);\n    this.timeoutStore.add('wheelEnd', this.wheelEnd.bind(this));\n  }\n\n  wheelChange(event) {\n    const state = this.state;\n    state._delta = wheelValues(event);\n    V.addTo(state._movement, state._delta);\n    const [ox, oy] = state.overflow;\n    const [dx, dy] = state._delta;\n    const [dirx, diry] = state._direction;\n\n    if (ox < 0 && dx > 0 && dirx < 0 || ox > 0 && dx < 0 && dirx > 0) {\n      state._movement[0] = state._movementBound[0];\n    }\n\n    if (oy < 0 && dy > 0 && diry < 0 || oy > 0 && dy < 0 && diry > 0) {\n      state._movement[1] = state._movementBound[1];\n    }\n\n    this.compute(event);\n    this.emit();\n  }\n\n  wheelEnd() {\n    if (!this.state._active) return;\n    this.state._active = false;\n    this.compute();\n    this.emit();\n  }\n\n  bind(bindFunction) {\n    bindFunction('wheel', '', this.wheel.bind(this));\n  }\n\n}\n\nconst wheelConfigResolver = coordinatesConfigResolver;\n\nclass HoverEngine extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"ingKey\", 'hovering');\n  }\n\n  enter(event) {\n    if (this.config.mouseOnly && event.pointerType !== 'mouse') return;\n    this.start(event);\n    this.computeValues(pointerValues(event));\n    this.compute(event);\n    this.emit();\n  }\n\n  leave(event) {\n    if (this.config.mouseOnly && event.pointerType !== 'mouse') return;\n    const state = this.state;\n    if (!state._active) return;\n    state._active = false;\n    const values = pointerValues(event);\n    state._movement = state._delta = V.sub(values, state._values);\n    this.computeValues(values);\n    this.compute(event);\n    state.delta = state.movement;\n    this.emit();\n  }\n\n  bind(bindFunction) {\n    bindFunction('pointer', 'enter', this.enter.bind(this));\n    bindFunction('pointer', 'leave', this.leave.bind(this));\n  }\n\n}\n\nconst hoverConfigResolver = _objectSpread2(_objectSpread2({}, coordinatesConfigResolver), {}, {\n  mouseOnly: (value = true) => value\n});\n\nconst EngineMap = new Map();\nconst ConfigResolverMap = new Map();\nfunction registerAction(action) {\n  EngineMap.set(action.key, action.engine);\n  ConfigResolverMap.set(action.key, action.resolver);\n}\nconst dragAction = {\n  key: 'drag',\n  engine: DragEngine,\n  resolver: dragConfigResolver\n};\nconst hoverAction = {\n  key: 'hover',\n  engine: HoverEngine,\n  resolver: hoverConfigResolver\n};\nconst moveAction = {\n  key: 'move',\n  engine: MoveEngine,\n  resolver: moveConfigResolver\n};\nconst pinchAction = {\n  key: 'pinch',\n  engine: PinchEngine,\n  resolver: pinchConfigResolver\n};\nconst scrollAction = {\n  key: 'scroll',\n  engine: ScrollEngine,\n  resolver: scrollConfigResolver\n};\nconst wheelAction = {\n  key: 'wheel',\n  engine: WheelEngine,\n  resolver: wheelConfigResolver\n};\n\nexport { ConfigResolverMap as C, EngineMap as E, SUPPORT as S, _objectSpread2 as _, _defineProperty as a, touchIds as b, chain as c, toHandlerProp as d, dragAction as e, pinchAction as f, hoverAction as h, isTouch as i, moveAction as m, parseProp as p, registerAction as r, scrollAction as s, toDomEventType as t, wheelAction as w };\n","import { S as SUPPORT, C as ConfigResolverMap, _ as _objectSpread2, a as _defineProperty, t as toDomEventType, i as isTouch, b as touchIds, E as EngineMap, c as chain, p as parseProp, d as toHandlerProp } from './actions-1416bf77.esm.js';\nimport './maths-b2a210f4.esm.js';\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nconst sharedConfigResolver = {\n  target(value) {\n    if (value) {\n      return () => 'current' in value ? value.current : value;\n    }\n\n    return undefined;\n  },\n\n  enabled(value = true) {\n    return value;\n  },\n\n  window(value = SUPPORT.isBrowser ? window : undefined) {\n    return value;\n  },\n\n  eventOptions({\n    passive = true,\n    capture = false\n  } = {}) {\n    return {\n      passive,\n      capture\n    };\n  },\n\n  transform(value) {\n    return value;\n  }\n\n};\n\nconst _excluded = [\"target\", \"eventOptions\", \"window\", \"enabled\", \"transform\"];\nfunction resolveWith(config = {}, resolvers) {\n  const result = {};\n\n  for (const [key, resolver] of Object.entries(resolvers)) {\n    switch (typeof resolver) {\n      case 'function':\n        if (process.env.NODE_ENV === 'development') {\n          const r = resolver.call(result, config[key], key, config);\n          if (!Number.isNaN(r)) result[key] = r;\n        } else {\n          result[key] = resolver.call(result, config[key], key, config);\n        }\n\n        break;\n\n      case 'object':\n        result[key] = resolveWith(config[key], resolver);\n        break;\n\n      case 'boolean':\n        if (resolver) result[key] = config[key];\n        break;\n    }\n  }\n\n  return result;\n}\nfunction parse(config, gestureKey) {\n  const _ref = config,\n        {\n    target,\n    eventOptions,\n    window,\n    enabled,\n    transform\n  } = _ref,\n        rest = _objectWithoutProperties(_ref, _excluded);\n\n  const _config = {\n    shared: resolveWith({\n      target,\n      eventOptions,\n      window,\n      enabled,\n      transform\n    }, sharedConfigResolver)\n  };\n\n  if (gestureKey) {\n    const resolver = ConfigResolverMap.get(gestureKey);\n    _config[gestureKey] = resolveWith(_objectSpread2({\n      shared: _config.shared\n    }, rest), resolver);\n  } else {\n    for (const key in rest) {\n      const resolver = ConfigResolverMap.get(key);\n\n      if (resolver) {\n        _config[key] = resolveWith(_objectSpread2({\n          shared: _config.shared\n        }, rest[key]), resolver);\n      } else if (process.env.NODE_ENV === 'development') {\n        if (!['drag', 'pinch', 'scroll', 'wheel', 'move', 'hover'].includes(key)) {\n          if (key === 'domTarget') {\n            throw Error(`[@use-gesture]: \\`domTarget\\` option has been renamed to \\`target\\`.`);\n          }\n\n          console.warn(`[@use-gesture]: Unknown config key \\`${key}\\` was used. Please read the documentation for further information.`);\n        }\n      }\n    }\n  }\n\n  return _config;\n}\n\nclass EventStore {\n  constructor(ctrl, gestureKey) {\n    _defineProperty(this, \"_listeners\", new Set());\n\n    this._ctrl = ctrl;\n    this._gestureKey = gestureKey;\n  }\n\n  add(element, device, action, handler, options) {\n    const listeners = this._listeners;\n    const type = toDomEventType(device, action);\n\n    const _options = this._gestureKey ? this._ctrl.config[this._gestureKey].eventOptions : {};\n\n    const eventOptions = _objectSpread2(_objectSpread2({}, _options), options);\n\n    element.addEventListener(type, handler, eventOptions);\n\n    const remove = () => {\n      element.removeEventListener(type, handler, eventOptions);\n      listeners.delete(remove);\n    };\n\n    listeners.add(remove);\n    return remove;\n  }\n\n  clean() {\n    this._listeners.forEach(remove => remove());\n\n    this._listeners.clear();\n  }\n\n}\n\nclass TimeoutStore {\n  constructor() {\n    _defineProperty(this, \"_timeouts\", new Map());\n  }\n\n  add(key, callback, ms = 140, ...args) {\n    this.remove(key);\n\n    this._timeouts.set(key, window.setTimeout(callback, ms, ...args));\n  }\n\n  remove(key) {\n    const timeout = this._timeouts.get(key);\n\n    if (timeout) window.clearTimeout(timeout);\n  }\n\n  clean() {\n    this._timeouts.forEach(timeout => void window.clearTimeout(timeout));\n\n    this._timeouts.clear();\n  }\n\n}\n\nclass Controller {\n  constructor(handlers) {\n    _defineProperty(this, \"gestures\", new Set());\n\n    _defineProperty(this, \"_targetEventStore\", new EventStore(this));\n\n    _defineProperty(this, \"gestureEventStores\", {});\n\n    _defineProperty(this, \"gestureTimeoutStores\", {});\n\n    _defineProperty(this, \"handlers\", {});\n\n    _defineProperty(this, \"config\", {});\n\n    _defineProperty(this, \"pointerIds\", new Set());\n\n    _defineProperty(this, \"touchIds\", new Set());\n\n    _defineProperty(this, \"state\", {\n      shared: {\n        shiftKey: false,\n        metaKey: false,\n        ctrlKey: false,\n        altKey: false\n      }\n    });\n\n    resolveGestures(this, handlers);\n  }\n\n  setEventIds(event) {\n    if (isTouch(event)) {\n      this.touchIds = new Set(touchIds(event));\n      return this.touchIds;\n    } else if ('pointerId' in event) {\n      if (event.type === 'pointerup' || event.type === 'pointercancel') this.pointerIds.delete(event.pointerId);else if (event.type === 'pointerdown') this.pointerIds.add(event.pointerId);\n      return this.pointerIds;\n    }\n  }\n\n  applyHandlers(handlers, nativeHandlers) {\n    this.handlers = handlers;\n    this.nativeHandlers = nativeHandlers;\n  }\n\n  applyConfig(config, gestureKey) {\n    this.config = parse(config, gestureKey);\n  }\n\n  clean() {\n    this._targetEventStore.clean();\n\n    for (const key of this.gestures) {\n      this.gestureEventStores[key].clean();\n      this.gestureTimeoutStores[key].clean();\n    }\n  }\n\n  effect() {\n    if (this.config.shared.target) this.bind();\n    return () => this._targetEventStore.clean();\n  }\n\n  bind(...args) {\n    const sharedConfig = this.config.shared;\n    const props = {};\n    let target;\n\n    if (sharedConfig.target) {\n      target = sharedConfig.target();\n      if (!target) return;\n    }\n\n    if (sharedConfig.enabled) {\n      for (const gestureKey of this.gestures) {\n        const gestureConfig = this.config[gestureKey];\n        const bindFunction = bindToProps(props, gestureConfig.eventOptions, !!target);\n\n        if (gestureConfig.enabled) {\n          const Engine = EngineMap.get(gestureKey);\n          new Engine(this, args, gestureKey).bind(bindFunction);\n        }\n      }\n\n      const nativeBindFunction = bindToProps(props, sharedConfig.eventOptions, !!target);\n\n      for (const eventKey in this.nativeHandlers) {\n        nativeBindFunction(eventKey, '', event => this.nativeHandlers[eventKey](_objectSpread2(_objectSpread2({}, this.state.shared), {}, {\n          event,\n          args\n        })), undefined, true);\n      }\n    }\n\n    for (const handlerProp in props) {\n      props[handlerProp] = chain(...props[handlerProp]);\n    }\n\n    if (!target) return props;\n\n    for (const handlerProp in props) {\n      const {\n        device,\n        capture,\n        passive\n      } = parseProp(handlerProp);\n\n      this._targetEventStore.add(target, device, '', props[handlerProp], {\n        capture,\n        passive\n      });\n    }\n  }\n\n}\n\nfunction setupGesture(ctrl, gestureKey) {\n  ctrl.gestures.add(gestureKey);\n  ctrl.gestureEventStores[gestureKey] = new EventStore(ctrl, gestureKey);\n  ctrl.gestureTimeoutStores[gestureKey] = new TimeoutStore();\n}\n\nfunction resolveGestures(ctrl, internalHandlers) {\n  if (internalHandlers.drag) setupGesture(ctrl, 'drag');\n  if (internalHandlers.wheel) setupGesture(ctrl, 'wheel');\n  if (internalHandlers.scroll) setupGesture(ctrl, 'scroll');\n  if (internalHandlers.move) setupGesture(ctrl, 'move');\n  if (internalHandlers.pinch) setupGesture(ctrl, 'pinch');\n  if (internalHandlers.hover) setupGesture(ctrl, 'hover');\n}\n\nconst bindToProps = (props, eventOptions, withPassiveOption) => (device, action, handler, options = {}, isNative = false) => {\n  var _options$capture, _options$passive;\n\n  const capture = (_options$capture = options.capture) !== null && _options$capture !== void 0 ? _options$capture : eventOptions.capture;\n  const passive = (_options$passive = options.passive) !== null && _options$passive !== void 0 ? _options$passive : eventOptions.passive;\n  let handlerProp = isNative ? device : toHandlerProp(device, action, capture);\n  if (withPassiveOption && passive) handlerProp += 'Passive';\n  props[handlerProp] = props[handlerProp] || [];\n  props[handlerProp].push(handler);\n};\n\nconst RE_NOT_NATIVE = /^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;\n\nfunction sortHandlers(_handlers) {\n  const native = {};\n  const handlers = {};\n  const actions = new Set();\n\n  for (let key in _handlers) {\n    if (RE_NOT_NATIVE.test(key)) {\n      actions.add(RegExp.lastMatch);\n      handlers[key] = _handlers[key];\n    } else {\n      native[key] = _handlers[key];\n    }\n  }\n\n  return [handlers, native, actions];\n}\n\nfunction registerGesture(actions, handlers, handlerKey, key, internalHandlers, config) {\n  if (!actions.has(handlerKey)) return;\n\n  if (!EngineMap.has(key)) {\n    if (process.env.NODE_ENV === 'development') {\n      console.warn(`[@use-gesture]: You've created a custom handler that that uses the \\`${key}\\` gesture but isn't properly configured.\\n\\nPlease add \\`${key}Action\\` when creating your handler.`);\n    }\n\n    return;\n  }\n\n  const startKey = handlerKey + 'Start';\n  const endKey = handlerKey + 'End';\n\n  const fn = state => {\n    let memo = undefined;\n    if (state.first && startKey in handlers) handlers[startKey](state);\n    if (handlerKey in handlers) memo = handlers[handlerKey](state);\n    if (state.last && endKey in handlers) handlers[endKey](state);\n    return memo;\n  };\n\n  internalHandlers[key] = fn;\n  config[key] = config[key] || {};\n}\n\nfunction parseMergedHandlers(mergedHandlers, mergedConfig) {\n  const [handlers, nativeHandlers, actions] = sortHandlers(mergedHandlers);\n  const internalHandlers = {};\n  registerGesture(actions, handlers, 'onDrag', 'drag', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onWheel', 'wheel', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onScroll', 'scroll', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onPinch', 'pinch', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onMove', 'move', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onHover', 'hover', internalHandlers, mergedConfig);\n  return {\n    handlers: internalHandlers,\n    config: mergedConfig,\n    nativeHandlers\n  };\n}\n\nexport { Controller, parseMergedHandlers };\n","import { registerAction, dragAction, pinchAction, wheelAction, scrollAction, moveAction, hoverAction } from '@use-gesture/core/actions';\nexport * from '@use-gesture/core/actions';\nimport React from 'react';\nimport { Controller, parseMergedHandlers } from '@use-gesture/core';\nexport * from '@use-gesture/core/utils';\nexport * from '@use-gesture/core/types';\n\nfunction useRecognizers(handlers, config = {}, gestureKey, nativeHandlers) {\n  const ctrl = React.useMemo(() => new Controller(handlers), []);\n  ctrl.applyHandlers(handlers, nativeHandlers);\n  ctrl.applyConfig(config, gestureKey);\n  React.useEffect(ctrl.effect.bind(ctrl));\n  React.useEffect(() => {\n    return ctrl.clean.bind(ctrl);\n  }, []);\n\n  if (config.target === undefined) {\n    return ctrl.bind.bind(ctrl);\n  }\n\n  return undefined;\n}\n\nfunction useDrag(handler, config) {\n  registerAction(dragAction);\n  return useRecognizers({\n    drag: handler\n  }, config || {}, 'drag');\n}\n\nfunction usePinch(handler, config) {\n  registerAction(pinchAction);\n  return useRecognizers({\n    pinch: handler\n  }, config || {}, 'pinch');\n}\n\nfunction useWheel(handler, config) {\n  registerAction(wheelAction);\n  return useRecognizers({\n    wheel: handler\n  }, config || {}, 'wheel');\n}\n\nfunction useScroll(handler, config) {\n  registerAction(scrollAction);\n  return useRecognizers({\n    scroll: handler\n  }, config || {}, 'scroll');\n}\n\nfunction useMove(handler, config) {\n  registerAction(moveAction);\n  return useRecognizers({\n    move: handler\n  }, config || {}, 'move');\n}\n\nfunction useHover(handler, config) {\n  registerAction(hoverAction);\n  return useRecognizers({\n    hover: handler\n  }, config || {}, 'hover');\n}\n\nfunction createUseGesture(actions) {\n  actions.forEach(registerAction);\n  return function useGesture(_handlers, _config) {\n    const {\n      handlers,\n      nativeHandlers,\n      config\n    } = parseMergedHandlers(_handlers, _config || {});\n    return useRecognizers(handlers, config, undefined, nativeHandlers);\n  };\n}\n\nfunction useGesture(handlers, config) {\n  const hook = createUseGesture([dragAction, pinchAction, scrollAction, wheelAction, moveAction, hoverAction]);\n  return hook(handlers, config || {});\n}\n\nexport { createUseGesture, useDrag, useGesture, useHover, useMove, usePinch, useScroll, useWheel };\n","import * as React from 'react';\nimport { useLayoutEffect } from '@radix-ui/react-use-layout-effect';\n\n// We `toString()` to prevent bundlers from trying to `import { useId } from 'react';`\nconst useReactId = (React as any)['useId'.toString()] || (() => undefined);\nlet count = 0;\n\nfunction useId(deterministicId?: string): string {\n  const [id, setId] = React.useState<string | undefined>(useReactId());\n  // React versions older than 18 will have client-side ids only.\n  useLayoutEffect(() => {\n    if (!deterministicId) setId((reactId) => reactId ?? String(count++));\n  }, [deterministicId]);\n  return deterministicId || (id ? `radix-${id}` : '');\n}\n\n// DEPRECATED\nfunction IdProvider({ children }: { children: React.ReactNode }) {\n  React.useEffect(() => {\n    console.warn(ID_PROVIDER_DEPRECATED);\n  }, []);\n  return <>{children}</>;\n}\n\nconst ID_PROVIDER_DEPRECATED = `Warning: The \\`IdProvider\\` has been deprecated. For details, see https://radix-ui.com/docs/primitives/utilities/id-provider`;\n\nexport { IdProvider, useId };\n","type Measurable = { getBoundingClientRect(): ClientRect };\n\n/**\n * Observes an element's rectangle on screen (getBoundingClientRect)\n * This is useful to track elements on the screen and attach other elements\n * that might be in different layers, etc.\n */\nfunction observeElementRect(\n  /** The element whose rect to observe */\n  elementToObserve: Measurable,\n  /** The callback which will be called when the rect changes */\n  callback: CallbackFn\n) {\n  const observedData = observedElements.get(elementToObserve);\n\n  if (observedData === undefined) {\n    // add the element to the map of observed elements with its first callback\n    // because this is the first time this element is observed\n    observedElements.set(elementToObserve, { rect: {} as ClientRect, callbacks: [callback] });\n\n    if (observedElements.size === 1) {\n      // start the internal loop once at least 1 element is observed\n      rafId = requestAnimationFrame(runLoop);\n    }\n  } else {\n    // only add a callback for this element as it's already observed\n    observedData.callbacks.push(callback);\n    callback(elementToObserve.getBoundingClientRect());\n  }\n\n  return () => {\n    const observedData = observedElements.get(elementToObserve);\n    if (observedData === undefined) return;\n\n    // start by removing the callback\n    const index = observedData.callbacks.indexOf(callback);\n    if (index > -1) {\n      observedData.callbacks.splice(index, 1);\n    }\n\n    if (observedData.callbacks.length === 0) {\n      // stop observing this element because there are no\n      // callbacks registered for it anymore\n      observedElements.delete(elementToObserve);\n\n      if (observedElements.size === 0) {\n        // stop the internal loop once no elements are observed anymore\n        cancelAnimationFrame(rafId);\n      }\n    }\n  };\n}\n\n// ========================================================================\n// module internals\n\ntype CallbackFn = (rect: ClientRect) => void;\n\ntype ObservedData = {\n  rect: ClientRect;\n  callbacks: Array<CallbackFn>;\n};\n\nlet rafId: number;\nconst observedElements: Map<Measurable, ObservedData> = new Map();\n\nfunction runLoop() {\n  const changedRectsData: Array<ObservedData> = [];\n\n  // process all DOM reads first (getBoundingClientRect)\n  observedElements.forEach((data, element) => {\n    const newRect = element.getBoundingClientRect();\n\n    // gather all the data for elements whose rects have changed\n    if (!rectEquals(data.rect, newRect)) {\n      data.rect = newRect;\n      changedRectsData.push(data);\n    }\n  });\n\n  // group DOM writes here after the DOM reads (getBoundingClientRect)\n  // as DOM writes will most likely happen with the callbacks\n  changedRectsData.forEach((data) => {\n    data.callbacks.forEach((callback) => callback(data.rect));\n  });\n\n  rafId = requestAnimationFrame(runLoop);\n}\n// ========================================================================\n\n/**\n * Returns whether 2 rects are equal in values\n */\nfunction rectEquals(rect1: ClientRect, rect2: ClientRect) {\n  return (\n    rect1.width === rect2.width &&\n    rect1.height === rect2.height &&\n    rect1.top === rect2.top &&\n    rect1.right === rect2.right &&\n    rect1.bottom === rect2.bottom &&\n    rect1.left === rect2.left\n  );\n}\n\nexport { observeElementRect };\nexport type { Measurable };\n","import * as React from 'react';\nimport { Slot } from '@radix-ui/react-slot';\n\nconst NODES = [\n  'a',\n  'button',\n  'div',\n  'h2',\n  'h3',\n  'img',\n  'li',\n  'nav',\n  'p',\n  'span',\n  'svg',\n  'ul',\n] as const;\n\n// Temporary while we await merge of this fix:\n// https://github.com/DefinitelyTyped/DefinitelyTyped/pull/55396\n// prettier-ignore\ntype PropsWithoutRef<P> = P extends any ? ('ref' extends keyof P ? Pick<P, Exclude<keyof P, 'ref'>> : P) : P;\ntype ComponentPropsWithoutRef<T extends React.ElementType> = PropsWithoutRef<\n  React.ComponentProps<T>\n>;\n\ntype Primitives = { [E in typeof NODES[number]]: PrimitiveForwardRefComponent<E> };\ntype PrimitivePropsWithRef<E extends React.ElementType> = React.ComponentPropsWithRef<E> & {\n  asChild?: boolean;\n};\n\ninterface PrimitiveForwardRefComponent<E extends React.ElementType>\n  extends React.ForwardRefExoticComponent<PrimitivePropsWithRef<E>> {}\n\n/* -------------------------------------------------------------------------------------------------\n * Primitive\n * -----------------------------------------------------------------------------------------------*/\n\nconst Primitive = NODES.reduce(\n  (primitive, node) => ({\n    ...primitive,\n    [node]: React.forwardRef((props: PrimitivePropsWithRef<typeof node>, forwardedRef: any) => {\n      const { asChild, ...primitiveProps } = props;\n      const Comp: any = asChild ? Slot : node;\n\n      React.useEffect(() => {\n        (window as any)[Symbol.for('radix-ui')] = true;\n      }, []);\n\n      // DEPRECATED\n      if ((props as any).as) console.error(AS_ERROR);\n      return <Comp {...primitiveProps} ref={forwardedRef} />;\n    }),\n  }),\n  {} as Primitives\n);\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst AS_ERROR = `Warning: The \\`as\\` prop has been removed in favour of \\`asChild\\`. For details, see https://radix-ui.com/docs/primitives/overview/styling#changing-the-rendered-element`;\n\nconst Root = Primitive;\n\nexport {\n  Primitive,\n  //\n  Root,\n};\nexport type { ComponentPropsWithoutRef, PrimitivePropsWithRef };\n","import * as React from 'react';\nimport { Primitive } from '@radix-ui/react-primitive';\n\nimport type * as Radix from '@radix-ui/react-primitive';\n\n/* -------------------------------------------------------------------------------------------------\n * VisuallyHidden\n * -----------------------------------------------------------------------------------------------*/\n\nconst NAME = 'VisuallyHidden';\n\ntype VisuallyHiddenElement = React.ElementRef<typeof Primitive.span>;\ntype PrimitiveSpanProps = Radix.ComponentPropsWithoutRef<typeof Primitive.span>;\ninterface VisuallyHiddenProps extends PrimitiveSpanProps {}\n\nconst VisuallyHidden = React.forwardRef<VisuallyHiddenElement, VisuallyHiddenProps>(\n  (props, forwardedRef) => {\n    return (\n      <Primitive.span\n        {...props}\n        ref={forwardedRef}\n        style={{\n          ...props.style,\n          // See: https://github.com/twbs/bootstrap/blob/master/scss/mixins/_screen-reader.scss\n          position: 'absolute',\n          border: 0,\n          width: 1,\n          height: 1,\n          padding: 0,\n          margin: -1,\n          overflow: 'hidden',\n          clip: 'rect(0, 0, 0, 0)',\n          whiteSpace: 'nowrap',\n          wordWrap: 'normal',\n        }}\n      />\n    );\n  }\n);\n\nVisuallyHidden.displayName = NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst Root = VisuallyHidden;\n\nexport {\n  VisuallyHidden,\n  //\n  Root,\n};\nexport type { VisuallyHiddenProps };\n","import * as React from 'react';\nimport { Slot } from '@radix-ui/react-slot';\n\nconst NODES = [\n  'a',\n  'button',\n  'div',\n  'h2',\n  'h3',\n  'img',\n  'li',\n  'nav',\n  'p',\n  'span',\n  'svg',\n  'ul',\n] as const;\n\n// Temporary while we await merge of this fix:\n// https://github.com/DefinitelyTyped/DefinitelyTyped/pull/55396\n// prettier-ignore\ntype PropsWithoutRef<P> = P extends any ? ('ref' extends keyof P ? Pick<P, Exclude<keyof P, 'ref'>> : P) : P;\ntype ComponentPropsWithoutRef<T extends React.ElementType> = PropsWithoutRef<\n  React.ComponentProps<T>\n>;\n\ntype Primitives = { [E in typeof NODES[number]]: PrimitiveForwardRefComponent<E> };\ntype PrimitivePropsWithRef<E extends React.ElementType> = React.ComponentPropsWithRef<E> & {\n  asChild?: boolean;\n};\n\ninterface PrimitiveForwardRefComponent<E extends React.ElementType>\n  extends React.ForwardRefExoticComponent<PrimitivePropsWithRef<E>> {}\n\n/* -------------------------------------------------------------------------------------------------\n * Primitive\n * -----------------------------------------------------------------------------------------------*/\n\nconst Primitive = NODES.reduce(\n  (primitive, node) => ({\n    ...primitive,\n    [node]: React.forwardRef((props: PrimitivePropsWithRef<typeof node>, forwardedRef: any) => {\n      const { asChild, ...primitiveProps } = props;\n      const Comp: any = asChild ? Slot : node;\n\n      React.useEffect(() => {\n        (window as any)[Symbol.for('radix-ui')] = true;\n      }, []);\n\n      // DEPRECATED\n      if ((props as any).as) console.error(AS_ERROR);\n      return <Comp {...primitiveProps} ref={forwardedRef} />;\n    }),\n  }),\n  {} as Primitives\n);\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst AS_ERROR = `Warning: The \\`as\\` prop has been removed in favour of \\`asChild\\`. For details, see https://radix-ui.com/docs/primitives/overview/styling#changing-the-rendered-element`;\n\nconst Root = Primitive;\n\nexport {\n  Primitive,\n  //\n  Root,\n};\nexport type { ComponentPropsWithoutRef, PrimitivePropsWithRef };\n","import * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport { useLayoutEffect } from '@radix-ui/react-use-layout-effect';\nimport { Primitive } from '@radix-ui/react-primitive';\n\nimport type * as Radix from '@radix-ui/react-primitive';\n\nconst MAX_Z_INDEX = 2147483647;\n\n/* -------------------------------------------------------------------------------------------------\n * Portal\n * -----------------------------------------------------------------------------------------------*/\n\nconst PORTAL_NAME = 'Portal';\n\ntype PortalElement = React.ElementRef<typeof Primitive.div>;\ntype PrimitiveDivProps = Radix.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface PortalProps extends PrimitiveDivProps {\n  containerRef?: React.RefObject<HTMLElement>;\n}\n\nconst Portal = React.forwardRef<PortalElement, PortalProps>((props, forwardedRef) => {\n  const { containerRef, style, ...portalProps } = props;\n  const hostElement = containerRef?.current ?? globalThis?.document?.body;\n  const [, forceUpdate] = React.useState({});\n\n  /**\n   * containerRef.current won't be set on first render, so we force a re-render.\n   * Because we do this in `useLayoutEffect`, we still avoid a flash.\n   */\n  useLayoutEffect(() => {\n    forceUpdate({});\n  }, []);\n\n  if (hostElement) {\n    return ReactDOM.createPortal(\n      <Primitive.div\n        data-radix-portal=\"\"\n        {...portalProps}\n        ref={forwardedRef}\n        style={\n          /**\n           * If the Portal is injected in `body`, we assume we want whatever is portalled\n           * to appear on top of everything. Ideally this would be handled by making sure the\n           * app root creates a new stacking context, however this is quite hard to automate.\n           * For this reason, we have opted for setting the max z-index on the portal itself.\n           */\n          hostElement === document.body\n            ? {\n                position: 'absolute',\n                top: 0,\n                left: 0,\n                zIndex: MAX_Z_INDEX,\n                ...style,\n              }\n            : undefined\n        }\n      />,\n      hostElement\n    );\n  }\n\n  // bail out of ssr\n  return null;\n});\n\nPortal.displayName = PORTAL_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * UnstablePortal\n * -----------------------------------------------------------------------------------------------*/\n\nconst UNSTABLE_PORTAL_NAME = 'Portal';\n\ntype UnstablePortalElement = React.ElementRef<typeof Primitive.div>;\ninterface UnstablePortalProps extends PrimitiveDivProps {\n  container?: HTMLElement | null;\n}\n\nconst UnstablePortal = React.forwardRef<UnstablePortalElement, UnstablePortalProps>(\n  (props, forwardedRef) => {\n    const { container = globalThis?.document?.body, ...portalProps } = props;\n    return container\n      ? ReactDOM.createPortal(<Primitive.div {...portalProps} ref={forwardedRef} />, container)\n      : null;\n  }\n);\n\nUnstablePortal.displayName = UNSTABLE_PORTAL_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst Root = Portal;\n\nexport {\n  Portal,\n  UnstablePortal,\n  //\n  Root,\n};\nexport type { PortalProps, UnstablePortalProps };\n","import * as React from 'react';\nimport { Slot } from '@radix-ui/react-slot';\n\nconst NODES = [\n  'a',\n  'button',\n  'div',\n  'h2',\n  'h3',\n  'img',\n  'li',\n  'nav',\n  'p',\n  'span',\n  'svg',\n  'ul',\n] as const;\n\n// Temporary while we await merge of this fix:\n// https://github.com/DefinitelyTyped/DefinitelyTyped/pull/55396\n// prettier-ignore\ntype PropsWithoutRef<P> = P extends any ? ('ref' extends keyof P ? Pick<P, Exclude<keyof P, 'ref'>> : P) : P;\ntype ComponentPropsWithoutRef<T extends React.ElementType> = PropsWithoutRef<\n  React.ComponentProps<T>\n>;\n\ntype Primitives = { [E in typeof NODES[number]]: PrimitiveForwardRefComponent<E> };\ntype PrimitivePropsWithRef<E extends React.ElementType> = React.ComponentPropsWithRef<E> & {\n  asChild?: boolean;\n};\n\ninterface PrimitiveForwardRefComponent<E extends React.ElementType>\n  extends React.ForwardRefExoticComponent<PrimitivePropsWithRef<E>> {}\n\n/* -------------------------------------------------------------------------------------------------\n * Primitive\n * -----------------------------------------------------------------------------------------------*/\n\nconst Primitive = NODES.reduce(\n  (primitive, node) => ({\n    ...primitive,\n    [node]: React.forwardRef((props: PrimitivePropsWithRef<typeof node>, forwardedRef: any) => {\n      const { asChild, ...primitiveProps } = props;\n      const Comp: any = asChild ? Slot : node;\n\n      React.useEffect(() => {\n        (window as any)[Symbol.for('radix-ui')] = true;\n      }, []);\n\n      // DEPRECATED\n      if ((props as any).as) console.error(AS_ERROR);\n      return <Comp {...primitiveProps} ref={forwardedRef} />;\n    }),\n  }),\n  {} as Primitives\n);\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst AS_ERROR = `Warning: The \\`as\\` prop has been removed in favour of \\`asChild\\`. For details, see https://radix-ui.com/docs/primitives/overview/styling#changing-the-rendered-element`;\n\nconst Root = Primitive;\n\nexport {\n  Primitive,\n  //\n  Root,\n};\nexport type { ComponentPropsWithoutRef, PrimitivePropsWithRef };\n","import * as React from 'react';\nimport { Primitive } from '@radix-ui/react-primitive';\n\nimport type * as Radix from '@radix-ui/react-primitive';\n\n/* -------------------------------------------------------------------------------------------------\n * Arrow\n * -----------------------------------------------------------------------------------------------*/\n\nconst NAME = 'Arrow';\n\ntype ArrowElement = React.ElementRef<typeof Primitive.svg>;\ntype PrimitiveSvgProps = Radix.ComponentPropsWithoutRef<typeof Primitive.svg>;\ninterface ArrowProps extends PrimitiveSvgProps {}\n\nconst Arrow = React.forwardRef<ArrowElement, ArrowProps>((props, forwardedRef) => {\n  const { children, width = 10, height = 5, ...arrowProps } = props;\n  return (\n    <Primitive.svg\n      {...arrowProps}\n      ref={forwardedRef}\n      width={width}\n      height={height}\n      viewBox=\"0 0 30 10\"\n      preserveAspectRatio=\"none\"\n    >\n      {/* We use their children if they're slotting to replace the whole svg */}\n      {props.asChild ? children : <polygon points=\"0,0 30,0 15,10\" />}\n    </Primitive.svg>\n  );\n});\n\nArrow.displayName = NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst Root = Arrow;\n\nexport {\n  Arrow,\n  //\n  Root,\n};\nexport type { ArrowProps };\n","import * as React from 'react';\nimport { Slot } from '@radix-ui/react-slot';\n\nconst NODES = [\n  'a',\n  'button',\n  'div',\n  'h2',\n  'h3',\n  'img',\n  'li',\n  'nav',\n  'p',\n  'span',\n  'svg',\n  'ul',\n] as const;\n\n// Temporary while we await merge of this fix:\n// https://github.com/DefinitelyTyped/DefinitelyTyped/pull/55396\n// prettier-ignore\ntype PropsWithoutRef<P> = P extends any ? ('ref' extends keyof P ? Pick<P, Exclude<keyof P, 'ref'>> : P) : P;\ntype ComponentPropsWithoutRef<T extends React.ElementType> = PropsWithoutRef<\n  React.ComponentProps<T>\n>;\n\ntype Primitives = { [E in typeof NODES[number]]: PrimitiveForwardRefComponent<E> };\ntype PrimitivePropsWithRef<E extends React.ElementType> = React.ComponentPropsWithRef<E> & {\n  asChild?: boolean;\n};\n\ninterface PrimitiveForwardRefComponent<E extends React.ElementType>\n  extends React.ForwardRefExoticComponent<PrimitivePropsWithRef<E>> {}\n\n/* -------------------------------------------------------------------------------------------------\n * Primitive\n * -----------------------------------------------------------------------------------------------*/\n\nconst Primitive = NODES.reduce(\n  (primitive, node) => ({\n    ...primitive,\n    [node]: React.forwardRef((props: PrimitivePropsWithRef<typeof node>, forwardedRef: any) => {\n      const { asChild, ...primitiveProps } = props;\n      const Comp: any = asChild ? Slot : node;\n\n      React.useEffect(() => {\n        (window as any)[Symbol.for('radix-ui')] = true;\n      }, []);\n\n      // DEPRECATED\n      if ((props as any).as) console.error(AS_ERROR);\n      return <Comp {...primitiveProps} ref={forwardedRef} />;\n    }),\n  }),\n  {} as Primitives\n);\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst AS_ERROR = `Warning: The \\`as\\` prop has been removed in favour of \\`asChild\\`. For details, see https://radix-ui.com/docs/primitives/overview/styling#changing-the-rendered-element`;\n\nconst Root = Primitive;\n\nexport {\n  Primitive,\n  //\n  Root,\n};\nexport type { ComponentPropsWithoutRef, PrimitivePropsWithRef };\n","/// <reference types=\"resize-observer-browser\" />\n\nimport * as React from 'react';\n\nfunction useSize(element: HTMLElement | SVGElement | null) {\n  const [size, setSize] = React.useState<{ width: number; height: number } | undefined>(undefined);\n\n  React.useEffect(() => {\n    if (element) {\n      const resizeObserver = new ResizeObserver((entries) => {\n        if (!Array.isArray(entries)) {\n          return;\n        }\n\n        // Since we only observe the one element, we don't need to loop over the\n        // array\n        if (!entries.length) {\n          return;\n        }\n\n        const entry = entries[0];\n        let width: number;\n        let height: number;\n\n        if ('borderBoxSize' in entry) {\n          const borderSizeEntry = entry['borderBoxSize'];\n          // iron out differences between browsers\n          const borderSize = Array.isArray(borderSizeEntry) ? borderSizeEntry[0] : borderSizeEntry;\n          width = borderSize['inlineSize'];\n          height = borderSize['blockSize'];\n        } else {\n          // for browsers that don't support `borderBoxSize`\n          // we calculate a rect ourselves to get the correct border box.\n          const rect = element.getBoundingClientRect();\n          width = rect.width;\n          height = rect.height;\n        }\n\n        setSize({ width, height });\n      });\n\n      resizeObserver.observe(element, { box: 'border-box' });\n\n      return () => {\n        setSize(undefined);\n        resizeObserver.unobserve(element);\n      };\n    }\n    return;\n  }, [element]);\n\n  return size;\n}\n\nexport { useSize };\n","import * as React from 'react';\nimport { observeElementRect } from '@radix-ui/rect';\n\nimport type { Measurable } from '@radix-ui/rect';\n\n/**\n * Use this custom hook to get access to an element's rect (getBoundingClientRect)\n * and observe it along time.\n */\nfunction useRect(measurable: Measurable | null) {\n  const [rect, setRect] = React.useState<ClientRect>();\n  React.useEffect(() => {\n    if (measurable) {\n      const unobserve = observeElementRect(measurable, setRect);\n      return () => {\n        setRect(undefined);\n        unobserve();\n      };\n    }\n    return;\n  }, [measurable]);\n  return rect;\n}\n\nexport { useRect };\n","import * as React from 'react';\n\nfunction createContext<ContextValueType extends object | null>(\n  rootComponentName: string,\n  defaultContext?: ContextValueType\n) {\n  const Context = React.createContext<ContextValueType | undefined>(defaultContext);\n\n  function Provider(props: ContextValueType & { children: React.ReactNode }) {\n    const { children, ...context } = props;\n    // Only re-memoize when prop values change\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    const value = React.useMemo(() => context, Object.values(context)) as ContextValueType;\n    return <Context.Provider value={value}>{children}</Context.Provider>;\n  }\n\n  function useContext(consumerName: string) {\n    const context = React.useContext(Context);\n    if (context) return context;\n    if (defaultContext !== undefined) return defaultContext;\n    // if a defaultContext wasn't specified, it's a required context.\n    throw new Error(`\\`${consumerName}\\` must be used within \\`${rootComponentName}\\``);\n  }\n\n  Provider.displayName = rootComponentName + 'Provider';\n  return [Provider, useContext] as const;\n}\n\n/* -------------------------------------------------------------------------------------------------\n * createContextScope\n * -----------------------------------------------------------------------------------------------*/\n\ntype Scope<C = any> = { [scopeName: string]: React.Context<C>[] } | undefined;\ntype ScopeHook = (scope: Scope) => { [__scopeProp: string]: Scope };\ninterface CreateScope {\n  scopeName: string;\n  (): ScopeHook;\n}\n\nfunction createContextScope(scopeName: string, createContextScopeDeps: CreateScope[] = []) {\n  let defaultContexts: any[] = [];\n\n  /* -----------------------------------------------------------------------------------------------\n   * createContext\n   * ---------------------------------------------------------------------------------------------*/\n\n  function createContext<ContextValueType extends object | null>(\n    rootComponentName: string,\n    defaultContext?: ContextValueType\n  ) {\n    const BaseContext = React.createContext<ContextValueType | undefined>(defaultContext);\n    const index = defaultContexts.length;\n    defaultContexts = [...defaultContexts, defaultContext];\n\n    function Provider(\n      props: ContextValueType & { scope: Scope<ContextValueType>; children: React.ReactNode }\n    ) {\n      const { scope, children, ...context } = props;\n      const Context = scope?.[scopeName][index] || BaseContext;\n      // Only re-memoize when prop values change\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      const value = React.useMemo(() => context, Object.values(context)) as ContextValueType;\n      return <Context.Provider value={value}>{children}</Context.Provider>;\n    }\n\n    function useContext(consumerName: string, scope: Scope<ContextValueType | undefined>) {\n      const Context = scope?.[scopeName][index] || BaseContext;\n      const context = React.useContext(Context);\n      if (context) return context;\n      if (defaultContext !== undefined) return defaultContext;\n      // if a defaultContext wasn't specified, it's a required context.\n      throw new Error(`\\`${consumerName}\\` must be used within \\`${rootComponentName}\\``);\n    }\n\n    Provider.displayName = rootComponentName + 'Provider';\n    return [Provider, useContext] as const;\n  }\n\n  /* -----------------------------------------------------------------------------------------------\n   * createScope\n   * ---------------------------------------------------------------------------------------------*/\n\n  const createScope: CreateScope = () => {\n    const scopeContexts = defaultContexts.map((defaultContext) => {\n      return React.createContext(defaultContext);\n    });\n    return function useScope(scope: Scope) {\n      const contexts = scope?.[scopeName] || scopeContexts;\n      return React.useMemo(\n        () => ({ [`__scope${scopeName}`]: { ...scope, [scopeName]: contexts } }),\n        [scope, contexts]\n      );\n    };\n  };\n\n  createScope.scopeName = scopeName;\n  return [createContext, composeContextScopes(createScope, ...createContextScopeDeps)] as const;\n}\n\n/* -------------------------------------------------------------------------------------------------\n * composeContextScopes\n * -----------------------------------------------------------------------------------------------*/\n\nfunction composeContextScopes(...scopes: CreateScope[]) {\n  const baseScope = scopes[0];\n  if (scopes.length === 1) return baseScope;\n\n  const createScope: CreateScope = () => {\n    const scopeHooks = scopes.map((createScope) => ({\n      useScope: createScope(),\n      scopeName: createScope.scopeName,\n    }));\n\n    return function useComposedScopes(overrideScopes) {\n      const nextScopes = scopeHooks.reduce((nextScopes, { useScope, scopeName }) => {\n        // We are calling a hook inside a callback which React warns against to avoid inconsistent\n        // renders, however, scoping doesn't have render side effects so we ignore the rule.\n        // eslint-disable-next-line react-hooks/rules-of-hooks\n        const scopeProps = useScope(overrideScopes);\n        const currentScope = scopeProps[`__scope${scopeName}`];\n        return { ...nextScopes, ...currentScope };\n      }, {});\n\n      return React.useMemo(() => ({ [`__scope${baseScope.scopeName}`]: nextScopes }), [nextScopes]);\n    };\n  };\n\n  createScope.scopeName = baseScope.scopeName;\n  return createScope;\n}\n\n/* -----------------------------------------------------------------------------------------------*/\n\nexport { createContext, createContextScope };\nexport type { CreateScope, Scope };\n","import * as CSS from 'csstype';\n\nconst SIDE_OPTIONS = ['top', 'right', 'bottom', 'left'] as const;\nconst ALIGN_OPTIONS = ['start', 'center', 'end'] as const;\n\ntype Axis = 'x' | 'y';\ntype Side = typeof SIDE_OPTIONS[number];\ntype Align = typeof ALIGN_OPTIONS[number];\ntype Point = { x: number; y: number };\ntype Size = { width: number; height: number };\n\ntype GetPlacementDataOptions = {\n  /** The rect of the anchor we are placing around */\n  anchorRect?: ClientRect;\n  /** The size of the popper to place */\n  popperSize?: Size;\n  /** An optional arrow size */\n  arrowSize?: Size;\n  /** An optional arrow offset (along the side, default: 0) */\n  arrowOffset?: number;\n  /** The desired side */\n  side: Side;\n  /** An optional side offset (distance from the side, default: 0)  */\n  sideOffset?: number;\n  /** The desired alignment */\n  align: Align;\n  /** An optional alignment offset (distance along the side, default: 0) */\n  alignOffset?: number;\n  /** An option to turn on/off the collision handling (default: true) */\n  shouldAvoidCollisions?: boolean;\n  /** The rect which represents the boundaries for collision checks */\n  collisionBoundariesRect?: ClientRect;\n  /** The tolerance used for collisions, ie. if we want them to trigger a bit earlier (default: 0) */\n  collisionTolerance?: number;\n};\n\ntype PlacementData = {\n  popperStyles: CSS.Properties;\n  arrowStyles: CSS.Properties;\n  placedSide?: Side;\n  placedAlign?: Align;\n};\n\n/**\n * Given all the information necessary to compute it,\n * this function calculates all the necessary placement data.\n *\n * It will return:\n *\n * - the styles to apply to the popper (including a custom property that is useful to set the transform origin in the right place)\n * - the styles to apply to the arrow\n * - the placed side (because it might have changed because of collisions)\n * - the placed align (because it might have changed because of collisions)\n */\nfunction getPlacementData({\n  anchorRect,\n  popperSize,\n  arrowSize,\n  arrowOffset = 0,\n  side,\n  sideOffset = 0,\n  align,\n  alignOffset = 0,\n  shouldAvoidCollisions = true,\n  collisionBoundariesRect,\n  collisionTolerance = 0,\n}: GetPlacementDataOptions): PlacementData {\n  // if we're not ready to do all the measurements yet,\n  // we return some good default styles\n  if (!anchorRect || !popperSize || !collisionBoundariesRect) {\n    return {\n      popperStyles: UNMEASURED_POPPER_STYLES,\n      arrowStyles: UNMEASURED_ARROW_STYLES,\n    };\n  }\n\n  // pre-compute points for all potential placements\n  const allPlacementPoints = getAllPlacementPoints(\n    popperSize,\n    anchorRect,\n    sideOffset,\n    alignOffset,\n    arrowSize\n  );\n\n  // get point based on side / align\n  const popperPoint = allPlacementPoints[side][align];\n\n  // if we don't need to avoid collisions, we can stop here\n  if (shouldAvoidCollisions === false) {\n    const popperStyles = getPlacementStylesForPoint(popperPoint);\n\n    let arrowStyles = UNMEASURED_ARROW_STYLES;\n    if (arrowSize) {\n      arrowStyles = getPopperArrowStyles({ popperSize, arrowSize, arrowOffset, side, align });\n    }\n\n    const transformOrigin = getTransformOrigin(popperSize, side, align, arrowOffset, arrowSize);\n\n    return {\n      popperStyles: {\n        ...popperStyles,\n        ['--radix-popper-transform-origin' as any]: transformOrigin,\n      },\n      arrowStyles,\n      placedSide: side,\n      placedAlign: align,\n    };\n  }\n\n  // create a new rect as if element had been moved to new placement\n  const popperRect = DOMRect.fromRect({ ...popperSize, ...popperPoint });\n\n  // create a new rect representing the collision boundaries but taking into account any added tolerance\n  const collisionBoundariesRectWithTolerance = getContractedRect(\n    collisionBoundariesRect,\n    collisionTolerance\n  );\n\n  // check for any collisions in new placement\n  const popperCollisions = getCollisions(popperRect, collisionBoundariesRectWithTolerance);\n\n  // do all the same calculations for the opposite side\n  // this is because we need to check for potential collisions if we were to swap side\n  const oppositeSide = getOppositeSide(side);\n  const oppositeSidePopperPoint = allPlacementPoints[oppositeSide][align];\n  const updatedOppositeSidePopperPoint = DOMRect.fromRect({\n    ...popperSize,\n    ...oppositeSidePopperPoint,\n  });\n  const oppositeSidePopperCollisions = getCollisions(\n    updatedOppositeSidePopperPoint,\n    collisionBoundariesRectWithTolerance\n  );\n\n  // adjust side accounting for collisions / opposite side collisions\n  const placedSide = getSideAccountingForCollisions(\n    side,\n    popperCollisions,\n    oppositeSidePopperCollisions\n  );\n\n  // adjust alignnment accounting for collisions\n  const placedAlign = getAlignAccountingForCollisions(\n    popperSize,\n    anchorRect,\n    side,\n    align,\n    popperCollisions\n  );\n\n  const placedPopperPoint = allPlacementPoints[placedSide][placedAlign];\n\n  // compute adjusted popper / arrow styles\n  const popperStyles = getPlacementStylesForPoint(placedPopperPoint);\n\n  let arrowStyles = UNMEASURED_ARROW_STYLES;\n  if (arrowSize) {\n    arrowStyles = getPopperArrowStyles({\n      popperSize,\n      arrowSize,\n      arrowOffset,\n      side: placedSide,\n      align: placedAlign,\n    });\n  }\n\n  const transformOrigin = getTransformOrigin(\n    popperSize,\n    placedSide,\n    placedAlign,\n    arrowOffset,\n    arrowSize\n  );\n\n  return {\n    popperStyles: {\n      ...popperStyles,\n      ['--radix-popper-transform-origin' as any]: transformOrigin,\n    },\n    arrowStyles,\n    placedSide,\n    placedAlign,\n  };\n}\n\ntype AllPlacementPoints = Record<Side, Record<Align, Point>>;\n\nfunction getAllPlacementPoints(\n  popperSize: Size,\n  anchorRect: ClientRect,\n  sideOffset: number = 0,\n  alignOffset: number = 0,\n  arrowSize?: Size\n): AllPlacementPoints {\n  const arrowBaseToTipLength = arrowSize ? arrowSize.height : 0;\n\n  const x = getPopperSlotsForAxis(anchorRect, popperSize, 'x');\n  const y = getPopperSlotsForAxis(anchorRect, popperSize, 'y');\n\n  const topY    = y.before - sideOffset - arrowBaseToTipLength; // prettier-ignore\n  const bottomY = y.after  + sideOffset + arrowBaseToTipLength; // prettier-ignore\n  const leftX   = x.before - sideOffset - arrowBaseToTipLength; // prettier-ignore\n  const rightX  = x.after  + sideOffset + arrowBaseToTipLength; // prettier-ignore\n\n  // prettier-ignore\n  const map: AllPlacementPoints = {\n    top: {\n      start:  { x: x.start + alignOffset, y: topY },\n      center: { x: x.center,              y: topY },\n      end:    { x: x.end - alignOffset,   y: topY },\n    },\n    right: {\n      start:  { x: rightX, y: y.start + alignOffset },\n      center: { x: rightX, y: y.center },\n      end:    { x: rightX, y: y.end - alignOffset },\n    },\n    bottom: {\n      start:  { x: x.start + alignOffset, y: bottomY },\n      center: { x: x.center,              y: bottomY },\n      end:    { x: x.end - alignOffset,   y: bottomY },\n    },\n    left: {\n      start:  { x: leftX, y: y.start + alignOffset },\n      center: { x: leftX, y: y.center },\n      end:    { x: leftX, y: y.end - alignOffset },\n    },\n  };\n\n  return map;\n}\n\nfunction getPopperSlotsForAxis(anchorRect: ClientRect, popperSize: Size, axis: Axis) {\n  const startSide = axis === 'x' ? 'left' : 'top';\n  const anchorStart = anchorRect[startSide];\n\n  const dimension = axis === 'x' ? 'width' : 'height';\n  const anchorDimension = anchorRect[dimension];\n  const popperDimension = popperSize[dimension];\n\n  // prettier-ignore\n  return {\n    before: anchorStart - popperDimension,\n    start:  anchorStart,\n    center: anchorStart + (anchorDimension - popperDimension) / 2,\n    end:    anchorStart + anchorDimension - popperDimension,\n    after:  anchorStart + anchorDimension,\n  };\n}\n\n/**\n * Gets an adjusted side based on collision information\n */\nfunction getSideAccountingForCollisions(\n  /** The side we want to ideally position to */\n  side: Side,\n  /** The collisions for this given side */\n  collisions: Collisions,\n  /** The collisions for the opposite side (if we were to swap side) */\n  oppositeSideCollisions: Collisions\n): Side {\n  const oppositeSide = getOppositeSide(side);\n  // in order to prevent premature jumps\n  // we only swap side if there's enough space to fit on the opposite side\n  return collisions[side] && !oppositeSideCollisions[oppositeSide] ? oppositeSide : side;\n}\n\n/**\n * Gets an adjusted alignment based on collision information\n */\nfunction getAlignAccountingForCollisions(\n  /** The size of the popper to place */\n  popperSize: Size,\n  /** The size of the anchor we are placing around */\n  anchorSize: Size,\n  /** The final side */\n  side: Side,\n  /** The desired align */\n  align: Align,\n  /** The collisions */\n  collisions: Collisions\n): Align {\n  const isHorizontalSide = side === 'top' || side === 'bottom';\n  const startBound = isHorizontalSide ? 'left' : 'top';\n  const endBound = isHorizontalSide ? 'right' : 'bottom';\n  const dimension = isHorizontalSide ? 'width' : 'height';\n  const isAnchorBigger = anchorSize[dimension] > popperSize[dimension];\n\n  if (align === 'start' || align === 'center') {\n    if ((collisions[startBound] && isAnchorBigger) || (collisions[endBound] && !isAnchorBigger)) {\n      return 'end';\n    }\n  }\n\n  if (align === 'end' || align === 'center') {\n    if ((collisions[endBound] && isAnchorBigger) || (collisions[startBound] && !isAnchorBigger)) {\n      return 'start';\n    }\n  }\n\n  return align;\n}\n\nfunction getPlacementStylesForPoint(point: Point): CSS.Properties {\n  const x = Math.round(point.x + window.scrollX);\n  const y = Math.round(point.y + window.scrollY);\n  return {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    minWidth: 'max-content',\n    willChange: 'transform',\n    transform: `translate3d(${x}px, ${y}px, 0)`,\n  };\n}\n\nfunction getTransformOrigin(\n  popperSize: Size,\n  side: Side,\n  align: Align,\n  arrowOffset: number,\n  arrowSize?: Size\n): CSS.Properties['transformOrigin'] {\n  const isHorizontalSide = side === 'top' || side === 'bottom';\n\n  const arrowBaseLength = arrowSize ? arrowSize.width : 0;\n  const arrowBaseToTipLength = arrowSize ? arrowSize.height : 0;\n  const sideOffset = arrowBaseToTipLength;\n  const alignOffset = arrowBaseLength / 2 + arrowOffset;\n\n  let x = '';\n  let y = '';\n\n  if (isHorizontalSide) {\n    x = {\n      start: `${alignOffset}px`,\n      center: 'center',\n      end: `${popperSize.width - alignOffset}px`,\n    }[align];\n\n    y = side === 'top' ? `${popperSize.height + sideOffset}px` : `${-sideOffset}px`;\n  } else {\n    x = side === 'left' ? `${popperSize.width + sideOffset}px` : `${-sideOffset}px`;\n\n    y = {\n      start: `${alignOffset}px`,\n      center: 'center',\n      end: `${popperSize.height - alignOffset}px`,\n    }[align];\n  }\n\n  return `${x} ${y}`;\n}\n\nconst UNMEASURED_POPPER_STYLES: CSS.Properties = {\n  // position: 'fixed' here is important because it will take the popper\n  // out of the flow so it does not disturb the position of the anchor\n  position: 'fixed',\n  top: 0,\n  left: 0,\n  opacity: 0,\n  transform: 'translate3d(0, -200%, 0)',\n};\n\nconst UNMEASURED_ARROW_STYLES: CSS.Properties = {\n  // given the arrow is nested inside the popper,\n  // make sure that it is out of the flow and doesn't hinder then popper's measurement\n  position: 'absolute',\n  opacity: 0,\n};\n\ntype GetArrowStylesOptions = {\n  /** The size of the popper to place */\n  popperSize: Size;\n  /** The size of the arrow itself */\n  arrowSize: Size;\n  /** An offset for the arrow along the align axis */\n  arrowOffset: number;\n  /** The side where the arrow points to */\n  side: Side;\n  /** The alignment of the arrow along the side */\n  align: Align;\n};\n\n/**\n * Computes the styles necessary to position, rotate and align the arrow correctly.\n * It can adjust itself based on anchor/popper size, side/align and an optional offset.\n */\nfunction getPopperArrowStyles({\n  popperSize,\n  arrowSize,\n  arrowOffset,\n  side,\n  align,\n}: GetArrowStylesOptions): CSS.Properties {\n  const popperCenterX = (popperSize.width - arrowSize.width) / 2;\n  const popperCenterY = (popperSize.height - arrowSize.width) / 2;\n\n  const rotationMap = { top: 0, right: 90, bottom: 180, left: -90 };\n  const rotation = rotationMap[side];\n  const arrowMaxDimension = Math.max(arrowSize.width, arrowSize.height);\n\n  const styles: CSS.Properties = {\n    // we make sure we put the arrow inside a 1:1 ratio container\n    // this is to make the rotation handling simpler\n    // as we do no need to worry about changing the transform-origin\n    width: `${arrowMaxDimension}px`,\n    height: `${arrowMaxDimension}px`,\n\n    // rotate the arrow appropriately\n    transform: `rotate(${rotation}deg)`,\n    willChange: 'transform',\n\n    // position the arrow appropriately\n    position: 'absolute',\n    [side]: '100%',\n\n    // Because the arrow gets rotated (see `transform above`)\n    // and we are putting it inside a 1:1 ratio container\n    // we need to adjust the CSS direction from `ltr` to `rtl`\n    // in some circumstances\n    direction: getArrowCssDirection(side, align),\n  };\n\n  if (side === 'top' || side === 'bottom') {\n    if (align === 'start') {\n      styles.left = `${arrowOffset}px`;\n    }\n    if (align === 'center') {\n      styles.left = `${popperCenterX}px`;\n    }\n    if (align === 'end') {\n      styles.right = `${arrowOffset}px`;\n    }\n  }\n\n  if (side === 'left' || side === 'right') {\n    if (align === 'start') {\n      styles.top = `${arrowOffset}px`;\n    }\n    if (align === 'center') {\n      styles.top = `${popperCenterY}px`;\n    }\n    if (align === 'end') {\n      styles.bottom = `${arrowOffset}px`;\n    }\n  }\n\n  return styles;\n}\n\n/**\n * Adjusts the arrow's CSS direction (`ltr` / `rtl`)\n */\nfunction getArrowCssDirection(side: Side, align: Align): CSS.Property.Direction {\n  if ((side === 'top' || side === 'right') && align === 'end') {\n    return 'rtl';\n  }\n\n  if ((side === 'bottom' || side === 'left') && align !== 'end') {\n    return 'rtl';\n  }\n\n  return 'ltr';\n}\n\n/**\n * Gets the opposite side of a given side (ie. top => bottom, left => right, )\n */\nfunction getOppositeSide(side: Side): Side {\n  const oppositeSides: Record<Side, Side> = {\n    top: 'bottom',\n    right: 'left',\n    bottom: 'top',\n    left: 'right',\n  };\n  return oppositeSides[side];\n}\n\n/**\n * Creates a new rect (`ClientRect`) based on a given one but contracted by\n * a given amout on each side.\n */\nfunction getContractedRect(rect: ClientRect, amount: number) {\n  return DOMRect.fromRect({\n    width: rect.width - amount * 2,\n    height: rect.height - amount * 2,\n    x: rect.left + amount,\n    y: rect.top + amount,\n  });\n}\n\n/**\n * Gets collisions for each side of a rect (top, right, bottom, left)\n */\nfunction getCollisions(\n  /** The rect to test collisions against */\n  rect: ClientRect,\n  /** The rect which represents the boundaries for collision checks */\n  collisionBoundariesRect: ClientRect\n) {\n  return {\n    top: rect.top < collisionBoundariesRect.top,\n    right: rect.right > collisionBoundariesRect.right,\n    bottom: rect.bottom > collisionBoundariesRect.bottom,\n    left: rect.left < collisionBoundariesRect.left,\n  };\n}\n\ntype Collisions = ReturnType<typeof getCollisions>;\n\nexport { getPlacementData, SIDE_OPTIONS, ALIGN_OPTIONS };\nexport type { Side, Align };\n","import * as React from 'react';\nimport { getPlacementData } from '@radix-ui/popper';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { useRect } from '@radix-ui/react-use-rect';\nimport { useSize } from '@radix-ui/react-use-size';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport * as ArrowPrimitive from '@radix-ui/react-arrow';\n\nimport type * as Radix from '@radix-ui/react-primitive';\nimport type { Scope } from '@radix-ui/react-context';\nimport type { Side, Align } from '@radix-ui/popper';\nimport type { Measurable } from '@radix-ui/rect';\n\n/* -------------------------------------------------------------------------------------------------\n * Popper\n * -----------------------------------------------------------------------------------------------*/\n\nconst POPPER_NAME = 'Popper';\n\ntype ScopedProps<P> = P & { __scopePopper?: Scope };\nconst [createPopperContext, createPopperScope] = createContextScope(POPPER_NAME);\n\ntype PopperContextValue = {\n  anchor: Measurable | null;\n  onAnchorChange(anchor: Measurable | null): void;\n};\nconst [PopperProvider, usePopperContext] = createPopperContext<PopperContextValue>(POPPER_NAME);\n\ninterface PopperProps {\n  children?: React.ReactNode;\n}\nconst Popper: React.FC<PopperProps> = (props: ScopedProps<PopperProps>) => {\n  const { __scopePopper, children } = props;\n  const [anchor, setAnchor] = React.useState<Measurable | null>(null);\n  return (\n    <PopperProvider scope={__scopePopper} anchor={anchor} onAnchorChange={setAnchor}>\n      {children}\n    </PopperProvider>\n  );\n};\n\nPopper.displayName = POPPER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * PopperAnchor\n * -----------------------------------------------------------------------------------------------*/\n\nconst ANCHOR_NAME = 'PopperAnchor';\n\ntype PopperAnchorElement = React.ElementRef<typeof Primitive.div>;\ntype PrimitiveDivProps = Radix.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface PopperAnchorProps extends PrimitiveDivProps {\n  virtualRef?: React.RefObject<Measurable>;\n}\n\nconst PopperAnchor = React.forwardRef<PopperAnchorElement, PopperAnchorProps>(\n  (props: ScopedProps<PopperAnchorProps>, forwardedRef) => {\n    const { __scopePopper, virtualRef, ...anchorProps } = props;\n    const context = usePopperContext(ANCHOR_NAME, __scopePopper);\n    const ref = React.useRef<PopperAnchorElement>(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n\n    React.useEffect(() => {\n      // Consumer can anchor the popper to something that isn't\n      // a DOM node e.g. pointer position, so we override the\n      // `anchorRef` with their virtual ref in this case.\n      context.onAnchorChange(virtualRef?.current || ref.current);\n    });\n\n    return virtualRef ? null : <Primitive.div {...anchorProps} ref={composedRefs} />;\n  }\n);\n\nPopperAnchor.displayName = ANCHOR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * PopperContent\n * -----------------------------------------------------------------------------------------------*/\n\nconst CONTENT_NAME = 'PopperContent';\n\ntype PopperContentContextValue = {\n  arrowStyles: React.CSSProperties;\n  onArrowChange(arrow: HTMLSpanElement | null): void;\n  onArrowOffsetChange(offset?: number): void;\n};\n\nconst [PopperContentProvider, useContentContext] =\n  createPopperContext<PopperContentContextValue>(CONTENT_NAME);\n\ntype PopperContentElement = React.ElementRef<typeof Primitive.div>;\ninterface PopperContentProps extends PrimitiveDivProps {\n  side?: Side;\n  sideOffset?: number;\n  align?: Align;\n  alignOffset?: number;\n  collisionTolerance?: number;\n  avoidCollisions?: boolean;\n}\n\nconst PopperContent = React.forwardRef<PopperContentElement, PopperContentProps>(\n  (props: ScopedProps<PopperContentProps>, forwardedRef) => {\n    const {\n      __scopePopper,\n      side = 'bottom',\n      sideOffset,\n      align = 'center',\n      alignOffset,\n      collisionTolerance,\n      avoidCollisions = true,\n      ...contentProps\n    } = props;\n\n    const context = usePopperContext(CONTENT_NAME, __scopePopper);\n    const [arrowOffset, setArrowOffset] = React.useState<number>();\n    const anchorRect = useRect(context.anchor);\n    const [content, setContent] = React.useState<HTMLDivElement | null>(null);\n    const contentSize = useSize(content);\n    const [arrow, setArrow] = React.useState<HTMLSpanElement | null>(null);\n    const arrowSize = useSize(arrow);\n\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setContent(node));\n\n    const windowSize = useWindowSize();\n    const collisionBoundariesRect = windowSize\n      ? DOMRect.fromRect({ ...windowSize, x: 0, y: 0 })\n      : undefined;\n\n    const { popperStyles, arrowStyles, placedSide, placedAlign } = getPlacementData({\n      anchorRect,\n      popperSize: contentSize,\n      arrowSize,\n\n      // config\n      arrowOffset,\n      side,\n      sideOffset,\n      align,\n      alignOffset,\n      shouldAvoidCollisions: avoidCollisions,\n      collisionBoundariesRect,\n      collisionTolerance,\n    });\n    const isPlaced = placedSide !== undefined;\n\n    return (\n      <div style={popperStyles} data-radix-popper-content-wrapper=\"\">\n        <PopperContentProvider\n          scope={__scopePopper}\n          arrowStyles={arrowStyles}\n          onArrowChange={setArrow}\n          onArrowOffsetChange={setArrowOffset}\n        >\n          <Primitive.div\n            data-side={placedSide}\n            data-align={placedAlign}\n            {...contentProps}\n            style={{\n              ...contentProps.style,\n              // if the PopperContent hasn't been placed yet (not all measurements done)\n              // we prevent animations so that users's animation don't kick in too early referring wrong sides\n              animation: !isPlaced ? 'none' : undefined,\n            }}\n            ref={composedRefs}\n          />\n        </PopperContentProvider>\n      </div>\n    );\n  }\n);\n\nPopperContent.displayName = CONTENT_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * PopperArrow\n * -----------------------------------------------------------------------------------------------*/\n\nconst ARROW_NAME = 'PopperArrow';\n\ntype PopperArrowElement = React.ElementRef<typeof ArrowPrimitive.Root>;\ntype ArrowProps = Radix.ComponentPropsWithoutRef<typeof ArrowPrimitive.Root>;\ninterface PopperArrowProps extends ArrowProps {\n  offset?: number;\n}\n\nconst PopperArrow = React.forwardRef<PopperArrowElement, PopperArrowProps>(function PopperArrow(\n  props: ScopedProps<PopperArrowProps>,\n  forwardedRef\n) {\n  const { __scopePopper, offset, ...arrowProps } = props;\n  const context = useContentContext(ARROW_NAME, __scopePopper);\n  const { onArrowOffsetChange } = context;\n\n  // send the Arrow's offset up to Popper\n  React.useEffect(() => onArrowOffsetChange(offset), [onArrowOffsetChange, offset]);\n\n  return (\n    <span style={{ ...context.arrowStyles, pointerEvents: 'none' }}>\n      <span\n        // we have to use an extra wrapper because `ResizeObserver` (used by `useSize`)\n        // doesn't report size as we'd expect on SVG elements.\n        // it reports their bounding box which is effectively the largest path inside the SVG.\n        ref={context.onArrowChange}\n        style={{\n          display: 'inline-block',\n          verticalAlign: 'top',\n          pointerEvents: 'auto',\n        }}\n      >\n        <ArrowPrimitive.Root\n          {...arrowProps}\n          ref={forwardedRef}\n          style={{\n            ...arrowProps.style,\n            // ensures the element can be measured correctly (mostly for if SVG)\n            display: 'block',\n          }}\n        />\n      </span>\n    </span>\n  );\n});\n\nPopperArrow.displayName = ARROW_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst WINDOW_RESIZE_DEBOUNCE_WAIT_IN_MS = 100;\n\nfunction useWindowSize() {\n  const [windowSize, setWindowSize] = React.useState<{ width: number; height: number } | undefined>(\n    undefined\n  );\n\n  React.useEffect(() => {\n    let debounceTimerId: number;\n\n    function updateWindowSize() {\n      setWindowSize({ width: window.innerWidth, height: window.innerHeight });\n    }\n\n    function handleResize() {\n      window.clearTimeout(debounceTimerId);\n      debounceTimerId = window.setTimeout(updateWindowSize, WINDOW_RESIZE_DEBOUNCE_WAIT_IN_MS);\n    }\n\n    updateWindowSize();\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  return windowSize;\n}\n\nconst Root = Popper;\nconst Anchor = PopperAnchor;\nconst Content = PopperContent;\nconst Arrow = PopperArrow;\n\nexport {\n  createPopperScope,\n  //\n  Popper,\n  PopperAnchor,\n  PopperContent,\n  PopperArrow,\n  //\n  Root,\n  Anchor,\n  Content,\n  Arrow,\n};\nexport type { PopperProps, PopperAnchorProps, PopperContentProps, PopperArrowProps };\n","import * as React from 'react';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { useLayoutEffect } from '@radix-ui/react-use-layout-effect';\nimport { useStateMachine } from './useStateMachine';\n\ninterface PresenceProps {\n  present: boolean;\n  children: React.ReactElement | ((props: { present: boolean }) => React.ReactElement);\n}\n\nconst Presence: React.FC<PresenceProps> = (props) => {\n  const { present, children } = props;\n  const presence = usePresence(present);\n\n  const child = (\n    typeof children === 'function'\n      ? children({ present: presence.isPresent })\n      : React.Children.only(children)\n  ) as React.ReactElement;\n\n  const ref = useComposedRefs(presence.ref, (child as any).ref);\n  const forceMount = typeof children === 'function';\n  return forceMount || presence.isPresent ? React.cloneElement(child, { ref }) : null;\n};\n\nPresence.displayName = 'Presence';\n\n/* -------------------------------------------------------------------------------------------------\n * usePresence\n * -----------------------------------------------------------------------------------------------*/\n\nfunction usePresence(present: boolean) {\n  const [node, setNode] = React.useState<HTMLElement>();\n  const stylesRef = React.useRef<CSSStyleDeclaration>({} as any);\n  const prevPresentRef = React.useRef(present);\n  const prevAnimationNameRef = React.useRef<string>('none');\n  const initialState = present ? 'mounted' : 'unmounted';\n  const [state, send] = useStateMachine(initialState, {\n    mounted: {\n      UNMOUNT: 'unmounted',\n      ANIMATION_OUT: 'unmountSuspended',\n    },\n    unmountSuspended: {\n      MOUNT: 'mounted',\n      ANIMATION_END: 'unmounted',\n    },\n    unmounted: {\n      MOUNT: 'mounted',\n    },\n  });\n\n  React.useEffect(() => {\n    const currentAnimationName = getAnimationName(stylesRef.current);\n    prevAnimationNameRef.current = state === 'mounted' ? currentAnimationName : 'none';\n  }, [state]);\n\n  useLayoutEffect(() => {\n    const styles = stylesRef.current;\n    const wasPresent = prevPresentRef.current;\n    const hasPresentChanged = wasPresent !== present;\n\n    if (hasPresentChanged) {\n      const prevAnimationName = prevAnimationNameRef.current;\n      const currentAnimationName = getAnimationName(styles);\n\n      if (present) {\n        send('MOUNT');\n      } else if (currentAnimationName === 'none' || styles?.display === 'none') {\n        // If there is no exit animation or the element is hidden, animations won't run\n        // so we unmount instantly\n        send('UNMOUNT');\n      } else {\n        /**\n         * When `present` changes to `false`, we check changes to animation-name to\n         * determine whether an animation has started. We chose this approach (reading\n         * computed styles) because there is no `animationrun` event and `animationstart`\n         * fires after `animation-delay` has expired which would be too late.\n         */\n        const isAnimating = prevAnimationName !== currentAnimationName;\n\n        if (wasPresent && isAnimating) {\n          send('ANIMATION_OUT');\n        } else {\n          send('UNMOUNT');\n        }\n      }\n\n      prevPresentRef.current = present;\n    }\n  }, [present, send]);\n\n  useLayoutEffect(() => {\n    if (node) {\n      /**\n       * Triggering an ANIMATION_OUT during an ANIMATION_IN will fire an `animationcancel`\n       * event for ANIMATION_IN after we have entered `unmountSuspended` state. So, we\n       * make sure we only trigger ANIMATION_END for the currently active animation.\n       */\n      const handleAnimationEnd = (event: AnimationEvent) => {\n        const currentAnimationName = getAnimationName(stylesRef.current);\n        const isCurrentAnimation = currentAnimationName.includes(event.animationName);\n        if (event.target === node && isCurrentAnimation) {\n          send('ANIMATION_END');\n        }\n      };\n      const handleAnimationStart = (event: AnimationEvent) => {\n        if (event.target === node) {\n          // if animation occurred, store its name as the previous animation.\n          prevAnimationNameRef.current = getAnimationName(stylesRef.current);\n        }\n      };\n      node.addEventListener('animationstart', handleAnimationStart);\n      node.addEventListener('animationcancel', handleAnimationEnd);\n      node.addEventListener('animationend', handleAnimationEnd);\n      return () => {\n        node.removeEventListener('animationstart', handleAnimationStart);\n        node.removeEventListener('animationcancel', handleAnimationEnd);\n        node.removeEventListener('animationend', handleAnimationEnd);\n      };\n    }\n  }, [node, send]);\n\n  return {\n    isPresent: ['mounted', 'unmountSuspended'].includes(state),\n    ref: React.useCallback((node: HTMLElement) => {\n      if (node) stylesRef.current = getComputedStyle(node);\n      setNode(node);\n    }, []),\n  };\n}\n\n/* -----------------------------------------------------------------------------------------------*/\n\nfunction getAnimationName(styles?: CSSStyleDeclaration) {\n  return styles?.animationName || 'none';\n}\n\nexport { Presence };\nexport type { PresenceProps };\n","import * as React from 'react';\n\ntype Machine<S> = { [k: string]: { [k: string]: S } };\ntype MachineState<T> = keyof T;\ntype MachineEvent<T> = keyof UnionToIntersection<T[keyof T]>;\n\n//  https://fettblog.eu/typescript-union-to-intersection/\ntype UnionToIntersection<T> = (T extends any ? (x: T) => any : never) extends (x: infer R) => any\n  ? R\n  : never;\n\nexport function useStateMachine<M>(\n  initialState: MachineState<M>,\n  machine: M & Machine<MachineState<M>>\n) {\n  return React.useReducer((state: MachineState<M>, event: MachineEvent<M>): MachineState<M> => {\n    const nextState = (machine[state] as any)[event];\n    return nextState ?? state;\n  }, initialState);\n}\n","import * as React from 'react';\n\nfunction usePrevious<T>(value: T) {\n  // The ref object is a generic container whose current property is mutable ...\n  // ... and can hold any value, similar to an instance property on a class\n  const ref = React.useRef<T>(value);\n\n  // Store current value in ref\n  React.useEffect(() => {\n    ref.current = value;\n  }, [value]); // Only re-run if value changes\n\n  // Return previous value (happens before update in useEffect above)\n  return ref.current;\n}\n\nexport { usePrevious };\n","import * as React from 'react';\n\n/**\n * A custom hook that converts a callback to a ref to avoid triggering re-renders when passed as a\n * prop or avoid re-executing effects when passed as a dependency\n */\nfunction useCallbackRef<T extends (...args: any[]) => any>(callback: T | undefined): T {\n  const callbackRef = React.useRef(callback);\n\n  React.useEffect(() => {\n    callbackRef.current = callback;\n  });\n\n  // https://github.com/facebook/react/issues/19240\n  return React.useMemo(() => ((...args) => callbackRef.current?.(...args)) as T, []);\n}\n\nexport { useCallbackRef };\n","function composeEventHandlers<E>(\n  originalEventHandler?: (event: E) => void,\n  ourEventHandler?: (event: E) => void,\n  { checkForDefaultPrevented = true } = {}\n) {\n  return function handleEvent(event: E) {\n    originalEventHandler?.(event);\n\n    if (checkForDefaultPrevented === false || !((event as unknown) as Event).defaultPrevented) {\n      return ourEventHandler?.(event);\n    }\n  };\n}\n\nexport { composeEventHandlers };\n","import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { useEscapeKeydown } from '@radix-ui/react-use-escape-keydown';\nimport { usePrevious } from '@radix-ui/react-use-previous';\nimport { useRect } from '@radix-ui/react-use-rect';\nimport { Presence } from '@radix-ui/react-presence';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport * as PopperPrimitive from '@radix-ui/react-popper';\nimport { createPopperScope } from '@radix-ui/react-popper';\nimport { Portal } from '@radix-ui/react-portal';\nimport { Slottable } from '@radix-ui/react-slot';\nimport * as VisuallyHiddenPrimitive from '@radix-ui/react-visually-hidden';\nimport { useId } from '@radix-ui/react-id';\n\nimport type * as Radix from '@radix-ui/react-primitive';\nimport type { Scope } from '@radix-ui/react-context';\n\ntype ScopedProps<P = {}> = P & { __scopeTooltip?: Scope };\nconst [createTooltipContext, createTooltipScope] = createContextScope('Tooltip', [\n  createPopperScope,\n]);\nconst usePopperScope = createPopperScope();\n\n/* -------------------------------------------------------------------------------------------------\n * TooltipProvider\n * -----------------------------------------------------------------------------------------------*/\n\nconst PROVIDER_NAME = 'TooltipProvider';\nconst DEFAULT_DELAY_DURATION = 700;\nconst TOOLTIP_OPEN = 'tooltip.open';\n\ntype TooltipProviderContextValue = {\n  isOpenDelayed: boolean;\n  delayDuration: number;\n  onOpen(): void;\n  onClose(): void;\n};\n\nconst [TooltipProviderContextProvider, useTooltipProviderContext] =\n  createTooltipContext<TooltipProviderContextValue>(PROVIDER_NAME, {\n    isOpenDelayed: true,\n    delayDuration: DEFAULT_DELAY_DURATION,\n    onOpen: () => {},\n    onClose: () => {},\n  });\n\ninterface TooltipProviderProps {\n  /**\n   * The duration from when the mouse enters the trigger until the tooltip gets opened.\n   * @defaultValue 700\n   */\n  delayDuration?: number;\n  /**\n   * How much time a user has to enter another trigger without incurring a delay again.\n   * @defaultValue 300\n   */\n  skipDelayDuration?: number;\n  children: React.ReactNode;\n}\n\nconst TooltipProvider: React.FC<TooltipProviderProps> = (\n  props: ScopedProps<TooltipProviderProps>\n) => {\n  const {\n    __scopeTooltip,\n    delayDuration = DEFAULT_DELAY_DURATION,\n    skipDelayDuration = 300,\n    children,\n  } = props;\n  const [isOpenDelayed, setIsOpenDelayed] = React.useState(true);\n  const skipDelayTimerRef = React.useRef(0);\n\n  React.useEffect(() => {\n    const skipDelayTimer = skipDelayTimerRef.current;\n    return () => window.clearTimeout(skipDelayTimer);\n  }, []);\n\n  return (\n    <TooltipProviderContextProvider\n      scope={__scopeTooltip}\n      isOpenDelayed={isOpenDelayed}\n      delayDuration={delayDuration}\n      onOpen={React.useCallback(() => {\n        window.clearTimeout(skipDelayTimerRef.current);\n        setIsOpenDelayed(false);\n      }, [])}\n      onClose={React.useCallback(() => {\n        window.clearTimeout(skipDelayTimerRef.current);\n        skipDelayTimerRef.current = window.setTimeout(\n          () => setIsOpenDelayed(true),\n          skipDelayDuration\n        );\n      }, [skipDelayDuration])}\n    >\n      {children}\n    </TooltipProviderContextProvider>\n  );\n};\n\nTooltipProvider.displayName = PROVIDER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * Tooltip\n * -----------------------------------------------------------------------------------------------*/\n\nconst TOOLTIP_NAME = 'Tooltip';\n\ntype TooltipContextValue = {\n  contentId: string;\n  open: boolean;\n  stateAttribute: 'closed' | 'delayed-open' | 'instant-open';\n  trigger: TooltipTriggerElement | null;\n  onTriggerChange(trigger: TooltipTriggerElement | null): void;\n  onTriggerEnter(): void;\n  onOpen(): void;\n  onClose(): void;\n};\n\nconst [TooltipContextProvider, useTooltipContext] =\n  createTooltipContext<TooltipContextValue>(TOOLTIP_NAME);\n\ninterface TooltipProps {\n  open?: boolean;\n  defaultOpen?: boolean;\n  onOpenChange?: (open: boolean) => void;\n\n  /**\n   * The duration from when the mouse enters the trigger until the tooltip gets opened. This will\n   * override the prop with the same name passed to Provider.\n   * @defaultValue 700\n   */\n  delayDuration?: number;\n  children?: React.ReactNode;\n}\n\nconst Tooltip: React.FC<TooltipProps> = (props: ScopedProps<TooltipProps>) => {\n  const {\n    __scopeTooltip,\n    children,\n    open: openProp,\n    defaultOpen = false,\n    onOpenChange,\n    delayDuration: delayDurationProp,\n  } = props;\n  const context = useTooltipProviderContext(TOOLTIP_NAME, __scopeTooltip);\n  const popperScope = usePopperScope(__scopeTooltip);\n  const [trigger, setTrigger] = React.useState<HTMLButtonElement | null>(null);\n  const contentId = useId();\n  const openTimerRef = React.useRef(0);\n  const delayDuration = delayDurationProp ?? context.delayDuration;\n  const wasOpenDelayedRef = React.useRef(false);\n  const { onOpen, onClose } = context;\n  const [open = false, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen,\n    onChange: (open) => {\n      if (open) {\n        // we dispatch here so `TooltipProvider` isn't required to\n        // ensure other tooltips are aware of this one opening.\n        document.dispatchEvent(new CustomEvent(TOOLTIP_OPEN));\n        onOpen();\n      }\n      onOpenChange?.(open);\n    },\n  });\n  const stateAttribute = React.useMemo(() => {\n    return open ? (wasOpenDelayedRef.current ? 'delayed-open' : 'instant-open') : 'closed';\n  }, [open]);\n\n  const handleOpen = React.useCallback(() => {\n    window.clearTimeout(openTimerRef.current);\n    wasOpenDelayedRef.current = false;\n    setOpen(true);\n  }, [setOpen]);\n\n  const handleDelayedOpen = React.useCallback(() => {\n    window.clearTimeout(openTimerRef.current);\n    openTimerRef.current = window.setTimeout(() => {\n      wasOpenDelayedRef.current = true;\n      setOpen(true);\n    }, delayDuration);\n  }, [delayDuration, setOpen]);\n\n  React.useEffect(() => {\n    return () => window.clearTimeout(openTimerRef.current);\n  }, []);\n\n  return (\n    <PopperPrimitive.Root {...popperScope}>\n      <TooltipContextProvider\n        scope={__scopeTooltip}\n        contentId={contentId}\n        open={open}\n        stateAttribute={stateAttribute}\n        trigger={trigger}\n        onTriggerChange={setTrigger}\n        onTriggerEnter={React.useCallback(() => {\n          if (context.isOpenDelayed) handleDelayedOpen();\n          else handleOpen();\n        }, [context.isOpenDelayed, handleDelayedOpen, handleOpen])}\n        onOpen={React.useCallback(handleOpen, [handleOpen])}\n        onClose={React.useCallback(() => {\n          window.clearTimeout(openTimerRef.current);\n          setOpen(false);\n          onClose();\n        }, [setOpen, onClose])}\n      >\n        {children}\n      </TooltipContextProvider>\n    </PopperPrimitive.Root>\n  );\n};\n\nTooltip.displayName = TOOLTIP_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * TooltipTrigger\n * -----------------------------------------------------------------------------------------------*/\n\nconst TRIGGER_NAME = 'TooltipTrigger';\n\ntype TooltipTriggerElement = React.ElementRef<typeof Primitive.button>;\ntype PrimitiveButtonProps = Radix.ComponentPropsWithoutRef<typeof Primitive.button>;\ninterface TooltipTriggerProps extends PrimitiveButtonProps {}\n\nconst TooltipTrigger = React.forwardRef<TooltipTriggerElement, TooltipTriggerProps>(\n  (props: ScopedProps<TooltipTriggerProps>, forwardedRef) => {\n    const { __scopeTooltip, ...triggerProps } = props;\n    const context = useTooltipContext(TRIGGER_NAME, __scopeTooltip);\n    const popperScope = usePopperScope(__scopeTooltip);\n    const composedTriggerRef = useComposedRefs(forwardedRef, context.onTriggerChange);\n    const isMouseDownRef = React.useRef(false);\n    const handleMouseUp = React.useCallback(() => (isMouseDownRef.current = false), []);\n\n    React.useEffect(() => {\n      return () => document.removeEventListener('mouseup', handleMouseUp);\n    }, [handleMouseUp]);\n\n    return (\n      <PopperPrimitive.Anchor asChild {...popperScope}>\n        <Primitive.button\n          // We purposefully avoid adding `type=button` here because tooltip triggers are also\n          // commonly anchors and the anchor `type` attribute signifies MIME type.\n          aria-describedby={context.open ? context.contentId : undefined}\n          data-state={context.stateAttribute}\n          {...triggerProps}\n          ref={composedTriggerRef}\n          onMouseEnter={composeEventHandlers(props.onMouseEnter, context.onTriggerEnter)}\n          onMouseLeave={composeEventHandlers(props.onMouseLeave, context.onClose)}\n          onMouseDown={composeEventHandlers(props.onMouseDown, () => {\n            context.onClose();\n            isMouseDownRef.current = true;\n            document.addEventListener('mouseup', handleMouseUp, { once: true });\n          })}\n          onFocus={composeEventHandlers(props.onFocus, () => {\n            if (!isMouseDownRef.current) context.onOpen();\n          })}\n          onBlur={composeEventHandlers(props.onBlur, context.onClose)}\n          // Handle anything that the browser considers a click for the element type if\n          // not using pointer e.g. Space keyup and Enter keydown\n          onClick={composeEventHandlers(props.onClick, context.onClose)}\n        />\n      </PopperPrimitive.Anchor>\n    );\n  }\n);\n\nTooltipTrigger.displayName = TRIGGER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * TooltipContent\n * -----------------------------------------------------------------------------------------------*/\n\nconst CONTENT_NAME = 'TooltipContent';\n\ntype TooltipContentElement = TooltipContentImplElement;\ninterface TooltipContentProps extends TooltipContentImplProps {\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst TooltipContent = React.forwardRef<TooltipContentElement, TooltipContentProps>(\n  (props: ScopedProps<TooltipContentProps>, forwardedRef) => {\n    const { forceMount, ...contentProps } = props;\n    const context = useTooltipContext(CONTENT_NAME, props.__scopeTooltip);\n    return (\n      <Presence present={forceMount || context.open}>\n        <TooltipContentImpl ref={forwardedRef} {...contentProps} />\n      </Presence>\n    );\n  }\n);\n\ntype TooltipContentImplElement = React.ElementRef<typeof PopperPrimitive.Content>;\ntype PopperContentProps = Radix.ComponentPropsWithoutRef<typeof PopperPrimitive.Content>;\ninterface TooltipContentImplProps extends PopperContentProps {\n  /**\n   * A more descriptive label for accessibility purpose\n   */\n  'aria-label'?: string;\n\n  /**\n   * Whether the Tooltip should render in a Portal\n   * (default: `true`)\n   */\n  portalled?: boolean;\n}\n\nconst TooltipContentImpl = React.forwardRef<TooltipContentImplElement, TooltipContentImplProps>(\n  (props: ScopedProps<TooltipContentImplProps>, forwardedRef) => {\n    const {\n      __scopeTooltip,\n      children,\n      'aria-label': ariaLabel,\n      portalled = true,\n      ...contentProps\n    } = props;\n    const context = useTooltipContext(CONTENT_NAME, __scopeTooltip);\n    const popperScope = usePopperScope(__scopeTooltip);\n    const PortalWrapper = portalled ? Portal : React.Fragment;\n    const { onClose } = context;\n\n    useEscapeKeydown(() => onClose());\n\n    React.useEffect(() => {\n      // Close this tooltip if another one opens\n      document.addEventListener(TOOLTIP_OPEN, onClose);\n      return () => document.removeEventListener(TOOLTIP_OPEN, onClose);\n    }, [onClose]);\n\n    return (\n      <PortalWrapper>\n        <CheckTriggerMoved __scopeTooltip={__scopeTooltip} />\n        <PopperPrimitive.Content\n          data-state={context.stateAttribute}\n          {...popperScope}\n          {...contentProps}\n          ref={forwardedRef}\n          style={{\n            ...contentProps.style,\n            // re-namespace exposed content custom property\n            ['--radix-tooltip-content-transform-origin' as any]:\n              'var(--radix-popper-transform-origin)',\n          }}\n        >\n          <Slottable>{children}</Slottable>\n          <VisuallyHiddenPrimitive.Root id={context.contentId} role=\"tooltip\">\n            {ariaLabel || children}\n          </VisuallyHiddenPrimitive.Root>\n        </PopperPrimitive.Content>\n      </PortalWrapper>\n    );\n  }\n);\n\nTooltipContent.displayName = CONTENT_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * TooltipArrow\n * -----------------------------------------------------------------------------------------------*/\n\nconst ARROW_NAME = 'TooltipArrow';\n\ntype TooltipArrowElement = React.ElementRef<typeof PopperPrimitive.Arrow>;\ntype PopperArrowProps = Radix.ComponentPropsWithoutRef<typeof PopperPrimitive.Arrow>;\ninterface TooltipArrowProps extends PopperArrowProps {}\n\nconst TooltipArrow = React.forwardRef<TooltipArrowElement, TooltipArrowProps>(\n  (props: ScopedProps<TooltipArrowProps>, forwardedRef) => {\n    const { __scopeTooltip, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopeTooltip);\n    return <PopperPrimitive.Arrow {...popperScope} {...arrowProps} ref={forwardedRef} />;\n  }\n);\n\nTooltipArrow.displayName = ARROW_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nfunction CheckTriggerMoved(props: ScopedProps<{}>) {\n  const { __scopeTooltip } = props;\n  const context = useTooltipContext('CheckTriggerMoved', __scopeTooltip);\n\n  const triggerRect = useRect(context.trigger);\n  const triggerLeft = triggerRect?.left;\n  const previousTriggerLeft = usePrevious(triggerLeft);\n  const triggerTop = triggerRect?.top;\n  const previousTriggerTop = usePrevious(triggerTop);\n  const handleClose = context.onClose;\n\n  React.useEffect(() => {\n    // checking if the user has scrolled\n    const hasTriggerMoved =\n      (previousTriggerLeft !== undefined && previousTriggerLeft !== triggerLeft) ||\n      (previousTriggerTop !== undefined && previousTriggerTop !== triggerTop);\n\n    if (hasTriggerMoved) {\n      handleClose();\n    }\n  }, [handleClose, previousTriggerLeft, previousTriggerTop, triggerLeft, triggerTop]);\n\n  return null;\n}\n\nconst Provider = TooltipProvider;\nconst Root = Tooltip;\nconst Trigger = TooltipTrigger;\nconst Content = TooltipContent;\nconst Arrow = TooltipArrow;\n\nexport {\n  createTooltipScope,\n  //\n  TooltipProvider,\n  Tooltip,\n  TooltipTrigger,\n  TooltipContent,\n  TooltipArrow,\n  //\n  Provider,\n  Root,\n  Trigger,\n  Content,\n  Arrow,\n};\nexport type { TooltipProps, TooltipTriggerProps, TooltipContentProps, TooltipArrowProps };\n","import * as React from 'react';\nimport { useCallbackRef } from '@radix-ui/react-use-callback-ref';\n\n/**\n * Listens for when the escape key is down\n */\nfunction useEscapeKeydown(onEscapeKeyDownProp?: (event: KeyboardEvent) => void) {\n  const onEscapeKeyDown = useCallbackRef(onEscapeKeyDownProp);\n\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (event.key === 'Escape') {\n        onEscapeKeyDown(event);\n      }\n    };\n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [onEscapeKeyDown]);\n}\n\nexport { useEscapeKeydown };\n","import React, { createContext, useContext, useRef, useCallback, useState, useEffect } from 'react';\nimport * as P from '@radix-ui/react-portal';\nimport { dequal } from 'dequal/lite';\nimport shallow from 'zustand/shallow';\nimport v8n from 'v8n';\nimport { createStitches } from '@stitches/react';\nimport { useDrag as useDrag$1 } from '@use-gesture/react';\nimport * as RadixTooltip from '@radix-ui/react-tooltip';\nimport { Arrow } from '@radix-ui/react-tooltip';\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nlet LevaErrors;\n\n(function (LevaErrors) {\n  LevaErrors[LevaErrors[\"UNSUPPORTED_INPUT\"] = 0] = \"UNSUPPORTED_INPUT\";\n  LevaErrors[LevaErrors[\"NO_COMPONENT_FOR_TYPE\"] = 1] = \"NO_COMPONENT_FOR_TYPE\";\n  LevaErrors[LevaErrors[\"UNKNOWN_INPUT\"] = 2] = \"UNKNOWN_INPUT\";\n  LevaErrors[LevaErrors[\"DUPLICATE_KEYS\"] = 3] = \"DUPLICATE_KEYS\";\n  LevaErrors[LevaErrors[\"ALREADY_REGISTERED_TYPE\"] = 4] = \"ALREADY_REGISTERED_TYPE\";\n  LevaErrors[LevaErrors[\"CLIPBOARD_ERROR\"] = 5] = \"CLIPBOARD_ERROR\";\n  LevaErrors[LevaErrors[\"THEME_ERROR\"] = 6] = \"THEME_ERROR\";\n  LevaErrors[LevaErrors[\"PATH_DOESNT_EXIST\"] = 7] = \"PATH_DOESNT_EXIST\";\n  LevaErrors[LevaErrors[\"INPUT_TYPE_OVERRIDE\"] = 8] = \"INPUT_TYPE_OVERRIDE\";\n  LevaErrors[LevaErrors[\"EMPTY_KEY\"] = 9] = \"EMPTY_KEY\";\n})(LevaErrors || (LevaErrors = {}));\n\nconst ErrorList = {\n  [LevaErrors.UNSUPPORTED_INPUT]: (type, path) => [`An input with type \\`${type}\\` input was found at path \\`${path}\\` but it's not supported yet.`],\n  [LevaErrors.NO_COMPONENT_FOR_TYPE]: (type, path) => [`Type \\`${type}\\` found at path \\`${path}\\` can't be displayed in panel because no component supports it yet.`],\n  [LevaErrors.UNKNOWN_INPUT]: (path, value) => [`input at path \\`${path}\\` is not recognized.`, value],\n  [LevaErrors.DUPLICATE_KEYS]: (key, path, prevPath) => [`Key \\`${key}\\` of path \\`${path}\\` already exists at path \\`${prevPath}\\`. Even nested keys need to be unique. Rename one of the keys.`],\n  [LevaErrors.ALREADY_REGISTERED_TYPE]: type => [`Type ${type} has already been registered. You can't register a component with the same type.`],\n  [LevaErrors.CLIPBOARD_ERROR]: value => [`Error copying the value`, value],\n  [LevaErrors.THEME_ERROR]: (category, key) => [`Error accessing the theme \\`${category}.${key}\\` value.`],\n  [LevaErrors.PATH_DOESNT_EXIST]: path => [`Error getting the value at path \\`${path}\\`. There is probably an error in your \\`render\\` function.`],\n  [LevaErrors.PATH_DOESNT_EXIST]: path => [`Error accessing the value at path \\`${path}\\``],\n  [LevaErrors.INPUT_TYPE_OVERRIDE]: (path, type, wrongType) => [`Input at path \\`${path}\\` already exists with type: \\`${type}\\`. Its type cannot be overridden with type \\`${wrongType}\\`.`],\n  [LevaErrors.EMPTY_KEY]: () => ['Keys can not be empty, if you want to hide a label use whitespace.']\n};\n\nfunction _log(fn, errorType, ...args) {\n  const [message, ...rest] = ErrorList[errorType](...args);\n  console[fn]('LEVA: ' + message, ...rest);\n}\n\nconst warn = _log.bind(null, 'warn');\nconst log = _log.bind(null, 'log');\n\nconst _excluded$a = [\"value\"],\n      _excluded2$4 = [\"schema\"],\n      _excluded3$1 = [\"value\"];\nconst Schemas = [];\nconst Plugins = {};\nfunction getValueType(_ref) {\n  let {\n    value\n  } = _ref,\n      settings = _objectWithoutProperties(_ref, _excluded$a);\n\n  for (let checker of Schemas) {\n    const type = checker(value, settings);\n    if (type) return type;\n  }\n\n  return undefined;\n}\nfunction register(type, _ref2) {\n  let {\n    schema\n  } = _ref2,\n      plugin = _objectWithoutProperties(_ref2, _excluded2$4);\n\n  if (type in Plugins) {\n    warn(LevaErrors.ALREADY_REGISTERED_TYPE, type);\n    return;\n  }\n\n  Schemas.push((value, settings) => schema(value, settings) && type);\n  Plugins[type] = plugin;\n}\n\nconst getUniqueType = () => '__CUSTOM__PLUGIN__' + Math.random().toString(36).substr(2, 9);\n\nfunction createInternalPlugin(plugin) {\n  return plugin;\n}\nfunction createPlugin(plugin) {\n  const type = getUniqueType();\n  Plugins[type] = plugin;\n  return input => {\n    return {\n      type,\n      __customInput: input\n    };\n  };\n}\nfunction normalize$3(type, input, path, data) {\n  const {\n    normalize: _normalize\n  } = Plugins[type];\n  if (_normalize) return _normalize(input, path, data);\n  if (typeof input !== 'object' || !('value' in input)) return {\n    value: input\n  };\n\n  const {\n    value\n  } = input,\n        settings = _objectWithoutProperties(input, _excluded3$1);\n\n  return {\n    value,\n    settings\n  };\n}\nfunction sanitize$4(type, value, settings, prevValue, path, store) {\n  const {\n    sanitize\n  } = Plugins[type];\n  if (sanitize) return sanitize(value, settings, prevValue, path, store);\n  return value;\n}\nfunction format$2(type, value, settings) {\n  const {\n    format\n  } = Plugins[type];\n  if (format) return format(value, settings);\n  return value;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nconst clamp = (x, min, max) => x > max ? max : x < min ? min : x;\nconst pad = (x, pad) => String(x).padStart(pad, '0');\nconst parseNumber = v => {\n  if (v === '' || typeof v === 'number') return v;\n\n  try {\n    const _v = evaluate(v);\n\n    if (!isNaN(_v)) return _v;\n  } catch (_unused) {}\n\n  return parseFloat(v);\n};\nconst log10 = Math.log(10);\nfunction getStep(number) {\n  let n = Math.abs(+String(number).replace('.', ''));\n  if (n === 0) return 0.01;\n\n  while (n !== 0 && n % 10 === 0) n /= 10;\n\n  const significantDigits = Math.floor(Math.log(n) / log10) + 1;\n  const numberLog = Math.floor(Math.log10(Math.abs(number)));\n  const step = Math.pow(10, numberLog - significantDigits);\n  return Math.max(step, 0.001);\n}\nconst range = (v, min, max) => {\n  if (max === min) return 0;\n\n  const _v = clamp(v, min, max);\n\n  return (_v - min) / (max - min);\n};\nconst invertedRange = (p, min, max) => p * (max - min) + min;\nconst getUid = () => '_' + Math.random().toString(36).substr(2, 9);\nconst parens = /\\(([0-9+\\-*/^ .]+)\\)/;\nconst exp = /(\\d+(?:\\.\\d+)?) ?\\^ ?(\\d+(?:\\.\\d+)?)/;\nconst mul = /(\\d+(?:\\.\\d+)?) ?\\* ?(\\d+(?:\\.\\d+)?)/;\nconst div = /(\\d+(?:\\.\\d+)?) ?\\/ ?(\\d+(?:\\.\\d+)?)/;\nconst add = /(\\d+(?:\\.\\d+)?) ?\\+ ?(\\d+(?:\\.\\d+)?)/;\nconst sub = /(\\d+(?:\\.\\d+)?) ?- ?(\\d+(?:\\.\\d+)?)/;\nfunction evaluate(expr) {\n  if (isNaN(Number(expr))) {\n    if (parens.test(expr)) {\n      const newExpr = expr.replace(parens, (match, subExpr) => String(evaluate(subExpr)));\n      return evaluate(newExpr);\n    } else if (exp.test(expr)) {\n      const newExpr = expr.replace(exp, (match, base, pow) => String(Math.pow(Number(base), Number(pow))));\n      return evaluate(newExpr);\n    } else if (mul.test(expr)) {\n      const newExpr = expr.replace(mul, (match, a, b) => String(Number(a) * Number(b)));\n      return evaluate(newExpr);\n    } else if (div.test(expr)) {\n      const newExpr = expr.replace(div, (match, a, b) => {\n        if (b != 0) return String(Number(a) / Number(b));else throw new Error('Division by zero');\n      });\n      return evaluate(newExpr);\n    } else if (add.test(expr)) {\n      const newExpr = expr.replace(add, (match, a, b) => String(Number(a) + Number(b)));\n      return evaluate(newExpr);\n    } else if (sub.test(expr)) {\n      const newExpr = expr.replace(sub, (match, a, b) => String(Number(a) - Number(b)));\n      return evaluate(newExpr);\n    } else {\n      return Number(expr);\n    }\n  }\n\n  return Number(expr);\n}\n\nfunction pick(object, keys) {\n  return keys.reduce((obj, key) => {\n    if (!!object && object.hasOwnProperty(key)) {\n      obj[key] = object[key];\n    }\n\n    return obj;\n  }, {});\n}\nfunction omit(object, keys) {\n  const obj = _objectSpread2({}, object);\n\n  keys.forEach(k => k in object && delete obj[k]);\n  return obj;\n}\nfunction mapArrayToKeys(value, keys) {\n  return value.reduce((acc, v, i) => Object.assign(acc, {\n    [keys[i]]: v\n  }), {});\n}\nfunction isObject(variable) {\n  return Object.prototype.toString.call(variable) === '[object Object]';\n}\nconst isEmptyObject = obj => isObject(obj) && Object.keys(obj).length === 0;\n\nlet SpecialInputs;\n\n(function (SpecialInputs) {\n  SpecialInputs[\"BUTTON\"] = \"BUTTON\";\n  SpecialInputs[\"BUTTON_GROUP\"] = \"BUTTON_GROUP\";\n  SpecialInputs[\"MONITOR\"] = \"MONITOR\";\n  SpecialInputs[\"FOLDER\"] = \"FOLDER\";\n})(SpecialInputs || (SpecialInputs = {}));\n\nlet LevaInputs;\n\n(function (LevaInputs) {\n  LevaInputs[\"SELECT\"] = \"SELECT\";\n  LevaInputs[\"IMAGE\"] = \"IMAGE\";\n  LevaInputs[\"NUMBER\"] = \"NUMBER\";\n  LevaInputs[\"COLOR\"] = \"COLOR\";\n  LevaInputs[\"STRING\"] = \"STRING\";\n  LevaInputs[\"BOOLEAN\"] = \"BOOLEAN\";\n  LevaInputs[\"INTERVAL\"] = \"INTERVAL\";\n  LevaInputs[\"VECTOR3D\"] = \"VECTOR3D\";\n  LevaInputs[\"VECTOR2D\"] = \"VECTOR2D\";\n})(LevaInputs || (LevaInputs = {}));\n\nconst _excluded$9 = [\"type\", \"__customInput\"],\n      _excluded2$3 = [\"render\", \"label\", \"optional\", \"disabled\", \"hint\", \"onChange\", \"onEditStart\", \"onEditEnd\", \"transient\"],\n      _excluded3 = [\"type\"];\nfunction parseOptions(_input, key, mergedOptions = {}, customType) {\n  var _commonOptions$option, _commonOptions$disabl;\n\n  if (typeof _input !== 'object' || Array.isArray(_input)) {\n    return {\n      type: customType,\n      input: _input,\n      options: _objectSpread2({\n        key,\n        label: key,\n        optional: false,\n        disabled: false\n      }, mergedOptions)\n    };\n  }\n\n  if ('__customInput' in _input) {\n    const {\n      type: _type,\n      __customInput\n    } = _input,\n          options = _objectWithoutProperties(_input, _excluded$9);\n\n    return parseOptions(__customInput, key, options, _type);\n  }\n\n  const {\n    render,\n    label,\n    optional,\n    disabled,\n    hint,\n    onChange,\n    onEditStart,\n    onEditEnd,\n    transient\n  } = _input,\n        inputWithType = _objectWithoutProperties(_input, _excluded2$3);\n\n  const commonOptions = _objectSpread2({\n    render,\n    key,\n    label: label !== null && label !== void 0 ? label : key,\n    hint,\n    transient: transient !== null && transient !== void 0 ? transient : !!onChange,\n    onEditStart,\n    onEditEnd,\n    disabled,\n    optional\n  }, mergedOptions);\n\n  let {\n    type\n  } = inputWithType,\n      input = _objectWithoutProperties(inputWithType, _excluded3);\n\n  type = customType !== null && customType !== void 0 ? customType : type;\n\n  if (type in SpecialInputs) {\n    return {\n      type,\n      input,\n      options: commonOptions\n    };\n  }\n\n  let computedInput;\n  if (customType && isObject(input) && 'value' in input) computedInput = input.value;else computedInput = isEmptyObject(input) ? undefined : input;\n  return {\n    type,\n    input: computedInput,\n    options: _objectSpread2(_objectSpread2({}, commonOptions), {}, {\n      onChange,\n      optional: (_commonOptions$option = commonOptions.optional) !== null && _commonOptions$option !== void 0 ? _commonOptions$option : false,\n      disabled: (_commonOptions$disabl = commonOptions.disabled) !== null && _commonOptions$disabl !== void 0 ? _commonOptions$disabl : false\n    })\n  };\n}\nfunction normalizeInput(_input, key, path, data) {\n  const parsedInputAndOptions = parseOptions(_input, key);\n  const {\n    type,\n    input: parsedInput,\n    options\n  } = parsedInputAndOptions;\n\n  if (type) {\n    if (type in SpecialInputs) return parsedInputAndOptions;\n    return {\n      type,\n      input: normalize$3(type, parsedInput, path, data),\n      options\n    };\n  }\n\n  let inputType = getValueType(parsedInput);\n  if (inputType) return {\n    type: inputType,\n    input: normalize$3(inputType, parsedInput, path, data),\n    options\n  };\n  inputType = getValueType({\n    value: parsedInput\n  });\n  if (inputType) return {\n    type: inputType,\n    input: normalize$3(inputType, {\n      value: parsedInput\n    }, path, data),\n    options\n  };\n  return false;\n}\nfunction updateInput(input, newValue, path, store, fromPanel) {\n  const {\n    value,\n    type,\n    settings\n  } = input;\n  input.value = sanitizeValue({\n    type,\n    value,\n    settings\n  }, newValue, path, store);\n  input.fromPanel = fromPanel;\n}\n\nconst ValueError = function ValueError(message, value, error) {\n  this.type = 'LEVA_ERROR';\n  this.message = 'LEVA: ' + message;\n  this.previousValue = value;\n  this.error = error;\n};\n\nfunction sanitizeValue({\n  type,\n  value,\n  settings\n}, newValue, path, store) {\n  const _newValue = type !== 'SELECT' && typeof newValue === 'function' ? newValue(value) : newValue;\n\n  let sanitizedNewValue;\n\n  try {\n    sanitizedNewValue = sanitize$4(type, _newValue, settings, value, path, store);\n  } catch (e) {\n    throw new ValueError(`The value \\`${newValue}\\` did not result in a correct value.`, value, e);\n  }\n\n  if (dequal(sanitizedNewValue, value)) {\n    throw new ValueError(`The value \\`${newValue}\\` did not result in a value update, which remained the same: \\`${value}\\`.\n        You can ignore this warning if this is the intended behavior.`, value);\n  }\n\n  return sanitizedNewValue;\n}\n\nconst debounce = (callback, wait, immediate = false) => {\n  let timeout = 0;\n  return function () {\n    const args = arguments;\n    const callNow = immediate && !timeout;\n\n    const next = () => callback.apply(this, args);\n\n    window.clearTimeout(timeout);\n    timeout = window.setTimeout(next, wait);\n    if (callNow) next();\n  };\n};\n\nconst multiplyStep = event => event.shiftKey ? 5 : event.altKey ? 1 / 5 : 1;\n\nconst _excluded$8 = [\"value\"],\n      _excluded2$2 = [\"min\", \"max\"];\nconst schema$3 = v => {\n  if (typeof v === 'number') return true;\n\n  if (typeof v === 'string') {\n    const _v = parseFloat(v);\n\n    if (isNaN(_v)) return false;\n    const suffix = v.substring(('' + _v).length).trim();\n    return suffix.length < 4;\n  }\n\n  return false;\n};\nconst sanitize$3 = (v, {\n  min: _min = -Infinity,\n  max: _max = Infinity,\n  suffix\n}) => {\n  const _v = parseFloat(v);\n\n  if (v === '' || isNaN(_v)) throw Error('Invalid number');\n  const f = clamp(_v, _min, _max);\n  return suffix ? f + suffix : f;\n};\nconst format$1 = (v, {\n  pad: _pad = 0,\n  suffix\n}) => {\n  const f = parseFloat(v).toFixed(_pad);\n  return suffix ? f + suffix : f;\n};\nconst normalize$2 = _ref => {\n  let {\n    value\n  } = _ref,\n      settings = _objectWithoutProperties(_ref, _excluded$8);\n\n  const {\n    min = -Infinity,\n    max = Infinity\n  } = settings,\n        _settings = _objectWithoutProperties(settings, _excluded2$2);\n\n  let _value = parseFloat(value);\n\n  const suffix = typeof value === 'string' ? value.substring(('' + _value).length) : undefined;\n  _value = clamp(_value, min, max);\n  let step = settings.step;\n\n  if (!step) {\n    if (Number.isFinite(min)) {\n      if (Number.isFinite(max)) step = +(Math.abs(max - min) / 100).toPrecision(1);else step = +(Math.abs(_value - min) / 100).toPrecision(1);\n    } else if (Number.isFinite(max)) step = +(Math.abs(max - _value) / 100).toPrecision(1);\n  }\n\n  const padStep = step ? getStep(step) * 10 : getStep(_value);\n  step = step || padStep / 10;\n  const pad = Math.round(clamp(Math.log10(1 / padStep), 0, 2));\n  return {\n    value: suffix ? _value + suffix : _value,\n    settings: _objectSpread2({\n      initialValue: _value,\n      step,\n      pad,\n      min,\n      max,\n      suffix\n    }, _settings)\n  };\n};\nconst sanitizeStep$1 = (v, {\n  step,\n  initialValue\n}) => {\n  const steps = Math.round((v - initialValue) / step);\n  return initialValue + steps * step;\n};\n\nvar props$3 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  schema: schema$3,\n  sanitize: sanitize$3,\n  format: format$1,\n  normalize: normalize$2,\n  sanitizeStep: sanitizeStep$1\n});\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nconst InputContext = createContext({});\nfunction useInputContext() {\n  return useContext(InputContext);\n}\nconst ThemeContext = createContext(null);\nconst StoreContext = createContext(null);\nconst PanelSettingsContext = createContext(null);\nfunction useStoreContext() {\n  return useContext(StoreContext);\n}\nfunction usePanelSettingsContext() {\n  return useContext(PanelSettingsContext);\n}\nfunction LevaStoreProvider({\n  children,\n  store\n}) {\n  return React.createElement(StoreContext.Provider, {\n    value: store\n  }, children);\n}\n\nconst getDefaultTheme = () => ({\n  colors: {\n    elevation1: '#292d39',\n    elevation2: '#181c20',\n    elevation3: '#373c4b',\n    accent1: '#0066dc',\n    accent2: '#007bff',\n    accent3: '#3c93ff',\n    highlight1: '#535760',\n    highlight2: '#8c92a4',\n    highlight3: '#fefefe',\n    vivid1: '#ffcc00',\n    folderWidgetColor: '$highlight2',\n    folderTextColor: '$highlight3',\n    toolTipBackground: '$highlight3',\n    toolTipText: '$elevation2'\n  },\n  radii: {\n    xs: '2px',\n    sm: '3px',\n    lg: '10px'\n  },\n  space: {\n    xs: '3px',\n    sm: '6px',\n    md: '10px',\n    rowGap: '7px',\n    colGap: '7px'\n  },\n  fonts: {\n    mono: `ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace`,\n    sans: `system-ui, sans-serif`\n  },\n  fontSizes: {\n    root: '11px',\n    toolTip: '$root'\n  },\n  sizes: {\n    rootWidth: '280px',\n    controlWidth: '160px',\n    numberInputMinWidth: '38px',\n    scrubberWidth: '8px',\n    scrubberHeight: '16px',\n    rowHeight: '24px',\n    folderTitleHeight: '20px',\n    checkboxSize: '16px',\n    joystickWidth: '100px',\n    joystickHeight: '100px',\n    colorPickerWidth: '$controlWidth',\n    colorPickerHeight: '100px',\n    imagePreviewWidth: '$controlWidth',\n    imagePreviewHeight: '100px',\n    monitorHeight: '60px',\n    titleBarHeight: '39px'\n  },\n  shadows: {\n    level1: '0 0 9px 0 #00000088',\n    level2: '0 4px 14px #00000033'\n  },\n  borderWidths: {\n    root: '0px',\n    input: '1px',\n    focus: '1px',\n    hover: '1px',\n    active: '1px',\n    folder: '1px'\n  },\n  fontWeights: {\n    label: 'normal',\n    folder: 'normal',\n    button: 'normal'\n  }\n});\n\nfunction createStateClass(value, options) {\n  const [borderColor, bgColor] = value.split(' ');\n  const css = {};\n\n  if (borderColor !== 'none') {\n    css.boxShadow = `${options.inset ? 'inset ' : ''}0 0 0 $borderWidths${[options.key]} $colors${borderColor !== 'default' && borderColor || options.borderColor}`;\n  }\n\n  if (bgColor) {\n    css.backgroundColor = bgColor;\n  }\n\n  return css;\n}\n\nconst utils = {\n  $inputStyle: () => value => createStateClass(value, {\n    key: '$input',\n    borderColor: '$highlight1',\n    inset: true\n  }),\n  $focusStyle: () => value => createStateClass(value, {\n    key: '$focus',\n    borderColor: '$accent2'\n  }),\n  $hoverStyle: () => value => createStateClass(value, {\n    key: '$hover',\n    borderColor: '$accent1',\n    inset: true\n  }),\n  $activeStyle: () => value => createStateClass(value, {\n    key: '$active',\n    borderColor: '$accent1',\n    inset: true\n  })\n};\nconst {\n  styled,\n  css,\n  createTheme,\n  globalCss,\n  keyframes\n} = createStitches({\n  prefix: 'leva',\n  theme: getDefaultTheme(),\n  utils: _objectSpread2(_objectSpread2({}, utils), {}, {\n    $flex: () => ({\n      display: 'flex',\n      alignItems: 'center'\n    }),\n    $flexCenter: () => ({\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center'\n    }),\n    $reset: () => ({\n      outline: 'none',\n      fontSize: 'inherit',\n      fontWeight: 'inherit',\n      color: 'inherit',\n      fontFamily: 'inherit',\n      border: 'none',\n      backgroundColor: 'transparent',\n      appearance: 'none'\n    }),\n    $draggable: () => ({\n      touchAction: 'none',\n      WebkitUserDrag: 'none',\n      userSelect: 'none'\n    }),\n    $focus: value => ({\n      '&:focus': utils.$focusStyle()(value)\n    }),\n    $focusWithin: value => ({\n      '&:focus-within': utils.$focusStyle()(value)\n    }),\n    $hover: value => ({\n      '&:hover': utils.$hoverStyle()(value)\n    }),\n    $active: value => ({\n      '&:active': utils.$activeStyle()(value)\n    })\n  })\n});\nconst globalStyles = globalCss({\n  '.leva__panel__dragged': {\n    WebkitUserDrag: 'none',\n    userSelect: 'none',\n    input: {\n      userSelect: 'none'\n    },\n    '*': {\n      cursor: 'ew-resize !important'\n    }\n  }\n});\n\nfunction mergeTheme(newTheme) {\n  const defaultTheme = getDefaultTheme();\n  if (!newTheme) return {\n    theme: defaultTheme,\n    className: ''\n  };\n  Object.keys(newTheme).forEach(key => {\n    Object.assign(defaultTheme[key], newTheme[key]);\n  });\n  const customTheme = createTheme(defaultTheme);\n  return {\n    theme: defaultTheme,\n    className: customTheme.className\n  };\n}\nfunction useTh(category, key) {\n  const {\n    theme\n  } = useContext(ThemeContext);\n\n  if (!(category in theme) || !(key in theme[category])) {\n    warn(LevaErrors.THEME_ERROR, category, key);\n    return '';\n  }\n\n  let _key = key;\n\n  while (true) {\n    let value = theme[category][_key];\n    if (typeof value === 'string' && value.charAt(0) === '$') _key = value.substr(1);else return value;\n  }\n}\n\nconst StyledInput = styled('input', {\n  $reset: '',\n  padding: '0 $sm',\n  width: 0,\n  minWidth: 0,\n  flex: 1,\n  height: '100%',\n  variants: {\n    levaType: {\n      number: {\n        textAlign: 'right'\n      }\n    },\n    as: {\n      textarea: {\n        padding: '$sm'\n      }\n    }\n  }\n});\nconst InnerLabel = styled('div', {\n  $draggable: '',\n  height: '100%',\n  $flexCenter: '',\n  position: 'relative',\n  padding: '0 $xs',\n  fontSize: '0.8em',\n  opacity: 0.8,\n  cursor: 'default',\n  touchAction: 'none',\n  [`& + ${StyledInput}`]: {\n    paddingLeft: 0\n  }\n});\nconst InnerNumberLabel = styled(InnerLabel, {\n  cursor: 'ew-resize',\n  marginRight: '-$xs',\n  textTransform: 'uppercase',\n  opacity: 0.3,\n  '&:hover': {\n    opacity: 1\n  },\n  variants: {\n    dragging: {\n      true: {\n        backgroundColor: '$accent2',\n        opacity: 1\n      }\n    }\n  }\n});\nconst InputContainer = styled('div', {\n  $flex: '',\n  position: 'relative',\n  borderRadius: '$sm',\n  overflow: 'hidden',\n  color: 'inherit',\n  height: '$rowHeight',\n  backgroundColor: '$elevation3',\n  $inputStyle: '$elevation1',\n  $hover: '',\n  $focusWithin: '',\n  variants: {\n    textArea: {\n      true: {\n        height: 'auto'\n      }\n    }\n  }\n});\n\nconst _excluded$7 = [\"innerLabel\", \"value\", \"onUpdate\", \"onChange\", \"onKeyDown\", \"type\", \"id\", \"inputType\", \"rows\"],\n      _excluded2$1 = [\"onUpdate\"];\nfunction ValueInput(_ref) {\n  let {\n    innerLabel,\n    value,\n    onUpdate,\n    onChange,\n    onKeyDown,\n    type,\n    id,\n    inputType = 'text',\n    rows = 0\n  } = _ref,\n      props = _objectWithoutProperties(_ref, _excluded$7);\n\n  const {\n    id: _id,\n    emitOnEditStart,\n    emitOnEditEnd,\n    disabled\n  } = useInputContext();\n  const inputId = id || _id;\n  const inputRef = useRef(null);\n  const isTextArea = rows > 0;\n  const asType = isTextArea ? 'textarea' : 'input';\n  const update = useCallback(fn => event => {\n    const _value = event.currentTarget.value;\n    fn(_value);\n  }, []);\n  React.useEffect(() => {\n    const ref = inputRef.current;\n\n    const _onUpdate = update(value => {\n      onUpdate(value);\n      emitOnEditEnd();\n    });\n\n    ref === null || ref === void 0 ? void 0 : ref.addEventListener('blur', _onUpdate);\n    return () => ref === null || ref === void 0 ? void 0 : ref.removeEventListener('blur', _onUpdate);\n  }, [update, onUpdate, emitOnEditEnd]);\n  const onKeyPress = useCallback(event => {\n    if (event.key === 'Enter') {\n      update(onUpdate)(event);\n    }\n  }, [update, onUpdate]);\n  const inputProps = Object.assign({\n    as: asType\n  }, isTextArea ? {\n    rows\n  } : {}, props);\n  return React.createElement(InputContainer, {\n    textArea: isTextArea\n  }, innerLabel && typeof innerLabel === 'string' ? React.createElement(InnerLabel, null, innerLabel) : innerLabel, React.createElement(StyledInput, _extends({\n    levaType: type,\n    ref: inputRef,\n    id: inputId,\n    type: inputType,\n    autoComplete: \"off\",\n    spellCheck: \"false\",\n    value: value,\n    onChange: update(onChange),\n    onFocus: () => emitOnEditStart(),\n    onKeyPress: onKeyPress,\n    onKeyDown: onKeyDown,\n    disabled: disabled\n  }, inputProps)));\n}\nfunction NumberInput(_ref2) {\n  let {\n    onUpdate\n  } = _ref2,\n      props = _objectWithoutProperties(_ref2, _excluded2$1);\n\n  const _onUpdate = useCallback(v => onUpdate(parseNumber(v)), [onUpdate]);\n\n  const onKeyDown = useCallback(event => {\n    const dir = event.key === 'ArrowUp' ? 1 : event.key === 'ArrowDown' ? -1 : 0;\n\n    if (dir) {\n      event.preventDefault();\n      const step = event.altKey ? 0.1 : event.shiftKey ? 10 : 1;\n      onUpdate(v => parseFloat(v) + dir * step);\n    }\n  }, [onUpdate]);\n  return React.createElement(ValueInput, _extends({}, props, {\n    onUpdate: _onUpdate,\n    onKeyDown: onKeyDown,\n    type: \"number\"\n  }));\n}\n\nconst StyledFolder = styled('div', {});\nconst StyledWrapper = styled('div', {\n  position: 'relative',\n  background: '$elevation2',\n  transition: 'height 300ms ease',\n  variants: {\n    fill: {\n      true: {},\n      false: {}\n    },\n    flat: {\n      false: {},\n      true: {}\n    },\n    isRoot: {\n      true: {},\n      false: {\n        paddingLeft: '$md',\n        '&::after': {\n          content: '\"\"',\n          position: 'absolute',\n          left: 0,\n          top: 0,\n          width: '$borderWidths$folder',\n          height: '100%',\n          backgroundColor: '$folderWidgetColor',\n          opacity: 0.4,\n          transform: 'translateX(-50%)'\n        }\n      }\n    }\n  },\n  compoundVariants: [{\n    isRoot: true,\n    fill: false,\n    css: {\n      overflowY: 'auto',\n      maxHeight: 'calc(100vh - 20px - $$titleBarHeight)'\n    }\n  }, {\n    isRoot: true,\n    flat: false,\n    css: {\n      borderRadius: '$lg'\n    }\n  }]\n});\nconst StyledTitle = styled('div', {\n  $flex: '',\n  color: '$folderTextColor',\n  userSelect: 'none',\n  cursor: 'pointer',\n  height: '$folderTitleHeight',\n  fontWeight: '$folder',\n  '> svg': {\n    marginLeft: -4,\n    marginRight: 4,\n    cursor: 'pointer',\n    fill: '$folderWidgetColor',\n    opacity: 0.6\n  },\n  '&:hover > svg': {\n    fill: '$folderWidgetColor'\n  },\n  [`&:hover + ${StyledWrapper}::after`]: {\n    opacity: 0.6\n  },\n  [`${StyledFolder}:hover > & + ${StyledWrapper}::after`]: {\n    opacity: 0.6\n  },\n  [`${StyledFolder}:hover > & > svg`]: {\n    opacity: 1\n  }\n});\nconst StyledContent = styled('div', {\n  position: 'relative',\n  display: 'grid',\n  gridTemplateColumns: '100%',\n  rowGap: '$rowGap',\n  transition: 'opacity 250ms ease',\n  variants: {\n    toggled: {\n      true: {\n        opacity: 1,\n        transitionDelay: '250ms'\n      },\n      false: {\n        opacity: 0,\n        transitionDelay: '0ms',\n        pointerEvents: 'none'\n      }\n    },\n    isRoot: {\n      true: {\n        '& > div': {\n          paddingLeft: '$md',\n          paddingRight: '$md'\n        },\n        '& > div:first-of-type': {\n          paddingTop: '$sm'\n        },\n        '& > div:last-of-type': {\n          paddingBottom: '$sm'\n        },\n        [`> ${StyledFolder}:not(:first-of-type)`]: {\n          paddingTop: '$sm',\n          marginTop: '$md',\n          borderTop: '$borderWidths$folder solid $colors$elevation1'\n        }\n      }\n    }\n  }\n});\n\nconst StyledRow = styled('div', {\n  position: 'relative',\n  zIndex: 100,\n  display: 'grid',\n  rowGap: '$rowGap',\n  gridTemplateRows: 'minmax($sizes$rowHeight, max-content)',\n  alignItems: 'center',\n  color: '$highlight2',\n  [`${StyledContent} > &`]: {\n    '&:first-of-type': {\n      marginTop: '$rowGap'\n    },\n    '&:last-of-type': {\n      marginBottom: '$rowGap'\n    }\n  },\n  variants: {\n    disabled: {\n      true: {\n        pointerEvents: 'none'\n      },\n      false: {\n        '&:hover,&:focus-within': {\n          color: '$highlight3'\n        }\n      }\n    }\n  }\n});\nconst StyledInputRow = styled(StyledRow, {\n  gridTemplateColumns: 'auto $sizes$controlWidth',\n  columnGap: '$colGap'\n});\nconst CopyLabelContainer = styled('div', {\n  $flex: '',\n  height: '100%',\n  position: 'relative',\n  overflow: 'hidden',\n  '& > div': {\n    marginLeft: '$colGap',\n    padding: '0 $xs',\n    opacity: 0.4\n  },\n  '& > div:hover': {\n    opacity: 0.8\n  },\n  '& > div > svg': {\n    display: 'none',\n    cursor: 'pointer',\n    width: 13,\n    minWidth: 13,\n    height: 13,\n    backgroundColor: '$elevation2'\n  },\n  '&:hover > div > svg': {\n    display: 'block'\n  },\n  variants: {\n    align: {\n      top: {\n        height: '100%',\n        alignItems: 'flex-start',\n        paddingTop: '$sm'\n      }\n    }\n  }\n});\nconst StyledOptionalToggle = styled('input', {\n  $reset: '',\n  height: 0,\n  width: 0,\n  opacity: 0,\n  margin: 0,\n  '& + label': {\n    position: 'relative',\n    $flexCenter: '',\n    height: '100%',\n    userSelect: 'none',\n    cursor: 'pointer',\n    paddingLeft: 2,\n    paddingRight: '$sm',\n    pointerEvents: 'auto'\n  },\n  '& + label:after': {\n    content: '\"\"',\n    width: 6,\n    height: 6,\n    backgroundColor: '$elevation3',\n    borderRadius: '50%',\n    $activeStyle: ''\n  },\n  '&:focus + label:after': {\n    $focusStyle: ''\n  },\n  '& + label:active:after': {\n    backgroundColor: '$accent1',\n    $focusStyle: ''\n  },\n  '&:checked + label:after': {\n    backgroundColor: '$accent1'\n  }\n});\nconst StyledLabel = styled('label', {\n  fontWeight: '$label',\n  overflow: 'hidden',\n  textOverflow: 'ellipsis',\n  whiteSpace: 'nowrap',\n  '& > svg': {\n    display: 'block'\n  }\n});\nconst StyledInputWrapper$1 = styled('div', {\n  opacity: 1,\n  variants: {\n    disabled: {\n      true: {\n        opacity: 0.6,\n        pointerEvents: 'none',\n        [`& ${StyledLabel}`]: {\n          pointerEvents: 'auto'\n        }\n      }\n    }\n  }\n});\nconst Overlay = styled('div', {\n  position: 'fixed',\n  top: 0,\n  bottom: 0,\n  right: 0,\n  left: 0,\n  zIndex: 1000,\n  userSelect: 'none'\n});\nconst StyledToolTipContent = styled('div', {\n  background: '$toolTipBackground',\n  fontFamily: '$sans',\n  fontSize: '$toolTip',\n  padding: '$xs $sm',\n  color: '$toolTipText',\n  borderRadius: '$xs',\n  boxShadow: '$level2',\n  maxWidth: 260\n});\nconst ToolTipArrow = styled(Arrow, {\n  fill: '$toolTipBackground'\n});\n\nfunction Portal({\n  children\n}) {\n  const {\n    className\n  } = useContext(ThemeContext);\n  return React.createElement(P.Root, {\n    className: className\n  }, children);\n}\n\nconst _excluded$6 = [\"align\"];\n\nfunction OptionalToggle() {\n  const {\n    id,\n    disable,\n    disabled\n  } = useInputContext();\n  return React.createElement(React.Fragment, null, React.createElement(StyledOptionalToggle, {\n    id: id + '__disable',\n    type: \"checkbox\",\n    checked: !disabled,\n    onChange: () => disable(!disabled)\n  }), React.createElement(\"label\", {\n    htmlFor: id + '__disable'\n  }));\n}\n\nfunction RawLabel(props) {\n  const {\n    id,\n    optional,\n    hint\n  } = useInputContext();\n  const htmlFor = props.htmlFor || (id ? {\n    htmlFor: id\n  } : null);\n  const title = !hint && typeof props.children === 'string' ? {\n    title: props.children\n  } : null;\n  return React.createElement(React.Fragment, null, optional && React.createElement(OptionalToggle, null), hint !== undefined ? React.createElement(RadixTooltip.Root, null, React.createElement(RadixTooltip.Trigger, {\n    asChild: true\n  }, React.createElement(StyledLabel, _extends({}, htmlFor, props))), React.createElement(RadixTooltip.Content, {\n    side: \"top\",\n    sideOffset: 2\n  }, React.createElement(StyledToolTipContent, null, hint, React.createElement(ToolTipArrow, null)))) : React.createElement(StyledLabel, _extends({}, htmlFor, title, props)));\n}\n\nfunction Label(_ref) {\n  let {\n    align\n  } = _ref,\n      props = _objectWithoutProperties(_ref, _excluded$6);\n\n  const {\n    value,\n    label,\n    key,\n    disabled\n  } = useInputContext();\n  const {\n    hideCopyButton\n  } = usePanelSettingsContext();\n  const copyEnabled = !hideCopyButton && key !== undefined;\n  const [copied, setCopied] = useState(false);\n\n  const handleClick = async () => {\n    try {\n      await navigator.clipboard.writeText(JSON.stringify({\n        [key]: value !== null && value !== void 0 ? value : ''\n      }));\n      setCopied(true);\n    } catch (_unused) {\n      warn(LevaErrors.CLIPBOARD_ERROR, {\n        [key]: value\n      });\n    }\n  };\n\n  return React.createElement(CopyLabelContainer, {\n    align: align,\n    onPointerLeave: () => setCopied(false)\n  }, React.createElement(RawLabel, props), copyEnabled && !disabled && React.createElement(\"div\", {\n    title: `Click to copy ${typeof label === 'string' ? label : key} value`\n  }, !copied ? React.createElement(\"svg\", {\n    onClick: handleClick,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\"\n  }, React.createElement(\"path\", {\n    d: \"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\"\n  }), React.createElement(\"path\", {\n    d: \"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\"\n  })) : React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\"\n  }, React.createElement(\"path\", {\n    d: \"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z\"\n  }), React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\",\n    clipRule: \"evenodd\"\n  }))));\n}\n\nconst _excluded$5 = [\"toggled\"];\nconst Svg = styled('svg', {\n  fill: 'currentColor',\n  transition: 'transform 350ms ease, fill 250ms ease'\n});\nfunction Chevron(_ref) {\n  let {\n    toggled\n  } = _ref,\n      props = _objectWithoutProperties(_ref, _excluded$5);\n\n  return React.createElement(Svg, _extends({\n    width: \"9\",\n    height: \"5\",\n    viewBox: \"0 0 9 5\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    style: {\n      transform: `rotate(${toggled ? 0 : -90}deg)`\n    }\n  }, props), React.createElement(\"path\", {\n    d: \"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z\"\n  }));\n}\n\nconst _excluded$4 = [\"input\"];\nfunction Row(_ref) {\n  let {\n    input\n  } = _ref,\n      props = _objectWithoutProperties(_ref, _excluded$4);\n\n  if (input) return React.createElement(StyledInputRow, props);\n  return React.createElement(StyledRow, props);\n}\n\nfunction useInputSetters({\n  value,\n  type,\n  settings,\n  setValue\n}) {\n  const [displayValue, setDisplayValue] = useState(format$2(type, value, settings));\n  const previousValueRef = useRef(value);\n  const settingsRef = useRef(settings);\n  settingsRef.current = settings;\n  const setFormat = useCallback(v => setDisplayValue(format$2(type, v, settingsRef.current)), [type]);\n  const onUpdate = useCallback(updatedValue => {\n    try {\n      setValue(updatedValue);\n    } catch (error) {\n      const {\n        type,\n        previousValue\n      } = error;\n      if (type !== 'LEVA_ERROR') throw error;\n      setFormat(previousValue);\n    }\n  }, [setFormat, setValue]);\n  useEffect(() => {\n    if (!dequal(value, previousValueRef.current)) {\n      setFormat(value);\n    }\n\n    previousValueRef.current = value;\n  }, [value, setFormat]);\n  return {\n    displayValue,\n    onChange: setDisplayValue,\n    onUpdate\n  };\n}\n\nfunction useDrag(handler, config) {\n  const {\n    emitOnEditStart,\n    emitOnEditEnd\n  } = useInputContext();\n  return useDrag$1(state => {\n    if (state.first) {\n      document.body.classList.add('leva__panel__dragged');\n      emitOnEditStart === null || emitOnEditStart === void 0 ? void 0 : emitOnEditStart();\n    }\n\n    const result = handler(state);\n\n    if (state.last) {\n      document.body.classList.remove('leva__panel__dragged');\n      emitOnEditEnd === null || emitOnEditEnd === void 0 ? void 0 : emitOnEditEnd();\n    }\n\n    return result;\n  }, config);\n}\n\nfunction useCanvas2d(fn) {\n  const canvas = useRef(null);\n  const ctx = useRef(null);\n  const hasFired = useRef(false);\n  useEffect(() => {\n    const handleCanvas = debounce(() => {\n      canvas.current.width = canvas.current.offsetWidth * window.devicePixelRatio;\n      canvas.current.height = canvas.current.offsetHeight * window.devicePixelRatio;\n      fn(canvas.current, ctx.current);\n    }, 250);\n    window.addEventListener('resize', handleCanvas);\n\n    if (!hasFired.current) {\n      handleCanvas();\n      hasFired.current = true;\n    }\n\n    return () => window.removeEventListener('resize', handleCanvas);\n  }, [fn]);\n  useEffect(() => {\n    ctx.current = canvas.current.getContext('2d');\n  }, []);\n  return [canvas, ctx];\n}\n\nfunction useTransform() {\n  const ref = useRef(null);\n  const local = useRef({\n    x: 0,\n    y: 0\n  });\n  const set = useCallback(point => {\n    Object.assign(local.current, point);\n    if (ref.current) ref.current.style.transform = `translate3d(${local.current.x}px, ${local.current.y}px, 0)`;\n  }, []);\n  return [ref, set];\n}\n\nconst _excluded$3 = [\"__refCount\"];\n\nconst getInputAtPath = (data, path) => {\n  if (!data[path]) return null;\n\n  const _data$path = data[path],\n        input = _objectWithoutProperties(_data$path, _excluded$3);\n\n  return input;\n};\n\nfunction useInput(path) {\n  const store = useStoreContext();\n  const [state, setState] = useState(getInputAtPath(store.getData(), path));\n  const set = useCallback(value => store.setValueAtPath(path, value, true), [path, store]);\n  const setSettings = useCallback(settings => store.setSettingsAtPath(path, settings), [path, store]);\n  const disable = useCallback(flag => store.disableInputAtPath(path, flag), [path, store]);\n  const emitOnEditStart = useCallback(() => store.emitOnEditStart(path), [path, store]);\n  const emitOnEditEnd = useCallback(() => store.emitOnEditEnd(path), [path, store]);\n  useEffect(() => {\n    setState(getInputAtPath(store.getData(), path));\n    const unsub = store.useStore.subscribe(s => getInputAtPath(s.data, path), setState, {\n      equalityFn: shallow\n    });\n    return () => unsub();\n  }, [store, path]);\n  return [state, {\n    set,\n    setSettings,\n    disable,\n    storeId: store.storeId,\n    emitOnEditStart,\n    emitOnEditEnd\n  }];\n}\n\nconst RangeGrid = styled('div', {\n  variants: {\n    hasRange: {\n      true: {\n        position: 'relative',\n        display: 'grid',\n        gridTemplateColumns: 'auto $sizes$numberInputMinWidth',\n        columnGap: '$colGap',\n        alignItems: 'center'\n      }\n    }\n  }\n});\n\nconst Range = styled('div', {\n  position: 'relative',\n  width: '100%',\n  height: 2,\n  borderRadius: '$xs',\n  backgroundColor: '$elevation1'\n});\nconst Scrubber = styled('div', {\n  position: 'absolute',\n  width: '$scrubberWidth',\n  height: '$scrubberHeight',\n  borderRadius: '$xs',\n  boxShadow: '0 0 0 2px $colors$elevation2',\n  backgroundColor: '$accent2',\n  cursor: 'pointer',\n  $active: 'none $accent1',\n  $hover: 'none $accent3',\n  variants: {\n    position: {\n      left: {\n        borderTopRightRadius: 0,\n        borderBottomRightRadius: 0,\n        transform: 'translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))'\n      },\n      right: {\n        borderTopLeftRadius: 0,\n        borderBottomLeftRadius: 0,\n        transform: 'translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))'\n      }\n    }\n  }\n});\nconst RangeWrapper = styled('div', {\n  position: 'relative',\n  $flex: '',\n  height: '100%',\n  cursor: 'pointer',\n  touchAction: 'none'\n});\nconst Indicator = styled('div', {\n  position: 'absolute',\n  height: '100%',\n  backgroundColor: '$accent2'\n});\n\nfunction RangeSlider({\n  value,\n  min,\n  max,\n  onDrag,\n  step,\n  initialValue\n}) {\n  const ref = useRef(null);\n  const scrubberRef = useRef(null);\n  const rangeWidth = useRef(0);\n  const scrubberWidth = useTh('sizes', 'scrubberWidth');\n  const bind = useDrag(({\n    event,\n    first,\n    xy: [x],\n    movement: [mx],\n    memo\n  }) => {\n    if (first) {\n      const {\n        width,\n        left\n      } = ref.current.getBoundingClientRect();\n      rangeWidth.current = width - parseFloat(scrubberWidth);\n      const targetIsScrub = (event === null || event === void 0 ? void 0 : event.target) === scrubberRef.current;\n      memo = targetIsScrub ? value : invertedRange((x - left) / width, min, max);\n    }\n\n    const newValue = memo + invertedRange(mx / rangeWidth.current, 0, max - min);\n    onDrag(sanitizeStep$1(newValue, {\n      step,\n      initialValue\n    }));\n    return memo;\n  });\n  const pos = range(value, min, max);\n  return React.createElement(RangeWrapper, _extends({\n    ref: ref\n  }, bind()), React.createElement(Range, null, React.createElement(Indicator, {\n    style: {\n      left: 0,\n      right: `${(1 - pos) * 100}%`\n    }\n  })), React.createElement(Scrubber, {\n    ref: scrubberRef,\n    style: {\n      left: `calc(${pos} * (100% - ${scrubberWidth}))`\n    }\n  }));\n}\n\nconst DraggableLabel = React.memo(({\n  label,\n  onUpdate,\n  step,\n  innerLabelTrim\n}) => {\n  const [dragging, setDragging] = useState(false);\n  const bind = useDrag(({\n    active,\n    delta: [dx],\n    event,\n    memo: _memo = 0\n  }) => {\n    setDragging(active);\n    _memo += dx / 2;\n\n    if (Math.abs(_memo) >= 1) {\n      onUpdate(v => parseFloat(v) + Math.floor(_memo) * step * multiplyStep(event));\n      _memo = 0;\n    }\n\n    return _memo;\n  });\n  return React.createElement(InnerNumberLabel, _extends({\n    dragging: dragging,\n    title: label.length > 1 ? label : ''\n  }, bind()), label.slice(0, innerLabelTrim));\n});\nfunction Number$1({\n  label,\n  id,\n  displayValue,\n  onUpdate,\n  onChange,\n  settings,\n  innerLabelTrim = 1\n}) {\n  const InnerLabel = innerLabelTrim > 0 && React.createElement(DraggableLabel, {\n    label: label,\n    step: settings.step,\n    onUpdate: onUpdate,\n    innerLabelTrim: innerLabelTrim\n  });\n  return React.createElement(NumberInput, {\n    id: id,\n    value: String(displayValue),\n    onUpdate: onUpdate,\n    onChange: onChange,\n    innerLabel: InnerLabel\n  });\n}\nfunction NumberComponent() {\n  const props = useInputContext();\n  const {\n    label,\n    value,\n    onUpdate,\n    settings,\n    id\n  } = props;\n  const {\n    min,\n    max\n  } = settings;\n  const hasRange = max !== Infinity && min !== -Infinity;\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(RangeGrid, {\n    hasRange: hasRange\n  }, hasRange && React.createElement(RangeSlider, _extends({\n    value: parseFloat(value),\n    onDrag: onUpdate\n  }, settings)), React.createElement(Number$1, _extends({}, props, {\n    id: id,\n    label: \"value\",\n    innerLabelTrim: hasRange ? 0 : 1\n  }))));\n}\n\nconst {\n  sanitizeStep\n} = props$3,\n      rest = _objectWithoutProperties(props$3, [\"sanitizeStep\"]);\nvar number = createInternalPlugin(_objectSpread2({\n  component: NumberComponent\n}, rest));\n\nconst schema$2 = (_o, s) => v8n().schema({\n  options: v8n().passesAnyOf(v8n().object(), v8n().array())\n}).test(s);\nconst sanitize$2 = (value, {\n  values\n}) => {\n  if (values.indexOf(value) < 0) throw Error(`Selected value doesn't match Select options`);\n  return value;\n};\nconst format = (value, {\n  values\n}) => {\n  return values.indexOf(value);\n};\nconst normalize$1 = input => {\n  let {\n    value,\n    options\n  } = input;\n  let keys;\n  let values;\n\n  if (Array.isArray(options)) {\n    values = options;\n    keys = options.map(o => String(o));\n  } else {\n    values = Object.values(options);\n    keys = Object.keys(options);\n  }\n\n  if (!('value' in input)) value = values[0];else if (!values.includes(value)) {\n    keys.unshift(String(value));\n    values.unshift(value);\n  }\n  if (!Object.values(options).includes(value)) options[String(value)] = value;\n  return {\n    value,\n    settings: {\n      keys,\n      values\n    }\n  };\n};\n\nvar props$2 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  schema: schema$2,\n  sanitize: sanitize$2,\n  format: format,\n  normalize: normalize$1\n});\n\nconst SelectContainer = styled('div', {\n  $flexCenter: '',\n  position: 'relative',\n  '> svg': {\n    pointerEvents: 'none',\n    position: 'absolute',\n    right: '$md'\n  }\n});\nconst NativeSelect = styled('select', {\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  width: '100%',\n  height: '100%',\n  opacity: 0\n});\nconst PresentationalSelect = styled('div', {\n  display: 'flex',\n  alignItems: 'center',\n  width: '100%',\n  height: '$rowHeight',\n  backgroundColor: '$elevation3',\n  borderRadius: '$sm',\n  padding: '0 $sm',\n  cursor: 'pointer',\n  [`${NativeSelect}:focus + &`]: {\n    $focusStyle: ''\n  },\n  [`${NativeSelect}:hover + &`]: {\n    $hoverStyle: ''\n  }\n});\n\nfunction Select({\n  displayValue,\n  value,\n  onUpdate,\n  id,\n  settings,\n  disabled\n}) {\n  const {\n    keys,\n    values\n  } = settings;\n  const lastDisplayedValue = useRef();\n\n  if (value === values[displayValue]) {\n    lastDisplayedValue.current = keys[displayValue];\n  }\n\n  return React.createElement(SelectContainer, null, React.createElement(NativeSelect, {\n    id: id,\n    value: displayValue,\n    onChange: e => onUpdate(values[Number(e.currentTarget.value)]),\n    disabled: disabled\n  }, keys.map((key, index) => React.createElement(\"option\", {\n    key: key,\n    value: index\n  }, key))), React.createElement(PresentationalSelect, null, lastDisplayedValue.current), React.createElement(Chevron, {\n    toggled: true\n  }));\n}\nfunction SelectComponent() {\n  const {\n    label,\n    value,\n    displayValue,\n    onUpdate,\n    id,\n    disabled,\n    settings\n  } = useInputContext();\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(Select, {\n    id: id,\n    value: value,\n    displayValue: displayValue,\n    onUpdate: onUpdate,\n    settings: settings,\n    disabled: disabled\n  }));\n}\n\nvar select = createInternalPlugin(_objectSpread2({\n  component: SelectComponent\n}, props$2));\n\nconst schema$1 = o => v8n().string().test(o);\nconst sanitize$1 = v => {\n  if (typeof v !== 'string') throw Error(`Invalid string`);\n  return v;\n};\nconst normalize = ({\n  value,\n  editable: _editable = true,\n  rows: _rows = false\n}) => {\n  return {\n    value,\n    settings: {\n      editable: _editable,\n      rows: typeof _rows === 'number' ? _rows : _rows ? 5 : 0\n    }\n  };\n};\n\nvar props$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  schema: schema$1,\n  sanitize: sanitize$1,\n  normalize: normalize\n});\n\nconst _excluded$2 = [\"displayValue\", \"onUpdate\", \"onChange\", \"editable\"];\nconst NonEditableString = styled('div', {\n  whiteSpace: 'pre-wrap'\n});\nfunction String$1(_ref) {\n  let {\n    displayValue,\n    onUpdate,\n    onChange,\n    editable = true\n  } = _ref,\n      props = _objectWithoutProperties(_ref, _excluded$2);\n\n  if (editable) return React.createElement(ValueInput, _extends({\n    value: displayValue,\n    onUpdate: onUpdate,\n    onChange: onChange\n  }, props));\n  return React.createElement(NonEditableString, null, displayValue);\n}\nfunction StringComponent() {\n  const {\n    label,\n    settings,\n    displayValue,\n    onUpdate,\n    onChange\n  } = useInputContext();\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(String$1, _extends({\n    displayValue: displayValue,\n    onUpdate: onUpdate,\n    onChange: onChange\n  }, settings)));\n}\n\nvar string = createInternalPlugin(_objectSpread2({\n  component: StringComponent\n}, props$1));\n\nconst schema = o => v8n().boolean().test(o);\nconst sanitize = v => {\n  if (typeof v !== 'boolean') throw Error('Invalid boolean');\n  return v;\n};\n\nvar props = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  schema: schema,\n  sanitize: sanitize\n});\n\nconst StyledInputWrapper = styled('div', {\n  position: 'relative',\n  $flex: '',\n  height: '$rowHeight',\n  input: {\n    $reset: '',\n    height: 0,\n    width: 0,\n    opacity: 0,\n    margin: 0\n  },\n  label: {\n    position: 'relative',\n    $flexCenter: '',\n    userSelect: 'none',\n    cursor: 'pointer',\n    height: '$checkboxSize',\n    width: '$checkboxSize',\n    backgroundColor: '$elevation3',\n    borderRadius: '$sm',\n    $hover: ''\n  },\n  'input:focus + label': {\n    $focusStyle: ''\n  },\n  'input:focus:checked + label, input:checked + label:hover': {\n    $hoverStyle: '$accent3'\n  },\n  'input + label:active': {\n    backgroundColor: '$accent1'\n  },\n  'input:checked + label:active': {\n    backgroundColor: '$accent1'\n  },\n  'label > svg': {\n    display: 'none',\n    width: '90%',\n    height: '90%',\n    stroke: '$highlight3'\n  },\n  'input:checked + label': {\n    backgroundColor: '$accent2'\n  },\n  'input:checked + label > svg': {\n    display: 'block'\n  }\n});\n\nfunction Boolean({\n  value,\n  onUpdate,\n  id,\n  disabled\n}) {\n  return React.createElement(StyledInputWrapper, null, React.createElement(\"input\", {\n    id: id,\n    type: \"checkbox\",\n    checked: value,\n    onChange: e => onUpdate(e.currentTarget.checked),\n    disabled: disabled\n  }), React.createElement(\"label\", {\n    htmlFor: id\n  }, React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\"\n  }, React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    d: \"M5 13l4 4L19 7\"\n  }))));\n}\nfunction BooleanComponent() {\n  const {\n    label,\n    value,\n    onUpdate,\n    disabled,\n    id\n  } = useInputContext();\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(Boolean, {\n    value: value,\n    onUpdate: onUpdate,\n    id: id,\n    disabled: disabled\n  }));\n}\n\nvar boolean = createInternalPlugin(_objectSpread2({\n  component: BooleanComponent\n}, props));\n\nconst _excluded$1 = [\"locked\"];\n\nfunction Coordinate({\n  value,\n  id,\n  valueKey,\n  settings,\n  onUpdate,\n  innerLabelTrim\n}) {\n  const valueRef = useRef(value[valueKey]);\n  valueRef.current = value[valueKey];\n  const setValue = useCallback(newValue => onUpdate({\n    [valueKey]: sanitizeValue({\n      type: 'NUMBER',\n      value: valueRef.current,\n      settings\n    }, newValue)\n  }), [onUpdate, settings, valueKey]);\n  const number = useInputSetters({\n    type: 'NUMBER',\n    value: value[valueKey],\n    settings,\n    setValue\n  });\n  return React.createElement(Number$1, {\n    id: id,\n    label: valueKey,\n    value: value[valueKey],\n    displayValue: number.displayValue,\n    onUpdate: number.onUpdate,\n    onChange: number.onChange,\n    settings: settings,\n    innerLabelTrim: innerLabelTrim\n  });\n}\n\nconst Container = styled('div', {\n  display: 'grid',\n  columnGap: '$colGap',\n  gridAutoFlow: 'column dense',\n  alignItems: 'center',\n  variants: {\n    withLock: {\n      true: {\n        gridTemplateColumns: '10px auto',\n        '> svg': {\n          cursor: 'pointer'\n        }\n      }\n    }\n  }\n});\n\nfunction Lock(_ref) {\n  let {\n    locked\n  } = _ref,\n      props = _objectWithoutProperties(_ref, _excluded$1);\n\n  return React.createElement(\"svg\", _extends({\n    width: \"10\",\n    height: \"10\",\n    viewBox: \"0 0 15 15\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), locked ? React.createElement(\"path\", {\n    d: \"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z\",\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\"\n  }) : React.createElement(\"path\", {\n    d: \"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z\",\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\"\n  }));\n}\n\nfunction Vector({\n  value,\n  onUpdate,\n  settings,\n  innerLabelTrim\n}) {\n  const {\n    id,\n    setSettings\n  } = useInputContext();\n  const {\n    lock,\n    locked\n  } = settings;\n  return React.createElement(Container, {\n    withLock: lock\n  }, lock && React.createElement(Lock, {\n    locked: locked,\n    onClick: () => setSettings({\n      locked: !locked\n    })\n  }), Object.keys(value).map((key, i) => React.createElement(Coordinate, {\n    id: i === 0 ? id : `${id}.${key}`,\n    key: key,\n    valueKey: key,\n    value: value,\n    settings: settings[key],\n    onUpdate: onUpdate,\n    innerLabelTrim: innerLabelTrim\n  })));\n}\n\nconst normalizeKeyedNumberSettings = (value, settings) => {\n  const _settings = {};\n  let maxStep = 0;\n  let minPad = Infinity;\n  Object.entries(value).forEach(([key, v]) => {\n    _settings[key] = normalize$2(_objectSpread2({\n      value: v\n    }, settings[key])).settings;\n    maxStep = Math.max(maxStep, _settings[key].step);\n    minPad = Math.min(minPad, _settings[key].pad);\n  });\n\n  for (let key in _settings) {\n    const {\n      step,\n      min,\n      max\n    } = settings[key] || {};\n\n    if (!isFinite(step) && (!isFinite(min) || !isFinite(max))) {\n      _settings[key].step = maxStep;\n      _settings[key].pad = minPad;\n    }\n  }\n\n  return _settings;\n};\n\nconst _excluded = [\"lock\"],\n      _excluded2 = [\"value\"];\nfunction getVectorSchema(dimension) {\n  const isVectorArray = v8n().array().length(dimension).every.number();\n\n  const isVectorObject = o => {\n    if (!o || typeof o !== 'object') return false;\n    const values = Object.values(o);\n    return values.length === dimension && values.every(v => isFinite(v));\n  };\n\n  return o => {\n    return isVectorArray.test(o) || isVectorObject(o);\n  };\n}\nfunction getVectorType(value) {\n  return Array.isArray(value) ? 'array' : 'object';\n}\n\nfunction convert(value, format, keys) {\n  if (getVectorType(value) === format) return value;\n  return format === 'array' ? Object.values(value) : mapArrayToKeys(value, keys);\n}\n\nconst sanitizeVector = (value, settings, previousValue) => {\n  const _value = convert(value, 'object', settings.keys);\n\n  for (let key in _value) _value[key] = sanitize$3(_value[key], settings[key]);\n\n  const _valueKeys = Object.keys(_value);\n\n  let newValue = {};\n  if (_valueKeys.length === settings.keys.length) newValue = _value;else {\n    const _previousValue = convert(previousValue, 'object', settings.keys);\n\n    if (_valueKeys.length === 1 && settings.locked) {\n      const lockedKey = _valueKeys[0];\n      const lockedCoordinate = _value[lockedKey];\n      const previousLockedCoordinate = _previousValue[lockedKey];\n      const ratio = previousLockedCoordinate !== 0 ? lockedCoordinate / previousLockedCoordinate : 1;\n\n      for (let key in _previousValue) {\n        if (key === lockedKey) newValue[lockedKey] = lockedCoordinate;else newValue[key] = _previousValue[key] * ratio;\n      }\n    } else {\n      newValue = _objectSpread2(_objectSpread2({}, _previousValue), _value);\n    }\n  }\n  return convert(newValue, settings.format, settings.keys);\n};\nconst formatVector = (value, settings) => convert(value, 'object', settings.keys);\n\nconst isNumberSettings = o => !!o && ('step' in o || 'min' in o || 'max' in o);\n\nfunction normalizeVector(value, settings, defaultKeys = []) {\n  const {\n    lock = false\n  } = settings,\n        _settings = _objectWithoutProperties(settings, _excluded);\n\n  const format = Array.isArray(value) ? 'array' : 'object';\n  const keys = format === 'object' ? Object.keys(value) : defaultKeys;\n\n  const _value = convert(value, 'object', keys);\n\n  const mergedSettings = isNumberSettings(_settings) ? keys.reduce((acc, k) => Object.assign(acc, {\n    [k]: _settings\n  }), {}) : _settings;\n  const numberSettings = normalizeKeyedNumberSettings(_value, mergedSettings);\n  return {\n    value: format === 'array' ? value : _value,\n    settings: _objectSpread2(_objectSpread2({}, numberSettings), {}, {\n      format,\n      keys,\n      lock,\n      locked: false\n    })\n  };\n}\nfunction getVectorPlugin(defaultKeys) {\n  return {\n    schema: getVectorSchema(defaultKeys.length),\n    normalize: _ref => {\n      let {\n        value\n      } = _ref,\n          settings = _objectWithoutProperties(_ref, _excluded2);\n\n      return normalizeVector(value, settings, defaultKeys);\n    },\n    format: (value, settings) => formatVector(value, settings),\n    sanitize: (value, settings, prevValue) => sanitizeVector(value, settings, prevValue)\n  };\n}\n\nexport { ThemeContext as $, StyledTitle as A, useInputSetters as B, Chevron as C, Plugins as D, InputContext as E, StyledInputWrapper$1 as F, useStoreContext as G, useCanvas2d as H, Indicator as I, useInput as J, log as K, Label as L, StyledWrapper as M, StyledContent as N, Overlay as O, Portal as P, StyledFolder as Q, Row as R, Scrubber as S, StyledInputRow as T, debounce as U, ValueInput as V, globalStyles as W, PanelSettingsContext as X, StoreContext as Y, mergeTheme as Z, _objectSpread2 as _, Vector as a, register as a0, LevaInputs as a1, select as a2, number as a3, string as a4, boolean as a5, LevaStoreProvider as a6, String$1 as a7, Number$1 as a8, Boolean as a9, Select as aa, InnerLabel as ab, pad as ac, evaluate as ad, createPlugin as ae, keyframes as af, getVectorSchema as ag, getVectorType as ah, sanitizeVector as ai, formatVector as aj, normalizeVector as ak, useTransform as b, createInternalPlugin as c, useTh as d, useDrag as e, _extends as f, getVectorPlugin as g, clamp as h, _objectWithoutProperties as i, invertedRange as j, sanitizeStep as k, RangeWrapper as l, multiplyStep as m, normalizeKeyedNumberSettings as n, omit as o, pick as p, Range as q, range as r, styled as s, getUid as t, useInputContext as u, SpecialInputs as v, warn as w, LevaErrors as x, updateInput as y, normalizeInput as z };\n","import * as React from 'react';\nimport { useCallbackRef } from '@radix-ui/react-use-callback-ref';\n\ntype UseControllableStateParams<T> = {\n  prop?: T | undefined;\n  defaultProp?: T | undefined;\n  onChange?: (state: T) => void;\n};\n\ntype SetStateFn<T> = (prevState?: T) => T;\n\nfunction useControllableState<T>({\n  prop,\n  defaultProp,\n  onChange = () => {},\n}: UseControllableStateParams<T>) {\n  const [uncontrolledProp, setUncontrolledProp] = useUncontrolledState({ defaultProp, onChange });\n  const isControlled = prop !== undefined;\n  const value = isControlled ? prop : uncontrolledProp;\n  const handleChange = useCallbackRef(onChange);\n\n  const setValue: React.Dispatch<React.SetStateAction<T | undefined>> = React.useCallback(\n    (nextValue) => {\n      if (isControlled) {\n        const setter = nextValue as SetStateFn<T>;\n        const value = typeof nextValue === 'function' ? setter(prop) : nextValue;\n        if (value !== prop) handleChange(value as T);\n      } else {\n        setUncontrolledProp(nextValue);\n      }\n    },\n    [isControlled, prop, setUncontrolledProp, handleChange]\n  );\n\n  return [value, setValue] as const;\n}\n\nfunction useUncontrolledState<T>({\n  defaultProp,\n  onChange,\n}: Omit<UseControllableStateParams<T>, 'prop'>) {\n  const uncontrolledState = React.useState<T | undefined>(defaultProp);\n  const [value] = uncontrolledState;\n  const prevValueRef = React.useRef(value);\n  const handleChange = useCallbackRef(onChange);\n\n  React.useEffect(() => {\n    if (prevValueRef.current !== value) {\n      handleChange(value as T);\n      prevValueRef.current = value;\n    }\n  }, [value, prevValueRef, handleChange]);\n\n  return uncontrolledState;\n}\n\nexport { useControllableState };\n","var r={grad:.9,turn:360,rad:360/(2*Math.PI)},t=function(r){return\"string\"==typeof r?r.length>0:\"number\"==typeof r},n=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*r)/n+0},e=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),r>n?n:r>t?r:t},u=function(r){return(r=isFinite(r)?r%360:0)>0?r:r+360},a=function(r){return{r:e(r.r,0,255),g:e(r.g,0,255),b:e(r.b,0,255),a:e(r.a)}},o=function(r){return{r:n(r.r),g:n(r.g),b:n(r.b),a:n(r.a,3)}},i=/^#([0-9a-f]{3,8})$/i,s=function(r){var t=r.toString(16);return t.length<2?\"0\"+t:t},h=function(r){var t=r.r,n=r.g,e=r.b,u=r.a,a=Math.max(t,n,e),o=a-Math.min(t,n,e),i=o?a===t?(n-e)/o:a===n?2+(e-t)/o:4+(t-n)/o:0;return{h:60*(i<0?i+6:i),s:a?o/a*100:0,v:a/255*100,a:u}},b=function(r){var t=r.h,n=r.s,e=r.v,u=r.a;t=t/360*6,n/=100,e/=100;var a=Math.floor(t),o=e*(1-n),i=e*(1-(t-a)*n),s=e*(1-(1-t+a)*n),h=a%6;return{r:255*[e,i,o,o,s,e][h],g:255*[s,e,e,i,o,o][h],b:255*[o,o,s,e,e,i][h],a:u}},g=function(r){return{h:u(r.h),s:e(r.s,0,100),l:e(r.l,0,100),a:e(r.a)}},d=function(r){return{h:n(r.h),s:n(r.s),l:n(r.l),a:n(r.a,3)}},f=function(r){return b((n=(t=r).s,{h:t.h,s:(n*=((e=t.l)<50?e:100-e)/100)>0?2*n/(e+n)*100:0,v:e+n,a:t.a}));var t,n,e},c=function(r){return{h:(t=h(r)).h,s:(u=(200-(n=t.s))*(e=t.v)/100)>0&&u<200?n*e/100/(u<=100?u:200-u)*100:0,l:u/2,a:t.a};var t,n,e,u},l=/^hsla?\\(\\s*([+-]?\\d*\\.?\\d+)(deg|rad|grad|turn)?\\s*,\\s*([+-]?\\d*\\.?\\d+)%\\s*,\\s*([+-]?\\d*\\.?\\d+)%\\s*(?:,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,p=/^hsla?\\(\\s*([+-]?\\d*\\.?\\d+)(deg|rad|grad|turn)?\\s+([+-]?\\d*\\.?\\d+)%\\s+([+-]?\\d*\\.?\\d+)%\\s*(?:\\/\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,v=/^rgba?\\(\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*(?:,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,m=/^rgba?\\(\\s*([+-]?\\d*\\.?\\d+)(%)?\\s+([+-]?\\d*\\.?\\d+)(%)?\\s+([+-]?\\d*\\.?\\d+)(%)?\\s*(?:\\/\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,y={string:[[function(r){var t=i.exec(r);return t?(r=t[1]).length<=4?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:4===r.length?n(parseInt(r[3]+r[3],16)/255,2):1}:6===r.length||8===r.length?{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16),a:8===r.length?n(parseInt(r.substr(6,2),16)/255,2):1}:null:null},\"hex\"],[function(r){var t=v.exec(r)||m.exec(r);return t?t[2]!==t[4]||t[4]!==t[6]?null:a({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},\"rgb\"],[function(t){var n=l.exec(t)||p.exec(t);if(!n)return null;var e,u,a=g({h:(e=n[1],u=n[2],void 0===u&&(u=\"deg\"),Number(e)*(r[u]||1)),s:Number(n[3]),l:Number(n[4]),a:void 0===n[5]?1:Number(n[5])/(n[6]?100:1)});return f(a)},\"hsl\"]],object:[[function(r){var n=r.r,e=r.g,u=r.b,o=r.a,i=void 0===o?1:o;return t(n)&&t(e)&&t(u)?a({r:Number(n),g:Number(e),b:Number(u),a:Number(i)}):null},\"rgb\"],[function(r){var n=r.h,e=r.s,u=r.l,a=r.a,o=void 0===a?1:a;if(!t(n)||!t(e)||!t(u))return null;var i=g({h:Number(n),s:Number(e),l:Number(u),a:Number(o)});return f(i)},\"hsl\"],[function(r){var n=r.h,a=r.s,o=r.v,i=r.a,s=void 0===i?1:i;if(!t(n)||!t(a)||!t(o))return null;var h=function(r){return{h:u(r.h),s:e(r.s,0,100),v:e(r.v,0,100),a:e(r.a)}}({h:Number(n),s:Number(a),v:Number(o),a:Number(s)});return b(h)},\"hsv\"]]},N=function(r,t){for(var n=0;n<t.length;n++){var e=t[n][0](r);if(e)return[e,t[n][1]]}return[null,void 0]},x=function(r){return\"string\"==typeof r?N(r.trim(),y.string):\"object\"==typeof r&&null!==r?N(r,y.object):[null,void 0]},I=function(r){return x(r)[1]},M=function(r,t){var n=c(r);return{h:n.h,s:e(n.s+100*t,0,100),l:n.l,a:n.a}},H=function(r){return(299*r.r+587*r.g+114*r.b)/1e3/255},$=function(r,t){var n=c(r);return{h:n.h,s:n.s,l:e(n.l+100*t,0,100),a:n.a}},j=function(){function r(r){this.parsed=x(r)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return r.prototype.isValid=function(){return null!==this.parsed},r.prototype.brightness=function(){return n(H(this.rgba),2)},r.prototype.isDark=function(){return H(this.rgba)<.5},r.prototype.isLight=function(){return H(this.rgba)>=.5},r.prototype.toHex=function(){return r=o(this.rgba),t=r.r,e=r.g,u=r.b,i=(a=r.a)<1?s(n(255*a)):\"\",\"#\"+s(t)+s(e)+s(u)+i;var r,t,e,u,a,i},r.prototype.toRgb=function(){return o(this.rgba)},r.prototype.toRgbString=function(){return r=o(this.rgba),t=r.r,n=r.g,e=r.b,(u=r.a)<1?\"rgba(\"+t+\", \"+n+\", \"+e+\", \"+u+\")\":\"rgb(\"+t+\", \"+n+\", \"+e+\")\";var r,t,n,e,u},r.prototype.toHsl=function(){return d(c(this.rgba))},r.prototype.toHslString=function(){return r=d(c(this.rgba)),t=r.h,n=r.s,e=r.l,(u=r.a)<1?\"hsla(\"+t+\", \"+n+\"%, \"+e+\"%, \"+u+\")\":\"hsl(\"+t+\", \"+n+\"%, \"+e+\"%)\";var r,t,n,e,u},r.prototype.toHsv=function(){return r=h(this.rgba),{h:n(r.h),s:n(r.s),v:n(r.v),a:n(r.a,3)};var r},r.prototype.invert=function(){return w({r:255-(r=this.rgba).r,g:255-r.g,b:255-r.b,a:r.a});var r},r.prototype.saturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,r))},r.prototype.desaturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,-r))},r.prototype.grayscale=function(){return w(M(this.rgba,-1))},r.prototype.lighten=function(r){return void 0===r&&(r=.1),w($(this.rgba,r))},r.prototype.darken=function(r){return void 0===r&&(r=.1),w($(this.rgba,-r))},r.prototype.rotate=function(r){return void 0===r&&(r=15),this.hue(this.hue()+r)},r.prototype.alpha=function(r){return\"number\"==typeof r?w({r:(t=this.rgba).r,g:t.g,b:t.b,a:r}):n(this.rgba.a,3);var t},r.prototype.hue=function(r){var t=c(this.rgba);return\"number\"==typeof r?w({h:r,s:t.s,l:t.l,a:t.a}):n(t.h)},r.prototype.isEqual=function(r){return this.toHex()===w(r).toHex()},r}(),w=function(r){return r instanceof j?r:new j(r)},S=[],k=function(r){r.forEach(function(r){S.indexOf(r)<0&&(r(j,y),S.push(r))})},E=function(){return new j({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})};export{j as Colord,w as colord,k as extend,I as getFormat,E as random};\n","import { useRef } from \"react\";\n\n// Saves incoming handler to the ref in order to avoid \"useCallback hell\"\nexport function useEventCallback<T>(handler?: (value: T) => void): (value: T) => void {\n  const callbackRef = useRef(handler);\n  const fn = useRef((value: T) => {\n    callbackRef.current && callbackRef.current(value);\n  });\n  callbackRef.current = handler;\n\n  return fn.current;\n}\n","// Clamps a value between an upper and lower bound.\n// We use ternary operators because it makes the minified code\n// 2 times shorter then `Math.min(Math.max(a,b),c)`\nexport const clamp = (number: number, min = 0, max = 1): number => {\n  return number > max ? max : number < min ? min : number;\n};\n","import React, { useRef, useMemo, useEffect } from \"react\";\n\nimport { useEventCallback } from \"../../hooks/useEventCallback\";\nimport { clamp } from \"../../utils/clamp\";\n\nexport interface Interaction {\n  left: number;\n  top: number;\n}\n\n// Check if an event was triggered by touch\nconst isTouch = (event: MouseEvent | TouchEvent): event is TouchEvent => \"touches\" in event;\n\n// Finds a proper touch point by its identifier\nconst getTouchPoint = (touches: TouchList, touchId: null | number): Touch => {\n  for (let i = 0; i < touches.length; i++) {\n    if (touches[i].identifier === touchId) return touches[i];\n  }\n  return touches[0];\n};\n\n// Finds the proper window object to fix iframe embedding issues\nconst getParentWindow = (node?: HTMLDivElement | null): Window => {\n  return (node && node.ownerDocument.defaultView) || self;\n};\n\n// Returns a relative position of the pointer inside the node's bounding box\nconst getRelativePosition = (\n  node: HTMLDivElement,\n  event: MouseEvent | TouchEvent,\n  touchId: null | number\n): Interaction => {\n  const rect = node.getBoundingClientRect();\n\n  // Get user's pointer position from `touches` array if it's a `TouchEvent`\n  const pointer = isTouch(event) ? getTouchPoint(event.touches, touchId) : (event as MouseEvent);\n\n  return {\n    left: clamp((pointer.pageX - (rect.left + getParentWindow(node).pageXOffset)) / rect.width),\n    top: clamp((pointer.pageY - (rect.top + getParentWindow(node).pageYOffset)) / rect.height),\n  };\n};\n\n// Browsers introduced an intervention, making touch events passive by default.\n// This workaround removes `preventDefault` call from the touch handlers.\n// https://github.com/facebook/react/issues/19651\nconst preventDefaultMove = (event: MouseEvent | TouchEvent): void => {\n  !isTouch(event) && event.preventDefault();\n};\n\n// Prevent mobile browsers from handling mouse events (conflicting with touch ones).\n// If we detected a touch interaction before, we prefer reacting to touch events only.\nconst isInvalid = (event: MouseEvent | TouchEvent, hasTouch: boolean): boolean => {\n  return hasTouch && !isTouch(event);\n};\n\ninterface Props {\n  onMove: (interaction: Interaction) => void;\n  onKey: (offset: Interaction) => void;\n  children: React.ReactNode;\n}\n\nconst InteractiveBase = ({ onMove, onKey, ...rest }: Props) => {\n  const container = useRef<HTMLDivElement>(null);\n  const onMoveCallback = useEventCallback<Interaction>(onMove);\n  const onKeyCallback = useEventCallback<Interaction>(onKey);\n  const touchId = useRef<null | number>(null);\n  const hasTouch = useRef(false);\n\n  const [handleMoveStart, handleKeyDown, toggleDocumentEvents] = useMemo(() => {\n    const handleMoveStart = ({ nativeEvent }: React.MouseEvent | React.TouchEvent) => {\n      const el = container.current;\n      if (!el) return;\n\n      // Prevent text selection\n      preventDefaultMove(nativeEvent);\n\n      if (isInvalid(nativeEvent, hasTouch.current) || !el) return;\n\n      if (isTouch(nativeEvent)) {\n        hasTouch.current = true;\n        const changedTouches = nativeEvent.changedTouches || [];\n        if (changedTouches.length) touchId.current = changedTouches[0].identifier;\n      }\n\n      el.focus();\n      onMoveCallback(getRelativePosition(el, nativeEvent, touchId.current));\n      toggleDocumentEvents(true);\n    };\n\n    const handleMove = (event: MouseEvent | TouchEvent) => {\n      // Prevent text selection\n      preventDefaultMove(event);\n\n      // If user moves the pointer outside of the window or iframe bounds and release it there,\n      // `mouseup`/`touchend` won't be fired. In order to stop the picker from following the cursor\n      // after the user has moved the mouse/finger back to the document, we check `event.buttons`\n      // and `event.touches`. It allows us to detect that the user is just moving his pointer\n      // without pressing it down\n      const isDown = isTouch(event) ? event.touches.length > 0 : event.buttons > 0;\n\n      if (isDown && container.current) {\n        onMoveCallback(getRelativePosition(container.current, event, touchId.current));\n      } else {\n        toggleDocumentEvents(false);\n      }\n    };\n\n    const handleMoveEnd = () => toggleDocumentEvents(false);\n\n    const handleKeyDown = (event: React.KeyboardEvent) => {\n      const keyCode = event.which || event.keyCode;\n\n      // Ignore all keys except arrow ones\n      if (keyCode < 37 || keyCode > 40) return;\n      // Do not scroll page by arrow keys when document is focused on the element\n      event.preventDefault();\n      // Send relative offset to the parent component.\n      // We use codes (37, 38, 39, 40) instead of keys ('ArrowRight', 'ArrowDown', etc)\n      // to reduce the size of the library\n      onKeyCallback({\n        left: keyCode === 39 ? 0.05 : keyCode === 37 ? -0.05 : 0,\n        top: keyCode === 40 ? 0.05 : keyCode === 38 ? -0.05 : 0,\n      });\n    };\n\n    function toggleDocumentEvents(state?: boolean) {\n      const touch = hasTouch.current;\n      const el = container.current;\n      const parentWindow = getParentWindow(el);\n\n      // Add or remove additional pointer event listeners\n      const toggleEvent = state ? parentWindow.addEventListener : parentWindow.removeEventListener;\n      toggleEvent(touch ? \"touchmove\" : \"mousemove\", handleMove);\n      toggleEvent(touch ? \"touchend\" : \"mouseup\", handleMoveEnd);\n    }\n\n    return [handleMoveStart, handleKeyDown, toggleDocumentEvents];\n  }, [onKeyCallback, onMoveCallback]);\n\n  // Remove window event listeners before unmounting\n  useEffect(() => toggleDocumentEvents, [toggleDocumentEvents]);\n\n  return (\n    <div\n      {...rest}\n      onTouchStart={handleMoveStart}\n      onMouseDown={handleMoveStart}\n      className=\"react-colorful__interactive\"\n      ref={container}\n      onKeyDown={handleKeyDown}\n      tabIndex={0}\n      role=\"slider\"\n    />\n  );\n};\n\nexport const Interactive = React.memo(InteractiveBase);\n","export const formatClassName = (names: unknown[]): string => names.filter(Boolean).join(\" \");\n","import React from \"react\";\nimport { formatClassName } from \"../../utils/format\";\n\ninterface Props {\n  className?: string;\n  top?: number;\n  left: number;\n  color: string;\n}\n\nexport const Pointer = ({ className, color, left, top = 0.5 }: Props): JSX.Element => {\n  const nodeClassName = formatClassName([\"react-colorful__pointer\", className]);\n\n  const style = {\n    top: `${top * 100}%`,\n    left: `${left * 100}%`,\n  };\n\n  return (\n    <div className={nodeClassName} style={style}>\n      <div className=\"react-colorful__pointer-fill\" style={{ backgroundColor: color }} />\n    </div>\n  );\n};\n","export const round = (number: number, digits = 0, base = Math.pow(10, digits)): number => {\n  return Math.round(base * number) / base;\n};\n","import { round } from \"./round\";\nimport { RgbaColor, RgbColor, HslaColor, HslColor, HsvaColor, HsvColor } from \"../types\";\n\n/**\n * Valid CSS <angle> units.\n * https://developer.mozilla.org/en-US/docs/Web/CSS/angle\n */\nconst angleUnits: Record<string, number> = {\n  grad: 360 / 400,\n  turn: 360,\n  rad: 360 / (Math.PI * 2),\n};\n\nexport const hexToHsva = (hex: string): HsvaColor => rgbaToHsva(hexToRgba(hex));\n\nexport const hexToRgba = (hex: string): RgbaColor => {\n  if (hex[0] === \"#\") hex = hex.substr(1);\n\n  if (hex.length < 6) {\n    return {\n      r: parseInt(hex[0] + hex[0], 16),\n      g: parseInt(hex[1] + hex[1], 16),\n      b: parseInt(hex[2] + hex[2], 16),\n      a: 1,\n    };\n  }\n\n  return {\n    r: parseInt(hex.substr(0, 2), 16),\n    g: parseInt(hex.substr(2, 2), 16),\n    b: parseInt(hex.substr(4, 2), 16),\n    a: 1,\n  };\n};\n\nexport const parseHue = (value: string, unit = \"deg\"): number => {\n  return Number(value) * (angleUnits[unit] || 1);\n};\n\nexport const hslaStringToHsva = (hslString: string): HsvaColor => {\n  const matcher = /hsla?\\(?\\s*(-?\\d*\\.?\\d+)(deg|rad|grad|turn)?[,\\s]+(-?\\d*\\.?\\d+)%?[,\\s]+(-?\\d*\\.?\\d+)%?,?\\s*[/\\s]*(-?\\d*\\.?\\d+)?(%)?\\s*\\)?/i;\n  const match = matcher.exec(hslString);\n\n  if (!match) return { h: 0, s: 0, v: 0, a: 1 };\n\n  return hslaToHsva({\n    h: parseHue(match[1], match[2]),\n    s: Number(match[3]),\n    l: Number(match[4]),\n    a: match[5] === undefined ? 1 : Number(match[5]) / (match[6] ? 100 : 1),\n  });\n};\n\nexport const hslStringToHsva = hslaStringToHsva;\n\nexport const hslaToHsva = ({ h, s, l, a }: HslaColor): HsvaColor => {\n  s *= (l < 50 ? l : 100 - l) / 100;\n\n  return {\n    h: h,\n    s: s > 0 ? ((2 * s) / (l + s)) * 100 : 0,\n    v: l + s,\n    a,\n  };\n};\n\nexport const hsvaToHex = (hsva: HsvaColor): string => rgbaToHex(hsvaToRgba(hsva));\n\nexport const hsvaToHsla = ({ h, s, v, a }: HsvaColor): HslaColor => {\n  const hh = ((200 - s) * v) / 100;\n\n  return {\n    h: round(h),\n    s: round(hh > 0 && hh < 200 ? ((s * v) / 100 / (hh <= 100 ? hh : 200 - hh)) * 100 : 0),\n    l: round(hh / 2),\n    a: round(a, 2),\n  };\n};\n\nexport const hsvaToHslString = (hsva: HsvaColor): string => {\n  const { h, s, l } = hsvaToHsla(hsva);\n  return `hsl(${h}, ${s}%, ${l}%)`;\n};\n\nexport const hsvaToHsvString = (hsva: HsvaColor): string => {\n  const { h, s, v } = roundHsva(hsva);\n  return `hsv(${h}, ${s}%, ${v}%)`;\n};\n\nexport const hsvaToHsvaString = (hsva: HsvaColor): string => {\n  const { h, s, v, a } = roundHsva(hsva);\n  return `hsva(${h}, ${s}%, ${v}%, ${a})`;\n};\n\nexport const hsvaToHslaString = (hsva: HsvaColor): string => {\n  const { h, s, l, a } = hsvaToHsla(hsva);\n  return `hsla(${h}, ${s}%, ${l}%, ${a})`;\n};\n\nexport const hsvaToRgba = ({ h, s, v, a }: HsvaColor): RgbaColor => {\n  h = (h / 360) * 6;\n  s = s / 100;\n  v = v / 100;\n\n  const hh = Math.floor(h),\n    b = v * (1 - s),\n    c = v * (1 - (h - hh) * s),\n    d = v * (1 - (1 - h + hh) * s),\n    module = hh % 6;\n\n  return {\n    r: round([v, c, b, b, d, v][module] * 255),\n    g: round([d, v, v, c, b, b][module] * 255),\n    b: round([b, b, d, v, v, c][module] * 255),\n    a: round(a, 2),\n  };\n};\n\nexport const hsvaToRgbString = (hsva: HsvaColor): string => {\n  const { r, g, b } = hsvaToRgba(hsva);\n  return `rgb(${r}, ${g}, ${b})`;\n};\n\nexport const hsvaToRgbaString = (hsva: HsvaColor): string => {\n  const { r, g, b, a } = hsvaToRgba(hsva);\n  return `rgba(${r}, ${g}, ${b}, ${a})`;\n};\n\nexport const hsvaStringToHsva = (hsvString: string): HsvaColor => {\n  const matcher = /hsva?\\(?\\s*(-?\\d*\\.?\\d+)(deg|rad|grad|turn)?[,\\s]+(-?\\d*\\.?\\d+)%?[,\\s]+(-?\\d*\\.?\\d+)%?,?\\s*[/\\s]*(-?\\d*\\.?\\d+)?(%)?\\s*\\)?/i;\n  const match = matcher.exec(hsvString);\n\n  if (!match) return { h: 0, s: 0, v: 0, a: 1 };\n\n  return roundHsva({\n    h: parseHue(match[1], match[2]),\n    s: Number(match[3]),\n    v: Number(match[4]),\n    a: match[5] === undefined ? 1 : Number(match[5]) / (match[6] ? 100 : 1),\n  });\n};\n\nexport const hsvStringToHsva = hsvaStringToHsva;\n\nexport const rgbaStringToHsva = (rgbaString: string): HsvaColor => {\n  const matcher = /rgba?\\(?\\s*(-?\\d*\\.?\\d+)(%)?[,\\s]+(-?\\d*\\.?\\d+)(%)?[,\\s]+(-?\\d*\\.?\\d+)(%)?,?\\s*[/\\s]*(-?\\d*\\.?\\d+)?(%)?\\s*\\)?/i;\n  const match = matcher.exec(rgbaString);\n\n  if (!match) return { h: 0, s: 0, v: 0, a: 1 };\n\n  return rgbaToHsva({\n    r: Number(match[1]) / (match[2] ? 100 / 255 : 1),\n    g: Number(match[3]) / (match[4] ? 100 / 255 : 1),\n    b: Number(match[5]) / (match[6] ? 100 / 255 : 1),\n    a: match[7] === undefined ? 1 : Number(match[7]) / (match[8] ? 100 : 1),\n  });\n};\n\nexport const rgbStringToHsva = rgbaStringToHsva;\n\nconst format = (number: number) => {\n  const hex = number.toString(16);\n  return hex.length < 2 ? \"0\" + hex : hex;\n};\n\nexport const rgbaToHex = ({ r, g, b }: RgbaColor): string => {\n  return \"#\" + format(r) + format(g) + format(b);\n};\n\nexport const rgbaToHsva = ({ r, g, b, a }: RgbaColor): HsvaColor => {\n  const max = Math.max(r, g, b);\n  const delta = max - Math.min(r, g, b);\n\n  // prettier-ignore\n  const hh = delta\n    ? max === r\n      ? (g - b) / delta\n      : max === g\n        ? 2 + (b - r) / delta\n        : 4 + (r - g) / delta\n    : 0;\n\n  return {\n    h: round(60 * (hh < 0 ? hh + 6 : hh)),\n    s: round(max ? (delta / max) * 100 : 0),\n    v: round((max / 255) * 100),\n    a,\n  };\n};\n\nexport const roundHsva = (hsva: HsvaColor): HsvaColor => ({\n  h: round(hsva.h),\n  s: round(hsva.s),\n  v: round(hsva.v),\n  a: round(hsva.a, 2),\n});\n\nexport const rgbaToRgb = ({ r, g, b }: RgbaColor): RgbColor => ({ r, g, b });\n\nexport const hslaToHsl = ({ h, s, l }: HslaColor): HslColor => ({ h, s, l });\n\nexport const hsvaToHsv = (hsva: HsvaColor): HsvColor => {\n  const { h, s, v } = roundHsva(hsva);\n  return { h, s, v };\n};\n","import React from \"react\";\n\nimport { Interactive, Interaction } from \"./Interactive\";\nimport { Pointer } from \"./Pointer\";\n\nimport { hsvaToHslString } from \"../../utils/convert\";\nimport { formatClassName } from \"../../utils/format\";\nimport { clamp } from \"../../utils/clamp\";\nimport { round } from \"../../utils/round\";\n\ninterface Props {\n  className?: string;\n  hue: number;\n  onChange: (newHue: { h: number }) => void;\n}\n\nconst HueBase = ({ className, hue, onChange }: Props) => {\n  const handleMove = (interaction: Interaction) => {\n    onChange({ h: 360 * interaction.left });\n  };\n\n  const handleKey = (offset: Interaction) => {\n    // Hue measured in degrees of the color circle ranging from 0 to 360\n    onChange({\n      h: clamp(hue + offset.left * 360, 0, 360),\n    });\n  };\n\n  const nodeClassName = formatClassName([\"react-colorful__hue\", className]);\n\n  return (\n    <div className={nodeClassName}>\n      <Interactive\n        onMove={handleMove}\n        onKey={handleKey}\n        aria-label=\"Hue\"\n        aria-valuetext={round(hue)}\n      >\n        <Pointer\n          className=\"react-colorful__hue-pointer\"\n          left={hue / 360}\n          color={hsvaToHslString({ h: hue, s: 100, v: 100, a: 1 })}\n        />\n      </Interactive>\n    </div>\n  );\n};\n\nexport const Hue = React.memo(HueBase);\n","import React from \"react\";\nimport { Interactive, Interaction } from \"./Interactive\";\nimport { Pointer } from \"./Pointer\";\nimport { HsvaColor } from \"../../types\";\nimport { hsvaToHslString } from \"../../utils/convert\";\nimport { clamp } from \"../../utils/clamp\";\nimport { round } from \"../../utils/round\";\n\ninterface Props {\n  hsva: HsvaColor;\n  onChange: (newColor: { s: number; v: number }) => void;\n}\n\nconst SaturationBase = ({ hsva, onChange }: Props) => {\n  const handleMove = (interaction: Interaction) => {\n    onChange({\n      s: interaction.left * 100,\n      v: 100 - interaction.top * 100,\n    });\n  };\n\n  const handleKey = (offset: Interaction) => {\n    // Saturation and brightness always fit into [0, 100] range\n    onChange({\n      s: clamp(hsva.s + offset.left * 100, 0, 100),\n      v: clamp(hsva.v - offset.top * 100, 0, 100),\n    });\n  };\n\n  const containerStyle = {\n    backgroundColor: hsvaToHslString({ h: hsva.h, s: 100, v: 100, a: 1 }),\n  };\n\n  return (\n    <div className=\"react-colorful__saturation\" style={containerStyle}>\n      <Interactive\n        onMove={handleMove}\n        onKey={handleKey}\n        aria-label=\"Color\"\n        aria-valuetext={`Saturation ${round(hsva.s)}%, Brightness ${round(hsva.v)}%`}\n      >\n        <Pointer\n          className=\"react-colorful__saturation-pointer\"\n          top={1 - hsva.v / 100}\n          left={hsva.s / 100}\n          color={hsvaToHslString(hsva)}\n        />\n      </Interactive>\n    </div>\n  );\n};\n\nexport const Saturation = React.memo(SaturationBase);\n","import { hexToRgba } from \"./convert\";\nimport { ObjectColor } from \"../types\";\n\nexport const equalColorObjects = (first: ObjectColor, second: ObjectColor): boolean => {\n  if (first === second) return true;\n\n  for (const prop in first) {\n    // The following allows for a type-safe calling of this function (first & second have to be HSL, HSV, or RGB)\n    // with type-unsafe iterating over object keys. TS does not allow this without an index (`[key: string]: number`)\n    // on an object to define how iteration is normally done. To ensure extra keys are not allowed on our types,\n    // we must cast our object to unknown (as RGB demands `r` be a key, while `Record<string, x>` does not care if\n    // there is or not), and then as a type TS can iterate over.\n    if (\n      ((first as unknown) as Record<string, number>)[prop] !==\n      ((second as unknown) as Record<string, number>)[prop]\n    )\n      return false;\n  }\n\n  return true;\n};\n\nexport const equalColorString = (first: string, second: string): boolean => {\n  return first.replace(/\\s/g, \"\") === second.replace(/\\s/g, \"\");\n};\n\nexport const equalHex = (first: string, second: string): boolean => {\n  if (first.toLowerCase() === second.toLowerCase()) return true;\n\n  // To compare colors like `#FFF` and `ffffff` we convert them into RGB objects\n  return equalColorObjects(hexToRgba(first), hexToRgba(second));\n};\n","import { useState, useEffect, useCallback, useRef } from \"react\";\nimport { ColorModel, AnyColor, HsvaColor } from \"../types\";\nimport { equalColorObjects } from \"../utils/compare\";\nimport { useEventCallback } from \"./useEventCallback\";\n\nexport function useColorManipulation<T extends AnyColor>(\n  colorModel: ColorModel<T>,\n  color: T,\n  onChange?: (color: T) => void\n): [HsvaColor, (color: Partial<HsvaColor>) => void] {\n  // Save onChange callback in the ref for avoiding \"useCallback hell\"\n  const onChangeCallback = useEventCallback<T>(onChange);\n\n  // No matter which color model is used (HEX, RGB(A) or HSL(A)),\n  // all internal calculations are based on HSVA model\n  const [hsva, updateHsva] = useState<HsvaColor>(() => colorModel.toHsva(color));\n\n  // By using this ref we're able to prevent extra updates\n  // and the effects recursion during the color conversion\n  const cache = useRef({ color, hsva });\n\n  // Update local HSVA-value if `color` property value is changed,\n  // but only if that's not the same color that we just sent to the parent\n  useEffect(() => {\n    if (!colorModel.equal(color, cache.current.color)) {\n      const newHsva = colorModel.toHsva(color);\n      cache.current = { hsva: newHsva, color };\n      updateHsva(newHsva);\n    }\n  }, [color, colorModel]);\n\n  // Trigger `onChange` callback only if an updated color is different from cached one;\n  // save the new color to the ref to prevent unnecessary updates\n  useEffect(() => {\n    let newColor;\n    if (\n      !equalColorObjects(hsva, cache.current.hsva) &&\n      !colorModel.equal((newColor = colorModel.fromHsva(hsva)), cache.current.color)\n    ) {\n      cache.current = { hsva, color: newColor };\n      onChangeCallback(newColor);\n    }\n  }, [hsva, colorModel, onChangeCallback]);\n\n  // Merge the current HSVA color object with updated params.\n  // For example, when a child component sends `h` or `s` only\n  const handleChange = useCallback((params: Partial<HsvaColor>) => {\n    updateHsva((current) => Object.assign({}, current, params));\n  }, []);\n\n  return [hsva, handleChange];\n}\n","declare const __webpack_nonce__: string | undefined;\nlet nonce: string | undefined;\n\n/**\n * Returns a nonce hash included by Webpack or the one defined manually by developer.\n * https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/nonce\n * https://webpack.js.org/guides/csp/\n */\nexport const getNonce = (): string | undefined => {\n  if (nonce) return nonce;\n  if (typeof __webpack_nonce__ !== \"undefined\") return __webpack_nonce__;\n  return undefined;\n};\n\n/**\n * Signs the style tag with a base64-encoded string (nonce) to conforms to Content Security Policies.\n * This function has to be invoked before any picker is rendered if you aren't using Webpack for CSP.\n */\nexport const setNonce = (hash: string): void => {\n  nonce = hash;\n};\n","import { useLayoutEffect, useEffect } from \"react\";\n\n// React currently throws a warning when using useLayoutEffect on the server.\n// To get around it, we can conditionally useEffect on the server (no-op) and\n// useLayoutEffect in the browser.\nexport const useIsomorphicLayoutEffect =\n  typeof window !== \"undefined\" ? useLayoutEffect : useEffect;\n","import { RefObject } from \"react\";\n\nimport { useIsomorphicLayoutEffect } from \"./useIsomorphicLayoutEffect\";\nimport { getNonce } from \"../utils/nonce\";\n\n// Bundler is configured to load this as a processed minified CSS-string\nimport styles from \"../css/styles.css\";\n\nconst styleElementMap: Map<Document, HTMLStyleElement> = new Map();\n\n/**\n * Injects CSS code into the document's <head>\n */\nexport const useStyleSheet = (nodeRef: RefObject<HTMLDivElement>): void => {\n  useIsomorphicLayoutEffect(() => {\n    const parentDocument = nodeRef.current ? nodeRef.current.ownerDocument : document;\n\n    if (typeof parentDocument !== \"undefined\" && !styleElementMap.has(parentDocument)) {\n      const styleElement = parentDocument.createElement(\"style\");\n      styleElement.innerHTML = styles;\n      styleElementMap.set(parentDocument, styleElement);\n\n      // Conform to CSP rules by setting `nonce` attribute to the inline styles\n      const nonce = getNonce();\n      if (nonce) styleElement.setAttribute(\"nonce\", nonce);\n\n      parentDocument.head.appendChild(styleElement);\n    }\n  }, []);\n};\n","import React, { useRef } from \"react\";\n\nimport { Hue } from \"./Hue\";\nimport { Saturation } from \"./Saturation\";\n\nimport { ColorModel, ColorPickerBaseProps, AnyColor } from \"../../types\";\nimport { useColorManipulation } from \"../../hooks/useColorManipulation\";\nimport { useStyleSheet } from \"../../hooks/useStyleSheet\";\nimport { formatClassName } from \"../../utils/format\";\n\ninterface Props<T extends AnyColor> extends Partial<ColorPickerBaseProps<T>> {\n  colorModel: ColorModel<T>;\n}\n\nexport const ColorPicker = <T extends AnyColor>({\n  className,\n  colorModel,\n  color = colorModel.defaultColor,\n  onChange,\n  ...rest\n}: Props<T>): JSX.Element => {\n  const nodeRef = useRef<HTMLDivElement>(null);\n  useStyleSheet(nodeRef);\n\n  const [hsva, updateHsva] = useColorManipulation<T>(colorModel, color, onChange);\n\n  const nodeClassName = formatClassName([\"react-colorful\", className]);\n\n  return (\n    <div {...rest} ref={nodeRef} className={nodeClassName}>\n      <Saturation hsva={hsva} onChange={updateHsva} />\n      <Hue hue={hsva.h} onChange={updateHsva} className=\"react-colorful__last-control\" />\n    </div>\n  );\n};\n","import React from \"react\";\n\nimport { Interactive, Interaction } from \"./Interactive\";\nimport { Pointer } from \"./Pointer\";\n\nimport { hsvaToHslaString } from \"../../utils/convert\";\nimport { formatClassName } from \"../../utils/format\";\nimport { clamp } from \"../../utils/clamp\";\nimport { round } from \"../../utils/round\";\nimport { HsvaColor } from \"../../types\";\n\ninterface Props {\n  className?: string;\n  hsva: HsvaColor;\n  onChange: (newAlpha: { a: number }) => void;\n}\n\nexport const Alpha = ({ className, hsva, onChange }: Props): JSX.Element => {\n  const handleMove = (interaction: Interaction) => {\n    onChange({ a: interaction.left });\n  };\n\n  const handleKey = (offset: Interaction) => {\n    // Alpha always fit into [0, 1] range\n    onChange({ a: clamp(hsva.a + offset.left) });\n  };\n\n  // We use `Object.assign` instead of the spread operator\n  // to prevent adding the polyfill (about 150 bytes gzipped)\n  const colorFrom = hsvaToHslaString(Object.assign({}, hsva, { a: 0 }));\n  const colorTo = hsvaToHslaString(Object.assign({}, hsva, { a: 1 }));\n\n  const gradientStyle = {\n    backgroundImage: `linear-gradient(90deg, ${colorFrom}, ${colorTo})`,\n  };\n\n  const nodeClassName = formatClassName([\"react-colorful__alpha\", className]);\n\n  return (\n    <div className={nodeClassName}>\n      <div className=\"react-colorful__alpha-gradient\" style={gradientStyle} />\n      <Interactive\n        onMove={handleMove}\n        onKey={handleKey}\n        aria-label=\"Alpha\"\n        aria-valuetext={`${round(hsva.a * 100)}%`}\n      >\n        <Pointer\n          className=\"react-colorful__alpha-pointer\"\n          left={hsva.a}\n          color={hsvaToHslaString(hsva)}\n        />\n      </Interactive>\n    </div>\n  );\n};\n","import React, { useRef } from \"react\";\n\nimport { Hue } from \"./Hue\";\nimport { Saturation } from \"./Saturation\";\nimport { Alpha } from \"./Alpha\";\n\nimport { ColorModel, ColorPickerBaseProps, AnyColor } from \"../../types\";\nimport { useColorManipulation } from \"../../hooks/useColorManipulation\";\nimport { useStyleSheet } from \"../../hooks/useStyleSheet\";\nimport { formatClassName } from \"../../utils/format\";\n\ninterface Props<T extends AnyColor> extends Partial<ColorPickerBaseProps<T>> {\n  colorModel: ColorModel<T>;\n}\n\nexport const AlphaColorPicker = <T extends AnyColor>({\n  className,\n  colorModel,\n  color = colorModel.defaultColor,\n  onChange,\n  ...rest\n}: Props<T>): JSX.Element => {\n  const nodeRef = useRef<HTMLDivElement>(null);\n  useStyleSheet(nodeRef);\n\n  const [hsva, updateHsva] = useColorManipulation<T>(colorModel, color, onChange);\n\n  const nodeClassName = formatClassName([\"react-colorful\", className]);\n\n  return (\n    <div {...rest} ref={nodeRef} className={nodeClassName}>\n      <Saturation hsva={hsva} onChange={updateHsva} />\n      <Hue hue={hsva.h} onChange={updateHsva} />\n      <Alpha hsva={hsva} onChange={updateHsva} className=\"react-colorful__last-control\" />\n    </div>\n  );\n};\n","import React from \"react\";\n\nimport { AlphaColorPicker } from \"./common/AlphaColorPicker\";\nimport { ColorModel, ColorPickerBaseProps, RgbaColor } from \"../types\";\nimport { equalColorObjects } from \"../utils/compare\";\nimport { rgbaToHsva, hsvaToRgba } from \"../utils/convert\";\n\nconst colorModel: ColorModel<RgbaColor> = {\n  defaultColor: { r: 0, g: 0, b: 0, a: 1 },\n  toHsva: rgbaToHsva,\n  fromHsva: hsvaToRgba,\n  equal: equalColorObjects,\n};\n\nexport const RgbaColorPicker = (props: Partial<ColorPickerBaseProps<RgbaColor>>): JSX.Element => (\n  <AlphaColorPicker {...props} colorModel={colorModel} />\n);\n","import React from \"react\";\n\nimport { ColorPicker } from \"./common/ColorPicker\";\nimport { ColorModel, ColorPickerBaseProps, RgbColor } from \"../types\";\nimport { equalColorObjects } from \"../utils/compare\";\nimport { rgbaToHsva, hsvaToRgba, rgbaToRgb } from \"../utils/convert\";\n\nconst colorModel: ColorModel<RgbColor> = {\n  defaultColor: { r: 0, g: 0, b: 0 },\n  toHsva: ({ r, g, b }) => rgbaToHsva({ r, g, b, a: 1 }),\n  fromHsva: (hsva) => rgbaToRgb(hsvaToRgba(hsva)),\n  equal: equalColorObjects,\n};\n\nexport const RgbColorPicker = (props: Partial<ColorPickerBaseProps<RgbColor>>): JSX.Element => (\n  <ColorPicker {...props} colorModel={colorModel} />\n);\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","export const COMMON_MIME_TYPES = new Map([\n    // https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types\n    ['aac', 'audio/aac'],\n    ['abw', 'application/x-abiword'],\n    ['arc', 'application/x-freearc'],\n    ['avif', 'image/avif'],\n    ['avi', 'video/x-msvideo'],\n    ['azw', 'application/vnd.amazon.ebook'],\n    ['bin', 'application/octet-stream'],\n    ['bmp', 'image/bmp'],\n    ['bz', 'application/x-bzip'],\n    ['bz2', 'application/x-bzip2'],\n    ['cda', 'application/x-cdf'],\n    ['csh', 'application/x-csh'],\n    ['css', 'text/css'],\n    ['csv', 'text/csv'],\n    ['doc', 'application/msword'],\n    ['docx', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'],\n    ['eot', 'application/vnd.ms-fontobject'],\n    ['epub', 'application/epub+zip'],\n    ['gz', 'application/gzip'],\n    ['gif', 'image/gif'],\n    ['heic', 'image/heic'],\n    ['heif', 'image/heif'],\n    ['htm', 'text/html'],\n    ['html', 'text/html'],\n    ['ico', 'image/vnd.microsoft.icon'],\n    ['ics', 'text/calendar'],\n    ['jar', 'application/java-archive'],\n    ['jpeg', 'image/jpeg'],\n    ['jpg', 'image/jpeg'],\n    ['js', 'text/javascript'],\n    ['json', 'application/json'],\n    ['jsonld', 'application/ld+json'],\n    ['mid', 'audio/midi'],\n    ['midi', 'audio/midi'],\n    ['mjs', 'text/javascript'],\n    ['mp3', 'audio/mpeg'],\n    ['mp4', 'video/mp4'],\n    ['mpeg', 'video/mpeg'],\n    ['mpkg', 'application/vnd.apple.installer+xml'],\n    ['odp', 'application/vnd.oasis.opendocument.presentation'],\n    ['ods', 'application/vnd.oasis.opendocument.spreadsheet'],\n    ['odt', 'application/vnd.oasis.opendocument.text'],\n    ['oga', 'audio/ogg'],\n    ['ogv', 'video/ogg'],\n    ['ogx', 'application/ogg'],\n    ['opus', 'audio/opus'],\n    ['otf', 'font/otf'],\n    ['png', 'image/png'],\n    ['pdf', 'application/pdf'],\n    ['php', 'application/x-httpd-php'],\n    ['ppt', 'application/vnd.ms-powerpoint'],\n    ['pptx', 'application/vnd.openxmlformats-officedocument.presentationml.presentation'],\n    ['rar', 'application/vnd.rar'],\n    ['rtf', 'application/rtf'],\n    ['sh', 'application/x-sh'],\n    ['svg', 'image/svg+xml'],\n    ['swf', 'application/x-shockwave-flash'],\n    ['tar', 'application/x-tar'],\n    ['tif', 'image/tiff'],\n    ['tiff', 'image/tiff'],\n    ['ts', 'video/mp2t'],\n    ['ttf', 'font/ttf'],\n    ['txt', 'text/plain'],\n    ['vsd', 'application/vnd.visio'],\n    ['wav', 'audio/wav'],\n    ['weba', 'audio/webm'],\n    ['webm', 'video/webm'],\n    ['webp', 'image/webp'],\n    ['woff', 'font/woff'],\n    ['woff2', 'font/woff2'],\n    ['xhtml', 'application/xhtml+xml'],\n    ['xls', 'application/vnd.ms-excel'],\n    ['xlsx', 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'],\n    ['xml', 'application/xml'],\n    ['xul', 'application/vnd.mozilla.xul+xml'],\n    ['zip', 'application/zip'],\n    ['7z', 'application/x-7z-compressed'],\n\n    // Others\n    ['mkv', 'video/x-matroska'],\n    ['mov', 'video/quicktime'],\n    ['msg', 'application/vnd.ms-outlook']\n]);\n\n\nexport function toFileWithPath(file: FileWithPath, path?: string): FileWithPath {\n    const f = withMimeType(file);\n    if (typeof f.path !== 'string') { // on electron, path is already set to the absolute path\n        const {webkitRelativePath} = file as FileWithWebkitPath;\n        Object.defineProperty(f, 'path', {\n            value: typeof path === 'string'\n                ? path\n                // If <input webkitdirectory> is set,\n                // the File will have a {webkitRelativePath} property\n                // https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/webkitdirectory\n                : typeof webkitRelativePath === 'string' && webkitRelativePath.length > 0\n                    ? webkitRelativePath\n                    : file.name,\n            writable: false,\n            configurable: false,\n            enumerable: true\n        });\n    }\n\n    return f;\n}\n\ninterface DOMFile extends Blob {\n    readonly lastModified: number;\n    readonly name: string;\n}\n\nexport interface FileWithPath extends DOMFile {\n    readonly path?: string;\n}\n\ninterface FileWithWebkitPath extends File {\n    readonly webkitRelativePath?: string;\n}\n\nfunction withMimeType(file: FileWithPath) {\n    const {name} = file;\n    const hasExtension = name && name.lastIndexOf('.') !== -1;\n\n    if (hasExtension && !file.type) {\n        const ext = name.split('.')\n            .pop()!.toLowerCase();\n        const type = COMMON_MIME_TYPES.get(ext);\n        if (type) {\n            Object.defineProperty(file, 'type', {\n                value: type,\n                writable: false,\n                configurable: false,\n                enumerable: true\n            });\n        }\n    }\n\n    return file;\n}\n","import {FileWithPath, toFileWithPath} from './file';\n\n\nconst FILES_TO_IGNORE = [\n    // Thumbnail cache files for macOS and Windows\n    '.DS_Store', // macOs\n    'Thumbs.db'  // Windows\n];\n\n\n/**\n * Convert a DragEvent's DataTrasfer object to a list of File objects\n * NOTE: If some of the items are folders,\n * everything will be flattened and placed in the same list but the paths will be kept as a {path} property.\n *\n * EXPERIMENTAL: A list of https://developer.mozilla.org/en-US/docs/Web/API/FileSystemHandle objects can also be passed as an arg\n * and a list of File objects will be returned.\n *\n * @param evt\n */\nexport async function fromEvent(evt: Event | any): Promise<(FileWithPath | DataTransferItem)[]> {\n    if (isObject<DragEvent>(evt) && isDataTransfer(evt)) {\n        return getDataTransferFiles(evt.dataTransfer, evt.type);\n    } else if (isChangeEvt(evt)) {\n        return getInputFiles(evt);\n    } else if (Array.isArray(evt) && evt.every(item => 'getFile' in item && typeof item.getFile === 'function')) {\n        return getFsHandleFiles(evt)\n    }\n    return [];\n}\n\nfunction isDataTransfer(value: any): value is DataTransfer {\n    return isObject(value.dataTransfer);\n}\n\nfunction isChangeEvt(value: any): value is Event {\n    return isObject<Event>(value) && isObject(value.target);\n}\n\nfunction isObject<T>(v: any): v is T {\n    return typeof v === 'object' && v !== null\n}\n\nfunction getInputFiles(evt: Event) {\n    return fromList<FileWithPath>((evt.target as HTMLInputElement).files).map(file => toFileWithPath(file));\n}\n\n// Ee expect each handle to be https://developer.mozilla.org/en-US/docs/Web/API/FileSystemFileHandle\nasync function getFsHandleFiles(handles: any[]) {\n    const files = await Promise.all(handles.map(h => h.getFile()));\n    return files.map(file => toFileWithPath(file));\n}\n\n\nasync function getDataTransferFiles(dt: DataTransfer | null, type: string) {\n    if (dt === null) {\n        return [];\n    }\n\n    // IE11 does not support dataTransfer.items\n    // See https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer/items#Browser_compatibility\n    if (dt.items) {\n        const items = fromList<DataTransferItem>(dt.items)\n            .filter(item => item.kind === 'file');\n        // According to https://html.spec.whatwg.org/multipage/dnd.html#dndevents,\n        // only 'dragstart' and 'drop' has access to the data (source node)\n        if (type !== 'drop') {\n            return items;\n        }\n        const files = await Promise.all(items.map(toFilePromises));\n        return noIgnoredFiles(flatten<FileWithPath>(files));\n    }\n\n    return noIgnoredFiles(fromList<FileWithPath>(dt.files)\n        .map(file => toFileWithPath(file)));\n}\n\nfunction noIgnoredFiles(files: FileWithPath[]) {\n    return files.filter(file => FILES_TO_IGNORE.indexOf(file.name) === -1);\n}\n\n// IE11 does not support Array.from()\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from#Browser_compatibility\n// https://developer.mozilla.org/en-US/docs/Web/API/FileList\n// https://developer.mozilla.org/en-US/docs/Web/API/DataTransferItemList\nfunction fromList<T>(items: DataTransferItemList | FileList | null): T[] {\n    if (items === null) {\n        return [];\n    }\n\n    const files = [];\n\n    // tslint:disable: prefer-for-of\n    for (let i = 0; i < items.length; i++) {\n        const file = items[i];\n        files.push(file);\n    }\n\n    return files as any;\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/API/DataTransferItem\nfunction toFilePromises(item: DataTransferItem) {\n    if (typeof item.webkitGetAsEntry !== 'function') {\n        return fromDataTransferItem(item);\n    }\n\n    const entry = item.webkitGetAsEntry();\n\n    // Safari supports dropping an image node from a different window and can be retrieved using\n    // the DataTransferItem.getAsFile() API\n    // NOTE: FileSystemEntry.file() throws if trying to get the file\n    if (entry && entry.isDirectory) {\n        return fromDirEntry(entry) as any;\n    }\n\n    return fromDataTransferItem(item);\n}\n\nfunction flatten<T>(items: any[]): T[] {\n    return items.reduce((acc, files) => [\n        ...acc,\n        ...(Array.isArray(files) ? flatten(files) : [files])\n    ], []);\n}\n\nfunction fromDataTransferItem(item: DataTransferItem) {\n    const file = item.getAsFile();\n    if (!file) {\n        return Promise.reject(`${item} is not a File`);\n    }\n    const fwp = toFileWithPath(file);\n    return Promise.resolve(fwp);\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/API/FileSystemEntry\nasync function fromEntry(entry: any) {\n    return entry.isDirectory ? fromDirEntry(entry) : fromFileEntry(entry);\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/API/FileSystemDirectoryEntry\nfunction fromDirEntry(entry: any) {\n    const reader = entry.createReader();\n\n    return new Promise<FileArray[]>((resolve, reject) => {\n        const entries: Promise<FileValue[]>[] = [];\n\n        function readEntries() {\n            // https://developer.mozilla.org/en-US/docs/Web/API/FileSystemDirectoryEntry/createReader\n            // https://developer.mozilla.org/en-US/docs/Web/API/FileSystemDirectoryReader/readEntries\n            reader.readEntries(async (batch: any[]) => {\n                if (!batch.length) {\n                    // Done reading directory\n                    try {\n                        const files = await Promise.all(entries);\n                        resolve(files);\n                    } catch (err) {\n                        reject(err);\n                    }\n                } else {\n                    const items = Promise.all(batch.map(fromEntry));\n                    entries.push(items);\n\n                    // Continue reading\n                    readEntries();\n                }\n            }, (err: any) => {\n                reject(err);\n            });\n        }\n\n        readEntries();\n    });\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/API/FileSystemFileEntry\nasync function fromFileEntry(entry: any) {\n    return new Promise<FileWithPath>((resolve, reject) => {\n        entry.file((file: FileWithPath) => {\n            const fwp = toFileWithPath(file, entry.fullPath);\n            resolve(fwp);\n        }, (err: any) => {\n            reject(err);\n        });\n    });\n}\n\n// Infinite type recursion\n// https://github.com/Microsoft/TypeScript/issues/3496#issuecomment-128553540\ninterface FileArray extends Array<FileValue> {}\ntype FileValue = FileWithPath\n    | FileArray[];\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport accepts from \"attr-accept\"; // Error codes\n\nexport var FILE_INVALID_TYPE = \"file-invalid-type\";\nexport var FILE_TOO_LARGE = \"file-too-large\";\nexport var FILE_TOO_SMALL = \"file-too-small\";\nexport var TOO_MANY_FILES = \"too-many-files\";\nexport var ErrorCode = {\n  FileInvalidType: FILE_INVALID_TYPE,\n  FileTooLarge: FILE_TOO_LARGE,\n  FileTooSmall: FILE_TOO_SMALL,\n  TooManyFiles: TOO_MANY_FILES\n}; // File Errors\n\nexport var getInvalidTypeRejectionErr = function getInvalidTypeRejectionErr(accept) {\n  accept = Array.isArray(accept) && accept.length === 1 ? accept[0] : accept;\n  var messageSuffix = Array.isArray(accept) ? \"one of \".concat(accept.join(\", \")) : accept;\n  return {\n    code: FILE_INVALID_TYPE,\n    message: \"File type must be \".concat(messageSuffix)\n  };\n};\nexport var getTooLargeRejectionErr = function getTooLargeRejectionErr(maxSize) {\n  return {\n    code: FILE_TOO_LARGE,\n    message: \"File is larger than \".concat(maxSize, \" \").concat(maxSize === 1 ? \"byte\" : \"bytes\")\n  };\n};\nexport var getTooSmallRejectionErr = function getTooSmallRejectionErr(minSize) {\n  return {\n    code: FILE_TOO_SMALL,\n    message: \"File is smaller than \".concat(minSize, \" \").concat(minSize === 1 ? \"byte\" : \"bytes\")\n  };\n};\nexport var TOO_MANY_FILES_REJECTION = {\n  code: TOO_MANY_FILES,\n  message: \"Too many files\"\n}; // Firefox versions prior to 53 return a bogus MIME type for every file drag, so dragovers with\n// that MIME type will always be accepted\n\nexport function fileAccepted(file, accept) {\n  var isAcceptable = file.type === \"application/x-moz-file\" || accepts(file, accept);\n  return [isAcceptable, isAcceptable ? null : getInvalidTypeRejectionErr(accept)];\n}\nexport function fileMatchSize(file, minSize, maxSize) {\n  if (isDefined(file.size)) {\n    if (isDefined(minSize) && isDefined(maxSize)) {\n      if (file.size > maxSize) return [false, getTooLargeRejectionErr(maxSize)];\n      if (file.size < minSize) return [false, getTooSmallRejectionErr(minSize)];\n    } else if (isDefined(minSize) && file.size < minSize) return [false, getTooSmallRejectionErr(minSize)];else if (isDefined(maxSize) && file.size > maxSize) return [false, getTooLargeRejectionErr(maxSize)];\n  }\n\n  return [true, null];\n}\n\nfunction isDefined(value) {\n  return value !== undefined && value !== null;\n}\n\nexport function allFilesAccepted(_ref) {\n  var files = _ref.files,\n      accept = _ref.accept,\n      minSize = _ref.minSize,\n      maxSize = _ref.maxSize,\n      multiple = _ref.multiple,\n      maxFiles = _ref.maxFiles;\n\n  if (!multiple && files.length > 1 || multiple && maxFiles >= 1 && files.length > maxFiles) {\n    return false;\n  }\n\n  return files.every(function (file) {\n    var _fileAccepted = fileAccepted(file, accept),\n        _fileAccepted2 = _slicedToArray(_fileAccepted, 1),\n        accepted = _fileAccepted2[0];\n\n    var _fileMatchSize = fileMatchSize(file, minSize, maxSize),\n        _fileMatchSize2 = _slicedToArray(_fileMatchSize, 1),\n        sizeMatch = _fileMatchSize2[0];\n\n    return accepted && sizeMatch;\n  });\n} // React's synthetic events has event.isPropagationStopped,\n// but to remain compatibility with other libs (Preact) fall back\n// to check event.cancelBubble\n\nexport function isPropagationStopped(event) {\n  if (typeof event.isPropagationStopped === \"function\") {\n    return event.isPropagationStopped();\n  } else if (typeof event.cancelBubble !== \"undefined\") {\n    return event.cancelBubble;\n  }\n\n  return false;\n}\nexport function isEvtWithFiles(event) {\n  if (!event.dataTransfer) {\n    return !!event.target && !!event.target.files;\n  } // https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer/types\n  // https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API/Recommended_drag_types#file\n\n\n  return Array.prototype.some.call(event.dataTransfer.types, function (type) {\n    return type === \"Files\" || type === \"application/x-moz-file\";\n  });\n}\nexport function isKindFile(item) {\n  return _typeof(item) === \"object\" && item !== null && item.kind === \"file\";\n} // allow the entire document to be a drag target\n\nexport function onDocumentDragOver(event) {\n  event.preventDefault();\n}\n\nfunction isIe(userAgent) {\n  return userAgent.indexOf(\"MSIE\") !== -1 || userAgent.indexOf(\"Trident/\") !== -1;\n}\n\nfunction isEdge(userAgent) {\n  return userAgent.indexOf(\"Edge/\") !== -1;\n}\n\nexport function isIeOrEdge() {\n  var userAgent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window.navigator.userAgent;\n  return isIe(userAgent) || isEdge(userAgent);\n}\n/**\n * This is intended to be used to compose event handlers\n * They are executed in order until one of them calls `event.isPropagationStopped()`.\n * Note that the check is done on the first invoke too,\n * meaning that if propagation was stopped before invoking the fns,\n * no handlers will be executed.\n *\n * @param {Function} fns the event hanlder functions\n * @return {Function} the event handler to add to an element\n */\n\nexport function composeEventHandlers() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  return function (event) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n\n    return fns.some(function (fn) {\n      if (!isPropagationStopped(event) && fn) {\n        fn.apply(void 0, [event].concat(args));\n      }\n\n      return isPropagationStopped(event);\n    });\n  };\n}\n/**\n * canUseFileSystemAccessAPI checks if the [File System Access API](https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API)\n * is supported by the browser.\n * @returns {boolean}\n */\n\nexport function canUseFileSystemAccessAPI() {\n  return \"showOpenFilePicker\" in window;\n}\n/**\n * filePickerOptionsTypes returns the {types} option for https://developer.mozilla.org/en-US/docs/Web/API/window/showOpenFilePicker\n * based on the accept attr (see https://github.com/react-dropzone/attr-accept)\n * E.g: converts ['image/*', 'text/*'] to {'image/*': [], 'text/*': []}\n * @param {string|string[]} accept\n */\n\nexport function filePickerOptionsTypes(accept) {\n  accept = typeof accept === \"string\" ? accept.split(\",\") : accept;\n  return [{\n    description: \"everything\",\n    // TODO: Need to handle filtering more elegantly than this!\n    accept: Array.isArray(accept) ? // Accept just MIME types as per spec\n    // NOTE: accept can be https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#unique_file_type_specifiers\n    accept.filter(function (item) {\n      return item === \"audio/*\" || item === \"video/*\" || item === \"image/*\" || item === \"text/*\" || /\\w+\\/[-+.\\w]+/g.test(item);\n    }).reduce(function (a, b) {\n      return _objectSpread(_objectSpread({}, a), {}, _defineProperty({}, b, []));\n    }, {}) : {}\n  }];\n}\n/**\n * Check if v is an exception caused by aborting a request (e.g window.showOpenFilePicker()).\n *\n * See https://developer.mozilla.org/en-US/docs/Web/API/DOMException.\n * @param {any} v\n * @returns {boolean} True if v is an abort exception.\n */\n\nexport function isAbort(v) {\n  return v instanceof DOMException && (v.name === \"AbortError\" || v.code === v.ABORT_ERR);\n}\n/**\n * Check if v is a security error.\n *\n * See https://developer.mozilla.org/en-US/docs/Web/API/DOMException.\n * @param {any} v\n * @returns {boolean} True if v is a security error.\n */\n\nexport function isSecurityError(v) {\n  return v instanceof DOMException && (v.name === \"SecurityError\" || v.code === v.SECURITY_ERR);\n}","var _excluded = [\"children\"],\n    _excluded2 = [\"open\"],\n    _excluded3 = [\"refKey\", \"role\", \"onKeyDown\", \"onFocus\", \"onBlur\", \"onClick\", \"onDragEnter\", \"onDragOver\", \"onDragLeave\", \"onDrop\"],\n    _excluded4 = [\"refKey\", \"onChange\", \"onClick\"];\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* eslint prefer-template: 0 */\nimport React, { forwardRef, Fragment, useCallback, useEffect, useImperativeHandle, useMemo, useReducer, useRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { fromEvent } from \"file-selector\";\nimport { allFilesAccepted, composeEventHandlers, fileAccepted, fileMatchSize, filePickerOptionsTypes, canUseFileSystemAccessAPI, isAbort, isEvtWithFiles, isIeOrEdge, isPropagationStopped, isSecurityError, onDocumentDragOver, TOO_MANY_FILES_REJECTION } from \"./utils/index\";\n/**\n * Convenience wrapper component for the `useDropzone` hook\n *\n * ```jsx\n * <Dropzone>\n *   {({getRootProps, getInputProps}) => (\n *     <div {...getRootProps()}>\n *       <input {...getInputProps()} />\n *       <p>Drag 'n' drop some files here, or click to select files</p>\n *     </div>\n *   )}\n * </Dropzone>\n * ```\n */\n\nvar Dropzone = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var children = _ref.children,\n      params = _objectWithoutProperties(_ref, _excluded);\n\n  var _useDropzone = useDropzone(params),\n      open = _useDropzone.open,\n      props = _objectWithoutProperties(_useDropzone, _excluded2);\n\n  useImperativeHandle(ref, function () {\n    return {\n      open: open\n    };\n  }, [open]); // TODO: Figure out why react-styleguidist cannot create docs if we don't return a jsx element\n\n  return /*#__PURE__*/React.createElement(Fragment, null, children(_objectSpread(_objectSpread({}, props), {}, {\n    open: open\n  })));\n});\nDropzone.displayName = \"Dropzone\"; // Add default props for react-docgen\n\nvar defaultProps = {\n  disabled: false,\n  getFilesFromEvent: fromEvent,\n  maxSize: Infinity,\n  minSize: 0,\n  multiple: true,\n  maxFiles: 0,\n  preventDropOnDocument: true,\n  noClick: false,\n  noKeyboard: false,\n  noDrag: false,\n  noDragEventsBubbling: false,\n  validator: null,\n  useFsAccessApi: true\n};\nDropzone.defaultProps = defaultProps;\nDropzone.propTypes = {\n  /**\n   * Render function that exposes the dropzone state and prop getter fns\n   *\n   * @param {object} params\n   * @param {Function} params.getRootProps Returns the props you should apply to the root drop container you render\n   * @param {Function} params.getInputProps Returns the props you should apply to hidden file input you render\n   * @param {Function} params.open Open the native file selection dialog\n   * @param {boolean} params.isFocused Dropzone area is in focus\n   * @param {boolean} params.isFileDialogActive File dialog is opened\n   * @param {boolean} params.isDragActive Active drag is in progress\n   * @param {boolean} params.isDragAccept Dragged files are accepted\n   * @param {boolean} params.isDragReject Some dragged files are rejected\n   * @param {File[]} params.draggedFiles Files in active drag\n   * @param {File[]} params.acceptedFiles Accepted files\n   * @param {FileRejection[]} params.fileRejections Rejected files and why they were rejected\n   */\n  children: PropTypes.func,\n\n  /**\n   * Set accepted file types.\n   * See https://github.com/okonet/attr-accept for more information.\n   * Keep in mind that mime type determination is not reliable across platforms. CSV files,\n   * for example, are reported as text/plain under macOS but as application/vnd.ms-excel under\n   * Windows. In some cases there might not be a mime type set at all.\n   * See: https://github.com/react-dropzone/react-dropzone/issues/276\n   */\n  accept: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n\n  /**\n   * Allow drag 'n' drop (or selection from the file dialog) of multiple files\n   */\n  multiple: PropTypes.bool,\n\n  /**\n   * If false, allow dropped items to take over the current browser window\n   */\n  preventDropOnDocument: PropTypes.bool,\n\n  /**\n   * If true, disables click to open the native file selection dialog\n   */\n  noClick: PropTypes.bool,\n\n  /**\n   * If true, disables SPACE/ENTER to open the native file selection dialog.\n   * Note that it also stops tracking the focus state.\n   */\n  noKeyboard: PropTypes.bool,\n\n  /**\n   * If true, disables drag 'n' drop\n   */\n  noDrag: PropTypes.bool,\n\n  /**\n   * If true, stops drag event propagation to parents\n   */\n  noDragEventsBubbling: PropTypes.bool,\n\n  /**\n   * Minimum file size (in bytes)\n   */\n  minSize: PropTypes.number,\n\n  /**\n   * Maximum file size (in bytes)\n   */\n  maxSize: PropTypes.number,\n\n  /**\n   * Maximum accepted number of files\n   * The default value is 0 which means there is no limitation to how many files are accepted.\n   */\n  maxFiles: PropTypes.number,\n\n  /**\n   * Enable/disable the dropzone\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Use this to provide a custom file aggregator\n   *\n   * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n   */\n  getFilesFromEvent: PropTypes.func,\n\n  /**\n   * Cb for when closing the file dialog with no selection\n   */\n  onFileDialogCancel: PropTypes.func,\n\n  /**\n   * Cb for when opening the file dialog\n   */\n  onFileDialogOpen: PropTypes.func,\n\n  /**\n   * Set to true to use the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API\n   * to open the file picker instead of using an `<input type=\"file\">` click event.\n   */\n  useFsAccessApi: PropTypes.bool,\n\n  /**\n   * Cb for when the `dragenter` event occurs.\n   *\n   * @param {DragEvent} event\n   */\n  onDragEnter: PropTypes.func,\n\n  /**\n   * Cb for when the `dragleave` event occurs\n   *\n   * @param {DragEvent} event\n   */\n  onDragLeave: PropTypes.func,\n\n  /**\n   * Cb for when the `dragover` event occurs\n   *\n   * @param {DragEvent} event\n   */\n  onDragOver: PropTypes.func,\n\n  /**\n   * Cb for when the `drop` event occurs.\n   * Note that this callback is invoked after the `getFilesFromEvent` callback is done.\n   *\n   * Files are accepted or rejected based on the `accept`, `multiple`, `minSize` and `maxSize` props.\n   * `accept` must be a valid [MIME type](http://www.iana.org/assignments/media-types/media-types.xhtml) according to [input element specification](https://www.w3.org/wiki/HTML/Elements/input/file) or a valid file extension.\n   * If `multiple` is set to false and additional files are dropped,\n   * all files besides the first will be rejected.\n   * Any file which does not have a size in the [`minSize`, `maxSize`] range, will be rejected as well.\n   *\n   * Note that the `onDrop` callback will always be invoked regardless if the dropped files were accepted or rejected.\n   * If you'd like to react to a specific scenario, use the `onDropAccepted`/`onDropRejected` props.\n   *\n   * `onDrop` will provide you with an array of [File](https://developer.mozilla.org/en-US/docs/Web/API/File) objects which you can then process and send to a server.\n   * For example, with [SuperAgent](https://github.com/visionmedia/superagent) as a http/ajax library:\n   *\n   * ```js\n   * function onDrop(acceptedFiles) {\n   *   const req = request.post('/upload')\n   *   acceptedFiles.forEach(file => {\n   *     req.attach(file.name, file)\n   *   })\n   *   req.end(callback)\n   * }\n   * ```\n   *\n   * @param {File[]} acceptedFiles\n   * @param {FileRejection[]} fileRejections\n   * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n   */\n  onDrop: PropTypes.func,\n\n  /**\n   * Cb for when the `drop` event occurs.\n   * Note that if no files are accepted, this callback is not invoked.\n   *\n   * @param {File[]} files\n   * @param {(DragEvent|Event)} event\n   */\n  onDropAccepted: PropTypes.func,\n\n  /**\n   * Cb for when the `drop` event occurs.\n   * Note that if no files are rejected, this callback is not invoked.\n   *\n   * @param {FileRejection[]} fileRejections\n   * @param {(DragEvent|Event)} event\n   */\n  onDropRejected: PropTypes.func,\n\n  /**\n   * Custom validation function\n   * @param {File} file\n   * @returns {FileError|FileError[]}\n   */\n  validator: PropTypes.func\n};\nexport default Dropzone;\n/**\n * A function that is invoked for the `dragenter`,\n * `dragover` and `dragleave` events.\n * It is not invoked if the items are not files (such as link, text, etc.).\n *\n * @callback dragCb\n * @param {DragEvent} event\n */\n\n/**\n * A function that is invoked for the `drop` or input change event.\n * It is not invoked if the items are not files (such as link, text, etc.).\n *\n * @callback dropCb\n * @param {File[]} acceptedFiles List of accepted files\n * @param {FileRejection[]} fileRejections List of rejected files and why they were rejected\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n */\n\n/**\n * A function that is invoked for the `drop` or input change event.\n * It is not invoked if the items are files (such as link, text, etc.).\n *\n * @callback dropAcceptedCb\n * @param {File[]} files List of accepted files that meet the given criteria\n * (`accept`, `multiple`, `minSize`, `maxSize`)\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n */\n\n/**\n * A function that is invoked for the `drop` or input change event.\n *\n * @callback dropRejectedCb\n * @param {File[]} files List of rejected files that do not meet the given criteria\n * (`accept`, `multiple`, `minSize`, `maxSize`)\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n */\n\n/**\n * A function that is used aggregate files,\n * in a asynchronous fashion, from drag or input change events.\n *\n * @callback getFilesFromEvent\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n * @returns {(File[]|Promise<File[]>)}\n */\n\n/**\n * An object with the current dropzone state and some helper functions.\n *\n * @typedef {object} DropzoneState\n * @property {Function} getRootProps Returns the props you should apply to the root drop container you render\n * @property {Function} getInputProps Returns the props you should apply to hidden file input you render\n * @property {Function} open Open the native file selection dialog\n * @property {boolean} isFocused Dropzone area is in focus\n * @property {boolean} isFileDialogActive File dialog is opened\n * @property {boolean} isDragActive Active drag is in progress\n * @property {boolean} isDragAccept Dragged files are accepted\n * @property {boolean} isDragReject Some dragged files are rejected\n * @property {File[]} draggedFiles Files in active drag\n * @property {File[]} acceptedFiles Accepted files\n * @property {FileRejection[]} fileRejections Rejected files and why they were rejected\n */\n\nvar initialState = {\n  isFocused: false,\n  isFileDialogActive: false,\n  isDragActive: false,\n  isDragAccept: false,\n  isDragReject: false,\n  draggedFiles: [],\n  acceptedFiles: [],\n  fileRejections: []\n};\n/**\n * A React hook that creates a drag 'n' drop area.\n *\n * ```jsx\n * function MyDropzone(props) {\n *   const {getRootProps, getInputProps} = useDropzone({\n *     onDrop: acceptedFiles => {\n *       // do something with the File objects, e.g. upload to some server\n *     }\n *   });\n *   return (\n *     <div {...getRootProps()}>\n *       <input {...getInputProps()} />\n *       <p>Drag and drop some files here, or click to select files</p>\n *     </div>\n *   )\n * }\n * ```\n *\n * @function useDropzone\n *\n * @param {object} props\n * @param {string|string[]} [props.accept] Set accepted file types.\n * See https://github.com/okonet/attr-accept for more information.\n * Keep in mind that mime type determination is not reliable across platforms. CSV files,\n * for example, are reported as text/plain under macOS but as application/vnd.ms-excel under\n * Windows. In some cases there might not be a mime type set at all.\n * See: https://github.com/react-dropzone/react-dropzone/issues/276\n * @param {boolean} [props.multiple=true] Allow drag 'n' drop (or selection from the file dialog) of multiple files\n * @param {boolean} [props.preventDropOnDocument=true] If false, allow dropped items to take over the current browser window\n * @param {boolean} [props.noClick=false] If true, disables click to open the native file selection dialog\n * @param {boolean} [props.noKeyboard=false] If true, disables SPACE/ENTER to open the native file selection dialog.\n * Note that it also stops tracking the focus state.\n * @param {boolean} [props.noDrag=false] If true, disables drag 'n' drop\n * @param {boolean} [props.noDragEventsBubbling=false] If true, stops drag event propagation to parents\n * @param {number} [props.minSize=0] Minimum file size (in bytes)\n * @param {number} [props.maxSize=Infinity] Maximum file size (in bytes)\n * @param {boolean} [props.disabled=false] Enable/disable the dropzone\n * @param {getFilesFromEvent} [props.getFilesFromEvent] Use this to provide a custom file aggregator\n * @param {Function} [props.onFileDialogCancel] Cb for when closing the file dialog with no selection\n * @param {boolean} [props.useFsAccessApi] Set to true to use the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API\n * to open the file picker instead of using an `<input type=\"file\">` click event.\n * @param {Function} [props.onFileDialogOpen] Cb for when opening the file dialog\n * @param {dragCb} [props.onDragEnter] Cb for when the `dragenter` event occurs.\n * @param {dragCb} [props.onDragLeave] Cb for when the `dragleave` event occurs\n * @param {dragCb} [props.onDragOver] Cb for when the `dragover` event occurs\n * @param {dropCb} [props.onDrop] Cb for when the `drop` event occurs.\n * Note that this callback is invoked after the `getFilesFromEvent` callback is done.\n *\n * Files are accepted or rejected based on the `accept`, `multiple`, `minSize` and `maxSize` props.\n * `accept` must be a valid [MIME type](http://www.iana.org/assignments/media-types/media-types.xhtml) according to [input element specification](https://www.w3.org/wiki/HTML/Elements/input/file) or a valid file extension.\n * If `multiple` is set to false and additional files are dropped,\n * all files besides the first will be rejected.\n * Any file which does not have a size in the [`minSize`, `maxSize`] range, will be rejected as well.\n *\n * Note that the `onDrop` callback will always be invoked regardless if the dropped files were accepted or rejected.\n * If you'd like to react to a specific scenario, use the `onDropAccepted`/`onDropRejected` props.\n *\n * `onDrop` will provide you with an array of [File](https://developer.mozilla.org/en-US/docs/Web/API/File) objects which you can then process and send to a server.\n * For example, with [SuperAgent](https://github.com/visionmedia/superagent) as a http/ajax library:\n *\n * ```js\n * function onDrop(acceptedFiles) {\n *   const req = request.post('/upload')\n *   acceptedFiles.forEach(file => {\n *     req.attach(file.name, file)\n *   })\n *   req.end(callback)\n * }\n * ```\n * @param {dropAcceptedCb} [props.onDropAccepted]\n * @param {dropRejectedCb} [props.onDropRejected]\n *\n * @returns {DropzoneState}\n */\n\nexport function useDropzone() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _defaultProps$options = _objectSpread(_objectSpread({}, defaultProps), options),\n      accept = _defaultProps$options.accept,\n      disabled = _defaultProps$options.disabled,\n      getFilesFromEvent = _defaultProps$options.getFilesFromEvent,\n      maxSize = _defaultProps$options.maxSize,\n      minSize = _defaultProps$options.minSize,\n      multiple = _defaultProps$options.multiple,\n      maxFiles = _defaultProps$options.maxFiles,\n      onDragEnter = _defaultProps$options.onDragEnter,\n      onDragLeave = _defaultProps$options.onDragLeave,\n      onDragOver = _defaultProps$options.onDragOver,\n      onDrop = _defaultProps$options.onDrop,\n      onDropAccepted = _defaultProps$options.onDropAccepted,\n      onDropRejected = _defaultProps$options.onDropRejected,\n      onFileDialogCancel = _defaultProps$options.onFileDialogCancel,\n      onFileDialogOpen = _defaultProps$options.onFileDialogOpen,\n      useFsAccessApi = _defaultProps$options.useFsAccessApi,\n      preventDropOnDocument = _defaultProps$options.preventDropOnDocument,\n      noClick = _defaultProps$options.noClick,\n      noKeyboard = _defaultProps$options.noKeyboard,\n      noDrag = _defaultProps$options.noDrag,\n      noDragEventsBubbling = _defaultProps$options.noDragEventsBubbling,\n      validator = _defaultProps$options.validator;\n\n  var onFileDialogOpenCb = useMemo(function () {\n    return typeof onFileDialogOpen === \"function\" ? onFileDialogOpen : noop;\n  }, [onFileDialogOpen]);\n  var onFileDialogCancelCb = useMemo(function () {\n    return typeof onFileDialogCancel === \"function\" ? onFileDialogCancel : noop;\n  }, [onFileDialogCancel]);\n  var rootRef = useRef(null);\n  var inputRef = useRef(null);\n\n  var _useReducer = useReducer(reducer, initialState),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  var isFocused = state.isFocused,\n      isFileDialogActive = state.isFileDialogActive,\n      draggedFiles = state.draggedFiles;\n  var fsAccessApiWorksRef = useRef(typeof window !== \"undefined\" && window.isSecureContext && useFsAccessApi && canUseFileSystemAccessAPI()); // Update file dialog active state when the window is focused on\n\n  var onWindowFocus = function onWindowFocus() {\n    // Execute the timeout only if the file dialog is opened in the browser\n    if (!fsAccessApiWorksRef.current && isFileDialogActive) {\n      setTimeout(function () {\n        if (inputRef.current) {\n          var files = inputRef.current.files;\n\n          if (!files.length) {\n            dispatch({\n              type: \"closeDialog\"\n            });\n            onFileDialogCancelCb();\n          }\n        }\n      }, 300);\n    }\n  };\n\n  useEffect(function () {\n    window.addEventListener(\"focus\", onWindowFocus, false);\n    return function () {\n      window.removeEventListener(\"focus\", onWindowFocus, false);\n    };\n  }, [inputRef, isFileDialogActive, onFileDialogCancelCb, fsAccessApiWorksRef]);\n  var dragTargetsRef = useRef([]);\n\n  var onDocumentDrop = function onDocumentDrop(event) {\n    if (rootRef.current && rootRef.current.contains(event.target)) {\n      // If we intercepted an event for our instance, let it propagate down to the instance's onDrop handler\n      return;\n    }\n\n    event.preventDefault();\n    dragTargetsRef.current = [];\n  };\n\n  useEffect(function () {\n    if (preventDropOnDocument) {\n      document.addEventListener(\"dragover\", onDocumentDragOver, false);\n      document.addEventListener(\"drop\", onDocumentDrop, false);\n    }\n\n    return function () {\n      if (preventDropOnDocument) {\n        document.removeEventListener(\"dragover\", onDocumentDragOver);\n        document.removeEventListener(\"drop\", onDocumentDrop);\n      }\n    };\n  }, [rootRef, preventDropOnDocument]);\n  var onDragEnterCb = useCallback(function (event) {\n    event.preventDefault(); // Persist here because we need the event later after getFilesFromEvent() is done\n\n    event.persist();\n    stopPropagation(event);\n    dragTargetsRef.current = [].concat(_toConsumableArray(dragTargetsRef.current), [event.target]);\n\n    if (isEvtWithFiles(event)) {\n      Promise.resolve(getFilesFromEvent(event)).then(function (draggedFiles) {\n        if (isPropagationStopped(event) && !noDragEventsBubbling) {\n          return;\n        }\n\n        dispatch({\n          draggedFiles: draggedFiles,\n          isDragActive: true,\n          type: \"setDraggedFiles\"\n        });\n\n        if (onDragEnter) {\n          onDragEnter(event);\n        }\n      });\n    }\n  }, [getFilesFromEvent, onDragEnter, noDragEventsBubbling]);\n  var onDragOverCb = useCallback(function (event) {\n    event.preventDefault();\n    event.persist();\n    stopPropagation(event);\n    var hasFiles = isEvtWithFiles(event);\n\n    if (hasFiles && event.dataTransfer) {\n      try {\n        event.dataTransfer.dropEffect = \"copy\";\n      } catch (_unused) {}\n      /* eslint-disable-line no-empty */\n\n    }\n\n    if (hasFiles && onDragOver) {\n      onDragOver(event);\n    }\n\n    return false;\n  }, [onDragOver, noDragEventsBubbling]);\n  var onDragLeaveCb = useCallback(function (event) {\n    event.preventDefault();\n    event.persist();\n    stopPropagation(event); // Only deactivate once the dropzone and all children have been left\n\n    var targets = dragTargetsRef.current.filter(function (target) {\n      return rootRef.current && rootRef.current.contains(target);\n    }); // Make sure to remove a target present multiple times only once\n    // (Firefox may fire dragenter/dragleave multiple times on the same element)\n\n    var targetIdx = targets.indexOf(event.target);\n\n    if (targetIdx !== -1) {\n      targets.splice(targetIdx, 1);\n    }\n\n    dragTargetsRef.current = targets;\n\n    if (targets.length > 0) {\n      return;\n    }\n\n    dispatch({\n      isDragActive: false,\n      type: \"setDraggedFiles\",\n      draggedFiles: []\n    });\n\n    if (isEvtWithFiles(event) && onDragLeave) {\n      onDragLeave(event);\n    }\n  }, [rootRef, onDragLeave, noDragEventsBubbling]);\n  var setFiles = useCallback(function (files, event) {\n    var acceptedFiles = [];\n    var fileRejections = [];\n    files.forEach(function (file) {\n      var _fileAccepted = fileAccepted(file, accept),\n          _fileAccepted2 = _slicedToArray(_fileAccepted, 2),\n          accepted = _fileAccepted2[0],\n          acceptError = _fileAccepted2[1];\n\n      var _fileMatchSize = fileMatchSize(file, minSize, maxSize),\n          _fileMatchSize2 = _slicedToArray(_fileMatchSize, 2),\n          sizeMatch = _fileMatchSize2[0],\n          sizeError = _fileMatchSize2[1];\n\n      var customErrors = validator ? validator(file) : null;\n\n      if (accepted && sizeMatch && !customErrors) {\n        acceptedFiles.push(file);\n      } else {\n        var errors = [acceptError, sizeError];\n\n        if (customErrors) {\n          errors = errors.concat(customErrors);\n        }\n\n        fileRejections.push({\n          file: file,\n          errors: errors.filter(function (e) {\n            return e;\n          })\n        });\n      }\n    });\n\n    if (!multiple && acceptedFiles.length > 1 || multiple && maxFiles >= 1 && acceptedFiles.length > maxFiles) {\n      // Reject everything and empty accepted files\n      acceptedFiles.forEach(function (file) {\n        fileRejections.push({\n          file: file,\n          errors: [TOO_MANY_FILES_REJECTION]\n        });\n      });\n      acceptedFiles.splice(0);\n    }\n\n    dispatch({\n      acceptedFiles: acceptedFiles,\n      fileRejections: fileRejections,\n      type: \"setFiles\"\n    });\n\n    if (onDrop) {\n      onDrop(acceptedFiles, fileRejections, event);\n    }\n\n    if (fileRejections.length > 0 && onDropRejected) {\n      onDropRejected(fileRejections, event);\n    }\n\n    if (acceptedFiles.length > 0 && onDropAccepted) {\n      onDropAccepted(acceptedFiles, event);\n    }\n  }, [dispatch, multiple, accept, minSize, maxSize, maxFiles, onDrop, onDropAccepted, onDropRejected, validator]);\n  var onDropCb = useCallback(function (event) {\n    event.preventDefault(); // Persist here because we need the event later after getFilesFromEvent() is done\n\n    event.persist();\n    stopPropagation(event);\n    dragTargetsRef.current = [];\n\n    if (isEvtWithFiles(event)) {\n      Promise.resolve(getFilesFromEvent(event)).then(function (files) {\n        if (isPropagationStopped(event) && !noDragEventsBubbling) {\n          return;\n        }\n\n        setFiles(files, event);\n      });\n    }\n\n    dispatch({\n      type: \"reset\"\n    });\n  }, [getFilesFromEvent, setFiles, noDragEventsBubbling]); // Fn for opening the file dialog programmatically\n\n  var openFileDialog = useCallback(function () {\n    // No point to use FS access APIs if context is not secure\n    // https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts#feature_detection\n    if (fsAccessApiWorksRef.current) {\n      dispatch({\n        type: \"openDialog\"\n      });\n      onFileDialogOpenCb(); // https://developer.mozilla.org/en-US/docs/Web/API/window/showOpenFilePicker\n\n      var opts = {\n        multiple: multiple,\n        types: filePickerOptionsTypes(accept)\n      };\n      window.showOpenFilePicker(opts).then(function (handles) {\n        return getFilesFromEvent(handles);\n      }).then(function (files) {\n        setFiles(files, null);\n        dispatch({\n          type: \"closeDialog\"\n        });\n      }).catch(function (e) {\n        // AbortError means the user canceled\n        if (isAbort(e)) {\n          onFileDialogCancelCb(e);\n          dispatch({\n            type: \"closeDialog\"\n          });\n        } else if (isSecurityError(e)) {\n          fsAccessApiWorksRef.current = false; // CORS, so cannot use this API\n          // Try using the input\n\n          if (inputRef.current) {\n            inputRef.current.value = null;\n            inputRef.current.click();\n          }\n        }\n      });\n      return;\n    }\n\n    if (inputRef.current) {\n      dispatch({\n        type: \"openDialog\"\n      });\n      onFileDialogOpenCb();\n      inputRef.current.value = null;\n      inputRef.current.click();\n    }\n  }, [dispatch, onFileDialogOpenCb, onFileDialogCancelCb, useFsAccessApi, setFiles, accept, multiple]); // Cb to open the file dialog when SPACE/ENTER occurs on the dropzone\n\n  var onKeyDownCb = useCallback(function (event) {\n    // Ignore keyboard events bubbling up the DOM tree\n    if (!rootRef.current || !rootRef.current.isEqualNode(event.target)) {\n      return;\n    }\n\n    if (event.key === \" \" || event.key === \"Enter\" || event.keyCode === 32 || event.keyCode === 13) {\n      event.preventDefault();\n      openFileDialog();\n    }\n  }, [rootRef, openFileDialog]); // Update focus state for the dropzone\n\n  var onFocusCb = useCallback(function () {\n    dispatch({\n      type: \"focus\"\n    });\n  }, []);\n  var onBlurCb = useCallback(function () {\n    dispatch({\n      type: \"blur\"\n    });\n  }, []); // Cb to open the file dialog when click occurs on the dropzone\n\n  var onClickCb = useCallback(function () {\n    if (noClick) {\n      return;\n    } // In IE11/Edge the file-browser dialog is blocking, therefore, use setTimeout()\n    // to ensure React can handle state changes\n    // See: https://github.com/react-dropzone/react-dropzone/issues/450\n\n\n    if (isIeOrEdge()) {\n      setTimeout(openFileDialog, 0);\n    } else {\n      openFileDialog();\n    }\n  }, [noClick, openFileDialog]);\n\n  var composeHandler = function composeHandler(fn) {\n    return disabled ? null : fn;\n  };\n\n  var composeKeyboardHandler = function composeKeyboardHandler(fn) {\n    return noKeyboard ? null : composeHandler(fn);\n  };\n\n  var composeDragHandler = function composeDragHandler(fn) {\n    return noDrag ? null : composeHandler(fn);\n  };\n\n  var stopPropagation = function stopPropagation(event) {\n    if (noDragEventsBubbling) {\n      event.stopPropagation();\n    }\n  };\n\n  var getRootProps = useMemo(function () {\n    return function () {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref2$refKey = _ref2.refKey,\n          refKey = _ref2$refKey === void 0 ? \"ref\" : _ref2$refKey,\n          role = _ref2.role,\n          onKeyDown = _ref2.onKeyDown,\n          onFocus = _ref2.onFocus,\n          onBlur = _ref2.onBlur,\n          onClick = _ref2.onClick,\n          onDragEnter = _ref2.onDragEnter,\n          onDragOver = _ref2.onDragOver,\n          onDragLeave = _ref2.onDragLeave,\n          onDrop = _ref2.onDrop,\n          rest = _objectWithoutProperties(_ref2, _excluded3);\n\n      return _objectSpread(_objectSpread(_defineProperty({\n        onKeyDown: composeKeyboardHandler(composeEventHandlers(onKeyDown, onKeyDownCb)),\n        onFocus: composeKeyboardHandler(composeEventHandlers(onFocus, onFocusCb)),\n        onBlur: composeKeyboardHandler(composeEventHandlers(onBlur, onBlurCb)),\n        onClick: composeHandler(composeEventHandlers(onClick, onClickCb)),\n        onDragEnter: composeDragHandler(composeEventHandlers(onDragEnter, onDragEnterCb)),\n        onDragOver: composeDragHandler(composeEventHandlers(onDragOver, onDragOverCb)),\n        onDragLeave: composeDragHandler(composeEventHandlers(onDragLeave, onDragLeaveCb)),\n        onDrop: composeDragHandler(composeEventHandlers(onDrop, onDropCb)),\n        role: typeof role === \"string\" && role !== \"\" ? role : \"button\"\n      }, refKey, rootRef), !disabled && !noKeyboard ? {\n        tabIndex: 0\n      } : {}), rest);\n    };\n  }, [rootRef, onKeyDownCb, onFocusCb, onBlurCb, onClickCb, onDragEnterCb, onDragOverCb, onDragLeaveCb, onDropCb, noKeyboard, noDrag, disabled]);\n  var onInputElementClick = useCallback(function (event) {\n    event.stopPropagation();\n  }, []);\n  var getInputProps = useMemo(function () {\n    return function () {\n      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref3$refKey = _ref3.refKey,\n          refKey = _ref3$refKey === void 0 ? \"ref\" : _ref3$refKey,\n          onChange = _ref3.onChange,\n          onClick = _ref3.onClick,\n          rest = _objectWithoutProperties(_ref3, _excluded4);\n\n      var inputProps = _defineProperty({\n        accept: accept,\n        multiple: multiple,\n        type: \"file\",\n        style: {\n          display: \"none\"\n        },\n        onChange: composeHandler(composeEventHandlers(onChange, onDropCb)),\n        onClick: composeHandler(composeEventHandlers(onClick, onInputElementClick)),\n        tabIndex: -1\n      }, refKey, inputRef);\n\n      return _objectSpread(_objectSpread({}, inputProps), rest);\n    };\n  }, [inputRef, accept, multiple, onDropCb, disabled]);\n  var fileCount = draggedFiles.length;\n  var isDragAccept = fileCount > 0 && allFilesAccepted({\n    files: draggedFiles,\n    accept: accept,\n    minSize: minSize,\n    maxSize: maxSize,\n    multiple: multiple,\n    maxFiles: maxFiles\n  });\n  var isDragReject = fileCount > 0 && !isDragAccept;\n  return _objectSpread(_objectSpread({}, state), {}, {\n    isDragAccept: isDragAccept,\n    isDragReject: isDragReject,\n    isFocused: isFocused && !disabled,\n    getRootProps: getRootProps,\n    getInputProps: getInputProps,\n    rootRef: rootRef,\n    inputRef: inputRef,\n    open: composeHandler(openFileDialog)\n  });\n}\n\nfunction reducer(state, action) {\n  /* istanbul ignore next */\n  switch (action.type) {\n    case \"focus\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isFocused: true\n      });\n\n    case \"blur\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isFocused: false\n      });\n\n    case \"openDialog\":\n      return _objectSpread(_objectSpread({}, initialState), {}, {\n        isFileDialogActive: true\n      });\n\n    case \"closeDialog\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isFileDialogActive: false\n      });\n\n    case \"setDraggedFiles\":\n      /* eslint no-case-declarations: 0 */\n      var isDragActive = action.isDragActive,\n          draggedFiles = action.draggedFiles;\n      return _objectSpread(_objectSpread({}, state), {}, {\n        draggedFiles: draggedFiles,\n        isDragActive: isDragActive\n      });\n\n    case \"setFiles\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        acceptedFiles: action.acceptedFiles,\n        fileRejections: action.fileRejections\n      });\n\n    case \"reset\":\n      return _objectSpread({}, initialState);\n\n    default:\n      return state;\n  }\n}\n\nfunction noop() {}\n\nexport { ErrorCode } from \"./utils\";","var __defProp$1 = Object.defineProperty;\nvar __getOwnPropSymbols$1 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$1 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$1 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$1 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$1.call(b, prop))\n      __defNormalProp$1(a, prop, b[prop]);\n  if (__getOwnPropSymbols$1)\n    for (var prop of __getOwnPropSymbols$1(b)) {\n      if (__propIsEnum$1.call(b, prop))\n        __defNormalProp$1(a, prop, b[prop]);\n    }\n  return a;\n};\nconst redux = (reducer, initial) => (set, get, api) => {\n  api.dispatch = (action) => {\n    set((state) => reducer(state, action), false, action);\n    return action;\n  };\n  api.dispatchFromDevtools = true;\n  return __spreadValues$1({ dispatch: (...a) => api.dispatch(...a) }, initial);\n};\n\nfunction devtools(fn, options) {\n  return (set, get, api) => {\n    var _a;\n    let didWarnAboutNameDeprecation = false;\n    if (typeof options === \"string\" && !didWarnAboutNameDeprecation) {\n      console.warn(\"[zustand devtools middleware]: passing `name` as directly will be not allowed in next majorpass the `name` in an object `{ name: ... }` instead\");\n      didWarnAboutNameDeprecation = true;\n    }\n    const devtoolsOptions = options === void 0 ? { name: void 0, anonymousActionType: void 0 } : typeof options === \"string\" ? { name: options } : options;\n    if (typeof ((_a = devtoolsOptions == null ? void 0 : devtoolsOptions.serialize) == null ? void 0 : _a.options) !== \"undefined\") {\n      console.warn(\"[zustand devtools middleware]: `serialize.options` is deprecated, just use `serialize`\");\n    }\n    let extensionConnector;\n    try {\n      extensionConnector = window.__REDUX_DEVTOOLS_EXTENSION__ || window.top.__REDUX_DEVTOOLS_EXTENSION__;\n    } catch {\n    }\n    if (!extensionConnector) {\n      if ((import.meta.env && import.meta.env.MODE) !== \"production\" && typeof window !== \"undefined\") {\n        console.warn(\"[zustand devtools middleware] Please install/enable Redux devtools extension\");\n      }\n      return fn(set, get, api);\n    }\n    let extension = Object.create(extensionConnector.connect(devtoolsOptions));\n    let didWarnAboutDevtools = false;\n    Object.defineProperty(api, \"devtools\", {\n      get: () => {\n        if (!didWarnAboutDevtools) {\n          console.warn(\"[zustand devtools middleware] `devtools` property on the store is deprecated it will be removed in the next major.\\nYou shouldn't interact with the extension directly. But in case you still want to you can patch `window.__REDUX_DEVTOOLS_EXTENSION__` directly\");\n          didWarnAboutDevtools = true;\n        }\n        return extension;\n      },\n      set: (value) => {\n        if (!didWarnAboutDevtools) {\n          console.warn(\"[zustand devtools middleware] `api.devtools` is deprecated, it will be removed in the next major.\\nYou shouldn't interact with the extension directly. But in case you still want to you can patch `window.__REDUX_DEVTOOLS_EXTENSION__` directly\");\n          didWarnAboutDevtools = true;\n        }\n        extension = value;\n      }\n    });\n    let didWarnAboutPrefix = false;\n    Object.defineProperty(extension, \"prefix\", {\n      get: () => {\n        if (!didWarnAboutPrefix) {\n          console.warn(\"[zustand devtools middleware] along with `api.devtools`, `api.devtools.prefix` is deprecated.\\nWe no longer prefix the actions/names\" + devtoolsOptions.name === void 0 ? \", pass the `name` option to create a separate instance of devtools for each store.\" : \", because the `name` option already creates a separate instance of devtools for each store.\");\n          didWarnAboutPrefix = true;\n        }\n        return \"\";\n      },\n      set: () => {\n        if (!didWarnAboutPrefix) {\n          console.warn(\"[zustand devtools middleware] along with `api.devtools`, `api.devtools.prefix` is deprecated.\\nWe no longer prefix the actions/names\" + devtoolsOptions.name === void 0 ? \", pass the `name` option to create a separate instance of devtools for each store.\" : \", because the `name` option already creates a separate instance of devtools for each store.\");\n          didWarnAboutPrefix = true;\n        }\n      }\n    });\n    let isRecording = true;\n    api.setState = (state, replace, nameOrAction) => {\n      set(state, replace);\n      if (!isRecording)\n        return;\n      extension.send(nameOrAction === void 0 ? { type: devtoolsOptions.anonymousActionType || \"anonymous\" } : typeof nameOrAction === \"string\" ? { type: nameOrAction } : nameOrAction, get());\n    };\n    const setStateFromDevtools = (...a) => {\n      const originalIsRecording = isRecording;\n      isRecording = false;\n      set(...a);\n      isRecording = originalIsRecording;\n    };\n    const initialState = fn(api.setState, get, api);\n    extension.init(initialState);\n    if (api.dispatchFromDevtools && typeof api.dispatch === \"function\") {\n      let didWarnAboutReservedActionType = false;\n      const originalDispatch = api.dispatch;\n      api.dispatch = (...a) => {\n        if (a[0].type === \"__setState\" && !didWarnAboutReservedActionType) {\n          console.warn('[zustand devtools middleware] \"__setState\" action type is reserved to set state from the devtools. Avoid using it.');\n          didWarnAboutReservedActionType = true;\n        }\n        originalDispatch(...a);\n      };\n    }\n    extension.subscribe((message) => {\n      var _a2;\n      switch (message.type) {\n        case \"ACTION\":\n          if (typeof message.payload !== \"string\") {\n            console.error(\"[zustand devtools middleware] Unsupported action format\");\n            return;\n          }\n          return parseJsonThen(message.payload, (action) => {\n            if (action.type === \"__setState\") {\n              setStateFromDevtools(action.state);\n              return;\n            }\n            if (!api.dispatchFromDevtools)\n              return;\n            if (typeof api.dispatch !== \"function\")\n              return;\n            api.dispatch(action);\n          });\n        case \"DISPATCH\":\n          switch (message.payload.type) {\n            case \"RESET\":\n              setStateFromDevtools(initialState);\n              return extension.init(api.getState());\n            case \"COMMIT\":\n              return extension.init(api.getState());\n            case \"ROLLBACK\":\n              return parseJsonThen(message.state, (state) => {\n                setStateFromDevtools(state);\n                extension.init(api.getState());\n              });\n            case \"JUMP_TO_STATE\":\n            case \"JUMP_TO_ACTION\":\n              return parseJsonThen(message.state, (state) => {\n                setStateFromDevtools(state);\n              });\n            case \"IMPORT_STATE\": {\n              const { nextLiftedState } = message.payload;\n              const lastComputedState = (_a2 = nextLiftedState.computedStates.slice(-1)[0]) == null ? void 0 : _a2.state;\n              if (!lastComputedState)\n                return;\n              setStateFromDevtools(lastComputedState);\n              extension.send(null, nextLiftedState);\n              return;\n            }\n            case \"PAUSE_RECORDING\":\n              return isRecording = !isRecording;\n          }\n          return;\n      }\n    });\n    return initialState;\n  };\n}\nconst parseJsonThen = (stringified, f) => {\n  let parsed;\n  try {\n    parsed = JSON.parse(stringified);\n  } catch (e) {\n    console.error(\"[zustand devtools middleware] Could not parse the received json\", e);\n  }\n  if (parsed !== void 0)\n    f(parsed);\n};\n\nconst subscribeWithSelector = (fn) => (set, get, api) => {\n  const origSubscribe = api.subscribe;\n  api.subscribe = (selector, optListener, options) => {\n    let listener = selector;\n    if (optListener) {\n      const equalityFn = (options == null ? void 0 : options.equalityFn) || Object.is;\n      let currentSlice = selector(api.getState());\n      listener = (state) => {\n        const nextSlice = selector(state);\n        if (!equalityFn(currentSlice, nextSlice)) {\n          const previousSlice = currentSlice;\n          optListener(currentSlice = nextSlice, previousSlice);\n        }\n      };\n      if (options == null ? void 0 : options.fireImmediately) {\n        optListener(currentSlice, currentSlice);\n      }\n    }\n    return origSubscribe(listener);\n  };\n  const initialState = fn(set, get, api);\n  return initialState;\n};\n\nconst combine = (initialState, create) => (set, get, api) => Object.assign({}, initialState, create(set, get, api));\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nconst toThenable = (fn) => (input) => {\n  try {\n    const result = fn(input);\n    if (result instanceof Promise) {\n      return result;\n    }\n    return {\n      then(onFulfilled) {\n        return toThenable(onFulfilled)(result);\n      },\n      catch(_onRejected) {\n        return this;\n      }\n    };\n  } catch (e) {\n    return {\n      then(_onFulfilled) {\n        return this;\n      },\n      catch(onRejected) {\n        return toThenable(onRejected)(e);\n      }\n    };\n  }\n};\nconst persist = (config, baseOptions) => (set, get, api) => {\n  let options = __spreadValues({\n    getStorage: () => localStorage,\n    serialize: JSON.stringify,\n    deserialize: JSON.parse,\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => __spreadValues(__spreadValues({}, currentState), persistedState)\n  }, baseOptions);\n  if (options.blacklist || options.whitelist) {\n    console.warn(`The ${options.blacklist ? \"blacklist\" : \"whitelist\"} option is deprecated and will be removed in the next version. Please use the 'partialize' option instead.`);\n  }\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage;\n  try {\n    storage = options.getStorage();\n  } catch (e) {\n  }\n  if (!storage) {\n    return config((...args) => {\n      console.warn(`[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`);\n      set(...args);\n    }, get, api);\n  } else if (!storage.removeItem) {\n    console.warn(`[zustand persist middleware] The given storage for item '${options.name}' does not contain a 'removeItem' method, which will be required in v4.`);\n  }\n  const thenableSerialize = toThenable(options.serialize);\n  const setItem = () => {\n    const state = options.partialize(__spreadValues({}, get()));\n    if (options.whitelist) {\n      Object.keys(state).forEach((key) => {\n        var _a;\n        !((_a = options.whitelist) == null ? void 0 : _a.includes(key)) && delete state[key];\n      });\n    }\n    if (options.blacklist) {\n      options.blacklist.forEach((key) => delete state[key]);\n    }\n    let errorInSync;\n    const thenable = thenableSerialize({ state, version: options.version }).then((serializedValue) => storage.setItem(options.name, serializedValue)).catch((e) => {\n      errorInSync = e;\n    });\n    if (errorInSync) {\n      throw errorInSync;\n    }\n    return thenable;\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config((...args) => {\n    set(...args);\n    void setItem();\n  }, get, api);\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a;\n    if (!storage)\n      return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => cb(get()));\n    const postRehydrationCallback = ((_a = options.onRehydrateStorage) == null ? void 0 : _a.call(options, get())) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((storageValue) => {\n      if (storageValue) {\n        return options.deserialize(storageValue);\n      }\n    }).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            return options.migrate(deserializedStorageValue.state, deserializedStorageValue.version);\n          }\n          console.error(`State loaded from storage couldn't be migrated since no migrate function was provided`);\n        } else {\n          return deserializedStorageValue.state;\n        }\n      }\n    }).then((migratedState) => {\n      var _a2;\n      stateFromStorage = options.merge(migratedState, (_a2 = get()) != null ? _a2 : configResult);\n      set(stateFromStorage, true);\n      return setItem();\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = __spreadValues(__spreadValues({}, options), newOptions);\n      if (newOptions.getStorage) {\n        storage = newOptions.getStorage();\n      }\n    },\n    clearStorage: () => {\n      var _a;\n      (_a = storage == null ? void 0 : storage.removeItem) == null ? void 0 : _a.call(storage, options.name);\n    },\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  hydrate();\n  return stateFromStorage || configResult;\n};\n\nexport { combine, devtools, persist, redux, subscribeWithSelector };\n","import { p as pick, _ as _objectSpread2, o as omit, s as styled, u as useInputContext, R as Row, L as Label, V as ValueInput, P as Portal, O as Overlay, c as createInternalPlugin, a as Vector, g as getVectorPlugin, b as useTransform, d as useTh, e as useDrag, f as _extends, m as multiplyStep, h as clamp, i as _objectWithoutProperties, n as normalizeKeyedNumberSettings, j as invertedRange, k as sanitizeStep, r as range, l as RangeWrapper, q as Range, I as Indicator, S as Scrubber, t as getUid, v as SpecialInputs, w as warn, x as LevaErrors, y as updateInput, z as normalizeInput, A as StyledTitle, C as Chevron, B as useInputSetters, D as Plugins, E as InputContext, F as StyledInputWrapper, G as useStoreContext, H as useCanvas2d, J as useInput, K as log, M as StyledWrapper, N as StyledContent, Q as StyledFolder, T as StyledInputRow, U as debounce, W as globalStyles, X as PanelSettingsContext, Y as StoreContext, Z as mergeTheme, $ as ThemeContext, a0 as register, a1 as LevaInputs, a2 as select, a3 as number$1, a4 as string, a5 as boolean } from './vector-plugin-fa777510.esm.js';\nexport { a1 as LevaInputs, a6 as LevaStoreProvider, G as useStoreContext } from './vector-plugin-fa777510.esm.js';\nimport v8n from 'v8n';\nimport { extend, colord, getFormat } from 'colord';\nimport namesPlugin from 'colord/plugins/names';\nimport { dequal } from 'dequal/lite';\nimport React, { useRef, useMemo, useLayoutEffect, useEffect, useState, useCallback, forwardRef, useImperativeHandle } from 'react';\nimport { RgbaColorPicker, RgbColorPicker } from 'react-colorful';\nimport shallow from 'zustand/shallow';\nimport '@use-gesture/react';\nimport '@radix-ui/react-portal';\nimport '@radix-ui/react-tooltip';\nimport { useDropzone } from 'react-dropzone';\nimport create from 'zustand';\nimport { subscribeWithSelector } from 'zustand/middleware';\nimport ReactDOM from 'react-dom';\nimport merge from 'merge-value';\nimport '@stitches/react';\n\nconst join = (...args) => args.filter(Boolean).join('.');\nfunction getKeyPath(path) {\n  const dir = path.split('.');\n  return [dir.pop(), dir.join('.') || undefined];\n}\n\nfunction getValuesForPaths(data, paths) {\n  return Object.entries(pick(data, paths)).reduce((acc, [, {\n    value,\n    disabled,\n    key\n  }]) => {\n    acc[key] = disabled ? undefined : value;\n    return acc;\n  }, {});\n}\n\nfunction useCompareMemoize(value, deep) {\n  const ref = useRef();\n  const compare = deep ? dequal : shallow;\n\n  if (!compare(value, ref.current)) {\n    ref.current = value;\n  }\n\n  return ref.current;\n}\n\nfunction useDeepMemo(fn, deps) {\n  return useMemo(fn, useCompareMemoize(deps, true));\n}\n\nfunction useToggle(toggled) {\n  const wrapperRef = useRef(null);\n  const contentRef = useRef(null);\n  const firstRender = useRef(true);\n  useLayoutEffect(() => {\n    if (!toggled) {\n      wrapperRef.current.style.height = '0px';\n      wrapperRef.current.style.overflow = 'hidden';\n    }\n  }, []);\n  useEffect(() => {\n    if (firstRender.current) {\n      firstRender.current = false;\n      return;\n    }\n\n    let timeout;\n    const ref = wrapperRef.current;\n\n    const fixHeight = () => {\n      if (toggled) {\n        ref.style.removeProperty('height');\n        ref.style.removeProperty('overflow');\n        contentRef.current.scrollIntoView({\n          behavior: 'smooth',\n          block: 'nearest'\n        });\n      }\n    };\n\n    ref.addEventListener('transitionend', fixHeight, {\n      once: true\n    });\n    const {\n      height\n    } = contentRef.current.getBoundingClientRect();\n    ref.style.height = height + 'px';\n\n    if (!toggled) {\n      ref.style.overflow = 'hidden';\n      timeout = window.setTimeout(() => ref.style.height = '0px', 50);\n    }\n\n    return () => {\n      ref.removeEventListener('transitionend', fixHeight);\n      clearTimeout(timeout);\n    };\n  }, [toggled]);\n  return {\n    wrapperRef,\n    contentRef\n  };\n}\n\nconst useVisiblePaths = store => {\n  const [paths, setPaths] = useState(store.getVisiblePaths());\n  useEffect(() => {\n    setPaths(store.getVisiblePaths());\n    const unsub = store.useStore.subscribe(store.getVisiblePaths, setPaths, {\n      equalityFn: shallow\n    });\n    return () => unsub();\n  }, [store]);\n  return paths;\n};\n\nfunction useValuesForPath(store, paths, initialData) {\n  const valuesForPath = store.useStore(s => {\n    const data = _objectSpread2(_objectSpread2({}, initialData), s.data);\n\n    return getValuesForPaths(data, paths);\n  }, shallow);\n  return valuesForPath;\n}\n\nfunction usePopin(margin = 3) {\n  const popinRef = useRef(null);\n  const wrapperRef = useRef(null);\n  const [shown, setShow] = useState(false);\n  const show = useCallback(() => setShow(true), []);\n  const hide = useCallback(() => setShow(false), []);\n  useLayoutEffect(() => {\n    if (shown) {\n      const {\n        bottom,\n        top,\n        left\n      } = popinRef.current.getBoundingClientRect();\n      const {\n        height\n      } = wrapperRef.current.getBoundingClientRect();\n      const direction = bottom + height > window.innerHeight - 40 ? 'up' : 'down';\n      wrapperRef.current.style.position = 'fixed';\n      wrapperRef.current.style.zIndex = '10000';\n      wrapperRef.current.style.left = left + 'px';\n      if (direction === 'down') wrapperRef.current.style.top = bottom + margin + 'px';else wrapperRef.current.style.bottom = window.innerHeight - top + margin + 'px';\n    }\n  }, [margin, shown]);\n  return {\n    popinRef,\n    wrapperRef,\n    shown,\n    show,\n    hide\n  };\n}\n\nextend([namesPlugin]);\nconst convertMap = {\n  rgb: 'toRgb',\n  hsl: 'toHsl',\n  hsv: 'toHsv',\n  hex: 'toHex'\n};\nv8n.extend({\n  color: () => value => colord(value).isValid()\n});\nconst schema$2 = o => v8n().color().test(o);\n\nfunction convert(color, {\n  format,\n  hasAlpha,\n  isString\n}) {\n  const convertFn = convertMap[format] + (isString && format !== 'hex' ? 'String' : '');\n  const result = color[convertFn]();\n  return typeof result === 'object' && !hasAlpha ? omit(result, ['a']) : result;\n}\n\nconst sanitize$2 = (v, settings) => {\n  const color = colord(v);\n  if (!color.isValid()) throw Error('Invalid color');\n  return convert(color, settings);\n};\nconst format$1 = (v, settings) => {\n  return convert(colord(v), _objectSpread2(_objectSpread2({}, settings), {}, {\n    isString: true,\n    format: 'hex'\n  }));\n};\nconst normalize$3 = ({\n  value\n}) => {\n  const _f = getFormat(value);\n\n  const format = _f === 'name' ? 'hex' : _f;\n  const hasAlpha = typeof value === 'object' ? 'a' in value : _f === 'hex' && value.length === 8 || /^(rgba)|(hsla)|(hsva)/.test(value);\n  const settings = {\n    format,\n    hasAlpha,\n    isString: typeof value === 'string'\n  };\n  return {\n    value: sanitize$2(value, settings),\n    settings\n  };\n};\n\nvar props$2 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  schema: schema$2,\n  sanitize: sanitize$2,\n  format: format$1,\n  normalize: normalize$3\n});\n\nconst ColorPreview = styled('div', {\n  position: 'relative',\n  boxSizing: 'border-box',\n  borderRadius: '$sm',\n  overflow: 'hidden',\n  cursor: 'pointer',\n  height: '$rowHeight',\n  width: '$rowHeight',\n  backgroundColor: '#fff',\n  backgroundImage: `url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill-opacity=\".05\"><path d=\"M8 0h8v8H8zM0 8h8v8H0z\"/></svg>')`,\n  $inputStyle: '',\n  $hover: '',\n  zIndex: 1,\n  variants: {\n    active: {\n      true: {\n        $inputStyle: '$accent1'\n      }\n    }\n  },\n  '&::before': {\n    content: '\"\"',\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    right: 0,\n    left: 0,\n    backgroundColor: 'currentColor',\n    zIndex: 1\n  }\n});\nconst PickerContainer = styled('div', {\n  position: 'relative',\n  display: 'grid',\n  gridTemplateColumns: '$sizes$rowHeight auto',\n  columnGap: '$colGap',\n  alignItems: 'center'\n});\nconst PickerWrapper = styled('div', {\n  width: '$colorPickerWidth',\n  height: '$colorPickerHeight',\n  '.react-colorful': {\n    width: '100%',\n    height: '100%',\n    boxShadow: '$level2',\n    cursor: 'crosshair'\n  },\n  '.react-colorful__saturation': {\n    borderRadius: '$sm $sm 0 0'\n  },\n  '.react-colorful__alpha, .react-colorful__hue': {\n    height: 10\n  },\n  '.react-colorful__last-control': {\n    borderRadius: '0 0 $sm $sm'\n  },\n  '.react-colorful__pointer': {\n    height: 12,\n    width: 12\n  }\n});\n\nfunction convertToRgb(value, format) {\n  return format !== 'rgb' ? colord(value).toRgb() : value;\n}\n\nfunction Color({\n  value,\n  displayValue,\n  settings,\n  onUpdate\n}) {\n  const {\n    emitOnEditStart,\n    emitOnEditEnd\n  } = useInputContext();\n  const {\n    format,\n    hasAlpha\n  } = settings;\n  const {\n    popinRef,\n    wrapperRef,\n    shown,\n    show,\n    hide\n  } = usePopin();\n  const timer = useRef(0);\n  const [initialRgb, setInitialRgb] = useState(() => convertToRgb(value, format));\n  const ColorPicker = hasAlpha ? RgbaColorPicker : RgbColorPicker;\n\n  const showPicker = () => {\n    setInitialRgb(convertToRgb(value, format));\n    show();\n    emitOnEditStart();\n  };\n\n  const hidePicker = () => {\n    hide();\n    emitOnEditEnd();\n    window.clearTimeout(timer.current);\n  };\n\n  const hideAfterDelay = () => {\n    timer.current = window.setTimeout(hidePicker, 500);\n  };\n\n  useEffect(() => {\n    return () => window.clearTimeout(timer.current);\n  }, []);\n  return React.createElement(React.Fragment, null, React.createElement(ColorPreview, {\n    ref: popinRef,\n    active: shown,\n    onClick: () => showPicker(),\n    style: {\n      color: displayValue\n    }\n  }), shown && React.createElement(Portal, null, React.createElement(Overlay, {\n    onPointerUp: hidePicker\n  }), React.createElement(PickerWrapper, {\n    ref: wrapperRef,\n    onMouseEnter: () => window.clearTimeout(timer.current),\n    onMouseLeave: e => e.buttons === 0 && hideAfterDelay()\n  }, React.createElement(ColorPicker, {\n    color: initialRgb,\n    onChange: onUpdate\n  }))));\n}\nfunction ColorComponent() {\n  const {\n    value,\n    displayValue,\n    label,\n    onChange,\n    onUpdate,\n    settings\n  } = useInputContext();\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(PickerContainer, null, React.createElement(Color, {\n    value: value,\n    displayValue: displayValue,\n    onChange: onChange,\n    onUpdate: onUpdate,\n    settings: settings\n  }), React.createElement(ValueInput, {\n    value: displayValue,\n    onChange: onChange,\n    onUpdate: onUpdate\n  })));\n}\n\nvar color = createInternalPlugin(_objectSpread2({\n  component: ColorComponent\n}, props$2));\n\nfunction Vector3dComponent() {\n  const {\n    label,\n    displayValue,\n    onUpdate,\n    settings\n  } = useInputContext();\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(Vector, {\n    value: displayValue,\n    settings: settings,\n    onUpdate: onUpdate\n  }));\n}\n\nvar vector3d = createInternalPlugin(_objectSpread2({\n  component: Vector3dComponent\n}, getVectorPlugin(['x', 'y', 'z'])));\n\nconst JoystickTrigger = styled('div', {\n  $flexCenter: '',\n  position: 'relative',\n  backgroundColor: '$elevation3',\n  borderRadius: '$sm',\n  cursor: 'pointer',\n  height: '$rowHeight',\n  width: '$rowHeight',\n  touchAction: 'none',\n  $draggable: '',\n  $hover: '',\n  '&:active': {\n    cursor: 'none'\n  },\n  '&::after': {\n    content: '\"\"',\n    backgroundColor: '$accent2',\n    height: 4,\n    width: 4,\n    borderRadius: 2\n  }\n});\nconst JoystickPlayground = styled('div', {\n  $flexCenter: '',\n  width: '$joystickWidth',\n  height: '$joystickHeight',\n  borderRadius: '$sm',\n  boxShadow: '$level2',\n  position: 'fixed',\n  zIndex: 10000,\n  overflow: 'hidden',\n  $draggable: '',\n  transform: 'translate(-50%, -50%)',\n  variants: {\n    isOutOfBounds: {\n      true: {\n        backgroundColor: '$elevation1'\n      },\n      false: {\n        backgroundColor: '$elevation3'\n      }\n    }\n  },\n  '> div': {\n    position: 'absolute',\n    $flexCenter: '',\n    borderStyle: 'solid',\n    borderWidth: 1,\n    borderColor: '$highlight1',\n    backgroundColor: '$elevation3',\n    width: '80%',\n    height: '80%',\n    '&::after,&::before': {\n      content: '\"\"',\n      position: 'absolute',\n      zindex: 10,\n      backgroundColor: '$highlight1'\n    },\n    '&::before': {\n      width: '100%',\n      height: 1\n    },\n    '&::after': {\n      height: '100%',\n      width: 1\n    }\n  },\n  '> span': {\n    position: 'relative',\n    zindex: 100,\n    width: 10,\n    height: 10,\n    backgroundColor: '$accent2',\n    borderRadius: '50%'\n  }\n});\n\nfunction Joystick({\n  value,\n  settings,\n  onUpdate\n}) {\n  const timeout = useRef();\n  const outOfBoundsX = useRef(0);\n  const outOfBoundsY = useRef(0);\n  const stepMultiplier = useRef(1);\n  const [joystickShown, setShowJoystick] = useState(false);\n  const [isOutOfBounds, setIsOutOfBounds] = useState(false);\n  const [spanRef, set] = useTransform();\n  const joystickeRef = useRef(null);\n  const playgroundRef = useRef(null);\n  useLayoutEffect(() => {\n    if (joystickShown) {\n      const {\n        top,\n        left,\n        width,\n        height\n      } = joystickeRef.current.getBoundingClientRect();\n      playgroundRef.current.style.left = left + width / 2 + 'px';\n      playgroundRef.current.style.top = top + height / 2 + 'px';\n    }\n  }, [joystickShown]);\n  const {\n    keys: [v1, v2],\n    joystick\n  } = settings;\n  const yFactor = joystick === 'invertY' ? 1 : -1;\n  const {\n    [v1]: {\n      step: stepV1\n    },\n    [v2]: {\n      step: stepV2\n    }\n  } = settings;\n  const wpx = useTh('sizes', 'joystickWidth');\n  const hpx = useTh('sizes', 'joystickHeight');\n  const w = parseFloat(wpx) * 0.8 / 2;\n  const h = parseFloat(hpx) * 0.8 / 2;\n  const startOutOfBounds = useCallback(() => {\n    if (timeout.current) return;\n    setIsOutOfBounds(true);\n    if (outOfBoundsX.current) set({\n      x: outOfBoundsX.current * w\n    });\n    if (outOfBoundsY.current) set({\n      y: outOfBoundsY.current * -h\n    });\n    timeout.current = window.setInterval(() => {\n      onUpdate(v => {\n        const incX = stepV1 * outOfBoundsX.current * stepMultiplier.current;\n        const incY = yFactor * stepV2 * outOfBoundsY.current * stepMultiplier.current;\n        return Array.isArray(v) ? {\n          [v1]: v[0] + incX,\n          [v2]: v[1] + incY\n        } : {\n          [v1]: v[v1] + incX,\n          [v2]: v[v2] + incY\n        };\n      });\n    }, 16);\n  }, [w, h, onUpdate, set, stepV1, stepV2, v1, v2, yFactor]);\n  const endOutOfBounds = useCallback(() => {\n    window.clearTimeout(timeout.current);\n    timeout.current = undefined;\n    setIsOutOfBounds(false);\n  }, []);\n  useEffect(() => {\n    function setStepMultiplier(event) {\n      stepMultiplier.current = multiplyStep(event);\n    }\n\n    window.addEventListener('keydown', setStepMultiplier);\n    window.addEventListener('keyup', setStepMultiplier);\n    return () => {\n      window.clearTimeout(timeout.current);\n      window.removeEventListener('keydown', setStepMultiplier);\n      window.removeEventListener('keyup', setStepMultiplier);\n    };\n  }, []);\n  const bind = useDrag(({\n    first,\n    active,\n    delta: [dx, dy],\n    movement: [mx, my]\n  }) => {\n    if (first) setShowJoystick(true);\n\n    const _x = clamp(mx, -w, w);\n\n    const _y = clamp(my, -h, h);\n\n    outOfBoundsX.current = Math.abs(mx) > Math.abs(_x) ? Math.sign(mx - _x) : 0;\n    outOfBoundsY.current = Math.abs(my) > Math.abs(_y) ? Math.sign(_y - my) : 0;\n    let newX = value[v1];\n    let newY = value[v2];\n\n    if (active) {\n      if (!outOfBoundsX.current) {\n        newX += dx * stepV1 * stepMultiplier.current;\n        set({\n          x: _x\n        });\n      }\n\n      if (!outOfBoundsY.current) {\n        newY -= yFactor * dy * stepV2 * stepMultiplier.current;\n        set({\n          y: _y\n        });\n      }\n\n      if (outOfBoundsX.current || outOfBoundsY.current) startOutOfBounds();else endOutOfBounds();\n      onUpdate({\n        [v1]: newX,\n        [v2]: newY\n      });\n    } else {\n      setShowJoystick(false);\n      outOfBoundsX.current = 0;\n      outOfBoundsY.current = 0;\n      set({\n        x: 0,\n        y: 0\n      });\n      endOutOfBounds();\n    }\n  });\n  return React.createElement(JoystickTrigger, _extends({\n    ref: joystickeRef\n  }, bind()), joystickShown && React.createElement(Portal, null, React.createElement(JoystickPlayground, {\n    ref: playgroundRef,\n    isOutOfBounds: isOutOfBounds\n  }, React.createElement(\"div\", null), React.createElement(\"span\", {\n    ref: spanRef\n  }))));\n}\n\nconst Container$1 = styled('div', {\n  display: 'grid',\n  columnGap: '$colGap',\n  variants: {\n    withJoystick: {\n      true: {\n        gridTemplateColumns: '$sizes$rowHeight auto'\n      },\n      false: {\n        gridTemplateColumns: 'auto'\n      }\n    }\n  }\n});\nfunction Vector2dComponent() {\n  const {\n    label,\n    displayValue,\n    onUpdate,\n    settings\n  } = useInputContext();\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(Container$1, {\n    withJoystick: !!settings.joystick\n  }, settings.joystick && React.createElement(Joystick, {\n    value: displayValue,\n    settings: settings,\n    onUpdate: onUpdate\n  }), React.createElement(Vector, {\n    value: displayValue,\n    settings: settings,\n    onUpdate: onUpdate\n  })));\n}\n\nconst _excluded$7 = [\"joystick\"];\nconst plugin = getVectorPlugin(['x', 'y']);\n\nconst normalize$2 = _ref => {\n  let {\n    joystick = true\n  } = _ref,\n      input = _objectWithoutProperties(_ref, _excluded$7);\n\n  const {\n    value,\n    settings\n  } = plugin.normalize(input);\n  return {\n    value,\n    settings: _objectSpread2(_objectSpread2({}, settings), {}, {\n      joystick\n    })\n  };\n};\n\nvar vector2d = createInternalPlugin(_objectSpread2(_objectSpread2({\n  component: Vector2dComponent\n}, plugin), {}, {\n  normalize: normalize$2\n}));\n\nconst sanitize$1 = v => {\n  if (v === undefined) return undefined;\n\n  if (v instanceof File) {\n    try {\n      return URL.createObjectURL(v);\n    } catch (e) {\n      return undefined;\n    }\n  }\n\n  if (typeof v === 'string' && v.indexOf('blob:') === 0) return v;\n  throw Error(`Invalid image format [undefined | blob |File].`);\n};\nconst schema$1 = (_o, s) => typeof s === 'object' && 'image' in s;\nconst normalize$1 = ({\n  image\n}) => {\n  return {\n    value: image\n  };\n};\n\nvar props$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  sanitize: sanitize$1,\n  schema: schema$1,\n  normalize: normalize$1\n});\n\nconst ImageContainer = styled('div', {\n  position: 'relative',\n  display: 'grid',\n  gridTemplateColumns: '$sizes$rowHeight auto 20px',\n  columnGap: '$colGap',\n  alignItems: 'center'\n});\nconst DropZone = styled('div', {\n  $flexCenter: '',\n  overflow: 'hidden',\n  height: '$rowHeight',\n  background: '$elevation3',\n  textAlign: 'center',\n  color: 'inherit',\n  borderRadius: '$sm',\n  outline: 'none',\n  userSelect: 'none',\n  cursor: 'pointer',\n  $inputStyle: '',\n  $hover: '',\n  $focusWithin: '',\n  $active: '$accent1 $elevation1',\n  variants: {\n    isDragAccept: {\n      true: {\n        $inputStyle: '$accent1',\n        backgroundColor: '$elevation1'\n      }\n    }\n  }\n});\nconst ImagePreview = styled('div', {\n  boxSizing: 'border-box',\n  borderRadius: '$sm',\n  height: '$rowHeight',\n  width: '$rowHeight',\n  $inputStyle: '',\n  backgroundSize: 'cover',\n  backgroundPosition: 'center',\n  variants: {\n    hasImage: {\n      true: {\n        cursor: 'pointer',\n        $hover: '',\n        $active: ''\n      }\n    }\n  }\n});\nconst ImageLargePreview = styled('div', {\n  $flexCenter: '',\n  width: '$imagePreviewWidth',\n  height: '$imagePreviewHeight',\n  borderRadius: '$sm',\n  boxShadow: '$level2',\n  pointerEvents: 'none',\n  $inputStyle: '',\n  backgroundSize: 'cover',\n  backgroundPosition: 'center'\n});\nconst Instructions = styled('div', {\n  fontSize: '0.8em',\n  height: '100%',\n  padding: '$rowGap $md'\n});\nconst Remove = styled('div', {\n  $flexCenter: '',\n  top: '0',\n  right: '0',\n  marginRight: '$sm',\n  height: '100%',\n  cursor: 'pointer',\n  variants: {\n    disabled: {\n      true: {\n        color: '$elevation3',\n        cursor: 'default'\n      }\n    }\n  },\n  '&::after,&::before': {\n    content: '\"\"',\n    position: 'absolute',\n    height: 2,\n    width: 10,\n    borderRadius: 1,\n    backgroundColor: 'currentColor'\n  },\n  '&::after': {\n    transform: 'rotate(45deg)'\n  },\n  '&::before': {\n    transform: 'rotate(-45deg)'\n  }\n});\n\nfunction ImageComponent() {\n  const {\n    label,\n    value,\n    onUpdate,\n    disabled\n  } = useInputContext();\n  const {\n    popinRef,\n    wrapperRef,\n    shown,\n    show,\n    hide\n  } = usePopin();\n  const onDrop = useCallback(acceptedFiles => {\n    if (acceptedFiles.length) onUpdate(acceptedFiles[0]);\n  }, [onUpdate]);\n  const clear = useCallback(e => {\n    e.stopPropagation();\n    onUpdate(undefined);\n  }, [onUpdate]);\n  const {\n    getRootProps,\n    getInputProps,\n    isDragAccept\n  } = useDropzone({\n    maxFiles: 1,\n    accept: 'image/*',\n    onDrop,\n    disabled\n  });\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(ImageContainer, null, React.createElement(ImagePreview, {\n    ref: popinRef,\n    hasImage: !!value,\n    onPointerDown: () => !!value && show(),\n    onPointerUp: hide,\n    style: {\n      backgroundImage: value ? `url(${value})` : 'none'\n    }\n  }), shown && !!value && React.createElement(Portal, null, React.createElement(Overlay, {\n    onPointerUp: hide,\n    style: {\n      cursor: 'pointer'\n    }\n  }), React.createElement(ImageLargePreview, {\n    ref: wrapperRef,\n    style: {\n      backgroundImage: `url(${value})`\n    }\n  })), React.createElement(DropZone, getRootProps({\n    isDragAccept\n  }), React.createElement(\"input\", getInputProps()), React.createElement(Instructions, null, isDragAccept ? 'drop image' : 'click or drop')), React.createElement(Remove, {\n    onClick: clear,\n    disabled: !value\n  })));\n}\n\nvar image = createInternalPlugin(_objectSpread2({\n  component: ImageComponent\n}, props$1));\n\nconst number = v8n().number();\nconst schema = (o, s) => v8n().array().length(2).every.number().test(o) && v8n().schema({\n  min: number,\n  max: number\n}).test(s);\nconst format = v => ({\n  min: v[0],\n  max: v[1]\n});\nconst sanitize = (value, {\n  bounds: [MIN, MAX]\n}, prevValue) => {\n  const _newValue = {\n    min: prevValue[0],\n    max: prevValue[1]\n  };\n\n  const {\n    min,\n    max\n  } = _objectSpread2(_objectSpread2({}, _newValue), value);\n\n  return [clamp(Number(min), MIN, Math.max(MIN, max)), clamp(Number(max), Math.min(MAX, min), MAX)];\n};\nconst normalize = ({\n  value,\n  min,\n  max\n}) => {\n  const boundsSettings = {\n    min,\n    max\n  };\n\n  const _settings = normalizeKeyedNumberSettings(format(value), {\n    min: boundsSettings,\n    max: boundsSettings\n  });\n\n  const bounds = [min, max];\n\n  const settings = _objectSpread2(_objectSpread2({}, _settings), {}, {\n    bounds\n  });\n\n  const _value = sanitize(format(value), settings, value);\n\n  return {\n    value: _value,\n    settings\n  };\n};\n\nvar props = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  schema: schema,\n  format: format,\n  sanitize: sanitize,\n  normalize: normalize\n});\n\nconst _excluded$6 = [\"value\", \"bounds\", \"onDrag\"],\n      _excluded2$1 = [\"bounds\"];\nconst Container = styled('div', {\n  display: 'grid',\n  columnGap: '$colGap',\n  gridTemplateColumns: 'auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)'\n});\n\nfunction IntervalSlider(_ref) {\n  let {\n    value,\n    bounds: [min, max],\n    onDrag\n  } = _ref,\n      settings = _objectWithoutProperties(_ref, _excluded$6);\n\n  const ref = useRef(null);\n  const minScrubberRef = useRef(null);\n  const maxScrubberRef = useRef(null);\n  const rangeWidth = useRef(0);\n  const scrubberWidth = useTh('sizes', 'scrubberWidth');\n  const bind = useDrag(({\n    event,\n    first,\n    xy: [x],\n    movement: [mx],\n    memo: _memo = {}\n  }) => {\n    if (first) {\n      const {\n        width,\n        left\n      } = ref.current.getBoundingClientRect();\n      rangeWidth.current = width - parseFloat(scrubberWidth);\n      const targetIsScrub = (event === null || event === void 0 ? void 0 : event.target) === minScrubberRef.current || (event === null || event === void 0 ? void 0 : event.target) === maxScrubberRef.current;\n      _memo.pos = invertedRange((x - left) / width, min, max);\n      const delta = Math.abs(_memo.pos - value.min) - Math.abs(_memo.pos - value.max);\n      _memo.key = delta < 0 || delta === 0 && _memo.pos <= value.min ? 'min' : 'max';\n      if (targetIsScrub) _memo.pos = value[_memo.key];\n    }\n\n    const newValue = _memo.pos + invertedRange(mx / rangeWidth.current, 0, max - min);\n    onDrag({\n      [_memo.key]: sanitizeStep(newValue, settings[_memo.key])\n    });\n    return _memo;\n  });\n  const minStyle = `calc(${range(value.min, min, max)} * (100% - ${scrubberWidth} - 8px) + 4px)`;\n  const maxStyle = `calc(${1 - range(value.max, min, max)} * (100% - ${scrubberWidth} - 8px) + 4px)`;\n  return React.createElement(RangeWrapper, _extends({\n    ref: ref\n  }, bind()), React.createElement(Range, null, React.createElement(Indicator, {\n    style: {\n      left: minStyle,\n      right: maxStyle\n    }\n  })), React.createElement(Scrubber, {\n    position: \"left\",\n    ref: minScrubberRef,\n    style: {\n      left: minStyle\n    }\n  }), React.createElement(Scrubber, {\n    position: \"right\",\n    ref: maxScrubberRef,\n    style: {\n      right: maxStyle\n    }\n  }));\n}\n\nfunction IntervalComponent() {\n  const {\n    label,\n    displayValue,\n    onUpdate,\n    settings\n  } = useInputContext();\n\n  const _settings = _objectWithoutProperties(settings, _excluded2$1);\n\n  return React.createElement(React.Fragment, null, React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(Container, null, React.createElement(IntervalSlider, _extends({\n    value: displayValue\n  }, settings, {\n    onDrag: onUpdate\n  })), React.createElement(Vector, {\n    value: displayValue,\n    settings: _settings,\n    onUpdate: onUpdate,\n    innerLabelTrim: 0\n  }))));\n}\n\nvar interval = createInternalPlugin(_objectSpread2({\n  component: IntervalComponent\n}, props));\n\nconst createEventEmitter = () => {\n  const listenerMapping = new Map();\n  return {\n    on: (topic, listener) => {\n      let listeners = listenerMapping.get(topic);\n\n      if (listeners === undefined) {\n        listeners = new Set();\n        listenerMapping.set(topic, listeners);\n      }\n\n      listeners.add(listener);\n    },\n    off: (topic, listener) => {\n      const listeners = listenerMapping.get(topic);\n\n      if (listeners === undefined) {\n        return;\n      }\n\n      listeners.delete(listener);\n\n      if (listeners.size === 0) {\n        listenerMapping.delete(topic);\n      }\n    },\n    emit: (topic, ...args) => {\n      const listeners = listenerMapping.get(topic);\n\n      if (listeners === undefined) {\n        return;\n      }\n\n      for (const listener of listeners) {\n        listener(...args);\n      }\n    }\n  };\n};\n\nconst _excluded$5 = [\"type\", \"value\"],\n      _excluded2 = [\"onChange\", \"transient\", \"onEditStart\", \"onEditEnd\"];\nconst Store = function Store() {\n  const store = create(subscribeWithSelector(() => ({\n    data: {}\n  })));\n  const eventEmitter = createEventEmitter();\n  this.storeId = getUid();\n  this.useStore = store;\n  const folders = {};\n  const orderedPaths = new Set();\n\n  this.getVisiblePaths = () => {\n    const data = this.getData();\n    const paths = Object.keys(data);\n    const hiddenFolders = [];\n    Object.entries(folders).forEach(([path, settings]) => {\n      if (settings.render && paths.some(p => p.indexOf(path) === 0) && !settings.render(this.get)) hiddenFolders.push(path + '.');\n    });\n    const visiblePaths = [];\n    orderedPaths.forEach(path => {\n      if (path in data && data[path].__refCount > 0 && hiddenFolders.every(p => path.indexOf(p) === -1) && (!data[path].render || data[path].render(this.get))) visiblePaths.push(path);\n    });\n    return visiblePaths;\n  };\n\n  this.setOrderedPaths = newPaths => {\n    newPaths.forEach(p => orderedPaths.add(p));\n  };\n\n  this.orderPaths = paths => {\n    this.setOrderedPaths(paths);\n    return paths;\n  };\n\n  this.disposePaths = paths => {\n    store.setState(s => {\n      const data = s.data;\n      paths.forEach(path => {\n        if (path in data) {\n          const input = data[path];\n          input.__refCount--;\n\n          if (input.__refCount === 0 && input.type in SpecialInputs) {\n            delete data[path];\n          }\n        }\n      });\n      return {\n        data\n      };\n    });\n  };\n\n  this.dispose = () => {\n    store.setState(() => {\n      return {\n        data: {}\n      };\n    });\n  };\n\n  this.getFolderSettings = path => {\n    return folders[path] || {};\n  };\n\n  this.getData = () => {\n    return store.getState().data;\n  };\n\n  this.addData = (newData, override) => {\n    store.setState(s => {\n      const data = s.data;\n      Object.entries(newData).forEach(([path, newInputData]) => {\n        let input = data[path];\n\n        if (!!input) {\n          const {\n            type,\n            value\n          } = newInputData,\n                rest = _objectWithoutProperties(newInputData, _excluded$5);\n\n          if (type !== input.type) {\n            warn(LevaErrors.INPUT_TYPE_OVERRIDE, type);\n          } else {\n            if (input.__refCount === 0 || override) {\n              Object.assign(input, rest);\n            }\n\n            input.__refCount++;\n          }\n        } else {\n          data[path] = _objectSpread2(_objectSpread2({}, newInputData), {}, {\n            __refCount: 1\n          });\n        }\n      });\n      return {\n        data\n      };\n    });\n  };\n\n  this.setValueAtPath = (path, value, fromPanel) => {\n    store.setState(s => {\n      const data = s.data;\n      updateInput(data[path], value, path, this, fromPanel);\n      return {\n        data\n      };\n    });\n  };\n\n  this.setSettingsAtPath = (path, settings) => {\n    store.setState(s => {\n      const data = s.data;\n      data[path].settings = _objectSpread2(_objectSpread2({}, data[path].settings), settings);\n      return {\n        data\n      };\n    });\n  };\n\n  this.disableInputAtPath = (path, flag) => {\n    store.setState(s => {\n      const data = s.data;\n      data[path].disabled = flag;\n      return {\n        data\n      };\n    });\n  };\n\n  this.set = (values, fromPanel) => {\n    store.setState(s => {\n      const data = s.data;\n      Object.entries(values).forEach(([path, value]) => {\n        try {\n          updateInput(data[path], value, undefined, undefined, fromPanel);\n        } catch (_unused) {}\n      });\n      return {\n        data\n      };\n    });\n  };\n\n  this.getInput = path => {\n    try {\n      return this.getData()[path];\n    } catch (e) {\n      warn(LevaErrors.PATH_DOESNT_EXIST, path);\n    }\n  };\n\n  this.get = path => {\n    var _this$getInput;\n\n    return (_this$getInput = this.getInput(path)) === null || _this$getInput === void 0 ? void 0 : _this$getInput.value;\n  };\n\n  this.emitOnEditStart = path => {\n    eventEmitter.emit(`onEditStart:${path}`, this.get(path), path, _objectSpread2(_objectSpread2({}, this.getInput(path)), {}, {\n      get: this.get\n    }));\n  };\n\n  this.emitOnEditEnd = path => {\n    eventEmitter.emit(`onEditEnd:${path}`, this.get(path), path, _objectSpread2(_objectSpread2({}, this.getInput(path)), {}, {\n      get: this.get\n    }));\n  };\n\n  this.subscribeToEditStart = (path, listener) => {\n    const _path = `onEditStart:${path}`;\n    eventEmitter.on(_path, listener);\n    return () => eventEmitter.off(_path, listener);\n  };\n\n  this.subscribeToEditEnd = (path, listener) => {\n    const _path = `onEditEnd:${path}`;\n    eventEmitter.on(_path, listener);\n    return () => eventEmitter.off(_path, listener);\n  };\n\n  const _getDataFromSchema = (schema, rootPath, mappedPaths) => {\n    const data = {};\n    Object.entries(schema).forEach(([key, rawInput]) => {\n      if (key === '') return warn(LevaErrors.EMPTY_KEY);\n      let newPath = join(rootPath, key);\n\n      if (rawInput.type === SpecialInputs.FOLDER) {\n        const newData = _getDataFromSchema(rawInput.schema, newPath, mappedPaths);\n\n        Object.assign(data, newData);\n        if (!(newPath in folders)) folders[newPath] = rawInput.settings;\n      } else if (key in mappedPaths) {\n        warn(LevaErrors.DUPLICATE_KEYS, key, newPath, mappedPaths[key].path);\n      } else {\n        const normalizedInput = normalizeInput(rawInput, key, newPath, data);\n\n        if (normalizedInput) {\n          const {\n            type,\n            options,\n            input\n          } = normalizedInput;\n\n          const {\n            onChange,\n            transient,\n            onEditStart,\n            onEditEnd\n          } = options,\n                _options = _objectWithoutProperties(options, _excluded2);\n\n          data[newPath] = _objectSpread2(_objectSpread2(_objectSpread2({\n            type\n          }, _options), input), {}, {\n            fromPanel: true\n          });\n          mappedPaths[key] = {\n            path: newPath,\n            onChange,\n            transient,\n            onEditStart,\n            onEditEnd\n          };\n        } else {\n          warn(LevaErrors.UNKNOWN_INPUT, newPath, rawInput);\n        }\n      }\n    });\n    return data;\n  };\n\n  this.getDataFromSchema = schema => {\n    const mappedPaths = {};\n\n    const data = _getDataFromSchema(schema, '', mappedPaths);\n\n    return [data, mappedPaths];\n  };\n};\nconst levaStore = new Store();\nfunction useCreateStore() {\n  return useMemo(() => new Store(), []);\n}\n\nif (process.env.NODE_ENV === 'development' && typeof window !== 'undefined') {\n  window.__STORE = levaStore;\n}\n\nconst defaultSettings$2 = {\n  collapsed: false\n};\nfunction folder(schema, settings) {\n  return {\n    type: SpecialInputs.FOLDER,\n    schema,\n    settings: _objectSpread2(_objectSpread2({}, defaultSettings$2), settings)\n  };\n}\n\nconst defaultSettings$1 = {\n  disabled: false\n};\nfunction button(onClick, settings) {\n  return {\n    type: SpecialInputs.BUTTON,\n    onClick,\n    settings: _objectSpread2(_objectSpread2({}, defaultSettings$1), settings)\n  };\n}\n\nfunction buttonGroup(opts) {\n  return {\n    type: SpecialInputs.BUTTON_GROUP,\n    opts\n  };\n}\n\nconst defaultSettings = {\n  graph: false,\n  interval: 100\n};\nfunction monitor(objectOrFn, settings) {\n  return {\n    type: SpecialInputs.MONITOR,\n    objectOrFn,\n    settings: _objectSpread2(_objectSpread2({}, defaultSettings), settings)\n  };\n}\n\nconst isInput = v => '__levaInput' in v;\nconst buildTree = (paths, filter) => {\n  const tree = {};\n\n  const _filter = filter ? filter.toLowerCase() : null;\n\n  paths.forEach(path => {\n    const [valueKey, folderPath] = getKeyPath(path);\n\n    if (!_filter || valueKey.toLowerCase().indexOf(_filter) > -1) {\n      merge(tree, folderPath, {\n        [valueKey]: {\n          __levaInput: true,\n          path\n        }\n      });\n    }\n  });\n  return tree;\n};\n\nfunction FolderTitle({\n  toggle,\n  toggled,\n  name\n}) {\n  return React.createElement(StyledTitle, {\n    onClick: () => toggle()\n  }, React.createElement(Chevron, {\n    toggled: toggled\n  }), React.createElement(\"div\", null, name));\n}\n\nconst _excluded$4 = [\"type\", \"label\", \"path\", \"valueKey\", \"value\", \"settings\", \"setValue\", \"disabled\"];\nfunction ControlInput(_ref) {\n  let {\n    type,\n    label,\n    path,\n    valueKey,\n    value,\n    settings,\n    setValue,\n    disabled\n  } = _ref,\n      rest = _objectWithoutProperties(_ref, _excluded$4);\n\n  const {\n    displayValue,\n    onChange,\n    onUpdate\n  } = useInputSetters({\n    type,\n    value,\n    settings,\n    setValue\n  });\n  const Input = Plugins[type].component;\n\n  if (!Input) {\n    warn(LevaErrors.NO_COMPONENT_FOR_TYPE, type, path);\n    return null;\n  }\n\n  return React.createElement(InputContext.Provider, {\n    value: _objectSpread2({\n      key: valueKey,\n      path,\n      id: '' + path,\n      label,\n      displayValue,\n      value,\n      onChange,\n      onUpdate,\n      settings,\n      setValue,\n      disabled\n    }, rest)\n  }, React.createElement(StyledInputWrapper, {\n    disabled: disabled\n  }, React.createElement(Input, null)));\n}\n\nconst StyledButton = styled('button', {\n  display: 'block',\n  $reset: '',\n  fontWeight: '$button',\n  height: '$rowHeight',\n  borderStyle: 'none',\n  borderRadius: '$sm',\n  backgroundColor: '$elevation1',\n  color: '$highlight1',\n  '&:not(:disabled)': {\n    color: '$highlight3',\n    backgroundColor: '$accent2',\n    cursor: 'pointer',\n    $hover: '$accent3',\n    $active: '$accent3 $accent1',\n    $focus: ''\n  }\n});\n\nfunction Button({\n  onClick,\n  settings,\n  label\n}) {\n  const store = useStoreContext();\n  return React.createElement(Row, null, React.createElement(StyledButton, {\n    disabled: settings.disabled,\n    onClick: () => onClick(store.get)\n  }, label));\n}\n\nconst StyledButtonGroup = styled('div', {\n  $flex: '',\n  justifyContent: 'flex-end',\n  gap: '$colGap'\n});\n\nconst StyledButtonGroupButton = styled('button', {\n  $reset: '',\n  cursor: 'pointer',\n  borderRadius: '$xs',\n  '&:hover': {\n    backgroundColor: '$elevation3'\n  }\n});\n\nconst getOpts = ({\n  label: _label,\n  opts: _opts\n}) => {\n  let label = typeof _label === 'string' ? _label.trim() === '' ? null : _label : _label;\n  let opts = _opts;\n\n  if (typeof _opts.opts === 'object') {\n    if (opts.label !== undefined) {\n      label = _opts.label;\n    }\n\n    opts = _opts.opts;\n  }\n\n  return {\n    label,\n    opts: opts\n  };\n};\n\nfunction ButtonGroup(props) {\n  const {\n    label,\n    opts\n  } = getOpts(props);\n  const store = useStoreContext();\n  return React.createElement(Row, {\n    input: !!label\n  }, label && React.createElement(Label, null, label), React.createElement(StyledButtonGroup, null, Object.entries(opts).map(([label, onClick]) => React.createElement(StyledButtonGroupButton, {\n    key: label,\n    onClick: () => onClick(store.get)\n  }, label))));\n}\n\nconst Canvas = styled('canvas', {\n  height: '$monitorHeight',\n  width: '100%',\n  display: 'block',\n  borderRadius: '$sm'\n});\n\nconst POINTS = 100;\n\nfunction push(arr, val) {\n  arr.push(val);\n  if (arr.length > POINTS) arr.shift();\n}\n\nconst MonitorCanvas = forwardRef(function ({\n  initialValue\n}, ref) {\n  const accentColor = useTh('colors', 'highlight3');\n  const backgroundColor = useTh('colors', 'elevation2');\n  const fillColor = useTh('colors', 'highlight1');\n  const [gradientTop, gradientBottom] = useMemo(() => {\n    return [colord(fillColor).alpha(0.4).toRgbString(), colord(fillColor).alpha(0.1).toRgbString()];\n  }, [fillColor]);\n  const points = useRef([initialValue]);\n  const min = useRef(initialValue);\n  const max = useRef(initialValue);\n  const raf = useRef();\n  const drawPlot = useCallback((_canvas, _ctx) => {\n    if (!_canvas) return;\n    const {\n      width,\n      height\n    } = _canvas;\n    const path = new Path2D();\n    const interval = width / POINTS;\n    const verticalPadding = height * 0.05;\n\n    for (let i = 0; i < points.current.length; i++) {\n      const p = range(points.current[i], min.current, max.current);\n      const x = interval * i;\n      const y = height - p * (height - verticalPadding * 2) - verticalPadding;\n      path.lineTo(x, y);\n    }\n\n    _ctx.clearRect(0, 0, width, height);\n\n    const gradientPath = new Path2D(path);\n    gradientPath.lineTo(interval * (points.current.length + 1), height);\n    gradientPath.lineTo(0, height);\n    gradientPath.lineTo(0, 0);\n\n    const gradient = _ctx.createLinearGradient(0, 0, 0, height);\n\n    gradient.addColorStop(0.0, gradientTop);\n    gradient.addColorStop(1.0, gradientBottom);\n    _ctx.fillStyle = gradient;\n\n    _ctx.fill(gradientPath);\n\n    _ctx.strokeStyle = backgroundColor;\n    _ctx.lineJoin = 'round';\n    _ctx.lineWidth = 14;\n\n    _ctx.stroke(path);\n\n    _ctx.strokeStyle = accentColor;\n    _ctx.lineWidth = 2;\n\n    _ctx.stroke(path);\n  }, [accentColor, backgroundColor, gradientTop, gradientBottom]);\n  const [canvas, ctx] = useCanvas2d(drawPlot);\n  useImperativeHandle(ref, () => ({\n    frame: val => {\n      if (min.current === undefined || val < min.current) min.current = val;\n      if (max.current === undefined || val > max.current) max.current = val;\n      push(points.current, val);\n      raf.current = requestAnimationFrame(() => drawPlot(canvas.current, ctx.current));\n    }\n  }), [canvas, ctx, drawPlot]);\n  useEffect(() => () => cancelAnimationFrame(raf.current), []);\n  return React.createElement(Canvas, {\n    ref: canvas\n  });\n});\n\nconst parse = val => Number.isFinite(val) ? val.toPrecision(2) : val.toString();\n\nconst MonitorLog = forwardRef(function ({\n  initialValue\n}, ref) {\n  const [val, set] = useState(parse(initialValue));\n  useImperativeHandle(ref, () => ({\n    frame: v => set(parse(v))\n  }), []);\n  return React.createElement(\"div\", null, val);\n});\n\nfunction getValue(o) {\n  return typeof o === 'function' ? o() : o.current;\n}\n\nfunction Monitor({\n  label,\n  objectOrFn,\n  settings\n}) {\n  const ref = useRef();\n  const initialValue = useRef(getValue(objectOrFn));\n  useEffect(() => {\n    const timeout = window.setInterval(() => {\n      var _ref$current;\n\n      if (document.hidden) return;\n      (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.frame(getValue(objectOrFn));\n    }, settings.interval);\n    return () => window.clearInterval(timeout);\n  }, [objectOrFn, settings.interval]);\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, {\n    align: \"top\"\n  }, label), settings.graph ? React.createElement(MonitorCanvas, {\n    ref: ref,\n    initialValue: initialValue.current\n  }) : React.createElement(MonitorLog, {\n    ref: ref,\n    initialValue: initialValue.current\n  }));\n}\n\nconst _excluded$3 = [\"type\", \"label\", \"key\"];\nconst specialComponents = {\n  [SpecialInputs.BUTTON]: Button,\n  [SpecialInputs.BUTTON_GROUP]: ButtonGroup,\n  [SpecialInputs.MONITOR]: Monitor\n};\nconst Control = React.memo(({\n  path\n}) => {\n  const [input, {\n    set,\n    setSettings,\n    disable,\n    storeId,\n    emitOnEditStart,\n    emitOnEditEnd\n  }] = useInput(path);\n  if (!input) return null;\n\n  const {\n    type,\n    label,\n    key\n  } = input,\n        inputProps = _objectWithoutProperties(input, _excluded$3);\n\n  if (type in SpecialInputs) {\n    const SpecialInputForType = specialComponents[type];\n    return React.createElement(SpecialInputForType, _extends({\n      label: label,\n      path: path\n    }, inputProps));\n  }\n\n  if (!(type in Plugins)) {\n    log(LevaErrors.UNSUPPORTED_INPUT, type, path);\n    return null;\n  }\n\n  return React.createElement(ControlInput, _extends({\n    key: storeId + path,\n    type: type,\n    label: label,\n    storeId: storeId,\n    path: path,\n    valueKey: key,\n    setValue: set,\n    setSettings: setSettings,\n    disable: disable,\n    emitOnEditStart: emitOnEditStart,\n    emitOnEditEnd: emitOnEditEnd\n  }, inputProps));\n});\n\nconst Folder = ({\n  name,\n  path,\n  tree\n}) => {\n  const store = useStoreContext();\n  const newPath = join(path, name);\n  const {\n    collapsed,\n    color\n  } = store.getFolderSettings(newPath);\n  const [toggled, setToggle] = useState(!collapsed);\n  const folderRef = useRef(null);\n  const widgetColor = useTh('colors', 'folderWidgetColor');\n  const textColor = useTh('colors', 'folderTextColor');\n  useLayoutEffect(() => {\n    folderRef.current.style.setProperty('--leva-colors-folderWidgetColor', color || widgetColor);\n    folderRef.current.style.setProperty('--leva-colors-folderTextColor', color || textColor);\n  }, [color, widgetColor, textColor]);\n  return React.createElement(StyledFolder, {\n    ref: folderRef\n  }, React.createElement(FolderTitle, {\n    name: name,\n    toggled: toggled,\n    toggle: () => setToggle(t => !t)\n  }), React.createElement(TreeWrapper, {\n    parent: newPath,\n    tree: tree,\n    toggled: toggled\n  }));\n};\n\nconst TreeWrapper = React.memo(({\n  isRoot: _isRoot = false,\n  fill: _fill = false,\n  flat: _flat = false,\n  parent,\n  tree,\n  toggled\n}) => {\n  const {\n    wrapperRef,\n    contentRef\n  } = useToggle(toggled);\n  return React.createElement(StyledWrapper, {\n    ref: wrapperRef,\n    isRoot: _isRoot,\n    fill: _fill,\n    flat: _flat\n  }, React.createElement(StyledContent, {\n    ref: contentRef,\n    isRoot: _isRoot,\n    toggled: toggled\n  }, Object.entries(tree).map(([key, value]) => isInput(value) ? React.createElement(Control, {\n    key: value.path,\n    valueKey: value.valueKey,\n    path: value.path\n  }) : React.createElement(Folder, {\n    key: key,\n    name: key,\n    path: parent,\n    tree: value\n  }))));\n});\n\nconst StyledRoot = styled('div', {\n  position: 'relative',\n  fontFamily: '$mono',\n  fontSize: '$root',\n  color: '$rootText',\n  backgroundColor: '$elevation1',\n  variants: {\n    fill: {\n      false: {\n        position: 'fixed',\n        top: '10px',\n        right: '10px',\n        zIndex: 1000,\n        width: '$rootWidth'\n      },\n      true: {\n        position: 'relative',\n        width: '100%'\n      }\n    },\n    flat: {\n      false: {\n        borderRadius: '$lg',\n        boxShadow: '$level1'\n      }\n    },\n    oneLineLabels: {\n      true: {\n        [`${StyledInputRow}`]: {\n          gridTemplateColumns: 'auto',\n          gridAutoColumns: 'minmax(max-content, 1fr)',\n          gridAutoRows: 'minmax($sizes$rowHeight), auto)',\n          rowGap: 0,\n          columnGap: 0,\n          marginTop: '$rowGap'\n        }\n      }\n    },\n    hideTitleBar: {\n      true: {\n        $$titleBarHeight: '0px'\n      },\n      false: {\n        $$titleBarHeight: '$sizes$titleBarHeight'\n      }\n    }\n  },\n  '&,*,*:after,*:before': {\n    boxSizing: 'border-box'\n  },\n  '*::selection': {\n    backgroundColor: '$accent2'\n  }\n});\n\nconst iconWidth = 40;\nconst Icon = styled('i', {\n  $flexCenter: '',\n  width: iconWidth,\n  userSelect: 'none',\n  cursor: 'pointer',\n  '> svg': {\n    fill: '$highlight1',\n    transition: 'transform 350ms ease, fill 250ms ease'\n  },\n  '&:hover > svg': {\n    fill: '$highlight3'\n  },\n  variants: {\n    active: {\n      true: {\n        '> svg': {\n          fill: '$highlight2'\n        }\n      }\n    }\n  }\n});\nconst StyledTitleWithFilter = styled('div', {\n  display: 'flex',\n  alignItems: 'stretch',\n  justifyContent: 'space-between',\n  height: '$titleBarHeight',\n  variants: {\n    mode: {\n      drag: {\n        cursor: 'grab'\n      }\n    }\n  }\n});\nconst FilterWrapper = styled('div', {\n  $flex: '',\n  position: 'relative',\n  width: '100%',\n  overflow: 'hidden',\n  transition: 'height 250ms ease',\n  color: '$highlight3',\n  paddingLeft: '$md',\n  [`> ${Icon}`]: {\n    height: 30\n  },\n  variants: {\n    toggled: {\n      true: {\n        height: 30\n      },\n      false: {\n        height: 0\n      }\n    }\n  }\n});\nconst StyledFilterInput = styled('input', {\n  $reset: '',\n  flex: 1,\n  position: 'relative',\n  height: 30,\n  width: '100%',\n  backgroundColor: 'transparent',\n  fontSize: '10px',\n  borderRadius: '$root',\n  '&:focus': {},\n  '&::placeholder': {\n    color: '$highlight2'\n  }\n});\nconst TitleContainer = styled('div', {\n  touchAction: 'none',\n  $flexCenter: '',\n  flex: 1,\n  '> svg': {\n    fill: '$highlight1'\n  },\n  color: '$highlight1',\n  variants: {\n    drag: {\n      true: {\n        $draggable: '',\n        '> svg': {\n          transition: 'fill 250ms ease'\n        },\n        '&:hover': {\n          color: '$highlight3'\n        },\n        '&:hover > svg': {\n          fill: '$highlight3'\n        }\n      }\n    },\n    filterEnabled: {\n      false: {\n        paddingRight: iconWidth\n      }\n    }\n  }\n});\n\nconst FilterInput = React.forwardRef(({\n  setFilter,\n  toggle\n}, ref) => {\n  const [value, set] = useState('');\n  const debouncedOnChange = useMemo(() => debounce(setFilter, 250), [setFilter]);\n\n  const clear = () => {\n    setFilter('');\n    set('');\n  };\n\n  const _onChange = e => {\n    const v = e.currentTarget.value;\n    toggle(true);\n    set(v);\n  };\n\n  useEffect(() => {\n    debouncedOnChange(value);\n  }, [value, debouncedOnChange]);\n  return React.createElement(React.Fragment, null, React.createElement(StyledFilterInput, {\n    ref: ref,\n    value: value,\n    placeholder: \"[Open filter with CMD+SHIFT+L]\",\n    onPointerDown: e => e.stopPropagation(),\n    onChange: _onChange\n  }), React.createElement(Icon, {\n    onClick: () => clear(),\n    style: {\n      visibility: value ? 'visible' : 'hidden'\n    }\n  }, React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"14\",\n    width: \"14\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\"\n  }, React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",\n    clipRule: \"evenodd\"\n  }))));\n});\nfunction TitleWithFilter({\n  setFilter,\n  onDrag,\n  toggle,\n  toggled,\n  title,\n  drag,\n  filterEnabled\n}) {\n  const [filterShown, setShowFilter] = useState(false);\n  const inputRef = useRef(null);\n  useEffect(() => {\n    var _inputRef$current, _inputRef$current2;\n\n    if (filterShown) (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.focus();else (_inputRef$current2 = inputRef.current) === null || _inputRef$current2 === void 0 ? void 0 : _inputRef$current2.blur();\n  }, [filterShown]);\n  const bind = useDrag(({\n    offset: [x, y]\n  }) => onDrag({\n    x,\n    y\n  }), {\n    filterTaps: true\n  });\n  useEffect(() => {\n    const handleShortcut = event => {\n      if (event.key === 'L' && event.shiftKey && event.metaKey) {\n        setShowFilter(f => !f);\n      }\n    };\n\n    window.addEventListener('keydown', handleShortcut);\n    return () => window.removeEventListener('keydown', handleShortcut);\n  }, []);\n  return React.createElement(React.Fragment, null, React.createElement(StyledTitleWithFilter, {\n    mode: drag ? 'drag' : undefined\n  }, React.createElement(Icon, {\n    active: !toggled,\n    onClick: () => toggle()\n  }, React.createElement(Chevron, {\n    toggled: toggled,\n    width: 12,\n    height: 8\n  })), React.createElement(TitleContainer, _extends({}, drag ? bind() : {}, {\n    drag: drag,\n    filterEnabled: filterEnabled\n  }), title === undefined && drag ? React.createElement(\"svg\", {\n    width: \"20\",\n    height: \"10\",\n    viewBox: \"0 0 28 14\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, React.createElement(\"circle\", {\n    cx: \"2\",\n    cy: \"2\",\n    r: \"2\"\n  }), React.createElement(\"circle\", {\n    cx: \"14\",\n    cy: \"2\",\n    r: \"2\"\n  }), React.createElement(\"circle\", {\n    cx: \"26\",\n    cy: \"2\",\n    r: \"2\"\n  }), React.createElement(\"circle\", {\n    cx: \"2\",\n    cy: \"12\",\n    r: \"2\"\n  }), React.createElement(\"circle\", {\n    cx: \"14\",\n    cy: \"12\",\n    r: \"2\"\n  }), React.createElement(\"circle\", {\n    cx: \"26\",\n    cy: \"12\",\n    r: \"2\"\n  })) : title), filterEnabled && React.createElement(Icon, {\n    active: filterShown,\n    onClick: () => setShowFilter(f => !f)\n  }, React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"20\",\n    viewBox: \"0 0 20 20\"\n  }, React.createElement(\"path\", {\n    d: \"M9 9a2 2 0 114 0 2 2 0 01-4 0z\"\n  }), React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z\",\n    clipRule: \"evenodd\"\n  })))), React.createElement(FilterWrapper, {\n    toggled: filterShown\n  }, React.createElement(FilterInput, {\n    ref: inputRef,\n    setFilter: setFilter,\n    toggle: toggle\n  })));\n}\n\nconst _excluded$2 = [\"store\", \"hidden\", \"theme\", \"collapsed\"];\nfunction LevaRoot(_ref) {\n  let {\n    store,\n    hidden = false,\n    theme,\n    collapsed = false\n  } = _ref,\n      props = _objectWithoutProperties(_ref, _excluded$2);\n\n  const themeContext = useDeepMemo(() => mergeTheme(theme), [theme]);\n  const [toggled, setToggle] = useState(!collapsed);\n  const computedToggled = typeof collapsed === 'object' ? !collapsed.collapsed : toggled;\n  const computedSetToggle = useMemo(() => {\n    if (typeof collapsed === 'object') {\n      return value => {\n        if (typeof value === 'function') {\n          collapsed.onChange(!value(!collapsed.collapsed));\n        } else {\n          collapsed.onChange(!value);\n        }\n      };\n    }\n\n    return setToggle;\n  }, [collapsed]);\n  if (!store || hidden) return null;\n  return React.createElement(ThemeContext.Provider, {\n    value: themeContext\n  }, React.createElement(LevaCore, _extends({\n    store: store\n  }, props, {\n    toggled: computedToggled,\n    setToggle: computedSetToggle,\n    rootClass: themeContext.className\n  })));\n}\nconst LevaCore = React.memo(({\n  store,\n  rootClass,\n  fill: _fill = false,\n  flat: _flat = false,\n  neverHide: _neverHide = false,\n  oneLineLabels: _oneLineLabels = false,\n  titleBar: _titleBar = {\n    title: undefined,\n    drag: true,\n    filter: true\n  },\n  hideCopyButton: _hideCopyButton = false,\n  toggled,\n  setToggle\n}) => {\n  var _titleBar$drag, _titleBar$filter;\n\n  const paths = useVisiblePaths(store);\n  const [filter, setFilter] = useState('');\n  const tree = useMemo(() => buildTree(paths, filter), [paths, filter]);\n  const [rootRef, set] = useTransform();\n  const shouldShow = _neverHide || paths.length > 0;\n  const title = typeof _titleBar === 'object' ? _titleBar.title || undefined : undefined;\n  const drag = typeof _titleBar === 'object' ? (_titleBar$drag = _titleBar.drag) !== null && _titleBar$drag !== void 0 ? _titleBar$drag : true : true;\n  const filterEnabled = typeof _titleBar === 'object' ? (_titleBar$filter = _titleBar.filter) !== null && _titleBar$filter !== void 0 ? _titleBar$filter : true : true;\n  globalStyles();\n  return React.createElement(PanelSettingsContext.Provider, {\n    value: {\n      hideCopyButton: _hideCopyButton\n    }\n  }, React.createElement(StyledRoot, {\n    ref: rootRef,\n    className: rootClass,\n    fill: _fill,\n    flat: _flat,\n    oneLineLabels: _oneLineLabels,\n    hideTitleBar: !_titleBar,\n    style: {\n      display: shouldShow ? 'block' : 'none'\n    }\n  }, _titleBar && React.createElement(TitleWithFilter, {\n    onDrag: set,\n    setFilter: setFilter,\n    toggle: flag => setToggle(t => flag !== null && flag !== void 0 ? flag : !t),\n    toggled: toggled,\n    title: title,\n    drag: drag,\n    filterEnabled: filterEnabled\n  }), shouldShow && React.createElement(StoreContext.Provider, {\n    value: store\n  }, React.createElement(TreeWrapper, {\n    isRoot: true,\n    fill: _fill,\n    flat: _flat,\n    tree: tree,\n    toggled: toggled\n  }))));\n});\n\nconst _excluded$1 = [\"isRoot\"];\nlet rootInitialized = false;\nlet rootEl = null;\nfunction Leva(_ref) {\n  let {\n    isRoot = false\n  } = _ref,\n      props = _objectWithoutProperties(_ref, _excluded$1);\n\n  useEffect(() => {\n    rootInitialized = true;\n\n    if (!isRoot && rootEl) {\n      rootEl.remove();\n      rootEl = null;\n    }\n\n    return () => {\n      if (!isRoot) rootInitialized = false;\n    };\n  }, [isRoot]);\n  return React.createElement(LevaRoot, _extends({\n    store: levaStore\n  }, props));\n}\nfunction useRenderRoot(isGlobalPanel) {\n  useEffect(() => {\n    if (isGlobalPanel && !rootInitialized) {\n      if (!rootEl) {\n        rootEl = document.getElementById('leva__root') || Object.assign(document.createElement('div'), {\n          id: 'leva__root'\n        });\n\n        if (document.body) {\n          document.body.appendChild(rootEl);\n          ReactDOM.render(React.createElement(Leva, {\n            isRoot: true\n          }), rootEl);\n        }\n      }\n\n      rootInitialized = true;\n    }\n  }, [isGlobalPanel]);\n}\n\nconst _excluded = [\"store\"];\nfunction LevaPanel(_ref) {\n  let {\n    store\n  } = _ref,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  const parentStore = useStoreContext();\n\n  const _store = store === undefined ? parentStore : store;\n\n  return React.createElement(LevaRoot, _extends({\n    store: _store\n  }, props));\n}\n\nfunction parseArgs(schemaOrFolderName, settingsOrDepsOrSchema, depsOrSettingsOrFolderSettings, depsOrSettings, depsOrUndefined) {\n  let schema;\n  let folderName = undefined;\n  let folderSettings;\n  let hookSettings;\n  let deps;\n\n  if (typeof schemaOrFolderName === 'string') {\n    folderName = schemaOrFolderName;\n    schema = settingsOrDepsOrSchema;\n\n    if (Array.isArray(depsOrSettingsOrFolderSettings)) {\n      deps = depsOrSettingsOrFolderSettings;\n    } else {\n      if (depsOrSettingsOrFolderSettings) {\n        if ('store' in depsOrSettingsOrFolderSettings) {\n          hookSettings = depsOrSettingsOrFolderSettings;\n          deps = depsOrSettings;\n        } else {\n          folderSettings = depsOrSettingsOrFolderSettings;\n\n          if (Array.isArray(depsOrSettings)) {\n            deps = depsOrSettings;\n          } else {\n            hookSettings = depsOrSettings;\n            deps = depsOrUndefined;\n          }\n        }\n      }\n    }\n  } else {\n    schema = schemaOrFolderName;\n\n    if (Array.isArray(settingsOrDepsOrSchema)) {\n      deps = settingsOrDepsOrSchema;\n    } else {\n      hookSettings = settingsOrDepsOrSchema;\n      deps = depsOrSettingsOrFolderSettings;\n    }\n  }\n\n  return {\n    schema,\n    folderName,\n    folderSettings,\n    hookSettings,\n    deps: deps || []\n  };\n}\n\nfunction useControls(schemaOrFolderName, settingsOrDepsOrSchema, depsOrSettingsOrFolderSettings, depsOrSettings, depsOrUndefined) {\n  const {\n    folderName,\n    schema,\n    folderSettings,\n    hookSettings,\n    deps\n  } = parseArgs(schemaOrFolderName, settingsOrDepsOrSchema, depsOrSettingsOrFolderSettings, depsOrSettings, depsOrUndefined);\n  const schemaIsFunction = typeof schema === 'function';\n  const depsChanged = useRef(false);\n  const firstRender = useRef(true);\n\n  const _schema = useDeepMemo(() => {\n    depsChanged.current = true;\n    const s = typeof schema === 'function' ? schema() : schema;\n    return folderName ? {\n      [folderName]: folder(s, folderSettings)\n    } : s;\n  }, deps);\n\n  const isGlobalPanel = !(hookSettings !== null && hookSettings !== void 0 && hookSettings.store);\n  useRenderRoot(isGlobalPanel);\n  const [store] = useState(() => (hookSettings === null || hookSettings === void 0 ? void 0 : hookSettings.store) || levaStore);\n  const [initialData, mappedPaths] = useMemo(() => store.getDataFromSchema(_schema), [store, _schema]);\n  const [allPaths, renderPaths, onChangePaths, onEditStartPaths, onEditEndPaths] = useMemo(() => {\n    const allPaths = [];\n    const renderPaths = [];\n    const onChangePaths = {};\n    const onEditStartPaths = {};\n    const onEditEndPaths = {};\n    Object.values(mappedPaths).forEach(({\n      path,\n      onChange,\n      onEditStart,\n      onEditEnd,\n      transient\n    }) => {\n      allPaths.push(path);\n\n      if (!!onChange) {\n        onChangePaths[path] = onChange;\n\n        if (!transient) {\n          renderPaths.push(path);\n        }\n      } else {\n        renderPaths.push(path);\n      }\n\n      if (onEditStart) {\n        onEditStartPaths[path] = onEditStart;\n      }\n\n      if (onEditEnd) {\n        onEditEndPaths[path] = onEditEnd;\n      }\n    });\n    return [allPaths, renderPaths, onChangePaths, onEditStartPaths, onEditEndPaths];\n  }, [mappedPaths]);\n  const paths = useMemo(() => store.orderPaths(allPaths), [allPaths, store]);\n  const values = useValuesForPath(store, renderPaths, initialData);\n  const set = useCallback(values => {\n    const _values = Object.entries(values).reduce((acc, [p, v]) => Object.assign(acc, {\n      [mappedPaths[p].path]: v\n    }), {});\n\n    store.set(_values, false);\n  }, [store, mappedPaths]);\n  useEffect(() => {\n    const shouldOverrideSettings = !firstRender.current && depsChanged.current;\n    store.addData(initialData, shouldOverrideSettings);\n    firstRender.current = false;\n    depsChanged.current = false;\n    return () => store.disposePaths(paths);\n  }, [store, paths, initialData]);\n  useEffect(() => {\n    const unsubscriptions = [];\n    Object.entries(onChangePaths).forEach(([path, onChange]) => {\n      onChange(store.get(path), path, _objectSpread2({\n        initial: true,\n        get: store.get\n      }, store.getInput(path)));\n      const unsub = store.useStore.subscribe(s => {\n        const input = s.data[path];\n        const value = input.disabled ? undefined : input.value;\n        return [value, input];\n      }, ([value, input]) => onChange(value, path, _objectSpread2({\n        initial: false,\n        get: store.get\n      }, input)), {\n        equalityFn: shallow\n      });\n      unsubscriptions.push(unsub);\n    });\n    return () => unsubscriptions.forEach(unsub => unsub());\n  }, [store, onChangePaths]);\n  useEffect(() => {\n    const unsubscriptions = [];\n    Object.entries(onEditStartPaths).forEach(([path, onEditStart]) => unsubscriptions.push(store.subscribeToEditStart(path, onEditStart)));\n    Object.entries(onEditEndPaths).forEach(([path, onEditEnd]) => unsubscriptions.push(store.subscribeToEditEnd(path, onEditEnd)));\n    return () => unsubscriptions.forEach(unsub => unsub());\n  }, [onEditStartPaths, onEditEndPaths, store]);\n  if (schemaIsFunction) return [values, set];\n  return values;\n}\n\nregister(LevaInputs.SELECT, select);\nregister(LevaInputs.IMAGE, image);\nregister(LevaInputs.NUMBER, number$1);\nregister(LevaInputs.COLOR, color);\nregister(LevaInputs.STRING, string);\nregister(LevaInputs.BOOLEAN, boolean);\nregister(LevaInputs.INTERVAL, interval);\nregister(LevaInputs.VECTOR3D, vector3d);\nregister(LevaInputs.VECTOR2D, vector2d);\n\nexport { Leva, LevaPanel, button, buttonGroup, folder, levaStore, monitor, useControls, useCreateStore };\n","export default function(e,f){var a={white:\"#ffffff\",bisque:\"#ffe4c4\",blue:\"#0000ff\",cadetblue:\"#5f9ea0\",chartreuse:\"#7fff00\",chocolate:\"#d2691e\",coral:\"#ff7f50\",antiquewhite:\"#faebd7\",aqua:\"#00ffff\",azure:\"#f0ffff\",whitesmoke:\"#f5f5f5\",papayawhip:\"#ffefd5\",plum:\"#dda0dd\",blanchedalmond:\"#ffebcd\",black:\"#000000\",gold:\"#ffd700\",goldenrod:\"#daa520\",gainsboro:\"#dcdcdc\",cornsilk:\"#fff8dc\",cornflowerblue:\"#6495ed\",burlywood:\"#deb887\",aquamarine:\"#7fffd4\",beige:\"#f5f5dc\",crimson:\"#dc143c\",cyan:\"#00ffff\",darkblue:\"#00008b\",darkcyan:\"#008b8b\",darkgoldenrod:\"#b8860b\",darkkhaki:\"#bdb76b\",darkgray:\"#a9a9a9\",darkgreen:\"#006400\",darkgrey:\"#a9a9a9\",peachpuff:\"#ffdab9\",darkmagenta:\"#8b008b\",darkred:\"#8b0000\",darkorchid:\"#9932cc\",darkorange:\"#ff8c00\",darkslateblue:\"#483d8b\",gray:\"#808080\",darkslategray:\"#2f4f4f\",darkslategrey:\"#2f4f4f\",deeppink:\"#ff1493\",deepskyblue:\"#00bfff\",wheat:\"#f5deb3\",firebrick:\"#b22222\",floralwhite:\"#fffaf0\",ghostwhite:\"#f8f8ff\",darkviolet:\"#9400d3\",magenta:\"#ff00ff\",green:\"#008000\",dodgerblue:\"#1e90ff\",grey:\"#808080\",honeydew:\"#f0fff0\",hotpink:\"#ff69b4\",blueviolet:\"#8a2be2\",forestgreen:\"#228b22\",lawngreen:\"#7cfc00\",indianred:\"#cd5c5c\",indigo:\"#4b0082\",fuchsia:\"#ff00ff\",brown:\"#a52a2a\",maroon:\"#800000\",mediumblue:\"#0000cd\",lightcoral:\"#f08080\",darkturquoise:\"#00ced1\",lightcyan:\"#e0ffff\",ivory:\"#fffff0\",lightyellow:\"#ffffe0\",lightsalmon:\"#ffa07a\",lightseagreen:\"#20b2aa\",linen:\"#faf0e6\",mediumaquamarine:\"#66cdaa\",lemonchiffon:\"#fffacd\",lime:\"#00ff00\",khaki:\"#f0e68c\",mediumseagreen:\"#3cb371\",limegreen:\"#32cd32\",mediumspringgreen:\"#00fa9a\",lightskyblue:\"#87cefa\",lightblue:\"#add8e6\",midnightblue:\"#191970\",lightpink:\"#ffb6c1\",mistyrose:\"#ffe4e1\",moccasin:\"#ffe4b5\",mintcream:\"#f5fffa\",lightslategray:\"#778899\",lightslategrey:\"#778899\",navajowhite:\"#ffdead\",navy:\"#000080\",mediumvioletred:\"#c71585\",powderblue:\"#b0e0e6\",palegoldenrod:\"#eee8aa\",oldlace:\"#fdf5e6\",paleturquoise:\"#afeeee\",mediumturquoise:\"#48d1cc\",mediumorchid:\"#ba55d3\",rebeccapurple:\"#663399\",lightsteelblue:\"#b0c4de\",mediumslateblue:\"#7b68ee\",thistle:\"#d8bfd8\",tan:\"#d2b48c\",orchid:\"#da70d6\",mediumpurple:\"#9370db\",purple:\"#800080\",pink:\"#ffc0cb\",skyblue:\"#87ceeb\",springgreen:\"#00ff7f\",palegreen:\"#98fb98\",red:\"#ff0000\",yellow:\"#ffff00\",slateblue:\"#6a5acd\",lavenderblush:\"#fff0f5\",peru:\"#cd853f\",palevioletred:\"#db7093\",violet:\"#ee82ee\",teal:\"#008080\",slategray:\"#708090\",slategrey:\"#708090\",aliceblue:\"#f0f8ff\",darkseagreen:\"#8fbc8f\",darkolivegreen:\"#556b2f\",greenyellow:\"#adff2f\",seagreen:\"#2e8b57\",seashell:\"#fff5ee\",tomato:\"#ff6347\",silver:\"#c0c0c0\",sienna:\"#a0522d\",lavender:\"#e6e6fa\",lightgreen:\"#90ee90\",orange:\"#ffa500\",orangered:\"#ff4500\",steelblue:\"#4682b4\",royalblue:\"#4169e1\",turquoise:\"#40e0d0\",yellowgreen:\"#9acd32\",salmon:\"#fa8072\",saddlebrown:\"#8b4513\",sandybrown:\"#f4a460\",rosybrown:\"#bc8f8f\",darksalmon:\"#e9967a\",lightgoldenrodyellow:\"#fafad2\",snow:\"#fffafa\",lightgrey:\"#d3d3d3\",lightgray:\"#d3d3d3\",dimgray:\"#696969\",dimgrey:\"#696969\",olivedrab:\"#6b8e23\",olive:\"#808000\"},r={};for(var d in a)r[a[d]]=d;var l={};e.prototype.toName=function(f){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return\"transparent\";var d,i,n=r[this.toHex()];if(n)return n;if(null==f?void 0:f.closest){var o=this.toRgb(),t=1/0,b=\"black\";if(!l.length)for(var c in a)l[c]=new e(a[c]).toRgb();for(var g in a){var u=(d=o,i=l[g],Math.pow(d.r-i.r,2)+Math.pow(d.g-i.g,2)+Math.pow(d.b-i.b,2));u<t&&(t=u,b=g)}return b}};f.string.push([function(f){var r=f.toLowerCase(),d=\"transparent\"===r?\"#0000\":a[r];return d?new e(d).toRgb():null},\"name\"])}\n","'use strict';\n\nvar isObject = require('is-extendable');\nvar merge = require('mixin-deep');\nvar get = require('get-value');\nvar set = require('set-value');\n\nmodule.exports = function mergeValue(obj, prop, value) {\n  if (!isObject(obj)) {\n    throw new TypeError('expected an object');\n  }\n\n  if (typeof prop !== 'string' || value == null) {\n    return merge.apply(null, arguments);\n  }\n\n  if (typeof value === 'string') {\n    set(obj, prop, value);\n    return obj;\n  }\n\n  var current = get(obj, prop);\n  if (isObject(value) && isObject(current)) {\n    value = merge({}, current, value);\n  }\n\n  set(obj, prop, value);\n  return obj;\n};\n","'use strict';\n\nvar isExtendable = require('is-extendable');\nvar forIn = require('for-in');\n\nfunction mixinDeep(target, objects) {\n  var len = arguments.length, i = 0;\n  while (++i < len) {\n    var obj = arguments[i];\n    if (isObject(obj)) {\n      forIn(obj, copy, target);\n    }\n  }\n  return target;\n}\n\n/**\n * Copy properties from the source object to the\n * target object.\n *\n * @param  {*} `val`\n * @param  {String} `key`\n */\n\nfunction copy(val, key) {\n  if (!isValidKey(key)) {\n    return;\n  }\n\n  var obj = this[key];\n  if (isObject(val) && isObject(obj)) {\n    mixinDeep(obj, val);\n  } else {\n    this[key] = val;\n  }\n}\n\n/**\n * Returns true if `val` is an object or function.\n *\n * @param  {any} val\n * @return {Boolean}\n */\n\nfunction isObject(val) {\n  return isExtendable(val) && !Array.isArray(val);\n}\n\n/**\n * Returns true if `key` is a valid key to use when extending objects.\n *\n * @param  {String} `key`\n * @return {Boolean}\n */\n\nfunction isValidKey(key) {\n  return key !== '__proto__' && key !== 'constructor' && key !== 'prototype';\n};\n\n/**\n * Expose `mixinDeep`\n */\n\nmodule.exports = mixinDeep;\n","import * as React from \"react\";\n\nexport default function mergeRefs<T = any>(\n  refs: Array<React.MutableRefObject<T> | React.LegacyRef<T>>\n): React.RefCallback<T> {\n  return (value) => {\n    refs.forEach((ref) => {\n      if (typeof ref === \"function\") {\n        ref(value);\n      } else if (ref != null) {\n        (ref as React.MutableRefObject<T | null>).current = value;\n      }\n    });\n  };\n}\n","/*!\n * set-value <https://github.com/jonschlinkert/set-value>\n *\n * Copyright (c) 2014-2015, 2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nvar split = require('split-string');\nvar extend = require('extend-shallow');\nvar isPlainObject = require('is-plain-object');\nvar isObject = require('is-extendable');\n\nmodule.exports = function(obj, prop, val) {\n  if (!isObject(obj)) {\n    return obj;\n  }\n\n  if (Array.isArray(prop)) {\n    prop = [].concat.apply([], prop).join('.');\n  }\n\n  if (typeof prop !== 'string') {\n    return obj;\n  }\n\n  var keys = split(prop, {sep: '.', brackets: true}).filter(isValidKey);\n  var len = keys.length;\n  var idx = -1;\n  var current = obj;\n\n  while (++idx < len) {\n    var key = keys[idx];\n    if (idx !== len - 1) {\n      if (!isObject(current[key])) {\n        current[key] = {};\n      }\n      current = current[key];\n      continue;\n    }\n\n    if (isPlainObject(current[key]) && isPlainObject(val)) {\n      current[key] = extend({}, current[key], val);\n    } else {\n      current[key] = val;\n    }\n  }\n\n  return obj;\n};\n\nfunction isValidKey(key) {\n  return key !== '__proto__' && key !== 'constructor' && key !== 'prototype';\n}\n","/*!\n * is-extendable <https://github.com/jonschlinkert/is-extendable>\n *\n * Copyright (c) 2015, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function isExtendable(val) {\n  return typeof val !== 'undefined' && val !== null\n    && (typeof val === 'object' || typeof val === 'function');\n};\n","/*!\n * split-string <https://github.com/jonschlinkert/split-string>\n *\n * Copyright (c) 2015-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nvar extend = require('extend-shallow');\n\nmodule.exports = function(str, options, fn) {\n  if (typeof str !== 'string') {\n    throw new TypeError('expected a string');\n  }\n\n  if (typeof options === 'function') {\n    fn = options;\n    options = null;\n  }\n\n  // allow separator to be defined as a string\n  if (typeof options === 'string') {\n    options = { sep: options };\n  }\n\n  var opts = extend({sep: '.'}, options);\n  var quotes = opts.quotes || ['\"', \"'\", '`'];\n  var brackets;\n\n  if (opts.brackets === true) {\n    brackets = {\n      '<': '>',\n      '(': ')',\n      '[': ']',\n      '{': '}'\n    };\n  } else if (opts.brackets) {\n    brackets = opts.brackets;\n  }\n\n  var tokens = [];\n  var stack = [];\n  var arr = [''];\n  var sep = opts.sep;\n  var len = str.length;\n  var idx = -1;\n  var closeIdx;\n\n  function expected() {\n    if (brackets && stack.length) {\n      return brackets[stack[stack.length - 1]];\n    }\n  }\n\n  while (++idx < len) {\n    var ch = str[idx];\n    var next = str[idx + 1];\n    var tok = { val: ch, idx: idx, arr: arr, str: str };\n    tokens.push(tok);\n\n    if (ch === '\\\\') {\n      tok.val = keepEscaping(opts, str, idx) === true ? (ch + next) : next;\n      tok.escaped = true;\n      if (typeof fn === 'function') {\n        fn(tok);\n      }\n      arr[arr.length - 1] += tok.val;\n      idx++;\n      continue;\n    }\n\n    if (brackets && brackets[ch]) {\n      stack.push(ch);\n      var e = expected();\n      var i = idx + 1;\n\n      if (str.indexOf(e, i + 1) !== -1) {\n        while (stack.length && i < len) {\n          var s = str[++i];\n          if (s === '\\\\') {\n            s++;\n            continue;\n          }\n\n          if (quotes.indexOf(s) !== -1) {\n            i = getClosingQuote(str, s, i + 1);\n            continue;\n          }\n\n          e = expected();\n          if (stack.length && str.indexOf(e, i + 1) === -1) {\n            break;\n          }\n\n          if (brackets[s]) {\n            stack.push(s);\n            continue;\n          }\n\n          if (e === s) {\n            stack.pop();\n          }\n        }\n      }\n\n      closeIdx = i;\n      if (closeIdx === -1) {\n        arr[arr.length - 1] += ch;\n        continue;\n      }\n\n      ch = str.slice(idx, closeIdx + 1);\n      tok.val = ch;\n      tok.idx = idx = closeIdx;\n    }\n\n    if (quotes.indexOf(ch) !== -1) {\n      closeIdx = getClosingQuote(str, ch, idx + 1);\n      if (closeIdx === -1) {\n        arr[arr.length - 1] += ch;\n        continue;\n      }\n\n      if (keepQuotes(ch, opts) === true) {\n        ch = str.slice(idx, closeIdx + 1);\n      } else {\n        ch = str.slice(idx + 1, closeIdx);\n      }\n\n      tok.val = ch;\n      tok.idx = idx = closeIdx;\n    }\n\n    if (typeof fn === 'function') {\n      fn(tok, tokens);\n      ch = tok.val;\n      idx = tok.idx;\n    }\n\n    if (tok.val === sep && tok.split !== false) {\n      arr.push('');\n      continue;\n    }\n\n    arr[arr.length - 1] += tok.val;\n  }\n\n  return arr;\n};\n\nfunction getClosingQuote(str, ch, i, brackets) {\n  var idx = str.indexOf(ch, i);\n  if (str.charAt(idx - 1) === '\\\\') {\n    return getClosingQuote(str, ch, idx + 1);\n  }\n  return idx;\n}\n\nfunction keepQuotes(ch, opts) {\n  if (opts.keepDoubleQuotes === true && ch === '\"') return true;\n  if (opts.keepSingleQuotes === true && ch === \"'\") return true;\n  return opts.keepQuotes;\n}\n\nfunction keepEscaping(opts, str, idx) {\n  if (typeof opts.keepEscaping === 'function') {\n    return opts.keepEscaping(str, idx);\n  }\n  return opts.keepEscaping === true || str[idx + 1] === '\\\\';\n}\n","'use strict';\n\nvar isExtendable = require('is-extendable');\nvar assignSymbols = require('assign-symbols');\n\nmodule.exports = Object.assign || function(obj/*, objects*/) {\n  if (obj === null || typeof obj === 'undefined') {\n    throw new TypeError('Cannot convert undefined or null to object');\n  }\n  if (!isObject(obj)) {\n    obj = {};\n  }\n  for (var i = 1; i < arguments.length; i++) {\n    var val = arguments[i];\n    if (isString(val)) {\n      val = toObject(val);\n    }\n    if (isObject(val)) {\n      assign(obj, val);\n      assignSymbols(obj, val);\n    }\n  }\n  return obj;\n};\n\nfunction assign(a, b) {\n  for (var key in b) {\n    if (hasOwn(b, key)) {\n      a[key] = b[key];\n    }\n  }\n}\n\nfunction isString(val) {\n  return (val && typeof val === 'string');\n}\n\nfunction toObject(str) {\n  var obj = {};\n  for (var i in str) {\n    obj[i] = str[i];\n  }\n  return obj;\n}\n\nfunction isObject(val) {\n  return (val && typeof val === 'object') || isExtendable(val);\n}\n\n/**\n * Returns true if the given `key` is an own property of `obj`.\n */\n\nfunction hasOwn(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n}\n\nfunction isEnum(obj, key) {\n  return Object.prototype.propertyIsEnumerable.call(obj, key);\n}\n","import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { EventDispatcher, Vector3, MOUSE, TOUCH, PerspectiveCamera, Quaternion, Spherical, Vector2, OrthographicCamera } from 'three';\n\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nconst moduloWrapAround = (offset, capacity) => (offset % capacity + capacity) % capacity;\n\nclass OrbitControls extends EventDispatcher {\n  // Set to false to disable this control\n  // \"target\" sets the location of focus, where the object orbits around\n  // How far you can dolly in and out ( PerspectiveCamera only )\n  // How far you can zoom in and out ( OrthographicCamera only )\n  // How far you can orbit vertically, upper and lower limits.\n  // Range is 0 to Math.PI radians.\n  // radians\n  // radians\n  // How far you can orbit horizontally, upper and lower limits.\n  // If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\n  // radians\n  // radians\n  // Set to true to enable damping (inertia)\n  // If damping is enabled, you must call controls.update() in your animation loop\n  // This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n  // Set to false to disable zooming\n  // Set to false to disable rotating\n  // Set to false to disable panning\n  // if false, pan orthogonal to world-space direction camera.up\n  // pixels moved per arrow key push\n  // Set to true to automatically rotate around the target\n  // If auto-rotate is enabled, you must call controls.update() in your animation loop\n  // 30 seconds per orbit when fps is 60\n  // true if you want to reverse the orbit to mouse drag from left to right = orbits left\n  // The four arrow keys\n  // Mouse buttons\n  // Touch fingers\n  // the target DOM element for key events\n  constructor(object, domElement) {\n    super();\n\n    _defineProperty(this, \"object\", void 0);\n\n    _defineProperty(this, \"domElement\", void 0);\n\n    _defineProperty(this, \"enabled\", true);\n\n    _defineProperty(this, \"target\", new Vector3());\n\n    _defineProperty(this, \"minDistance\", 0);\n\n    _defineProperty(this, \"maxDistance\", Infinity);\n\n    _defineProperty(this, \"minZoom\", 0);\n\n    _defineProperty(this, \"maxZoom\", Infinity);\n\n    _defineProperty(this, \"minPolarAngle\", 0);\n\n    _defineProperty(this, \"maxPolarAngle\", Math.PI);\n\n    _defineProperty(this, \"minAzimuthAngle\", -Infinity);\n\n    _defineProperty(this, \"maxAzimuthAngle\", Infinity);\n\n    _defineProperty(this, \"enableDamping\", false);\n\n    _defineProperty(this, \"dampingFactor\", 0.05);\n\n    _defineProperty(this, \"enableZoom\", true);\n\n    _defineProperty(this, \"zoomSpeed\", 1.0);\n\n    _defineProperty(this, \"enableRotate\", true);\n\n    _defineProperty(this, \"rotateSpeed\", 1.0);\n\n    _defineProperty(this, \"enablePan\", true);\n\n    _defineProperty(this, \"panSpeed\", 1.0);\n\n    _defineProperty(this, \"screenSpacePanning\", true);\n\n    _defineProperty(this, \"keyPanSpeed\", 7.0);\n\n    _defineProperty(this, \"autoRotate\", false);\n\n    _defineProperty(this, \"autoRotateSpeed\", 2.0);\n\n    _defineProperty(this, \"reverseOrbit\", false);\n\n    _defineProperty(this, \"keys\", {\n      LEFT: 'ArrowLeft',\n      UP: 'ArrowUp',\n      RIGHT: 'ArrowRight',\n      BOTTOM: 'ArrowDown'\n    });\n\n    _defineProperty(this, \"mouseButtons\", {\n      LEFT: MOUSE.ROTATE,\n      MIDDLE: MOUSE.DOLLY,\n      RIGHT: MOUSE.PAN\n    });\n\n    _defineProperty(this, \"touches\", {\n      ONE: TOUCH.ROTATE,\n      TWO: TOUCH.DOLLY_PAN\n    });\n\n    _defineProperty(this, \"target0\", void 0);\n\n    _defineProperty(this, \"position0\", void 0);\n\n    _defineProperty(this, \"zoom0\", void 0);\n\n    _defineProperty(this, \"_domElementKeyEvents\", null);\n\n    _defineProperty(this, \"getPolarAngle\", void 0);\n\n    _defineProperty(this, \"getAzimuthalAngle\", void 0);\n\n    _defineProperty(this, \"setPolarAngle\", void 0);\n\n    _defineProperty(this, \"setAzimuthalAngle\", void 0);\n\n    _defineProperty(this, \"getDistance\", void 0);\n\n    _defineProperty(this, \"listenToKeyEvents\", void 0);\n\n    _defineProperty(this, \"saveState\", void 0);\n\n    _defineProperty(this, \"reset\", void 0);\n\n    _defineProperty(this, \"update\", void 0);\n\n    _defineProperty(this, \"connect\", void 0);\n\n    _defineProperty(this, \"dispose\", void 0);\n\n    this.object = object;\n    this.domElement = domElement; // for reset\n\n    this.target0 = this.target.clone();\n    this.position0 = this.object.position.clone();\n    this.zoom0 = this.object instanceof PerspectiveCamera ? this.object.zoom : 1; //\n    // public methods\n    //\n\n    this.getPolarAngle = () => spherical.phi;\n\n    this.getAzimuthalAngle = () => spherical.theta;\n\n    this.setPolarAngle = value => {\n      // use modulo wrapping to safeguard value\n      let phi = moduloWrapAround(value, 2 * Math.PI);\n      let currentPhi = spherical.phi; // convert to the equivalent shortest angle\n\n      if (currentPhi < 0) currentPhi += 2 * Math.PI;\n      if (phi < 0) phi += 2 * Math.PI;\n      let phiDist = Math.abs(phi - currentPhi);\n\n      if (2 * Math.PI - phiDist < phiDist) {\n        if (phi < currentPhi) {\n          phi += 2 * Math.PI;\n        } else {\n          currentPhi += 2 * Math.PI;\n        }\n      }\n\n      sphericalDelta.phi = phi - currentPhi;\n      scope.update();\n    };\n\n    this.setAzimuthalAngle = value => {\n      // use modulo wrapping to safeguard value\n      let theta = moduloWrapAround(value, 2 * Math.PI);\n      let currentTheta = spherical.theta; // convert to the equivalent shortest angle\n\n      if (currentTheta < 0) currentTheta += 2 * Math.PI;\n      if (theta < 0) theta += 2 * Math.PI;\n      let thetaDist = Math.abs(theta - currentTheta);\n\n      if (2 * Math.PI - thetaDist < thetaDist) {\n        if (theta < currentTheta) {\n          theta += 2 * Math.PI;\n        } else {\n          currentTheta += 2 * Math.PI;\n        }\n      }\n\n      sphericalDelta.theta = theta - currentTheta;\n      scope.update();\n    };\n\n    this.getDistance = () => scope.object.position.distanceTo(scope.target);\n\n    this.listenToKeyEvents = domElement => {\n      domElement.addEventListener('keydown', onKeyDown);\n      this._domElementKeyEvents = domElement;\n    };\n\n    this.saveState = () => {\n      scope.target0.copy(scope.target);\n      scope.position0.copy(scope.object.position);\n      scope.zoom0 = scope.object instanceof PerspectiveCamera ? scope.object.zoom : 1;\n    };\n\n    this.reset = () => {\n      scope.target.copy(scope.target0);\n      scope.object.position.copy(scope.position0);\n\n      if (scope.object instanceof PerspectiveCamera) {\n        scope.object.zoom = scope.zoom0;\n        scope.object.updateProjectionMatrix();\n      }\n\n      scope.dispatchEvent(changeEvent);\n      scope.update();\n      state = STATE.NONE;\n    }; // this method is exposed, but perhaps it would be better if we can make it private...\n\n\n    this.update = (() => {\n      const offset = new Vector3(); // so camera.up is the orbit axis\n\n      const quat = new Quaternion().setFromUnitVectors(object.up, new Vector3(0, 1, 0));\n      const quatInverse = quat.clone().invert();\n      const lastPosition = new Vector3();\n      const lastQuaternion = new Quaternion();\n      const twoPI = 2 * Math.PI;\n      return function update() {\n        const position = scope.object.position;\n        offset.copy(position).sub(scope.target); // rotate offset to \"y-axis-is-up\" space\n\n        offset.applyQuaternion(quat); // angle from z-axis around y-axis\n\n        spherical.setFromVector3(offset);\n\n        if (scope.autoRotate && state === STATE.NONE) {\n          rotateLeft(getAutoRotationAngle());\n        }\n\n        if (scope.enableDamping) {\n          spherical.theta += sphericalDelta.theta * scope.dampingFactor;\n          spherical.phi += sphericalDelta.phi * scope.dampingFactor;\n        } else {\n          spherical.theta += sphericalDelta.theta;\n          spherical.phi += sphericalDelta.phi;\n        } // restrict theta to be between desired limits\n\n\n        let min = scope.minAzimuthAngle;\n        let max = scope.maxAzimuthAngle;\n\n        if (isFinite(min) && isFinite(max)) {\n          if (min < -Math.PI) min += twoPI;else if (min > Math.PI) min -= twoPI;\n          if (max < -Math.PI) max += twoPI;else if (max > Math.PI) max -= twoPI;\n\n          if (min <= max) {\n            spherical.theta = Math.max(min, Math.min(max, spherical.theta));\n          } else {\n            spherical.theta = spherical.theta > (min + max) / 2 ? Math.max(min, spherical.theta) : Math.min(max, spherical.theta);\n          }\n        } // restrict phi to be between desired limits\n\n\n        spherical.phi = Math.max(scope.minPolarAngle, Math.min(scope.maxPolarAngle, spherical.phi));\n        spherical.makeSafe();\n        spherical.radius *= scale; // restrict radius to be between desired limits\n\n        spherical.radius = Math.max(scope.minDistance, Math.min(scope.maxDistance, spherical.radius)); // move target to panned location\n\n        if (scope.enableDamping === true) {\n          scope.target.addScaledVector(panOffset, scope.dampingFactor);\n        } else {\n          scope.target.add(panOffset);\n        }\n\n        offset.setFromSpherical(spherical); // rotate offset back to \"camera-up-vector-is-up\" space\n\n        offset.applyQuaternion(quatInverse);\n        position.copy(scope.target).add(offset);\n        scope.object.lookAt(scope.target);\n\n        if (scope.enableDamping === true) {\n          sphericalDelta.theta *= 1 - scope.dampingFactor;\n          sphericalDelta.phi *= 1 - scope.dampingFactor;\n          panOffset.multiplyScalar(1 - scope.dampingFactor);\n        } else {\n          sphericalDelta.set(0, 0, 0);\n          panOffset.set(0, 0, 0);\n        }\n\n        scale = 1; // update condition is:\n        // min(camera displacement, camera rotation in radians)^2 > EPS\n        // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n        if (zoomChanged || lastPosition.distanceToSquared(scope.object.position) > EPS || 8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS) {\n          scope.dispatchEvent(changeEvent);\n          lastPosition.copy(scope.object.position);\n          lastQuaternion.copy(scope.object.quaternion);\n          zoomChanged = false;\n          return true;\n        }\n\n        return false;\n      };\n    })(); // https://github.com/mrdoob/three.js/issues/20575\n\n\n    this.connect = domElement => {\n      if (domElement === document) {\n        console.error('THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.');\n      }\n\n      scope.domElement = domElement; // disables touch scroll\n      // touch-action needs to be defined for pointer events to work on mobile\n      // https://stackoverflow.com/a/48254578\n\n      scope.domElement.style.touchAction = 'none';\n      scope.domElement.addEventListener('contextmenu', onContextMenu);\n      scope.domElement.addEventListener('pointerdown', onPointerDown);\n      scope.domElement.addEventListener('pointercancel', onPointerCancel);\n      scope.domElement.addEventListener('wheel', onMouseWheel);\n    };\n\n    this.dispose = () => {\n      var _scope$domElement, _scope$domElement2, _scope$domElement3, _scope$domElement4, _scope$domElement5, _scope$domElement6;\n\n      (_scope$domElement = scope.domElement) === null || _scope$domElement === void 0 ? void 0 : _scope$domElement.removeEventListener('contextmenu', onContextMenu);\n      (_scope$domElement2 = scope.domElement) === null || _scope$domElement2 === void 0 ? void 0 : _scope$domElement2.removeEventListener('pointerdown', onPointerDown);\n      (_scope$domElement3 = scope.domElement) === null || _scope$domElement3 === void 0 ? void 0 : _scope$domElement3.removeEventListener('pointercancel', onPointerCancel);\n      (_scope$domElement4 = scope.domElement) === null || _scope$domElement4 === void 0 ? void 0 : _scope$domElement4.removeEventListener('wheel', onMouseWheel);\n      (_scope$domElement5 = scope.domElement) === null || _scope$domElement5 === void 0 ? void 0 : _scope$domElement5.ownerDocument.removeEventListener('pointermove', onPointerMove);\n      (_scope$domElement6 = scope.domElement) === null || _scope$domElement6 === void 0 ? void 0 : _scope$domElement6.ownerDocument.removeEventListener('pointerup', onPointerUp);\n\n      if (scope._domElementKeyEvents !== null) {\n        scope._domElementKeyEvents.removeEventListener('keydown', onKeyDown);\n      } //scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n    }; //\n    // internals\n    //\n\n\n    const scope = this;\n    const changeEvent = {\n      type: 'change'\n    };\n    const startEvent = {\n      type: 'start'\n    };\n    const endEvent = {\n      type: 'end'\n    };\n    const STATE = {\n      NONE: -1,\n      ROTATE: 0,\n      DOLLY: 1,\n      PAN: 2,\n      TOUCH_ROTATE: 3,\n      TOUCH_PAN: 4,\n      TOUCH_DOLLY_PAN: 5,\n      TOUCH_DOLLY_ROTATE: 6\n    };\n    let state = STATE.NONE;\n    const EPS = 0.000001; // current position in spherical coordinates\n\n    const spherical = new Spherical();\n    const sphericalDelta = new Spherical();\n    let scale = 1;\n    const panOffset = new Vector3();\n    let zoomChanged = false;\n    const rotateStart = new Vector2();\n    const rotateEnd = new Vector2();\n    const rotateDelta = new Vector2();\n    const panStart = new Vector2();\n    const panEnd = new Vector2();\n    const panDelta = new Vector2();\n    const dollyStart = new Vector2();\n    const dollyEnd = new Vector2();\n    const dollyDelta = new Vector2();\n    const pointers = [];\n    const pointerPositions = {};\n\n    function getAutoRotationAngle() {\n      return 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n    }\n\n    function getZoomScale() {\n      return Math.pow(0.95, scope.zoomSpeed);\n    }\n\n    function rotateLeft(angle) {\n      if (scope.reverseOrbit) {\n        sphericalDelta.theta += angle;\n      } else {\n        sphericalDelta.theta -= angle;\n      }\n    }\n\n    function rotateUp(angle) {\n      if (scope.reverseOrbit) {\n        sphericalDelta.phi += angle;\n      } else {\n        sphericalDelta.phi -= angle;\n      }\n    }\n\n    const panLeft = (() => {\n      const v = new Vector3();\n      return function panLeft(distance, objectMatrix) {\n        v.setFromMatrixColumn(objectMatrix, 0); // get X column of objectMatrix\n\n        v.multiplyScalar(-distance);\n        panOffset.add(v);\n      };\n    })();\n\n    const panUp = (() => {\n      const v = new Vector3();\n      return function panUp(distance, objectMatrix) {\n        if (scope.screenSpacePanning === true) {\n          v.setFromMatrixColumn(objectMatrix, 1);\n        } else {\n          v.setFromMatrixColumn(objectMatrix, 0);\n          v.crossVectors(scope.object.up, v);\n        }\n\n        v.multiplyScalar(distance);\n        panOffset.add(v);\n      };\n    })(); // deltaX and deltaY are in pixels; right and down are positive\n\n\n    const pan = (() => {\n      const offset = new Vector3();\n      return function pan(deltaX, deltaY) {\n        const element = scope.domElement;\n\n        if (element && scope.object instanceof PerspectiveCamera && scope.object.isPerspectiveCamera) {\n          // perspective\n          const position = scope.object.position;\n          offset.copy(position).sub(scope.target);\n          let targetDistance = offset.length(); // half of the fov is center to top of screen\n\n          targetDistance *= Math.tan(scope.object.fov / 2 * Math.PI / 180.0); // we use only clientHeight here so aspect ratio does not distort speed\n\n          panLeft(2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix);\n          panUp(2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix);\n        } else if (element && scope.object instanceof OrthographicCamera && scope.object.isOrthographicCamera) {\n          // orthographic\n          panLeft(deltaX * (scope.object.right - scope.object.left) / scope.object.zoom / element.clientWidth, scope.object.matrix);\n          panUp(deltaY * (scope.object.top - scope.object.bottom) / scope.object.zoom / element.clientHeight, scope.object.matrix);\n        } else {\n          // camera neither orthographic nor perspective\n          console.warn('WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.');\n          scope.enablePan = false;\n        }\n      };\n    })();\n\n    function dollyOut(dollyScale) {\n      if (scope.object instanceof PerspectiveCamera && scope.object.isPerspectiveCamera) {\n        scale /= dollyScale;\n      } else if (scope.object instanceof OrthographicCamera && scope.object.isOrthographicCamera) {\n        scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom * dollyScale));\n        scope.object.updateProjectionMatrix();\n        zoomChanged = true;\n      } else {\n        console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n        scope.enableZoom = false;\n      }\n    }\n\n    function dollyIn(dollyScale) {\n      if (scope.object instanceof PerspectiveCamera && scope.object.isPerspectiveCamera) {\n        scale *= dollyScale;\n      } else if (scope.object instanceof OrthographicCamera && scope.object.isOrthographicCamera) {\n        scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom / dollyScale));\n        scope.object.updateProjectionMatrix();\n        zoomChanged = true;\n      } else {\n        console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n        scope.enableZoom = false;\n      }\n    } //\n    // event callbacks - update the object state\n    //\n\n\n    function handleMouseDownRotate(event) {\n      rotateStart.set(event.clientX, event.clientY);\n    }\n\n    function handleMouseDownDolly(event) {\n      dollyStart.set(event.clientX, event.clientY);\n    }\n\n    function handleMouseDownPan(event) {\n      panStart.set(event.clientX, event.clientY);\n    }\n\n    function handleMouseMoveRotate(event) {\n      rotateEnd.set(event.clientX, event.clientY);\n      rotateDelta.subVectors(rotateEnd, rotateStart).multiplyScalar(scope.rotateSpeed);\n      const element = scope.domElement;\n\n      if (element) {\n        rotateLeft(2 * Math.PI * rotateDelta.x / element.clientHeight); // yes, height\n\n        rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight);\n      }\n\n      rotateStart.copy(rotateEnd);\n      scope.update();\n    }\n\n    function handleMouseMoveDolly(event) {\n      dollyEnd.set(event.clientX, event.clientY);\n      dollyDelta.subVectors(dollyEnd, dollyStart);\n\n      if (dollyDelta.y > 0) {\n        dollyOut(getZoomScale());\n      } else if (dollyDelta.y < 0) {\n        dollyIn(getZoomScale());\n      }\n\n      dollyStart.copy(dollyEnd);\n      scope.update();\n    }\n\n    function handleMouseMovePan(event) {\n      panEnd.set(event.clientX, event.clientY);\n      panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed);\n      pan(panDelta.x, panDelta.y);\n      panStart.copy(panEnd);\n      scope.update();\n    }\n\n    function handleMouseWheel(event) {\n      if (event.deltaY < 0) {\n        dollyIn(getZoomScale());\n      } else if (event.deltaY > 0) {\n        dollyOut(getZoomScale());\n      }\n\n      scope.update();\n    }\n\n    function handleKeyDown(event) {\n      let needsUpdate = false;\n\n      switch (event.code) {\n        case scope.keys.UP:\n          pan(0, scope.keyPanSpeed);\n          needsUpdate = true;\n          break;\n\n        case scope.keys.BOTTOM:\n          pan(0, -scope.keyPanSpeed);\n          needsUpdate = true;\n          break;\n\n        case scope.keys.LEFT:\n          pan(scope.keyPanSpeed, 0);\n          needsUpdate = true;\n          break;\n\n        case scope.keys.RIGHT:\n          pan(-scope.keyPanSpeed, 0);\n          needsUpdate = true;\n          break;\n      }\n\n      if (needsUpdate) {\n        // prevent the browser from scrolling on cursor keys\n        event.preventDefault();\n        scope.update();\n      }\n    }\n\n    function handleTouchStartRotate() {\n      if (pointers.length == 1) {\n        rotateStart.set(pointers[0].pageX, pointers[0].pageY);\n      } else {\n        const x = 0.5 * (pointers[0].pageX + pointers[1].pageX);\n        const y = 0.5 * (pointers[0].pageY + pointers[1].pageY);\n        rotateStart.set(x, y);\n      }\n    }\n\n    function handleTouchStartPan() {\n      if (pointers.length == 1) {\n        panStart.set(pointers[0].pageX, pointers[0].pageY);\n      } else {\n        const x = 0.5 * (pointers[0].pageX + pointers[1].pageX);\n        const y = 0.5 * (pointers[0].pageY + pointers[1].pageY);\n        panStart.set(x, y);\n      }\n    }\n\n    function handleTouchStartDolly() {\n      const dx = pointers[0].pageX - pointers[1].pageX;\n      const dy = pointers[0].pageY - pointers[1].pageY;\n      const distance = Math.sqrt(dx * dx + dy * dy);\n      dollyStart.set(0, distance);\n    }\n\n    function handleTouchStartDollyPan() {\n      if (scope.enableZoom) handleTouchStartDolly();\n      if (scope.enablePan) handleTouchStartPan();\n    }\n\n    function handleTouchStartDollyRotate() {\n      if (scope.enableZoom) handleTouchStartDolly();\n      if (scope.enableRotate) handleTouchStartRotate();\n    }\n\n    function handleTouchMoveRotate(event) {\n      if (pointers.length == 1) {\n        rotateEnd.set(event.pageX, event.pageY);\n      } else {\n        const position = getSecondPointerPosition(event);\n        const x = 0.5 * (event.pageX + position.x);\n        const y = 0.5 * (event.pageY + position.y);\n        rotateEnd.set(x, y);\n      }\n\n      rotateDelta.subVectors(rotateEnd, rotateStart).multiplyScalar(scope.rotateSpeed);\n      const element = scope.domElement;\n\n      if (element) {\n        rotateLeft(2 * Math.PI * rotateDelta.x / element.clientHeight); // yes, height\n\n        rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight);\n      }\n\n      rotateStart.copy(rotateEnd);\n    }\n\n    function handleTouchMovePan(event) {\n      if (pointers.length == 1) {\n        panEnd.set(event.pageX, event.pageY);\n      } else {\n        const position = getSecondPointerPosition(event);\n        const x = 0.5 * (event.pageX + position.x);\n        const y = 0.5 * (event.pageY + position.y);\n        panEnd.set(x, y);\n      }\n\n      panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed);\n      pan(panDelta.x, panDelta.y);\n      panStart.copy(panEnd);\n    }\n\n    function handleTouchMoveDolly(event) {\n      const position = getSecondPointerPosition(event);\n      const dx = event.pageX - position.x;\n      const dy = event.pageY - position.y;\n      const distance = Math.sqrt(dx * dx + dy * dy);\n      dollyEnd.set(0, distance);\n      dollyDelta.set(0, Math.pow(dollyEnd.y / dollyStart.y, scope.zoomSpeed));\n      dollyOut(dollyDelta.y);\n      dollyStart.copy(dollyEnd);\n    }\n\n    function handleTouchMoveDollyPan(event) {\n      if (scope.enableZoom) handleTouchMoveDolly(event);\n      if (scope.enablePan) handleTouchMovePan(event);\n    }\n\n    function handleTouchMoveDollyRotate(event) {\n      if (scope.enableZoom) handleTouchMoveDolly(event);\n      if (scope.enableRotate) handleTouchMoveRotate(event);\n    } //\n    // event handlers - FSM: listen for events and reset state\n    //\n\n\n    function onPointerDown(event) {\n      if (scope.enabled === false) return;\n\n      if (pointers.length === 0) {\n        var _scope$domElement7, _scope$domElement8;\n\n        (_scope$domElement7 = scope.domElement) === null || _scope$domElement7 === void 0 ? void 0 : _scope$domElement7.ownerDocument.addEventListener('pointermove', onPointerMove);\n        (_scope$domElement8 = scope.domElement) === null || _scope$domElement8 === void 0 ? void 0 : _scope$domElement8.ownerDocument.addEventListener('pointerup', onPointerUp);\n      }\n\n      addPointer(event);\n\n      if (event.pointerType === 'touch') {\n        onTouchStart(event);\n      } else {\n        onMouseDown(event);\n      }\n    }\n\n    function onPointerMove(event) {\n      if (scope.enabled === false) return;\n\n      if (event.pointerType === 'touch') {\n        onTouchMove(event);\n      } else {\n        onMouseMove(event);\n      }\n    }\n\n    function onPointerUp(event) {\n      removePointer(event);\n\n      if (pointers.length === 0) {\n        var _scope$domElement9, _scope$domElement10, _scope$domElement11;\n\n        (_scope$domElement9 = scope.domElement) === null || _scope$domElement9 === void 0 ? void 0 : _scope$domElement9.releasePointerCapture(event.pointerId);\n        (_scope$domElement10 = scope.domElement) === null || _scope$domElement10 === void 0 ? void 0 : _scope$domElement10.ownerDocument.removeEventListener('pointermove', onPointerMove);\n        (_scope$domElement11 = scope.domElement) === null || _scope$domElement11 === void 0 ? void 0 : _scope$domElement11.ownerDocument.removeEventListener('pointerup', onPointerUp);\n      }\n\n      scope.dispatchEvent(endEvent);\n      state = STATE.NONE;\n    }\n\n    function onPointerCancel(event) {\n      removePointer(event);\n    }\n\n    function onMouseDown(event) {\n      let mouseAction;\n\n      switch (event.button) {\n        case 0:\n          mouseAction = scope.mouseButtons.LEFT;\n          break;\n\n        case 1:\n          mouseAction = scope.mouseButtons.MIDDLE;\n          break;\n\n        case 2:\n          mouseAction = scope.mouseButtons.RIGHT;\n          break;\n\n        default:\n          mouseAction = -1;\n      }\n\n      switch (mouseAction) {\n        case MOUSE.DOLLY:\n          if (scope.enableZoom === false) return;\n          handleMouseDownDolly(event);\n          state = STATE.DOLLY;\n          break;\n\n        case MOUSE.ROTATE:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (scope.enablePan === false) return;\n            handleMouseDownPan(event);\n            state = STATE.PAN;\n          } else {\n            if (scope.enableRotate === false) return;\n            handleMouseDownRotate(event);\n            state = STATE.ROTATE;\n          }\n\n          break;\n\n        case MOUSE.PAN:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (scope.enableRotate === false) return;\n            handleMouseDownRotate(event);\n            state = STATE.ROTATE;\n          } else {\n            if (scope.enablePan === false) return;\n            handleMouseDownPan(event);\n            state = STATE.PAN;\n          }\n\n          break;\n\n        default:\n          state = STATE.NONE;\n      }\n\n      if (state !== STATE.NONE) {\n        scope.dispatchEvent(startEvent);\n      }\n    }\n\n    function onMouseMove(event) {\n      if (scope.enabled === false) return;\n\n      switch (state) {\n        case STATE.ROTATE:\n          if (scope.enableRotate === false) return;\n          handleMouseMoveRotate(event);\n          break;\n\n        case STATE.DOLLY:\n          if (scope.enableZoom === false) return;\n          handleMouseMoveDolly(event);\n          break;\n\n        case STATE.PAN:\n          if (scope.enablePan === false) return;\n          handleMouseMovePan(event);\n          break;\n      }\n    }\n\n    function onMouseWheel(event) {\n      if (scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE && state !== STATE.ROTATE) {\n        return;\n      }\n\n      event.preventDefault();\n      scope.dispatchEvent(startEvent);\n      handleMouseWheel(event);\n      scope.dispatchEvent(endEvent);\n    }\n\n    function onKeyDown(event) {\n      if (scope.enabled === false || scope.enablePan === false) return;\n      handleKeyDown(event);\n    }\n\n    function onTouchStart(event) {\n      trackPointer(event);\n\n      switch (pointers.length) {\n        case 1:\n          switch (scope.touches.ONE) {\n            case TOUCH.ROTATE:\n              if (scope.enableRotate === false) return;\n              handleTouchStartRotate();\n              state = STATE.TOUCH_ROTATE;\n              break;\n\n            case TOUCH.PAN:\n              if (scope.enablePan === false) return;\n              handleTouchStartPan();\n              state = STATE.TOUCH_PAN;\n              break;\n\n            default:\n              state = STATE.NONE;\n          }\n\n          break;\n\n        case 2:\n          switch (scope.touches.TWO) {\n            case TOUCH.DOLLY_PAN:\n              if (scope.enableZoom === false && scope.enablePan === false) return;\n              handleTouchStartDollyPan();\n              state = STATE.TOUCH_DOLLY_PAN;\n              break;\n\n            case TOUCH.DOLLY_ROTATE:\n              if (scope.enableZoom === false && scope.enableRotate === false) return;\n              handleTouchStartDollyRotate();\n              state = STATE.TOUCH_DOLLY_ROTATE;\n              break;\n\n            default:\n              state = STATE.NONE;\n          }\n\n          break;\n\n        default:\n          state = STATE.NONE;\n      }\n\n      if (state !== STATE.NONE) {\n        scope.dispatchEvent(startEvent);\n      }\n    }\n\n    function onTouchMove(event) {\n      trackPointer(event);\n\n      switch (state) {\n        case STATE.TOUCH_ROTATE:\n          if (scope.enableRotate === false) return;\n          handleTouchMoveRotate(event);\n          scope.update();\n          break;\n\n        case STATE.TOUCH_PAN:\n          if (scope.enablePan === false) return;\n          handleTouchMovePan(event);\n          scope.update();\n          break;\n\n        case STATE.TOUCH_DOLLY_PAN:\n          if (scope.enableZoom === false && scope.enablePan === false) return;\n          handleTouchMoveDollyPan(event);\n          scope.update();\n          break;\n\n        case STATE.TOUCH_DOLLY_ROTATE:\n          if (scope.enableZoom === false && scope.enableRotate === false) return;\n          handleTouchMoveDollyRotate(event);\n          scope.update();\n          break;\n\n        default:\n          state = STATE.NONE;\n      }\n    }\n\n    function onContextMenu(event) {\n      if (scope.enabled === false) return;\n      event.preventDefault();\n    }\n\n    function addPointer(event) {\n      pointers.push(event);\n    }\n\n    function removePointer(event) {\n      delete pointerPositions[event.pointerId];\n\n      for (let i = 0; i < pointers.length; i++) {\n        if (pointers[i].pointerId == event.pointerId) {\n          pointers.splice(i, 1);\n          return;\n        }\n      }\n    }\n\n    function trackPointer(event) {\n      let position = pointerPositions[event.pointerId];\n\n      if (position === undefined) {\n        position = new Vector2();\n        pointerPositions[event.pointerId] = position;\n      }\n\n      position.set(event.pageX, event.pageY);\n    }\n\n    function getSecondPointerPosition(event) {\n      const pointer = event.pointerId === pointers[0].pointerId ? pointers[1] : pointers[0];\n      return pointerPositions[pointer.pointerId];\n    } // connect events\n\n\n    if (domElement !== undefined) this.connect(domElement); // force an update at start\n\n    this.update();\n  }\n\n} // This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n// This is very similar to OrbitControls, another set of touch behavior\n//\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - left mouse, or arrow keys / touch: one-finger move\n\n\nclass MapControls extends OrbitControls {\n  constructor(object, domElement) {\n    super(object, domElement);\n    this.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up\n\n    this.mouseButtons.LEFT = MOUSE.PAN;\n    this.mouseButtons.RIGHT = MOUSE.ROTATE;\n    this.touches.ONE = TOUCH.PAN;\n    this.touches.TWO = TOUCH.DOLLY_ROTATE;\n  }\n\n}\n\nexport { MapControls, OrbitControls };\n","function shallow(objA, objB) {\n  if (Object.is(objA, objB)) {\n    return true;\n  }\n  if (typeof objA !== \"object\" || objA === null || typeof objB !== \"object\" || objB === null) {\n    return false;\n  }\n  const keysA = Object.keys(objA);\n  if (keysA.length !== Object.keys(objB).length) {\n    return false;\n  }\n  for (let i = 0; i < keysA.length; i++) {\n    if (!Object.prototype.hasOwnProperty.call(objB, keysA[i]) || !Object.is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport { shallow as default };\n","export default function _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeFunction from \"./isNativeFunction.js\";\nimport construct from \"./construct.js\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}","import superPropBase from \"./superPropBase.js\";\nimport defineProperty from \"./defineProperty.js\";\n\nfunction set(target, property, value, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.set) {\n    set = Reflect.set;\n  } else {\n    set = function set(target, property, value, receiver) {\n      var base = superPropBase(target, property);\n      var desc;\n\n      if (base) {\n        desc = Object.getOwnPropertyDescriptor(base, property);\n\n        if (desc.set) {\n          desc.set.call(receiver, value);\n          return true;\n        } else if (!desc.writable) {\n          return false;\n        }\n      }\n\n      desc = Object.getOwnPropertyDescriptor(receiver, property);\n\n      if (desc) {\n        if (!desc.writable) {\n          return false;\n        }\n\n        desc.value = value;\n        Object.defineProperty(receiver, property, desc);\n      } else {\n        defineProperty(receiver, property, value);\n      }\n\n      return true;\n    };\n  }\n\n  return set(target, property, value, receiver);\n}\n\nexport default function _set(target, property, value, receiver, isStrict) {\n  var s = set(target, property, value, receiver || target);\n\n  if (!s && isStrict) {\n    throw new Error('failed to set property');\n  }\n\n  return value;\n}","\"use strict\";\n/**\n * postprocessing v6.28.1 build Wed Jun 22 2022\n * https://github.com/pmndrs/postprocessing\n * Copyright 2015-2022 Raoul van Rschen\n * @license Zlib\n */\n\n// src/core/Disposable.js\nvar Disposable = class {\n  dispose() {\n  }\n};\n\n// src/core/EffectComposer.js\nimport {\n  DepthStencilFormat,\n  DepthTexture,\n  LinearFilter as LinearFilter2,\n  REVISION as REVISION3,\n  sRGBEncoding as sRGBEncoding7,\n  UnsignedByteType as UnsignedByteType11,\n  UnsignedIntType,\n  UnsignedInt248Type,\n  Vector2 as Vector216,\n  WebGLMultisampleRenderTarget,\n  WebGLRenderTarget as WebGLRenderTarget11\n} from \"three\";\n\n// src/passes/AdaptiveLuminancePass.js\nimport { NearestFilter, WebGLRenderTarget as WebGLRenderTarget2 } from \"three\";\n\n// src/materials/AdaptiveLuminanceMaterial.js\nimport { NoBlending, ShaderMaterial, Uniform } from \"three\";\n\n// src/materials/glsl/adaptive-luminance.frag\nvar adaptive_luminance_default = \"#include <packing>\\n#define packFloatToRGBA(v) packDepthToRGBA(v)\\n#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)\\nuniform lowp sampler2D luminanceBuffer0;uniform lowp sampler2D luminanceBuffer1;uniform float minLuminance;uniform float deltaTime;uniform float tau;varying vec2 vUv;void main(){float l0=unpackRGBAToFloat(texture2D(luminanceBuffer0,vUv));\\n#if __VERSION__ < 300\\nfloat l1=texture2DLodEXT(luminanceBuffer1,vUv,MIP_LEVEL_1X1).r;\\n#else\\nfloat l1=textureLod(luminanceBuffer1,vUv,MIP_LEVEL_1X1).r;\\n#endif\\nl0=max(minLuminance,l0);l1=max(minLuminance,l1);float adaptedLum=l0+(l1-l0)*(1.0-exp(-deltaTime*tau));gl_FragColor=(adaptedLum==1.0)?vec4(1.0):packFloatToRGBA(adaptedLum);}\";\n\n// src/materials/glsl/common.vert\nvar common_default = \"varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}\";\n\n// src/materials/AdaptiveLuminanceMaterial.js\nvar AdaptiveLuminanceMaterial = class extends ShaderMaterial {\n  constructor() {\n    super({\n      name: \"AdaptiveLuminanceMaterial\",\n      defines: {\n        MIP_LEVEL_1X1: \"0.0\"\n      },\n      uniforms: {\n        luminanceBuffer0: new Uniform(null),\n        luminanceBuffer1: new Uniform(null),\n        minLuminance: new Uniform(0.01),\n        deltaTime: new Uniform(0),\n        tau: new Uniform(1)\n      },\n      extensions: {\n        shaderTextureLOD: true\n      },\n      blending: NoBlending,\n      depthWrite: false,\n      depthTest: false,\n      fragmentShader: adaptive_luminance_default,\n      vertexShader: common_default\n    });\n    this.toneMapped = false;\n  }\n  set luminanceBuffer0(value) {\n    this.uniforms.luminanceBuffer0.value = value;\n  }\n  setLuminanceBuffer0(value) {\n    this.uniforms.luminanceBuffer0.value = value;\n  }\n  set luminanceBuffer1(value) {\n    this.uniforms.luminanceBuffer1.value = value;\n  }\n  setLuminanceBuffer1(value) {\n    this.uniforms.luminanceBuffer1.value = value;\n  }\n  set mipLevel1x1(value) {\n    this.defines.MIP_LEVEL_1X1 = value.toFixed(1);\n    this.needsUpdate = true;\n  }\n  setMipLevel1x1(value) {\n    this.mipLevel1x1 = value;\n  }\n  set deltaTime(value) {\n    this.uniforms.deltaTime.value = value;\n  }\n  setDeltaTime(value) {\n    this.uniforms.deltaTime.value = value;\n  }\n  get minLuminance() {\n    return this.uniforms.minLuminance.value;\n  }\n  set minLuminance(value) {\n    this.uniforms.minLuminance.value = value;\n  }\n  getMinLuminance() {\n    return this.uniforms.minLuminance.value;\n  }\n  setMinLuminance(value) {\n    this.uniforms.minLuminance.value = value;\n  }\n  get adaptationRate() {\n    return this.uniforms.tau.value;\n  }\n  set adaptationRate(value) {\n    this.uniforms.tau.value = value;\n  }\n  getAdaptationRate() {\n    return this.uniforms.tau.value;\n  }\n  setAdaptationRate(value) {\n    this.uniforms.tau.value = value;\n  }\n};\n\n// src/materials/BokehMaterial.js\nimport { NoBlending as NoBlending2, ShaderMaterial as ShaderMaterial2, Uniform as Uniform2, Vector2 } from \"three\";\n\n// src/materials/glsl/convolution.bokeh.frag\nvar convolution_bokeh_default = \"#ifdef FRAMEBUFFER_PRECISION_HIGH\\nuniform mediump sampler2D inputBuffer;\\n#else\\nuniform lowp sampler2D inputBuffer;\\n#endif\\n#if PASS == 1\\nuniform vec4 kernel64[32];\\n#else\\nuniform vec4 kernel16[8];\\n#endif\\nuniform lowp sampler2D cocBuffer;uniform vec2 texelSize;uniform vec2 scale;varying vec2 vUv;void main(){\\n#ifdef FOREGROUND\\nvec2 CoCNearFar=texture2D(cocBuffer,vUv).rg;float CoC=CoCNearFar.r*scale.y;\\n#else\\nfloat CoC=texture2D(cocBuffer,vUv).g*scale.y;\\n#endif\\nif(CoC==0.0){gl_FragColor=texture2D(inputBuffer,vUv);}else{\\n#ifdef FOREGROUND\\nvec2 step=texelSize*scale.x*max(CoC,CoCNearFar.g*scale.y);\\n#else\\nvec2 step=texelSize*scale.x*CoC;\\n#endif\\n#if PASS == 1\\nvec4 acc=vec4(0.0);for(int i=0;i<32;++i){vec4 kernel=kernel64[i];vec2 uv=step*kernel.xy+vUv;acc+=texture2D(inputBuffer,uv);uv=step*kernel.zw+vUv;acc+=texture2D(inputBuffer,uv);}gl_FragColor=acc/64.0;\\n#else\\nvec4 maxValue=texture2D(inputBuffer,vUv);for(int i=0;i<8;++i){vec4 kernel=kernel16[i];vec2 uv=step*kernel.xy+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);uv=step*kernel.zw+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);}gl_FragColor=maxValue;\\n#endif\\n}}\";\n\n// src/materials/BokehMaterial.js\nvar BokehMaterial = class extends ShaderMaterial2 {\n  constructor(fill = false, foreground = false) {\n    super({\n      name: \"BokehMaterial\",\n      defines: {\n        PASS: fill ? \"2\" : \"1\"\n      },\n      uniforms: {\n        inputBuffer: new Uniform2(null),\n        cocBuffer: new Uniform2(null),\n        texelSize: new Uniform2(new Vector2()),\n        kernel64: new Uniform2(null),\n        kernel16: new Uniform2(null),\n        scale: new Uniform2(new Vector2(1, 1))\n      },\n      blending: NoBlending2,\n      depthWrite: false,\n      depthTest: false,\n      fragmentShader: convolution_bokeh_default,\n      vertexShader: common_default\n    });\n    this.toneMapped = false;\n    if (foreground) {\n      this.defines.FOREGROUND = \"1\";\n    }\n    this.generateKernel();\n  }\n  set inputBuffer(value) {\n    this.uniforms.inputBuffer.value = value;\n  }\n  setInputBuffer(value) {\n    this.uniforms.inputBuffer.value = value;\n  }\n  set cocBuffer(value) {\n    this.uniforms.cocBuffer.value = value;\n  }\n  setCoCBuffer(value) {\n    this.uniforms.cocBuffer.value = value;\n  }\n  set resolutionScale(value) {\n    this.uniforms.scale.value.x = value;\n  }\n  get scale() {\n    return this.uniforms.scale.value.y;\n  }\n  set scale(value) {\n    this.uniforms.scale.value.y = value;\n  }\n  getScale(value) {\n    return this.scale;\n  }\n  setScale(value) {\n    this.scale = value;\n  }\n  generateKernel() {\n    const GOLDEN_ANGLE = 2.39996323;\n    const points64 = new Float64Array(128);\n    const points16 = new Float64Array(32);\n    let i64 = 0, i16 = 0;\n    for (let i = 0, sqrt80 = Math.sqrt(80); i < 80; ++i) {\n      const theta = i * GOLDEN_ANGLE;\n      const r = Math.sqrt(i) / sqrt80;\n      const u = r * Math.cos(theta), v3 = r * Math.sin(theta);\n      if (i % 5 === 0) {\n        points16[i16++] = u;\n        points16[i16++] = v3;\n      } else {\n        points64[i64++] = u;\n        points64[i64++] = v3;\n      }\n    }\n    this.uniforms.kernel64.value = points64;\n    this.uniforms.kernel16.value = points16;\n  }\n  setTexelSize(x, y) {\n    this.uniforms.texelSize.value.set(x, y);\n  }\n  setSize(width, height) {\n    this.uniforms.texelSize.value.set(1 / width, 1 / height);\n  }\n};\n\n// src/materials/CircleOfConfusionMaterial.js\nimport { BasicDepthPacking, NoBlending as NoBlending3, PerspectiveCamera, ShaderMaterial as ShaderMaterial3, Uniform as Uniform3 } from \"three\";\n\n// src/utils/getTextureDecoding.js\nimport {\n  LinearEncoding,\n  REVISION,\n  RGBAFormat,\n  sRGBEncoding,\n  UnsignedByteType\n} from \"three\";\nfunction getTextureDecoding(texture, isWebGL2) {\n  let decoding = \"texel\";\n  if (texture !== null) {\n    const revision = Number.parseInt(REVISION);\n    const sRGB8Alpha8 = isWebGL2 && revision >= 133 && revision !== 135 && texture.format === RGBAFormat && texture.type === UnsignedByteType && texture.encoding === sRGBEncoding;\n    if (!sRGB8Alpha8) {\n      switch (texture.encoding) {\n        case sRGBEncoding:\n          decoding = \"sRGBToLinear(texel)\";\n          break;\n        case LinearEncoding:\n          decoding = \"texel\";\n          break;\n        default:\n          throw new Error(`Unsupported encoding: ${texture.encoding}`);\n      }\n    }\n  }\n  return decoding;\n}\n\n// src/utils/orthographicDepthToViewZ.js\nfunction orthographicDepthToViewZ(depth, near, far) {\n  return depth * (near - far) - near;\n}\n\n// src/utils/viewZToOrthographicDepth.js\nfunction viewZToOrthographicDepth(viewZ, near, far) {\n  return Math.min(Math.max((viewZ + near) / (near - far), 0), 1);\n}\n\n// src/materials/glsl/circle-of-confusion.frag\nvar circle_of_confusion_default = \"#include <common>\\n#include <packing>\\n#ifdef GL_FRAGMENT_PRECISION_HIGH\\nuniform highp sampler2D depthBuffer;\\n#else\\nuniform mediump sampler2D depthBuffer;\\n#endif\\nuniform float focusDistance;uniform float focusRange;uniform float cameraNear;uniform float cameraFar;varying vec2 vUv;float readDepth(const in vec2 uv){\\n#if DEPTH_PACKING == 3201\\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\\n#else\\nreturn texture2D(depthBuffer,uv).r;\\n#endif\\n}void main(){float depth=readDepth(vUv);\\n#ifdef PERSPECTIVE_CAMERA\\nfloat viewZ=perspectiveDepthToViewZ(depth,cameraNear,cameraFar);float linearDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);\\n#else\\nfloat linearDepth=depth;\\n#endif\\nfloat signedDistance=linearDepth-focusDistance;float magnitude=smoothstep(0.0,focusRange,abs(signedDistance));gl_FragColor.rg=magnitude*vec2(step(signedDistance,0.0),step(0.0,signedDistance));}\";\n\n// src/materials/CircleOfConfusionMaterial.js\nvar CircleOfConfusionMaterial = class extends ShaderMaterial3 {\n  constructor(camera) {\n    super({\n      name: \"CircleOfConfusionMaterial\",\n      defines: {\n        DEPTH_PACKING: \"0\"\n      },\n      uniforms: {\n        depthBuffer: new Uniform3(null),\n        focusDistance: new Uniform3(0),\n        focusRange: new Uniform3(0),\n        cameraNear: new Uniform3(0.3),\n        cameraFar: new Uniform3(1e3)\n      },\n      blending: NoBlending3,\n      depthWrite: false,\n      depthTest: false,\n      fragmentShader: circle_of_confusion_default,\n      vertexShader: common_default\n    });\n    this.toneMapped = false;\n    this.uniforms.focalLength = this.uniforms.focusRange;\n    this.adoptCameraSettings(camera);\n  }\n  get near() {\n    return this.uniforms.cameraNear.value;\n  }\n  get far() {\n    return this.uniforms.cameraFar.value;\n  }\n  set depthBuffer(value) {\n    this.uniforms.depthBuffer.value = value;\n  }\n  set depthPacking(value) {\n    this.defines.DEPTH_PACKING = value.toFixed(0);\n    this.needsUpdate = true;\n  }\n  setDepthBuffer(buffer, depthPacking = BasicDepthPacking) {\n    this.depthBuffer = buffer;\n    this.depthPacking = depthPacking;\n  }\n  get focusDistance() {\n    return this.uniforms.focusDistance.value;\n  }\n  set focusDistance(value) {\n    this.uniforms.focusDistance.value = value;\n  }\n  get worldFocusDistance() {\n    return -orthographicDepthToViewZ(this.focusDistance, this.near, this.far);\n  }\n  set worldFocusDistance(value) {\n    this.focusDistance = viewZToOrthographicDepth(-value, this.near, this.far);\n  }\n  getFocusDistance(value) {\n    this.uniforms.focusDistance.value = value;\n  }\n  setFocusDistance(value) {\n    this.uniforms.focusDistance.value = value;\n  }\n  get focalLength() {\n    return this.focusRange;\n  }\n  set focalLength(value) {\n    this.focusRange = value;\n  }\n  get focusRange() {\n    return this.uniforms.focusRange.value;\n  }\n  set focusRange(value) {\n    this.uniforms.focusRange.value = value;\n  }\n  get worldFocusRange() {\n    return -orthographicDepthToViewZ(this.focusRange, this.near, this.far);\n  }\n  set worldFocusRange(value) {\n    this.focusRange = viewZToOrthographicDepth(-value, this.near, this.far);\n  }\n  getFocalLength(value) {\n    return this.focusRange;\n  }\n  setFocalLength(value) {\n    this.focusRange = value;\n  }\n  adoptCameraSettings(camera) {\n    if (camera) {\n      this.uniforms.cameraNear.value = camera.near;\n      this.uniforms.cameraFar.value = camera.far;\n      if (camera instanceof PerspectiveCamera) {\n        this.defines.PERSPECTIVE_CAMERA = \"1\";\n      } else {\n        delete this.defines.PERSPECTIVE_CAMERA;\n      }\n      this.needsUpdate = true;\n    }\n  }\n};\n\n// src/materials/KawaseBlurMaterial.js\nimport { NoBlending as NoBlending4, ShaderMaterial as ShaderMaterial4, Uniform as Uniform4, Vector2 as Vector22, Vector4 } from \"three\";\n\n// src/enums/BlendFunction.js\nvar BlendFunction = {\n  SKIP: 9,\n  SET: 30,\n  ADD: 0,\n  ALPHA: 1,\n  AVERAGE: 2,\n  COLOR: 3,\n  COLOR_BURN: 4,\n  COLOR_DODGE: 5,\n  DARKEN: 6,\n  DIFFERENCE: 7,\n  DIVIDE: 8,\n  DST: 9,\n  EXCLUSION: 10,\n  HARD_LIGHT: 11,\n  HARD_MIX: 12,\n  HUE: 13,\n  INVERT: 14,\n  INVERT_RGB: 15,\n  LIGHTEN: 16,\n  LINEAR_BURN: 17,\n  LINEAR_DODGE: 18,\n  LINEAR_LIGHT: 19,\n  LUMINOSITY: 20,\n  MULTIPLY: 21,\n  NEGATION: 22,\n  NORMAL: 23,\n  OVERLAY: 24,\n  PIN_LIGHT: 25,\n  REFLECT: 26,\n  SATURATION: 27,\n  SCREEN: 28,\n  SOFT_LIGHT: 29,\n  SRC: 30,\n  SUBTRACT: 31,\n  VIVID_LIGHT: 32\n};\n\n// src/enums/ColorChannel.js\nvar ColorChannel = {\n  RED: 0,\n  GREEN: 1,\n  BLUE: 2,\n  ALPHA: 3\n};\n\n// src/enums/DepthCopyMode.js\nvar DepthCopyMode = {\n  FULL: 0,\n  SINGLE: 1\n};\n\n// src/enums/DepthTestStrategy.js\nvar DepthTestStrategy = {\n  DEFAULT: 0,\n  KEEP_MAX_DEPTH: 1,\n  DISCARD_MAX_DEPTH: 2\n};\n\n// src/enums/EdgeDetectionMode.js\nvar EdgeDetectionMode = {\n  DEPTH: 0,\n  LUMA: 1,\n  COLOR: 2\n};\n\n// src/enums/EffectAttribute.js\nvar EffectAttribute = {\n  NONE: 0,\n  DEPTH: 1,\n  CONVOLUTION: 2\n};\n\n// src/enums/EffectShaderSection.js\nvar EffectShaderSection = {\n  FRAGMENT_HEAD: \"FRAGMENT_HEAD\",\n  FRAGMENT_MAIN_UV: \"FRAGMENT_MAIN_UV\",\n  FRAGMENT_MAIN_IMAGE: \"FRAGMENT_MAIN_IMAGE\",\n  VERTEX_HEAD: \"VERTEX_HEAD\",\n  VERTEX_MAIN_SUPPORT: \"VERTEX_MAIN_SUPPORT\"\n};\n\n// src/enums/GlitchMode.js\nvar GlitchMode = {\n  DISABLED: 0,\n  SPORADIC: 1,\n  CONSTANT_MILD: 2,\n  CONSTANT_WILD: 3\n};\n\n// src/enums/KernelSize.js\nvar KernelSize = {\n  VERY_SMALL: 0,\n  SMALL: 1,\n  MEDIUM: 2,\n  LARGE: 3,\n  VERY_LARGE: 4,\n  HUGE: 5\n};\n\n// src/enums/LUTOperation.js\nvar LUTOperation = {\n  SCALE_UP: \"lut.scaleup\"\n};\n\n// src/enums/MaskFunction.js\nvar MaskFunction = {\n  DISCARD: 0,\n  MULTIPLY: 1,\n  MULTIPLY_RGB_SET_ALPHA: 2\n};\n\n// src/enums/PredicationMode.js\nvar PredicationMode = {\n  DISABLED: 0,\n  DEPTH: 1,\n  CUSTOM: 2\n};\n\n// src/enums/SMAAPreset.js\nvar SMAAPreset = {\n  LOW: 0,\n  MEDIUM: 1,\n  HIGH: 2,\n  ULTRA: 3\n};\n\n// src/enums/ToneMappingMode.js\nvar ToneMappingMode = {\n  REINHARD: 0,\n  REINHARD2: 1,\n  REINHARD2_ADAPTIVE: 2,\n  OPTIMIZED_CINEON: 3,\n  ACES_FILMIC: 4\n};\n\n// src/enums/VignetteTechnique.js\nvar VignetteTechnique = {\n  DEFAULT: 0,\n  ESKIL: 1\n};\n\n// src/enums/WebGLExtension.js\nvar WebGLExtension = {\n  DERIVATIVES: \"derivatives\",\n  FRAG_DEPTH: \"fragDepth\",\n  DRAW_BUFFERS: \"drawBuffers\",\n  SHADER_TEXTURE_LOD: \"shaderTextureLOD\"\n};\n\n// src/materials/glsl/convolution.kawase.frag\nvar convolution_kawase_default = \"#ifdef FRAMEBUFFER_PRECISION_HIGH\\nuniform mediump sampler2D inputBuffer;\\n#else\\nuniform lowp sampler2D inputBuffer;\\n#endif\\nvarying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;\\n#include <encodings_fragment>\\n}\";\n\n// src/materials/glsl/convolution.kawase.vert\nvar convolution_kawase_default2 = \"uniform vec4 texelSize;uniform float kernel;uniform vec2 scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale.x*scale.y;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}\";\n\n// src/materials/KawaseBlurMaterial.js\nvar kernelPresets = [\n  new Float32Array([0, 0]),\n  new Float32Array([0, 1, 1]),\n  new Float32Array([0, 1, 1, 2]),\n  new Float32Array([0, 1, 2, 2, 3]),\n  new Float32Array([0, 1, 2, 3, 4, 4, 5]),\n  new Float32Array([0, 1, 2, 3, 4, 5, 7, 8, 9, 10])\n];\nvar KawaseBlurMaterial = class extends ShaderMaterial4 {\n  constructor(texelSize = new Vector4()) {\n    super({\n      name: \"KawaseBlurMaterial\",\n      uniforms: {\n        inputBuffer: new Uniform4(null),\n        texelSize: new Uniform4(new Vector4()),\n        scale: new Uniform4(new Vector22(1, 1)),\n        kernel: new Uniform4(0)\n      },\n      blending: NoBlending4,\n      depthWrite: false,\n      depthTest: false,\n      fragmentShader: convolution_kawase_default,\n      vertexShader: convolution_kawase_default2\n    });\n    this.toneMapped = false;\n    this.setTexelSize(texelSize.x, texelSize.y);\n    this.kernelSize = KernelSize.MEDIUM;\n  }\n  set inputBuffer(value) {\n    this.uniforms.inputBuffer.value = value;\n  }\n  setInputBuffer(value) {\n    this.inputBuffer = value;\n  }\n  get kernelSequence() {\n    return kernelPresets[this.kernelSize];\n  }\n  set resolutionScale(value) {\n    this.uniforms.scale.value.x = value;\n  }\n  get scale() {\n    return this.uniforms.scale.value.y;\n  }\n  set scale(value) {\n    this.uniforms.scale.value.y = value;\n  }\n  getScale() {\n    return this.uniforms.scale.value;\n  }\n  setScale(value) {\n    this.uniforms.scale.value = value;\n  }\n  getKernel() {\n    return null;\n  }\n  get kernel() {\n    return this.uniforms.kernel.value;\n  }\n  set kernel(value) {\n    this.uniforms.kernel.value = value;\n  }\n  setKernel(value) {\n    this.kernel = value;\n  }\n  setTexelSize(x, y) {\n    this.uniforms.texelSize.value.set(x, y, x * 0.5, y * 0.5);\n  }\n  setSize(width, height) {\n    const x = 1 / width, y = 1 / height;\n    this.uniforms.texelSize.value.set(x, y, x * 0.5, y * 0.5);\n  }\n};\n\n// src/materials/CopyMaterial.js\nimport { NoBlending as NoBlending5, ShaderMaterial as ShaderMaterial5, Uniform as Uniform5 } from \"three\";\n\n// src/materials/glsl/copy.frag\nvar copy_default = \"#include <common>\\n#include <dithering_pars_fragment>\\n#ifdef FRAMEBUFFER_PRECISION_HIGH\\nuniform mediump sampler2D inputBuffer;\\n#else\\nuniform lowp sampler2D inputBuffer;\\n#endif\\nuniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;\\n#include <encodings_fragment>\\n#include <dithering_fragment>\\n}\";\n\n// src/materials/CopyMaterial.js\nvar CopyMaterial = class extends ShaderMaterial5 {\n  constructor() {\n    super({\n      name: \"CopyMaterial\",\n      uniforms: {\n        inputBuffer: new Uniform5(null),\n        opacity: new Uniform5(1)\n      },\n      blending: NoBlending5,\n      depthWrite: false,\n      depthTest: false,\n      fragmentShader: copy_default,\n      vertexShader: common_default\n    });\n    this.toneMapped = false;\n  }\n  set inputBuffer(value) {\n    this.uniforms.inputBuffer.value = value;\n  }\n  setInputBuffer(value) {\n    this.uniforms.inputBuffer.value = value;\n  }\n  getOpacity(value) {\n    return this.uniforms.opacity.value;\n  }\n  setOpacity(value) {\n    this.uniforms.opacity.value = value;\n  }\n};\n\n// src/materials/DepthComparisonMaterial.js\nimport { NoBlending as NoBlending6, PerspectiveCamera as PerspectiveCamera2, RGBADepthPacking, ShaderMaterial as ShaderMaterial6, Uniform as Uniform6 } from \"three\";\n\n// src/materials/glsl/depth-comparison.frag\nvar depth_comparison_default = \"#include <packing>\\n#include <clipping_planes_pars_fragment>\\n#ifdef GL_FRAGMENT_PRECISION_HIGH\\nuniform highp sampler2D depthBuffer;\\n#else\\nuniform mediump sampler2D depthBuffer;\\n#endif\\nuniform float cameraNear;uniform float cameraFar;varying float vViewZ;varying vec4 vProjTexCoord;void main(){\\n#include <clipping_planes_fragment>\\nvec2 projTexCoord=(vProjTexCoord.xy/vProjTexCoord.w)*0.5+0.5;projTexCoord=clamp(projTexCoord,0.002,0.998);\\n#if DEPTH_PACKING == 3201\\nfloat fragCoordZ=unpackRGBAToDepth(texture2D(depthBuffer,projTexCoord));\\n#else\\nfloat fragCoordZ=texture2D(depthBuffer,projTexCoord).r;\\n#endif\\n#ifdef PERSPECTIVE_CAMERA\\nfloat viewZ=perspectiveDepthToViewZ(fragCoordZ,cameraNear,cameraFar);\\n#else\\nfloat viewZ=orthographicDepthToViewZ(fragCoordZ,cameraNear,cameraFar);\\n#endif\\nfloat depthTest=(-vViewZ>-viewZ)?1.0:0.0;gl_FragColor.rg=vec2(0.0,depthTest);}\";\n\n// src/materials/glsl/depth-comparison.vert\nvar depth_comparison_default2 = \"#include <common>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvarying float vViewZ;varying vec4 vProjTexCoord;void main(){\\n#include <skinbase_vertex>\\n#include <begin_vertex>\\n#include <morphtarget_vertex>\\n#include <skinning_vertex>\\n#include <project_vertex>\\nvViewZ=mvPosition.z;vProjTexCoord=gl_Position;\\n#include <clipping_planes_vertex>\\n}\";\n\n// src/materials/DepthComparisonMaterial.js\nvar DepthComparisonMaterial = class extends ShaderMaterial6 {\n  constructor(depthTexture = null, camera) {\n    super({\n      name: \"DepthComparisonMaterial\",\n      defines: {\n        DEPTH_PACKING: \"0\"\n      },\n      uniforms: {\n        depthBuffer: new Uniform6(null),\n        cameraNear: new Uniform6(0.3),\n        cameraFar: new Uniform6(1e3)\n      },\n      blending: NoBlending6,\n      depthWrite: false,\n      depthTest: false,\n      fragmentShader: depth_comparison_default,\n      vertexShader: depth_comparison_default2\n    });\n    this.toneMapped = false;\n    this.depthBuffer = depthTexture;\n    this.depthPacking = RGBADepthPacking;\n    this.adoptCameraSettings(camera);\n  }\n  set depthBuffer(value) {\n    this.uniforms.depthBuffer.value = value;\n  }\n  set depthPacking(value) {\n    this.defines.DEPTH_PACKING = value.toFixed(0);\n    this.needsUpdate = true;\n  }\n  setDepthBuffer(buffer, depthPacking = RGBADepthPacking) {\n    this.depthBuffer = buffer;\n    this.depthPacking = depthPacking;\n  }\n  adoptCameraSettings(camera) {\n    if (camera) {\n      this.uniforms.cameraNear.value = camera.near;\n      this.uniforms.cameraFar.value = camera.far;\n      if (camera instanceof PerspectiveCamera2) {\n        this.defines.PERSPECTIVE_CAMERA = \"1\";\n      } else {\n        delete this.defines.PERSPECTIVE_CAMERA;\n      }\n      this.needsUpdate = true;\n    }\n  }\n};\n\n// src/materials/DepthCopyMaterial.js\nimport { BasicDepthPacking as BasicDepthPacking2, NoBlending as NoBlending7, ShaderMaterial as ShaderMaterial7, Uniform as Uniform7, Vector2 as Vector23 } from \"three\";\n\n// src/materials/glsl/depth-copy.frag\nvar depth_copy_default = \"#include <packing>\\n#if INPUT_DEPTH_PACKING == 3201\\nuniform lowp sampler2D depthBuffer;\\n#else\\n#ifdef GL_FRAGMENT_PRECISION_HIGH\\nuniform highp sampler2D depthBuffer;\\n#else\\nuniform mediump sampler2D depthBuffer;\\n#endif\\n#endif\\nvarying vec2 vUv;void main(){\\n#if INPUT_DEPTH_PACKING == OUTPUT_DEPTH_PACKING\\ngl_FragColor=texture2D(depthBuffer,vUv);\\n#else\\n#if INPUT_DEPTH_PACKING == 3201\\nfloat depth=unpackRGBAToDepth(texture2D(depthBuffer,vUv));gl_FragColor=vec4(vec3(depth),1.0);\\n#else\\nfloat depth=texture2D(depthBuffer,vUv).r;gl_FragColor=(depth==1.0)?vec4(1.0):packDepthToRGBA(depth);\\n#endif\\n#endif\\n}\";\n\n// src/materials/glsl/depth-copy.vert\nvar depth_copy_default2 = \"varying vec2 vUv;\\n#if DEPTH_COPY_MODE == 1\\nuniform vec2 texelPosition;\\n#endif\\nvoid main(){\\n#if DEPTH_COPY_MODE == 1\\nvUv=texelPosition;\\n#else\\nvUv=position.xy*0.5+0.5;\\n#endif\\ngl_Position=vec4(position.xy,1.0,1.0);}\";\n\n// src/materials/DepthCopyMaterial.js\nvar DepthCopyMaterial = class extends ShaderMaterial7 {\n  constructor() {\n    super({\n      name: \"DepthCopyMaterial\",\n      defines: {\n        INPUT_DEPTH_PACKING: \"0\",\n        OUTPUT_DEPTH_PACKING: \"0\",\n        DEPTH_COPY_MODE: \"0\"\n      },\n      uniforms: {\n        depthBuffer: new Uniform7(null),\n        texelPosition: new Uniform7(new Vector23())\n      },\n      blending: NoBlending7,\n      depthWrite: false,\n      depthTest: false,\n      fragmentShader: depth_copy_default,\n      vertexShader: depth_copy_default2\n    });\n    this.toneMapped = false;\n    this.depthCopyMode = DepthCopyMode.FULL;\n  }\n  set depthBuffer(value) {\n    this.uniforms.depthBuffer.value = value;\n  }\n  set inputDepthPacking(value) {\n    this.defines.INPUT_DEPTH_PACKING = value.toFixed(0);\n    this.needsUpdate = true;\n  }\n  get outputDepthPacking() {\n    return Number(this.defines.OUTPUT_DEPTH_PACKING);\n  }\n  set outputDepthPacking(value) {\n    this.defines.OUTPUT_DEPTH_PACKING = value.toFixed(0);\n    this.needsUpdate = true;\n  }\n  setDepthBuffer(buffer, depthPacking = BasicDepthPacking2) {\n    this.depthBuffer = buffer;\n    this.inputDepthPacking = depthPacking;\n  }\n  getInputDepthPacking() {\n    return Number(this.defines.INPUT_DEPTH_PACKING);\n  }\n  setInputDepthPacking(value) {\n    this.defines.INPUT_DEPTH_PACKING = value.toFixed(0);\n    this.needsUpdate = true;\n  }\n  getOutputDepthPacking() {\n    return Number(this.defines.OUTPUT_DEPTH_PACKING);\n  }\n  setOutputDepthPacking(value) {\n    this.defines.OUTPUT_DEPTH_PACKING = value.toFixed(0);\n    this.needsUpdate = true;\n  }\n  get texelPosition() {\n    return this.uniforms.texelPosition.value;\n  }\n  getTexelPosition() {\n    return this.uniforms.texelPosition.value;\n  }\n  setTexelPosition(value) {\n    this.uniforms.texelPosition.value = value;\n  }\n  get mode() {\n    return this.depthCopyMode;\n  }\n  set mode(value) {\n    this.depthCopyMode = value;\n    this.defines.DEPTH_COPY_MODE = value.toFixed(0);\n    this.needsUpdate = true;\n  }\n  getMode() {\n    return this.mode;\n  }\n  setMode(value) {\n    this.mode = value;\n  }\n};\n\n// src/materials/DepthDownsamplingMaterial.js\nimport { BasicDepthPacking as BasicDepthPacking3, NoBlending as NoBlending8, ShaderMaterial as ShaderMaterial8, Uniform as Uniform8, Vector2 as Vector24 } from \"three\";\n\n// src/materials/glsl/depth-downsampling.frag\nvar depth_downsampling_default = \"#include <packing>\\n#ifdef GL_FRAGMENT_PRECISION_HIGH\\nuniform highp sampler2D depthBuffer;\\n#else\\nuniform mediump sampler2D depthBuffer;\\n#endif\\n#ifdef DOWNSAMPLE_NORMALS\\nuniform lowp sampler2D normalBuffer;\\n#endif\\nvarying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;float readDepth(const in vec2 uv){\\n#if DEPTH_PACKING == 3201\\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\\n#else\\nreturn texture2D(depthBuffer,uv).r;\\n#endif\\n}int findBestDepth(const in float samples[4]){float c=(samples[0]+samples[1]+samples[2]+samples[3])/4.0;float distances[4];distances[0]=abs(c-samples[0]);distances[1]=abs(c-samples[1]);distances[2]=abs(c-samples[2]);distances[3]=abs(c-samples[3]);float maxDistance=max(max(distances[0],distances[1]),max(distances[2],distances[3]));int remaining[3];int rejected[3];int i,j,k;for(i=0,j=0,k=0;i<4;++i){if(distances[i]<maxDistance){remaining[j++]=i;}else{rejected[k++]=i;}}for(;j<3;++j){remaining[j]=rejected[--k];}vec3 s=vec3(samples[remaining[0]],samples[remaining[1]],samples[remaining[2]]);c=(s.x+s.y+s.z)/3.0;distances[0]=abs(c-s.x);distances[1]=abs(c-s.y);distances[2]=abs(c-s.z);float minDistance=min(distances[0],min(distances[1],distances[2]));for(i=0;i<3;++i){if(distances[i]==minDistance){break;}}return remaining[i];}void main(){float d[4];d[0]=readDepth(vUv0);d[1]=readDepth(vUv1);d[2]=readDepth(vUv2);d[3]=readDepth(vUv3);int index=findBestDepth(d);\\n#ifdef DOWNSAMPLE_NORMALS\\nvec2 uvs[4];uvs[0]=vUv0;uvs[1]=vUv1;uvs[2]=vUv2;uvs[3]=vUv3;vec3 n=texture2D(normalBuffer,uvs[index]).rgb;\\n#else\\nvec3 n=vec3(0.0);\\n#endif\\ngl_FragColor=vec4(n,d[index]);}\";\n\n// src/materials/glsl/depth-downsampling.vert\nvar depth_downsampling_default2 = \"uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=uv;vUv1=vec2(uv.x,uv.y+texelSize.y);vUv2=vec2(uv.x+texelSize.x,uv.y);vUv3=uv+texelSize;gl_Position=vec4(position.xy,1.0,1.0);}\";\n\n// src/materials/DepthDownsamplingMaterial.js\nvar DepthDownsamplingMaterial = class extends ShaderMaterial8 {\n  constructor() {\n    super({\n      name: \"DepthDownsamplingMaterial\",\n      defines: {\n        DEPTH_PACKING: \"0\"\n      },\n      uniforms: {\n        depthBuffer: new Uniform8(null),\n        normalBuffer: new Uniform8(null),\n        texelSize: new Uniform8(new Vector24())\n      },\n      blending: NoBlending8,\n      depthWrite: false,\n      depthTest: false,\n      fragmentShader: depth_downsampling_default,\n      vertexShader: depth_downsampling_default2\n    });\n    this.toneMapped = false;\n  }\n  set depthBuffer(value) {\n    this.uniforms.depthBuffer.value = value;\n  }\n  set depthPacking(value) {\n    this.defines.DEPTH_PACKING = value.toFixed(0);\n    this.needsUpdate = true;\n  }\n  setDepthBuffer(buffer, depthPacking = BasicDepthPacking3) {\n    this.depthBuffer = buffer;\n    this.depthPacking = depthPacking;\n  }\n  set normalBuffer(value) {\n    this.uniforms.normalBuffer.value = value;\n    if (value !== null) {\n      this.defines.DOWNSAMPLE_NORMALS = \"1\";\n    } else {\n      delete this.defines.DOWNSAMPLE_NORMALS;\n    }\n    this.needsUpdate = true;\n  }\n  setNormalBuffer(value) {\n    this.normalBuffer = value;\n  }\n  setTexelSize(x, y) {\n    this.uniforms.texelSize.value.set(x, y);\n  }\n  setSize(width, height) {\n    this.uniforms.texelSize.value.set(1 / width, 1 / height);\n  }\n};\n\n// src/materials/DepthMaskMaterial.js\nimport {\n  AlwaysDepth,\n  BasicDepthPacking as BasicDepthPacking4,\n  EqualDepth,\n  GreaterDepth,\n  GreaterEqualDepth,\n  LessDepth,\n  LessEqualDepth,\n  NeverDepth,\n  NoBlending as NoBlending9,\n  NotEqualDepth,\n  PerspectiveCamera as PerspectiveCamera3,\n  ShaderMaterial as ShaderMaterial9,\n  Uniform as Uniform9,\n  Vector2 as Vector25\n} from \"three\";\n\n// src/materials/glsl/depth-mask.frag\nvar depth_mask_default = \"#include <common>\\n#include <packing>\\n#ifdef GL_FRAGMENT_PRECISION_HIGH\\nuniform highp sampler2D depthBuffer0;uniform highp sampler2D depthBuffer1;\\n#else\\nuniform mediump sampler2D depthBuffer0;uniform mediump sampler2D depthBuffer1;\\n#endif\\nuniform sampler2D inputBuffer;uniform vec2 cameraNearFar;float getViewZ(const in float depth){\\n#ifdef PERSPECTIVE_CAMERA\\nreturn perspectiveDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);\\n#else\\nreturn orthographicDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);\\n#endif\\n}varying vec2 vUv;void main(){vec2 depth;\\n#if DEPTH_PACKING_0 == 3201\\ndepth.x=unpackRGBAToDepth(texture2D(depthBuffer0,vUv));\\n#else\\ndepth.x=texture2D(depthBuffer0,vUv).r;\\n#endif\\n#if DEPTH_PACKING_1 == 3201\\ndepth.y=unpackRGBAToDepth(texture2D(depthBuffer1,vUv));\\n#else\\ndepth.y=texture2D(depthBuffer1,vUv).r;\\n#endif\\nbool isMaxDepth=(depth.x==1.0);\\n#ifdef PERSPECTIVE_CAMERA\\ndepth.x=viewZToOrthographicDepth(getViewZ(depth.x),cameraNearFar.x,cameraNearFar.y);depth.y=viewZToOrthographicDepth(getViewZ(depth.y),cameraNearFar.x,cameraNearFar.y);\\n#endif\\n#if DEPTH_TEST_STRATEGY == 0\\nbool keep=depthTest(depth.x,depth.y);\\n#elif DEPTH_TEST_STRATEGY == 1\\nbool keep=isMaxDepth||depthTest(depth.x,depth.y);\\n#else\\nbool keep=!isMaxDepth&&depthTest(depth.x,depth.y);\\n#endif\\nif(keep){gl_FragColor=texture2D(inputBuffer,vUv);}else{discard;}}\";\n\n// src/materials/DepthMaskMaterial.js\nvar DepthMaskMaterial = class extends ShaderMaterial9 {\n  constructor() {\n    super({\n      name: \"DepthMaskMaterial\",\n      defines: {\n        DEPTH_EPSILON: \"0.0001\",\n        DEPTH_PACKING_0: \"0\",\n        DEPTH_PACKING_1: \"0\",\n        DEPTH_TEST_STRATEGY: DepthTestStrategy.KEEP_MAX_DEPTH\n      },\n      uniforms: {\n        inputBuffer: new Uniform9(null),\n        depthBuffer0: new Uniform9(null),\n        depthBuffer1: new Uniform9(null),\n        cameraNearFar: new Uniform9(new Vector25(1, 1))\n      },\n      blending: NoBlending9,\n      depthWrite: false,\n      depthTest: false,\n      fragmentShader: depth_mask_default,\n      vertexShader: common_default\n    });\n    this.toneMapped = false;\n    this.depthMode = LessDepth;\n  }\n  set depthBuffer0(value) {\n    this.uniforms.depthBuffer0.value = value;\n  }\n  set depthPacking0(value) {\n    this.defines.DEPTH_PACKING_0 = value.toFixed(0);\n    this.needsUpdate = true;\n  }\n  setDepthBuffer0(buffer, depthPacking = BasicDepthPacking4) {\n    this.depthBuffer0 = buffer;\n    this.depthPacking0 = depthPacking;\n  }\n  set depthBuffer1(value) {\n    this.uniforms.depthBuffer1.value = value;\n  }\n  set depthPacking1(value) {\n    this.defines.DEPTH_PACKING_1 = value.toFixed(0);\n    this.needsUpdate = true;\n  }\n  setDepthBuffer1(buffer, depthPacking = BasicDepthPacking4) {\n    this.depthBuffer1 = buffer;\n    this.depthPacking1 = depthPacking;\n  }\n  get maxDepthStrategy() {\n    return Number(this.defines.DEPTH_TEST_STRATEGY);\n  }\n  set maxDepthStrategy(value) {\n    this.defines.DEPTH_TEST_STRATEGY = value.toFixed(0);\n    this.needsUpdate = true;\n  }\n  get keepFar() {\n    return this.maxDepthStrategy;\n  }\n  set keepFar(value) {\n    this.maxDepthStrategy = value ? DepthTestStrategy.KEEP_MAX_DEPTH : DepthTestStrategy.DISCARD_MAX_DEPTH;\n  }\n  getMaxDepthStrategy() {\n    return this.maxDepthStrategy;\n  }\n  setMaxDepthStrategy(value) {\n    this.maxDepthStrategy = value;\n  }\n  get epsilon() {\n    return Number(this.defines.DEPTH_EPSILON);\n  }\n  set epsilon(value) {\n    this.defines.DEPTH_EPSILON = value.toFixed(16);\n    this.needsUpdate = true;\n  }\n  getEpsilon() {\n    return this.epsilon;\n  }\n  setEpsilon(value) {\n    this.epsilon = value;\n  }\n  get depthMode() {\n    return Number(this.defines.DEPTH_MODE);\n  }\n  set depthMode(value) {\n    let depthTest;\n    switch (value) {\n      case NeverDepth:\n        depthTest = \"false\";\n        break;\n      case AlwaysDepth:\n        depthTest = \"true\";\n        break;\n      case EqualDepth:\n        depthTest = \"abs(d1 - d0) <= DEPTH_EPSILON\";\n        break;\n      case NotEqualDepth:\n        depthTest = \"abs(d1 - d0) > DEPTH_EPSILON\";\n        break;\n      case LessDepth:\n        depthTest = \"d0 > d1\";\n        break;\n      case LessEqualDepth:\n        depthTest = \"d0 >= d1\";\n        break;\n      case GreaterEqualDepth:\n        depthTest = \"d0 <= d1\";\n        break;\n      case GreaterDepth:\n      default:\n        depthTest = \"d0 < d1\";\n        break;\n    }\n    this.defines.DEPTH_MODE = value.toFixed(0);\n    this.defines[\"depthTest(d0, d1)\"] = depthTest;\n    this.needsUpdate = true;\n  }\n  getDepthMode() {\n    return this.depthMode;\n  }\n  setDepthMode(mode) {\n    this.depthMode = mode;\n  }\n  adoptCameraSettings(camera) {\n    if (camera) {\n      this.uniforms.cameraNearFar.value.set(camera.near, camera.far);\n      if (camera instanceof PerspectiveCamera3) {\n        this.defines.PERSPECTIVE_CAMERA = \"1\";\n      } else {\n        delete this.defines.PERSPECTIVE_CAMERA;\n      }\n      this.needsUpdate = true;\n    }\n  }\n};\n\n// src/materials/DownsamplingMaterial.js\nimport { NoBlending as NoBlending10, ShaderMaterial as ShaderMaterial10, Uniform as Uniform10, Vector2 as Vector26 } from \"three\";\n\n// src/materials/glsl/convolution.downsampling.frag\nvar convolution_downsampling_default = \"#ifdef FRAMEBUFFER_PRECISION_HIGH\\nuniform mediump sampler2D inputBuffer;\\n#else\\nuniform lowp sampler2D inputBuffer;\\n#endif\\nuniform vec2 texelSize;uniform vec3 kernel[SAMPLES];varying vec2 vUv;void main(){vec4 c=vec4(0.0);for(int i=0;i<SAMPLES;++i){vec2 uv=vUv+kernel[i].xy*texelSize;c+=kernel[i].z*texture2D(inputBuffer,uv);}gl_FragColor=c;\\n#include <encodings_fragment>\\n}\";\n\n// src/materials/DownsamplingMaterial.js\nvar DownsamplingMaterial = class extends ShaderMaterial10 {\n  constructor() {\n    super({\n      name: \"DownsamplingMaterial\",\n      defines: {\n        SAMPLES: \"13\"\n      },\n      uniforms: {\n        inputBuffer: new Uniform10(null),\n        texelSize: new Uniform10(new Vector26()),\n        kernel: new Uniform10(new Float32Array([\n          -1,\n          1,\n          0.125,\n          1,\n          1,\n          0.125,\n          -1,\n          -1,\n          0.125,\n          1,\n          -1,\n          0.125,\n          -2,\n          2,\n          0.0555555,\n          0,\n          2,\n          0.0555555,\n          2,\n          2,\n          0.0555555,\n          -2,\n          0,\n          0.0555555,\n          0,\n          0,\n          0.0555555,\n          2,\n          0,\n          0.0555555,\n          -2,\n          -2,\n          0.0555555,\n          0,\n          -2,\n          0.0555555,\n          2,\n          -2,\n          0.0555555\n        ]))\n      },\n      blending: NoBlending10,\n      depthWrite: false,\n      depthTest: false,\n      fragmentShader: convolution_downsampling_default,\n      vertexShader: common_default\n    });\n    this.toneMapped = false;\n  }\n  set inputBuffer(value) {\n    this.uniforms.inputBuffer.value = value;\n  }\n  setSize(width, height) {\n    this.uniforms.texelSize.value.set(1 / width, 1 / height);\n  }\n};\n\n// src/materials/EdgeDetectionMaterial.js\nimport { BasicDepthPacking as BasicDepthPacking5, NoBlending as NoBlending11, ShaderMaterial as ShaderMaterial11, Uniform as Uniform11, Vector2 as Vector27 } from \"three\";\n\n// src/materials/glsl/edge-detection.frag\nvar edge_detection_default = \"varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;\\n#if EDGE_DETECTION_MODE != 0\\nvarying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;\\n#endif\\n#if EDGE_DETECTION_MODE == 1\\n#include <common>\\n#endif\\n#if EDGE_DETECTION_MODE == 0 || PREDICATION_MODE == 1\\n#ifdef GL_FRAGMENT_PRECISION_HIGH\\nuniform highp sampler2D depthBuffer;\\n#else\\nuniform mediump sampler2D depthBuffer;\\n#endif\\nfloat readDepth(const in vec2 uv){\\n#if DEPTH_PACKING == 3201\\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\\n#else\\nreturn texture2D(depthBuffer,uv).r;\\n#endif\\n}vec3 gatherNeighbors(){float p=readDepth(vUv);float pLeft=readDepth(vUv0);float pTop=readDepth(vUv1);return vec3(p,pLeft,pTop);}\\n#elif PREDICATION_MODE == 2\\nuniform sampler2D predicationBuffer;vec3 gatherNeighbors(){float p=texture2D(predicationBuffer,vUv).r;float pLeft=texture2D(predicationBuffer,vUv0).r;float pTop=texture2D(predicationBuffer,vUv1).r;return vec3(p,pLeft,pTop);}\\n#endif\\n#if PREDICATION_MODE != 0\\nvec2 calculatePredicatedThreshold(){vec3 neighbours=gatherNeighbors();vec2 delta=abs(neighbours.xx-neighbours.yz);vec2 edges=step(PREDICATION_THRESHOLD,delta);return PREDICATION_SCALE*EDGE_THRESHOLD*(1.0-PREDICATION_STRENGTH*edges);}\\n#endif\\n#if EDGE_DETECTION_MODE != 0\\nuniform sampler2D inputBuffer;\\n#endif\\nvoid main(){\\n#if EDGE_DETECTION_MODE == 0\\nconst vec2 threshold=vec2(DEPTH_THRESHOLD);\\n#elif PREDICATION_MODE != 0\\nvec2 threshold=calculatePredicatedThreshold();\\n#else\\nconst vec2 threshold=vec2(EDGE_THRESHOLD);\\n#endif\\n#if EDGE_DETECTION_MODE == 0\\nvec3 neighbors=gatherNeighbors();vec2 delta=abs(neighbors.xx-vec2(neighbors.y,neighbors.z));vec2 edges=step(threshold,delta);if(dot(edges,vec2(1.0))==0.0){discard;}gl_FragColor=vec4(edges,0.0,1.0);\\n#elif EDGE_DETECTION_MODE == 1\\nfloat l=linearToRelativeLuminance(texture2D(inputBuffer,vUv).rgb);float lLeft=linearToRelativeLuminance(texture2D(inputBuffer,vUv0).rgb);float lTop=linearToRelativeLuminance(texture2D(inputBuffer,vUv1).rgb);vec4 delta;delta.xy=abs(l-vec2(lLeft,lTop));vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}float lRight=linearToRelativeLuminance(texture2D(inputBuffer,vUv2).rgb);float lBottom=linearToRelativeLuminance(texture2D(inputBuffer,vUv3).rgb);delta.zw=abs(l-vec2(lRight,lBottom));vec2 maxDelta=max(delta.xy,delta.zw);float lLeftLeft=linearToRelativeLuminance(texture2D(inputBuffer,vUv4).rgb);float lTopTop=linearToRelativeLuminance(texture2D(inputBuffer,vUv5).rgb);delta.zw=abs(vec2(lLeft,lTop)-vec2(lLeftLeft,lTopTop));maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges.xy*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);\\n#elif EDGE_DETECTION_MODE == 2\\nvec4 delta;vec3 c=texture2D(inputBuffer,vUv).rgb;vec3 cLeft=texture2D(inputBuffer,vUv0).rgb;vec3 t=abs(c-cLeft);delta.x=max(max(t.r,t.g),t.b);vec3 cTop=texture2D(inputBuffer,vUv1).rgb;t=abs(c-cTop);delta.y=max(max(t.r,t.g),t.b);vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}vec3 cRight=texture2D(inputBuffer,vUv2).rgb;t=abs(c-cRight);delta.z=max(max(t.r,t.g),t.b);vec3 cBottom=texture2D(inputBuffer,vUv3).rgb;t=abs(c-cBottom);delta.w=max(max(t.r,t.g),t.b);vec2 maxDelta=max(delta.xy,delta.zw);vec3 cLeftLeft=texture2D(inputBuffer,vUv4).rgb;t=abs(c-cLeftLeft);delta.z=max(max(t.r,t.g),t.b);vec3 cTopTop=texture2D(inputBuffer,vUv5).rgb;t=abs(c-cTopTop);delta.w=max(max(t.r,t.g),t.b);maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);\\n#endif\\n}\";\n\n// src/materials/glsl/edge-detection.vert\nvar edge_detection_default2 = \"uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;\\n#if EDGE_DETECTION_MODE != 0\\nvarying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;\\n#endif\\nvoid main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,0.0);vUv1=vUv+texelSize*vec2(0.0,-1.0);\\n#if EDGE_DETECTION_MODE != 0\\nvUv2=vUv+texelSize*vec2(1.0,0.0);vUv3=vUv+texelSize*vec2(0.0,1.0);vUv4=vUv+texelSize*vec2(-2.0,0.0);vUv5=vUv+texelSize*vec2(0.0,-2.0);\\n#endif\\ngl_Position=vec4(position.xy,1.0,1.0);}\";\n\n// src/materials/EdgeDetectionMaterial.js\nvar EdgeDetectionMaterial = class extends ShaderMaterial11 {\n  constructor(texelSize = new Vector27(), mode = EdgeDetectionMode.COLOR) {\n    super({\n      name: \"EdgeDetectionMaterial\",\n      defines: {\n        LOCAL_CONTRAST_ADAPTATION_FACTOR: \"2.0\",\n        EDGE_THRESHOLD: \"0.1\",\n        DEPTH_THRESHOLD: \"0.01\",\n        PREDICATION_MODE: \"0\",\n        PREDICATION_THRESHOLD: \"0.01\",\n        PREDICATION_SCALE: \"2.0\",\n        PREDICATION_STRENGTH: \"1.0\",\n        DEPTH_PACKING: \"0\"\n      },\n      uniforms: {\n        inputBuffer: new Uniform11(null),\n        depthBuffer: new Uniform11(null),\n        predicationBuffer: new Uniform11(null),\n        texelSize: new Uniform11(texelSize)\n      },\n      blending: NoBlending11,\n      depthWrite: false,\n      depthTest: false,\n      fragmentShader: edge_detection_default,\n      vertexShader: edge_detection_default2\n    });\n    this.toneMapped = false;\n    this.edgeDetectionMode = mode;\n  }\n  set depthBuffer(value) {\n    this.uniforms.depthBuffer.value = value;\n  }\n  set depthPacking(value) {\n    this.defines.DEPTH_PACKING = value.toFixed(0);\n    this.needsUpdate = true;\n  }\n  setDepthBuffer(buffer, depthPacking = BasicDepthPacking5) {\n    this.depthBuffer = buffer;\n    this.depthPacking = depthPacking;\n  }\n  get edgeDetectionMode() {\n    return Number(this.defines.EDGE_DETECTION_MODE);\n  }\n  set edgeDetectionMode(value) {\n    this.defines.EDGE_DETECTION_MODE = value.toFixed(0);\n    this.needsUpdate = true;\n  }\n  getEdgeDetectionMode() {\n    return this.edgeDetectionMode;\n  }\n  setEdgeDetectionMode(value) {\n    this.edgeDetectionMode = value;\n  }\n  get localContrastAdaptationFactor() {\n    return Number(this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR);\n  }\n  set localContrastAdaptationFactor(value) {\n    this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR = value.toFixed(\"6\");\n    this.needsUpdate = true;\n  }\n  getLocalContrastAdaptationFactor() {\n    return this.localContrastAdaptationFactor;\n  }\n  setLocalContrastAdaptationFactor(value) {\n    this.localContrastAdaptationFactor = value;\n  }\n  get edgeDetectionThreshold() {\n    return Number(this.defines.EDGE_THRESHOLD);\n  }\n  set edgeDetectionThreshold(value) {\n    this.defines.EDGE_THRESHOLD = value.toFixed(\"6\");\n    this.defines.DEPTH_THRESHOLD = (value * 0.1).toFixed(\"6\");\n    this.needsUpdate = true;\n  }\n  getEdgeDetectionThreshold() {\n    return this.edgeDetectionThreshold;\n  }\n  setEdgeDetectionThreshold(value) {\n    this.edgeDetectionThreshold = value;\n  }\n  get predicationMode() {\n    return Number(this.defines.PREDICATION_MODE);\n  }\n  set predicationMode(value) {\n    this.defines.PREDICATION_MODE = value.toFixed(0);\n    this.needsUpdate = true;\n  }\n  getPredicationMode() {\n    return this.predicationMode;\n  }\n  setPredicationMode(value) {\n    this.predicationMode = value;\n  }\n  set predicationBuffer(value) {\n    this.uniforms.predicationBuffer.value = value;\n  }\n  setPredicationBuffer(value) {\n    this.uniforms.predicationBuffer.value = value;\n  }\n  get predicationThreshold() {\n    return Number(this.defines.PREDICATION_THRESHOLD);\n  }\n  set predicationThreshold(value) {\n    this.defines.PREDICATION_THRESHOLD = value.toFixed(\"6\");\n    this.needsUpdate = true;\n  }\n  getPredicationThreshold() {\n    return this.predicationThreshold;\n  }\n  setPredicationThreshold(value) {\n    this.predicationThreshold = value;\n  }\n  get predicationScale() {\n    return Number(this.defines.PREDICATION_SCALE);\n  }\n  set predicationScale(value) {\n    this.defines.PREDICATION_SCALE = value.toFixed(\"6\");\n    this.needsUpdate = true;\n  }\n  getPredicationScale() {\n    return this.predicationScale;\n  }\n  setPredicationScale(value) {\n    this.predicationScale = value;\n  }\n  get predicationStrength() {\n    return Number(this.defines.PREDICATION_STRENGTH);\n  }\n  set predicationStrength(value) {\n    this.defines.PREDICATION_STRENGTH = value.toFixed(\"6\");\n    this.needsUpdate = true;\n  }\n  getPredicationStrength() {\n    return this.predicationStrength;\n  }\n  setPredicationStrength(value) {\n    this.predicationStrength = value;\n  }\n  setSize(width, height) {\n    this.uniforms.texelSize.value.set(1 / width, 1 / height);\n  }\n};\n\n// src/materials/EffectMaterial.js\nimport { BasicDepthPacking as BasicDepthPacking6, NoBlending as NoBlending12, PerspectiveCamera as PerspectiveCamera4, REVISION as REVISION2, ShaderMaterial as ShaderMaterial12, Uniform as Uniform12, Vector2 as Vector28 } from \"three\";\n\n// src/materials/glsl/effect.frag\nvar effect_default = \"#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#define packFloatToRGBA(v) packDepthToRGBA(v)\\n#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)\\n#ifdef FRAMEBUFFER_PRECISION_HIGH\\nuniform mediump sampler2D inputBuffer;\\n#else\\nuniform lowp sampler2D inputBuffer;\\n#endif\\n#ifdef GL_FRAGMENT_PRECISION_HIGH\\nuniform highp sampler2D depthBuffer;\\n#else\\nuniform mediump sampler2D depthBuffer;\\n#endif\\nuniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;\\n#if THREE_REVISION >= 137\\nvec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}\\n#endif\\nfloat readDepth(const in vec2 uv){\\n#if DEPTH_PACKING == 3201\\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\\n#else\\nreturn texture2D(depthBuffer,uv).r;\\n#endif\\n}float getViewZ(const in float depth){\\n#ifdef PERSPECTIVE_CAMERA\\nreturn perspectiveDepthToViewZ(depth,cameraNear,cameraFar);\\n#else\\nreturn orthographicDepthToViewZ(depth,cameraNear,cameraFar);\\n#endif\\n}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEADvoid main(){FRAGMENT_MAIN_UVvec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGEgl_FragColor=color0;\\n#ifdef ENCODE_OUTPUT\\n#include <encodings_fragment>\\n#endif\\n#include <dithering_fragment>\\n}\";\n\n// src/materials/glsl/effect.vert\nvar effect_default2 = \"uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEADvoid main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORTgl_Position=vec4(position.xy,1.0,1.0);}\";\n\n// src/materials/EffectMaterial.js\nvar EffectMaterial = class extends ShaderMaterial12 {\n  constructor(shaderParts, defines, uniforms, camera, dithering = false) {\n    super({\n      name: \"EffectMaterial\",\n      defines: {\n        THREE_REVISION: REVISION2.replace(/\\D+/g, \"\"),\n        DEPTH_PACKING: \"0\",\n        ENCODE_OUTPUT: \"1\"\n      },\n      uniforms: {\n        inputBuffer: new Uniform12(null),\n        depthBuffer: new Uniform12(null),\n        resolution: new Uniform12(new Vector28()),\n        texelSize: new Uniform12(new Vector28()),\n        cameraNear: new Uniform12(0.3),\n        cameraFar: new Uniform12(1e3),\n        aspect: new Uniform12(1),\n        time: new Uniform12(0)\n      },\n      blending: NoBlending12,\n      depthWrite: false,\n      depthTest: false,\n      dithering\n    });\n    this.toneMapped = false;\n    if (shaderParts) {\n      this.setShaderParts(shaderParts);\n    }\n    if (defines) {\n      this.setDefines(defines);\n    }\n    if (uniforms) {\n      this.setUniforms(uniforms);\n    }\n    this.adoptCameraSettings(camera);\n  }\n  set inputBuffer(value) {\n    this.uniforms.inputBuffer.value = value;\n  }\n  setInputBuffer(value) {\n    this.uniforms.inputBuffer.value = value;\n  }\n  get depthBuffer() {\n    return this.uniforms.depthBuffer.value;\n  }\n  set depthBuffer(value) {\n    this.uniforms.depthBuffer.value = value;\n  }\n  get depthPacking() {\n    return Number(this.defines.DEPTH_PACKING);\n  }\n  set depthPacking(value) {\n    this.defines.DEPTH_PACKING = value.toFixed(0);\n    this.needsUpdate = true;\n  }\n  setDepthBuffer(buffer, depthPacking = BasicDepthPacking6) {\n    this.depthBuffer = buffer;\n    this.depthPacking = depthPacking;\n  }\n  setShaderData(data) {\n    this.setShaderParts(data.shaderParts);\n    this.setDefines(data.defines);\n    this.setUniforms(data.uniforms);\n    this.setExtensions(data.extensions);\n  }\n  setShaderParts(shaderParts) {\n    this.fragmentShader = effect_default.replace(EffectShaderSection.FRAGMENT_HEAD, shaderParts.get(EffectShaderSection.FRAGMENT_HEAD) ?? \"\").replace(EffectShaderSection.FRAGMENT_MAIN_UV, shaderParts.get(EffectShaderSection.FRAGMENT_MAIN_UV) ?? \"\").replace(EffectShaderSection.FRAGMENT_MAIN_IMAGE, shaderParts.get(EffectShaderSection.FRAGMENT_MAIN_IMAGE) ?? \"\");\n    this.vertexShader = effect_default2.replace(EffectShaderSection.VERTEX_HEAD, shaderParts.get(EffectShaderSection.VERTEX_HEAD) ?? \"\").replace(EffectShaderSection.VERTEX_MAIN_SUPPORT, shaderParts.get(EffectShaderSection.VERTEX_MAIN_SUPPORT) ?? \"\");\n    this.needsUpdate = true;\n    return this;\n  }\n  setDefines(defines) {\n    for (const entry of defines.entries()) {\n      this.defines[entry[0]] = entry[1];\n    }\n    this.needsUpdate = true;\n    return this;\n  }\n  setUniforms(uniforms) {\n    for (const entry of uniforms.entries()) {\n      this.uniforms[entry[0]] = entry[1];\n    }\n    return this;\n  }\n  setExtensions(extensions) {\n    this.extensions = {};\n    for (const extension of extensions) {\n      this.extensions[extension] = true;\n    }\n    return this;\n  }\n  get encodeOutput() {\n    return this.defines.ENCODE_OUTPUT !== void 0;\n  }\n  set encodeOutput(value) {\n    if (this.encodeOutput !== value) {\n      if (value) {\n        this.defines.ENCODE_OUTPUT = \"1\";\n      } else {\n        delete this.defines.ENCODE_OUTPUT;\n      }\n      this.needsUpdate = true;\n    }\n  }\n  isOutputEncodingEnabled(value) {\n    return this.encodeOutput;\n  }\n  setOutputEncodingEnabled(value) {\n    this.encodeOutput = value;\n  }\n  get time() {\n    return this.uniforms.time.value;\n  }\n  set time(value) {\n    this.uniforms.time.value = value;\n  }\n  setDeltaTime(value) {\n    this.uniforms.time.value += value;\n  }\n  adoptCameraSettings(camera) {\n    if (camera) {\n      this.uniforms.cameraNear.value = camera.near;\n      this.uniforms.cameraFar.value = camera.far;\n      if (camera instanceof PerspectiveCamera4) {\n        this.defines.PERSPECTIVE_CAMERA = \"1\";\n      } else {\n        delete this.defines.PERSPECTIVE_CAMERA;\n      }\n      this.needsUpdate = true;\n    }\n  }\n  setSize(width, height) {\n    const uniforms = this.uniforms;\n    uniforms.resolution.value.set(width, height);\n    uniforms.texelSize.value.set(1 / width, 1 / height);\n    uniforms.aspect.value = width / height;\n  }\n  static get Section() {\n    return EffectShaderSection;\n  }\n};\n\n// src/materials/GaussianBlurMaterial.js\nimport { NoBlending as NoBlending13, ShaderMaterial as ShaderMaterial13, Uniform as Uniform13, Vector2 as Vector29 } from \"three\";\n\n// src/materials/glsl/convolution.gaussian.frag\nvar convolution_gaussian_default = \"#ifdef FRAMEBUFFER_PRECISION_HIGH\\nuniform mediump sampler2D inputBuffer;\\n#else\\nuniform lowp sampler2D inputBuffer;\\n#endif\\nuniform vec2 kernel[STEPS];varying vec2 vOffset;varying vec2 vUv;void main(){vec4 result=texture2D(inputBuffer,vUv)*kernel[0].y;for(int i=1;i<STEPS;++i){vec2 offset=kernel[i].x*vOffset;vec4 c0=texture2D(inputBuffer,vUv+offset);vec4 c1=texture2D(inputBuffer,vUv-offset);result+=(c0+c1)*kernel[i].y;}gl_FragColor=result;\\n#include <encodings_fragment>\\n}\";\n\n// src/materials/glsl/convolution.gaussian.vert\nvar convolution_gaussian_default2 = \"uniform vec2 texelSize;uniform vec2 direction;uniform vec2 scale;varying vec2 vOffset;varying vec2 vUv;void main(){vOffset=direction*texelSize*scale.x*scale.y;vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}\";\n\n// src/materials/GaussianBlurMaterial.js\nvar GaussianBlurMaterial = class extends ShaderMaterial13 {\n  constructor({ kernelSize = 35 } = {}) {\n    super({\n      name: \"GaussianBlurMaterial\",\n      uniforms: {\n        inputBuffer: new Uniform13(null),\n        texelSize: new Uniform13(new Vector29()),\n        direction: new Uniform13(new Vector29()),\n        kernel: new Uniform13(null),\n        scale: new Uniform13(new Vector29(1, 1))\n      },\n      blending: NoBlending13,\n      depthWrite: false,\n      depthTest: false,\n      fragmentShader: convolution_gaussian_default,\n      vertexShader: convolution_gaussian_default2\n    });\n    this.toneMapped = false;\n    this._kernelSize = 0;\n    this.kernelSize = kernelSize;\n  }\n  set inputBuffer(value) {\n    this.uniforms.inputBuffer.value = value;\n  }\n  get kernelSize() {\n    return this._kernelSize;\n  }\n  set kernelSize(value) {\n    this._kernelSize = value;\n    this.generateKernel(value);\n  }\n  get direction() {\n    return this.uniforms.direction.value;\n  }\n  set resolutionScale(value) {\n    this.uniforms.scale.value.x = value;\n  }\n  get scale() {\n    return this.uniforms.scale.value.y;\n  }\n  set scale(value) {\n    this.uniforms.scale.value.y = value;\n  }\n  generateKernel(kernelSize) {\n    const kernel = new GaussKernel(kernelSize);\n    const steps = kernel.linearSteps;\n    const kernelData = new Float64Array(steps * 2);\n    for (let i = 0, j = 0; i < steps; ++i) {\n      kernelData[j++] = kernel.linearOffsets[i];\n      kernelData[j++] = kernel.linearWeights[i];\n    }\n    this.uniforms.kernel.value = kernelData;\n    this.defines.STEPS = steps.toFixed(0);\n    this.needsUpdate = true;\n  }\n  setSize(width, height) {\n    this.uniforms.texelSize.value.set(1 / width, 1 / height);\n  }\n};\n\n// src/materials/GodRaysMaterial.js\nimport { NoBlending as NoBlending14, ShaderMaterial as ShaderMaterial14, Uniform as Uniform14 } from \"three\";\n\n// src/materials/glsl/convolution.god-rays.frag\nvar convolution_god_rays_default = \"#include <common>\\n#include <dithering_pars_fragment>\\n#ifdef FRAMEBUFFER_PRECISION_HIGH\\nuniform mediump sampler2D inputBuffer;\\n#else\\nuniform lowp sampler2D inputBuffer;\\n#endif\\nuniform vec2 lightPosition;uniform float exposure;uniform float decay;uniform float density;uniform float weight;uniform float clampMax;varying vec2 vUv;void main(){vec2 coord=vUv;vec2 delta=lightPosition-coord;delta*=1.0/SAMPLES_FLOAT*density;float illuminationDecay=1.0;vec4 color=vec4(0.0);for(int i=0;i<SAMPLES_INT;++i){coord+=delta;vec4 texel=texture2D(inputBuffer,coord);texel*=illuminationDecay*weight;color+=texel;illuminationDecay*=decay;}gl_FragColor=clamp(color*exposure,0.0,clampMax);\\n#include <dithering_fragment>\\n}\";\n\n// src/materials/GodRaysMaterial.js\nvar GodRaysMaterial = class extends ShaderMaterial14 {\n  constructor(lightPosition) {\n    super({\n      name: \"GodRaysMaterial\",\n      defines: {\n        SAMPLES_INT: \"60\",\n        SAMPLES_FLOAT: \"60.0\"\n      },\n      uniforms: {\n        inputBuffer: new Uniform14(null),\n        lightPosition: new Uniform14(lightPosition),\n        density: new Uniform14(1),\n        decay: new Uniform14(1),\n        weight: new Uniform14(1),\n        exposure: new Uniform14(1),\n        clampMax: new Uniform14(1)\n      },\n      blending: NoBlending14,\n      depthWrite: false,\n      depthTest: false,\n      fragmentShader: convolution_god_rays_default,\n      vertexShader: common_default\n    });\n    this.toneMapped = false;\n  }\n  set inputBuffer(value) {\n    this.uniforms.inputBuffer.value = value;\n  }\n  setInputBuffer(value) {\n    this.uniforms.inputBuffer.value = value;\n  }\n  get lightPosition() {\n    return this.uniforms.lightPosition.value;\n  }\n  getLightPosition() {\n    return this.uniforms.lightPosition.value;\n  }\n  setLightPosition(value) {\n    this.uniforms.lightPosition.value = value;\n  }\n  get density() {\n    return this.uniforms.density.value;\n  }\n  set density(value) {\n    this.uniforms.density.value = value;\n  }\n  getDensity() {\n    return this.uniforms.density.value;\n  }\n  setDensity(value) {\n    this.uniforms.density.value = value;\n  }\n  get decay() {\n    return this.uniforms.decay.value;\n  }\n  set decay(value) {\n    this.uniforms.decay.value = value;\n  }\n  getDecay() {\n    return this.uniforms.decay.value;\n  }\n  setDecay(value) {\n    this.uniforms.decay.value = value;\n  }\n  get weight() {\n    return this.uniforms.weight.value;\n  }\n  set weight(value) {\n    this.uniforms.weight.value = value;\n  }\n  getWeight() {\n    return this.uniforms.weight.value;\n  }\n  setWeight(value) {\n    this.uniforms.weight.value = value;\n  }\n  get exposure() {\n    return this.uniforms.exposure.value;\n  }\n  set exposure(value) {\n    this.uniforms.exposure.value = value;\n  }\n  getExposure() {\n    return this.uniforms.exposure.value;\n  }\n  setExposure(value) {\n    this.uniforms.exposure.value = value;\n  }\n  get maxIntensity() {\n    return this.uniforms.clampMax.value;\n  }\n  set maxIntensity(value) {\n    this.uniforms.clampMax.value = value;\n  }\n  getMaxIntensity() {\n    return this.uniforms.clampMax.value;\n  }\n  setMaxIntensity(value) {\n    this.uniforms.clampMax.value = value;\n  }\n  get samples() {\n    return Number(this.defines.SAMPLES_INT);\n  }\n  set samples(value) {\n    const s = Math.floor(value);\n    this.defines.SAMPLES_INT = s.toFixed(0);\n    this.defines.SAMPLES_FLOAT = s.toFixed(1);\n    this.needsUpdate = true;\n  }\n  getSamples() {\n    return this.samples;\n  }\n  setSamples(value) {\n    this.samples = value;\n  }\n};\n\n// src/materials/LuminanceMaterial.js\nimport { NoBlending as NoBlending15, ShaderMaterial as ShaderMaterial15, Uniform as Uniform15 } from \"three\";\n\n// src/materials/glsl/luminance.frag\nvar luminance_default = \"#include <common>\\n#ifdef FRAMEBUFFER_PRECISION_HIGH\\nuniform mediump sampler2D inputBuffer;\\n#else\\nuniform lowp sampler2D inputBuffer;\\n#endif\\n#ifdef RANGE\\nuniform vec2 range;\\n#elif defined(THRESHOLD)\\nuniform float threshold;uniform float smoothing;\\n#endif\\nvarying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=linearToRelativeLuminance(texel.rgb);\\n#ifdef RANGE\\nfloat low=step(range.x,l);float high=step(l,range.y);l*=low*high;\\n#elif defined(THRESHOLD)\\nl=smoothstep(threshold,threshold+smoothing,l);\\n#endif\\n#ifdef COLOR\\ngl_FragColor=vec4(texel.rgb*l,l);\\n#else\\ngl_FragColor=vec4(l);\\n#endif\\n}\";\n\n// src/materials/LuminanceMaterial.js\nvar LuminanceMaterial = class extends ShaderMaterial15 {\n  constructor(colorOutput = false, luminanceRange = null) {\n    super({\n      name: \"LuminanceMaterial\",\n      uniforms: {\n        inputBuffer: new Uniform15(null),\n        threshold: new Uniform15(0),\n        smoothing: new Uniform15(1),\n        range: new Uniform15(null)\n      },\n      blending: NoBlending15,\n      depthWrite: false,\n      depthTest: false,\n      fragmentShader: luminance_default,\n      vertexShader: common_default\n    });\n    this.toneMapped = false;\n    this.colorOutput = colorOutput;\n    this.luminanceRange = luminanceRange;\n  }\n  set inputBuffer(value) {\n    this.uniforms.inputBuffer.value = value;\n  }\n  setInputBuffer(value) {\n    this.uniforms.inputBuffer.value = value;\n  }\n  get threshold() {\n    return this.uniforms.threshold.value;\n  }\n  set threshold(value) {\n    if (this.smoothing > 0 || value > 0) {\n      this.defines.THRESHOLD = \"1\";\n    } else {\n      delete this.defines.THRESHOLD;\n    }\n    this.uniforms.threshold.value = value;\n  }\n  getThreshold() {\n    return this.threshold;\n  }\n  setThreshold(value) {\n    this.threshold = value;\n  }\n  get smoothing() {\n    return this.uniforms.smoothing.value;\n  }\n  set smoothing(value) {\n    if (this.threshold > 0 || value > 0) {\n      this.defines.THRESHOLD = \"1\";\n    } else {\n      delete this.defines.THRESHOLD;\n    }\n    this.uniforms.smoothing.value = value;\n  }\n  getSmoothingFactor() {\n    return this.smoothing;\n  }\n  setSmoothingFactor(value) {\n    this.smoothing = value;\n  }\n  get useThreshold() {\n    return this.threshold > 0 || this.smoothing > 0;\n  }\n  set useThreshold(value) {\n  }\n  get colorOutput() {\n    return this.defines.COLOR !== void 0;\n  }\n  set colorOutput(value) {\n    if (value) {\n      this.defines.COLOR = \"1\";\n    } else {\n      delete this.defines.COLOR;\n    }\n    this.needsUpdate = true;\n  }\n  isColorOutputEnabled(value) {\n    return this.colorOutput;\n  }\n  setColorOutputEnabled(value) {\n    this.colorOutput = value;\n  }\n  get useRange() {\n    return this.luminanceRange !== null;\n  }\n  set useRange(value) {\n    this.luminanceRange = null;\n  }\n  get luminanceRange() {\n    return this.uniforms.range.value;\n  }\n  set luminanceRange(value) {\n    if (value !== null) {\n      this.defines.RANGE = \"1\";\n    } else {\n      delete this.defines.RANGE;\n    }\n    this.uniforms.range.value = value;\n    this.needsUpdate = true;\n  }\n  getLuminanceRange() {\n    return this.luminanceRange;\n  }\n  setLuminanceRange(value) {\n    this.luminanceRange = value;\n  }\n};\n\n// src/materials/MaskMaterial.js\nimport { NoBlending as NoBlending16, ShaderMaterial as ShaderMaterial16, Uniform as Uniform16, UnsignedByteType as UnsignedByteType2 } from \"three\";\n\n// src/materials/glsl/mask.frag\nvar mask_default = \"#ifdef FRAMEBUFFER_PRECISION_HIGH\\nuniform mediump sampler2D inputBuffer;\\n#else\\nuniform lowp sampler2D inputBuffer;\\n#endif\\n#ifdef MASK_PRECISION_HIGH\\nuniform mediump sampler2D maskTexture;\\n#else\\nuniform lowp sampler2D maskTexture;\\n#endif\\n#if MASK_FUNCTION != 0\\nuniform float strength;\\n#endif\\nvarying vec2 vUv;void main(){\\n#if COLOR_CHANNEL == 0\\nfloat mask=texture2D(maskTexture,vUv).r;\\n#elif COLOR_CHANNEL == 1\\nfloat mask=texture2D(maskTexture,vUv).g;\\n#elif COLOR_CHANNEL == 2\\nfloat mask=texture2D(maskTexture,vUv).b;\\n#else\\nfloat mask=texture2D(maskTexture,vUv).a;\\n#endif\\n#if MASK_FUNCTION == 0\\n#ifdef INVERTED\\nmask=step(mask,0.0);\\n#else\\nmask=1.0-step(mask,0.0);\\n#endif\\n#else\\nmask=clamp(mask*strength,0.0,1.0);\\n#ifdef INVERTED\\nmask=1.0-mask;\\n#endif\\n#endif\\n#if MASK_FUNCTION == 2\\ngl_FragColor=vec4(mask*texture2D(inputBuffer,vUv).rgb,mask);\\n#else\\ngl_FragColor=mask*texture2D(inputBuffer,vUv);\\n#endif\\n}\";\n\n// src/materials/MaskMaterial.js\nvar MaskMaterial = class extends ShaderMaterial16 {\n  constructor(maskTexture = null) {\n    super({\n      name: \"MaskMaterial\",\n      uniforms: {\n        maskTexture: new Uniform16(maskTexture),\n        inputBuffer: new Uniform16(null),\n        strength: new Uniform16(1)\n      },\n      blending: NoBlending16,\n      depthWrite: false,\n      depthTest: false,\n      fragmentShader: mask_default,\n      vertexShader: common_default\n    });\n    this.toneMapped = false;\n    this.setColorChannel(ColorChannel.RED);\n    this.setMaskFunction(MaskFunction.DISCARD);\n  }\n  set inputBuffer(value) {\n    this.uniforms.inputBuffer.value = value;\n  }\n  setInputBuffer(value) {\n    this.uniforms.inputBuffer.value = value;\n  }\n  set maskTexture(value) {\n    this.uniforms.maskTexture.value = value;\n    delete this.defines.MASK_PRECISION_HIGH;\n    if (value.type !== UnsignedByteType2) {\n      this.defines.MASK_PRECISION_HIGH = \"1\";\n    }\n    this.needsUpdate = true;\n  }\n  setMaskTexture(value) {\n    this.maskTexture = value;\n  }\n  set colorChannel(value) {\n    this.defines.COLOR_CHANNEL = value.toFixed(0);\n    this.needsUpdate = true;\n  }\n  setColorChannel(value) {\n    this.colorChannel = value;\n  }\n  set maskFunction(value) {\n    this.defines.MASK_FUNCTION = value.toFixed(0);\n    this.needsUpdate = true;\n  }\n  setMaskFunction(value) {\n    this.maskFunction = value;\n  }\n  get inverted() {\n    return this.defines.INVERTED !== void 0;\n  }\n  set inverted(value) {\n    if (this.inverted && !value) {\n      delete this.defines.INVERTED;\n    } else if (value) {\n      this.defines.INVERTED = \"1\";\n    }\n    this.needsUpdate = true;\n  }\n  isInverted() {\n    return this.inverted;\n  }\n  setInverted(value) {\n    this.inverted = value;\n  }\n  get strength() {\n    return this.uniforms.strength.value;\n  }\n  set strength(value) {\n    this.uniforms.strength.value = value;\n  }\n  getStrength() {\n    return this.strength;\n  }\n  setStrength(value) {\n    this.strength = value;\n  }\n};\n\n// src/materials/OutlineMaterial.js\nimport { NoBlending as NoBlending17, ShaderMaterial as ShaderMaterial17, Uniform as Uniform17, Vector2 as Vector210 } from \"three\";\n\n// src/materials/glsl/outline.frag\nvar outline_default = \"uniform lowp sampler2D inputBuffer;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 c0=texture2D(inputBuffer,vUv0).rg;vec2 c1=texture2D(inputBuffer,vUv1).rg;vec2 c2=texture2D(inputBuffer,vUv2).rg;vec2 c3=texture2D(inputBuffer,vUv3).rg;float d0=(c0.x-c1.x)*0.5;float d1=(c2.x-c3.x)*0.5;float d=length(vec2(d0,d1));float a0=min(c0.y,c1.y);float a1=min(c2.y,c3.y);float visibilityFactor=min(a0,a1);gl_FragColor.rg=(1.0-visibilityFactor>0.001)?vec2(d,0.0):vec2(0.0,d);}\";\n\n// src/materials/glsl/outline.vert\nvar outline_default2 = \"uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=vec2(uv.x+texelSize.x,uv.y);vUv1=vec2(uv.x-texelSize.x,uv.y);vUv2=vec2(uv.x,uv.y+texelSize.y);vUv3=vec2(uv.x,uv.y-texelSize.y);gl_Position=vec4(position.xy,1.0,1.0);}\";\n\n// src/materials/OutlineMaterial.js\nvar OutlineMaterial = class extends ShaderMaterial17 {\n  constructor(texelSize = new Vector210()) {\n    super({\n      name: \"OutlineMaterial\",\n      uniforms: {\n        inputBuffer: new Uniform17(null),\n        texelSize: new Uniform17(new Vector210())\n      },\n      blending: NoBlending17,\n      depthWrite: false,\n      depthTest: false,\n      fragmentShader: outline_default,\n      vertexShader: outline_default2\n    });\n    this.toneMapped = false;\n    this.setTexelSize(texelSize.x, texelSize.y);\n    this.uniforms.maskTexture = this.uniforms.inputBuffer;\n  }\n  set inputBuffer(value) {\n    this.uniforms.inputBuffer.value = value;\n  }\n  setInputBuffer(value) {\n    this.uniforms.inputBuffer.value = value;\n  }\n  setTexelSize(x, y) {\n    this.uniforms.texelSize.value.set(x, y);\n  }\n  setSize(width, height) {\n    this.uniforms.texelSize.value.set(1 / width, 1 / height);\n  }\n};\n\n// src/materials/SMAAWeightsMaterial.js\nimport { NoBlending as NoBlending18, ShaderMaterial as ShaderMaterial18, Uniform as Uniform18, Vector2 as Vector211 } from \"three\";\n\n// src/materials/glsl/smaa-weights.frag\nvar smaa_weights_default = \"#define sampleLevelZeroOffset(t, coord, offset) texture2D(t, coord + offset * texelSize)\\n#if __VERSION__ < 300\\n#define round(v) floor(v + 0.5)\\n#endif\\n#ifdef FRAMEBUFFER_PRECISION_HIGH\\nuniform mediump sampler2D inputBuffer;\\n#else\\nuniform lowp sampler2D inputBuffer;\\n#endif\\nuniform lowp sampler2D areaTexture;uniform lowp sampler2D searchTexture;uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}vec2 decodeDiagBilinearAccess(in vec2 e){e.r=e.r*abs(5.0*e.r-5.0*0.75);return round(e);}vec4 decodeDiagBilinearAccess(in vec4 e){e.rb=e.rb*abs(5.0*e.rb-5.0*0.75);return round(e);}vec2 searchDiag1(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 searchDiag2(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);coord.x+=0.25*texelSize.x;vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;e=decodeDiagBilinearAccess(e);coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 areaDiag(const in vec2 dist,const in vec2 e,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE_DIAG,AREATEX_MAX_DISTANCE_DIAG)*e+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.x+=0.5;texCoord.y+=AREATEX_SUBTEX_SIZE*offset;return texture2D(areaTexture,texCoord).rg;}vec2 calculateDiagWeights(const in vec2 texCoord,const in vec2 e,const in vec4 subsampleIndices){vec2 weights=vec2(0.0);vec4 d;vec2 end;if(e.r>0.0){d.xz=searchDiag1(texCoord,vec2(-1.0,1.0),end);d.x+=float(end.y>0.9);}else{d.xz=vec2(0.0);}d.yw=searchDiag1(texCoord,vec2(1.0,-1.0),end);if(d.x+d.y>2.0){vec4 coords=vec4(-d.x+0.25,d.x,d.y,-d.y-0.25)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.xy=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).rg;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).rg;c.yxwz=decodeDiagBilinearAccess(c.xyzw);vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.z);}d.xz=searchDiag2(texCoord,vec2(-1.0,-1.0),end);if(sampleLevelZeroOffset(inputBuffer,texCoord,vec2(1,0)).r>0.0){d.yw=searchDiag2(texCoord,vec2(1.0),end);d.y+=float(end.y>0.9);}else{d.yw=vec2(0.0);}if(d.x+d.y>2.0){vec4 coords=vec4(-d.x,-d.x,d.y,d.y)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.x=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).g;c.y=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(0,-1)).r;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).gr;vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.w).gr;}return weights;}float searchLength(const in vec2 e,const in float offset){vec2 scale=SEARCHTEX_SIZE*vec2(0.5,-1.0);vec2 bias=SEARCHTEX_SIZE*vec2(offset,1.0);scale+=vec2(-1.0,1.0);bias+=vec2(0.5,-0.5);scale*=1.0/SEARCHTEX_PACKED_SIZE;bias*=1.0/SEARCHTEX_PACKED_SIZE;return texture2D(searchTexture,scale*e+bias).r;}float searchXLeft(in vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x>end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(-2.0,0.0)*texelSize+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.0)+3.25;return texelSize.x*offset+texCoord.x;}float searchXRight(vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x<end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(2.0,0.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.5)+3.25;return-texelSize.x*offset+texCoord.x;}float searchYUp(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.y>end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=-vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.0)+3.25;return texelSize.y*offset+texCoord.y;}float searchYDown(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;i++){if(!(texCoord.y<end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.5)+3.25;return-texelSize.y*offset+texCoord.y;}vec2 area(const in vec2 dist,const in float e1,const in float e2,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE)*round(4.0*vec2(e1,e2))+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.y=AREATEX_SUBTEX_SIZE*offset+texCoord.y;return texture2D(areaTexture,texCoord).rg;}void detectHorizontalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){\\n#if !defined(DISABLE_CORNER_DETECTION)\\nvec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,1)).r;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).r;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,-2)).r;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,-2)).r;weights*=clamp(factor,0.0,1.0);\\n#endif\\n}void detectVerticalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){\\n#if !defined(DISABLE_CORNER_DETECTION)\\nvec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(1,0)).g;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).g;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(-2,0)).g;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(-2,1)).g;weights*=clamp(factor,0.0,1.0);\\n#endif\\n}void main(){vec4 weights=vec4(0.0);vec4 subsampleIndices=vec4(0.0);vec2 e=texture2D(inputBuffer,vUv).rg;if(e.g>0.0){\\n#if !defined(DISABLE_DIAG_DETECTION)\\nweights.rg=calculateDiagWeights(vUv,e,subsampleIndices);if(weights.r==-weights.g){\\n#endif\\nvec2 d;vec3 coords;coords.x=searchXLeft(vOffset[0].xy,vOffset[2].x);coords.y=vOffset[1].y;d.x=coords.x;float e1=texture2D(inputBuffer,coords.xy).r;coords.z=searchXRight(vOffset[0].zw,vOffset[2].y);d.y=coords.z;d=round(resolution.xx*d+-vPixCoord.xx);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.zy,vec2(1,0)).r;weights.rg=area(sqrtD,e1,e2,subsampleIndices.y);coords.y=vUv.y;detectHorizontalCornerPattern(weights.rg,coords.xyzy,d);\\n#if !defined(DISABLE_DIAG_DETECTION)\\n}else{e.r=0.0;}\\n#endif\\n}if(e.r>0.0){vec2 d;vec3 coords;coords.y=searchYUp(vOffset[1].xy,vOffset[2].z);coords.x=vOffset[0].x;d.x=coords.y;float e1=texture2D(inputBuffer,coords.xy).g;coords.z=searchYDown(vOffset[1].zw,vOffset[2].w);d.y=coords.z;d=round(resolution.yy*d-vPixCoord.yy);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.xz,vec2(0,1)).g;weights.ba=area(sqrtD,e1,e2,subsampleIndices.x);coords.x=vUv.x;detectVerticalCornerPattern(weights.ba,coords.xyxz,d);}gl_FragColor=weights;}\";\n\n// src/materials/glsl/smaa-weights.vert\nvar smaa_weights_default2 = \"uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void main(){vUv=position.xy*0.5+0.5;vPixCoord=vUv*resolution;vOffset[0]=vUv.xyxy+texelSize.xyxy*vec4(-0.25,-0.125,1.25,-0.125);vOffset[1]=vUv.xyxy+texelSize.xyxy*vec4(-0.125,-0.25,-0.125,1.25);vOffset[2]=vec4(vOffset[0].xz,vOffset[1].yw)+vec4(-2.0,2.0,-2.0,2.0)*texelSize.xxyy*MAX_SEARCH_STEPS_FLOAT;gl_Position=vec4(position.xy,1.0,1.0);}\";\n\n// src/materials/SMAAWeightsMaterial.js\nvar SMAAWeightsMaterial = class extends ShaderMaterial18 {\n  constructor(texelSize = new Vector211(), resolution = new Vector211()) {\n    super({\n      name: \"SMAAWeightsMaterial\",\n      defines: {\n        MAX_SEARCH_STEPS_INT: \"16\",\n        MAX_SEARCH_STEPS_FLOAT: \"16.0\",\n        MAX_SEARCH_STEPS_DIAG_INT: \"8\",\n        MAX_SEARCH_STEPS_DIAG_FLOAT: \"8.0\",\n        CORNER_ROUNDING: \"25\",\n        CORNER_ROUNDING_NORM: \"0.25\",\n        AREATEX_MAX_DISTANCE: \"16.0\",\n        AREATEX_MAX_DISTANCE_DIAG: \"20.0\",\n        AREATEX_PIXEL_SIZE: \"(1.0 / vec2(160.0, 560.0))\",\n        AREATEX_SUBTEX_SIZE: \"(1.0 / 7.0)\",\n        SEARCHTEX_SIZE: \"vec2(66.0, 33.0)\",\n        SEARCHTEX_PACKED_SIZE: \"vec2(64.0, 16.0)\"\n      },\n      uniforms: {\n        inputBuffer: new Uniform18(null),\n        searchTexture: new Uniform18(null),\n        areaTexture: new Uniform18(null),\n        resolution: new Uniform18(resolution),\n        texelSize: new Uniform18(texelSize)\n      },\n      blending: NoBlending18,\n      depthWrite: false,\n      depthTest: false,\n      fragmentShader: smaa_weights_default,\n      vertexShader: smaa_weights_default2\n    });\n    this.toneMapped = false;\n  }\n  set inputBuffer(value) {\n    this.uniforms.inputBuffer.value = value;\n  }\n  setInputBuffer(value) {\n    this.uniforms.inputBuffer.value = value;\n  }\n  get searchTexture() {\n    return this.uniforms.searchTexture.value;\n  }\n  set searchTexture(value) {\n    this.uniforms.searchTexture.value = value;\n  }\n  get areaTexture() {\n    return this.uniforms.areaTexture.value;\n  }\n  set areaTexture(value) {\n    this.uniforms.areaTexture.value = value;\n  }\n  setLookupTextures(search, area2) {\n    this.searchTexture = search;\n    this.areaTexture = area2;\n  }\n  get orthogonalSearchSteps() {\n    return Number(this.defines.MAX_SEARCH_STEPS_INT);\n  }\n  set orthogonalSearchSteps(value) {\n    const s = Math.min(Math.max(value, 0), 112);\n    this.defines.MAX_SEARCH_STEPS_INT = s.toFixed(\"0\");\n    this.defines.MAX_SEARCH_STEPS_FLOAT = s.toFixed(\"1\");\n    this.needsUpdate = true;\n  }\n  setOrthogonalSearchSteps(value) {\n    this.orthogonalSearchSteps = value;\n  }\n  get diagonalSearchSteps() {\n    return Number(this.defines.MAX_SEARCH_STEPS_DIAG_INT);\n  }\n  set diagonalSearchSteps(value) {\n    const s = Math.min(Math.max(value, 0), 20);\n    this.defines.MAX_SEARCH_STEPS_DIAG_INT = s.toFixed(\"0\");\n    this.defines.MAX_SEARCH_STEPS_DIAG_FLOAT = s.toFixed(\"1\");\n    this.needsUpdate = true;\n  }\n  setDiagonalSearchSteps(value) {\n    this.diagonalSearchSteps = value;\n  }\n  get diagonalDetection() {\n    return this.defines.DISABLE_DIAG_DETECTION === void 0;\n  }\n  set diagonalDetection(value) {\n    if (value) {\n      delete this.defines.DISABLE_DIAG_DETECTION;\n    } else {\n      this.defines.DISABLE_DIAG_DETECTION = \"1\";\n    }\n    this.needsUpdate = true;\n  }\n  isDiagonalDetectionEnabled() {\n    return this.diagonalDetection;\n  }\n  setDiagonalDetectionEnabled(value) {\n    this.diagonalDetection = value;\n  }\n  get cornerRounding() {\n    return Number(this.defines.CORNER_ROUNDING);\n  }\n  set cornerRounding(value) {\n    const r = Math.min(Math.max(value, 0), 100);\n    this.defines.CORNER_ROUNDING = r.toFixed(\"4\");\n    this.defines.CORNER_ROUNDING_NORM = (r / 100).toFixed(\"4\");\n    this.needsUpdate = true;\n  }\n  setCornerRounding(value) {\n    this.cornerRounding = value;\n  }\n  get cornerDetection() {\n    return this.defines.DISABLE_CORNER_DETECTION === void 0;\n  }\n  set cornerDetection(value) {\n    if (value) {\n      delete this.defines.DISABLE_CORNER_DETECTION;\n    } else {\n      this.defines.DISABLE_CORNER_DETECTION = \"1\";\n    }\n    this.needsUpdate = true;\n  }\n  isCornerRoundingEnabled() {\n    return this.cornerDetection;\n  }\n  setCornerRoundingEnabled(value) {\n    this.cornerDetection = value;\n  }\n  setSize(width, height) {\n    const uniforms = this.uniforms;\n    uniforms.texelSize.value.set(1 / width, 1 / height);\n    uniforms.resolution.value.set(width, height);\n  }\n};\n\n// src/materials/SSAOMaterial.js\nimport { BasicDepthPacking as BasicDepthPacking7, Matrix4, NoBlending as NoBlending19, PerspectiveCamera as PerspectiveCamera5, ShaderMaterial as ShaderMaterial19, Uniform as Uniform19, Vector2 as Vector212 } from \"three\";\n\n// src/materials/glsl/ssao.frag\nvar ssao_default = \"#include <common>\\n#include <packing>\\n#ifdef NORMAL_DEPTH\\n#ifdef GL_FRAGMENT_PRECISION_HIGH\\nuniform highp sampler2D normalDepthBuffer;\\n#else\\nuniform mediump sampler2D normalDepthBuffer;\\n#endif\\n#else\\nuniform lowp sampler2D normalBuffer;\\n#ifdef GL_FRAGMENT_PRECISION_HIGH\\nuniform highp sampler2D depthBuffer;\\n#else\\nuniform mediump sampler2D depthBuffer;\\n#endif\\nfloat readDepth(const in vec2 uv){\\n#if DEPTH_PACKING == 3201\\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\\n#else\\nreturn texture2D(depthBuffer,uv).r;\\n#endif\\n}\\n#endif\\nuniform lowp sampler2D noiseTexture;uniform mat4 inverseProjectionMatrix;uniform mat4 projectionMatrix;uniform vec2 texelSize;uniform vec2 cameraNearFar;uniform float minRadiusScale;uniform float intensity;uniform float fade;uniform float bias;uniform vec2 distanceCutoff;uniform vec2 proximityCutoff;varying vec2 vUv;varying vec2 vUv2;float getViewZ(const in float depth){\\n#ifdef PERSPECTIVE_CAMERA\\nreturn perspectiveDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);\\n#else\\nreturn orthographicDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);\\n#endif\\n}vec3 getViewPosition(const in vec2 screenPosition,const in float depth,const in float viewZ){vec4 clipPosition=vec4(vec3(screenPosition,depth)*2.0-1.0,1.0);float clipW=projectionMatrix[2][3]*viewZ+projectionMatrix[3][3];clipPosition*=clipW;return(inverseProjectionMatrix*clipPosition).xyz;}float getAmbientOcclusion(const in vec3 p,const in vec3 n,const in float depth,const in vec2 uv){\\n#ifdef DISTANCE_SCALING\\nfloat radiusScale=1.0-smoothstep(0.0,distanceCutoff.y,depth);radiusScale=radiusScale*(1.0-minRadiusScale)+minRadiusScale;float radius=RADIUS*radiusScale;\\n#else\\nfloat radius=RADIUS;\\n#endif\\nfloat noise=texture2D(noiseTexture,vUv2).r;float baseAngle=noise*PI2;float invSamples=1.0/SAMPLES_FLOAT;float rings=SPIRAL_TURNS*PI2;float occlusion=0.0;int taps=0;for(int i=0;i<SAMPLES_INT;++i){float alpha=(float(i)+0.5)*invSamples;float angle=alpha*rings+baseAngle;vec2 coord=alpha*radius*vec2(cos(angle),sin(angle))*texelSize+uv;if(coord.s<0.0||coord.s>1.0||coord.t<0.0||coord.t>1.0){continue;}\\n#ifdef NORMAL_DEPTH\\nfloat sampleDepth=texture2D(normalDepthBuffer,coord).a;\\n#else\\nfloat sampleDepth=readDepth(coord);\\n#endif\\nfloat viewZ=getViewZ(sampleDepth);\\n#ifdef PERSPECTIVE_CAMERA\\nfloat linearSampleDepth=viewZToOrthographicDepth(viewZ,cameraNearFar.x,cameraNearFar.y);\\n#else\\nfloat linearSampleDepth=sampleDepth;\\n#endif\\nfloat proximity=abs(depth-linearSampleDepth);if(proximity<proximityCutoff.y){float falloff=1.0-smoothstep(proximityCutoff.x,proximityCutoff.y,proximity);vec3 Q=getViewPosition(coord,sampleDepth,viewZ);vec3 v=Q-p;float vv=dot(v,v);float vn=dot(v,n)-bias;float f=max(RADIUS_SQ-vv,0.0)/RADIUS_SQ;occlusion+=(f*f*f*max(vn/(fade+vv),0.0))*falloff;}++taps;}return occlusion/(4.0*max(float(taps),1.0));}void main(){\\n#ifdef NORMAL_DEPTH\\nvec4 normalDepth=texture2D(normalDepthBuffer,vUv);\\n#else\\nvec4 normalDepth=vec4(texture2D(normalBuffer,vUv).rgb,readDepth(vUv));\\n#endif\\nfloat ao=1.0;float depth=normalDepth.a;float viewZ=getViewZ(depth);\\n#ifdef PERSPECTIVE_CAMERA\\nfloat linearDepth=viewZToOrthographicDepth(viewZ,cameraNearFar.x,cameraNearFar.y);\\n#else\\nfloat linearDepth=depth;\\n#endif\\nif(linearDepth<distanceCutoff.y){vec3 viewPosition=getViewPosition(vUv,depth,viewZ);vec3 viewNormal=unpackRGBToNormal(normalDepth.rgb);ao-=getAmbientOcclusion(viewPosition,viewNormal,linearDepth,vUv);float d=smoothstep(distanceCutoff.x,distanceCutoff.y,linearDepth);ao=mix(ao,1.0,d);ao=clamp(pow(ao,abs(intensity)),0.0,1.0);}gl_FragColor.r=ao;}\";\n\n// src/materials/glsl/ssao.vert\nvar ssao_default2 = \"uniform vec2 noiseScale;varying vec2 vUv;varying vec2 vUv2;void main(){vUv=position.xy*0.5+0.5;vUv2=vUv*noiseScale;gl_Position=vec4(position.xy,1.0,1.0);}\";\n\n// src/materials/SSAOMaterial.js\nvar SSAOMaterial = class extends ShaderMaterial19 {\n  constructor(camera) {\n    super({\n      name: \"SSAOMaterial\",\n      defines: {\n        SAMPLES_INT: \"0\",\n        SAMPLES_FLOAT: \"0.0\",\n        SPIRAL_TURNS: \"0.0\",\n        RADIUS: \"1.0\",\n        RADIUS_SQ: \"1.0\",\n        DISTANCE_SCALING: \"1\",\n        DEPTH_PACKING: \"0\"\n      },\n      uniforms: {\n        depthBuffer: new Uniform19(null),\n        normalBuffer: new Uniform19(null),\n        normalDepthBuffer: new Uniform19(null),\n        noiseTexture: new Uniform19(null),\n        inverseProjectionMatrix: new Uniform19(new Matrix4()),\n        projectionMatrix: new Uniform19(new Matrix4()),\n        texelSize: new Uniform19(new Vector212()),\n        cameraNearFar: new Uniform19(new Vector212()),\n        distanceCutoff: new Uniform19(new Vector212()),\n        proximityCutoff: new Uniform19(new Vector212()),\n        noiseScale: new Uniform19(new Vector212()),\n        minRadiusScale: new Uniform19(0.33),\n        intensity: new Uniform19(1),\n        fade: new Uniform19(0.01),\n        bias: new Uniform19(0)\n      },\n      blending: NoBlending19,\n      depthWrite: false,\n      depthTest: false,\n      fragmentShader: ssao_default,\n      vertexShader: ssao_default2\n    });\n    this.toneMapped = false;\n    this.adoptCameraSettings(camera);\n    this.resolution = new Vector212();\n    this.r = 1;\n  }\n  get near() {\n    return this.uniforms.cameraNearFar.value.x;\n  }\n  get far() {\n    return this.uniforms.cameraNearFar.value.y;\n  }\n  set normalDepthBuffer(value) {\n    this.uniforms.normalDepthBuffer.value = value;\n    if (value !== null) {\n      this.defines.NORMAL_DEPTH = \"1\";\n    } else {\n      delete this.defines.NORMAL_DEPTH;\n    }\n    this.needsUpdate = true;\n  }\n  setNormalDepthBuffer(value) {\n    this.normalDepthBuffer = value;\n  }\n  set normalBuffer(value) {\n    this.uniforms.normalBuffer.value = value;\n  }\n  setNormalBuffer(value) {\n    this.uniforms.normalBuffer.value = value;\n  }\n  set depthBuffer(value) {\n    this.uniforms.depthBuffer.value = value;\n  }\n  set depthPacking(value) {\n    this.defines.DEPTH_PACKING = value.toFixed(0);\n    this.needsUpdate = true;\n  }\n  setDepthBuffer(buffer, depthPacking = BasicDepthPacking7) {\n    this.depthBuffer = buffer;\n    this.depthPacking = depthPacking;\n  }\n  set noiseTexture(value) {\n    this.uniforms.noiseTexture.value = value;\n  }\n  setNoiseTexture(value) {\n    this.uniforms.noiseTexture.value = value;\n  }\n  get samples() {\n    return Number(this.defines.SAMPLES_INT);\n  }\n  set samples(value) {\n    this.defines.SAMPLES_INT = value.toFixed(0);\n    this.defines.SAMPLES_FLOAT = value.toFixed(1);\n    this.needsUpdate = true;\n  }\n  getSamples() {\n    return this.samples;\n  }\n  setSamples(value) {\n    this.samples = value;\n  }\n  get rings() {\n    return Number(this.defines.SPIRAL_TURNS);\n  }\n  set rings(value) {\n    this.defines.SPIRAL_TURNS = value.toFixed(1);\n    this.needsUpdate = true;\n  }\n  getRings() {\n    return this.rings;\n  }\n  setRings(value) {\n    this.rings = value;\n  }\n  get intensity() {\n    return this.uniforms.intensity.value;\n  }\n  set intensity(value) {\n    this.uniforms.intensity.value = value;\n  }\n  getIntensity() {\n    return this.uniforms.intensity.value;\n  }\n  setIntensity(value) {\n    this.uniforms.intensity.value = value;\n  }\n  get fade() {\n    return this.uniforms.fade.value;\n  }\n  set fade(value) {\n    this.uniforms.fade.value = value;\n  }\n  getFade() {\n    return this.uniforms.fade.value;\n  }\n  setFade(value) {\n    this.uniforms.fade.value = value;\n  }\n  get bias() {\n    return this.uniforms.bias.value;\n  }\n  set bias(value) {\n    this.uniforms.bias.value = value;\n  }\n  getBias() {\n    return this.uniforms.bias.value;\n  }\n  setBias(value) {\n    this.uniforms.bias.value = value;\n  }\n  get minRadiusScale() {\n    return this.uniforms.minRadiusScale.value;\n  }\n  set minRadiusScale(value) {\n    this.uniforms.minRadiusScale.value = value;\n  }\n  getMinRadiusScale() {\n    return this.uniforms.minRadiusScale.value;\n  }\n  setMinRadiusScale(value) {\n    this.uniforms.minRadiusScale.value = value;\n  }\n  updateRadius() {\n    const radius = this.r * this.resolution.height;\n    this.defines.RADIUS = radius.toFixed(11);\n    this.defines.RADIUS_SQ = (radius * radius).toFixed(11);\n    this.needsUpdate = true;\n  }\n  get radius() {\n    return this.r;\n  }\n  set radius(value) {\n    this.r = Math.min(Math.max(value, 1e-6), 1);\n    this.updateRadius();\n  }\n  getRadius() {\n    return this.radius;\n  }\n  setRadius(value) {\n    this.radius = value;\n  }\n  get distanceScaling() {\n    return this.defines.DISTANCE_SCALING !== void 0;\n  }\n  set distanceScaling(value) {\n    if (this.isDistanceScalingEnabled() !== value) {\n      if (value) {\n        this.defines.DISTANCE_SCALING = \"1\";\n      } else {\n        delete this.defines.DISTANCE_SCALING;\n      }\n      this.needsUpdate = true;\n    }\n  }\n  isDistanceScalingEnabled() {\n    return this.distanceScaling;\n  }\n  setDistanceScalingEnabled(value) {\n    this.distanceScaling = value;\n  }\n  get distanceThreshold() {\n    return this.uniforms.distanceCutoff.value.x;\n  }\n  set distanceThreshold(value) {\n    this.uniforms.distanceCutoff.value.set(Math.min(Math.max(value, 0), 1), Math.min(Math.max(value + this.distanceFalloff, 0), 1));\n  }\n  get worldDistanceThreshold() {\n    return -orthographicDepthToViewZ(this.distanceThreshold, this.near, this.far);\n  }\n  set worldDistanceThreshold(value) {\n    this.distanceThreshold = viewZToOrthographicDepth(-value, this.near, this.far);\n  }\n  get distanceFalloff() {\n    return this.uniforms.distanceCutoff.value.y - this.distanceThreshold;\n  }\n  set distanceFalloff(value) {\n    this.uniforms.distanceCutoff.value.y = Math.min(Math.max(this.distanceThreshold + value, 0), 1);\n  }\n  get worldDistanceFalloff() {\n    return -orthographicDepthToViewZ(this.distanceFalloff, this.near, this.far);\n  }\n  set worldDistanceFalloff(value) {\n    this.distanceFalloff = viewZToOrthographicDepth(-value, this.near, this.far);\n  }\n  setDistanceCutoff(threshold, falloff) {\n    this.uniforms.distanceCutoff.value.set(Math.min(Math.max(threshold, 0), 1), Math.min(Math.max(threshold + falloff, 0), 1));\n  }\n  get proximityThreshold() {\n    return this.uniforms.proximityCutoff.value.x;\n  }\n  set proximityThreshold(value) {\n    this.uniforms.proximityCutoff.value.set(Math.min(Math.max(value, 0), 1), Math.min(Math.max(value + this.proximityFalloff, 0), 1));\n  }\n  get worldProximityThreshold() {\n    return -orthographicDepthToViewZ(this.proximityThreshold, this.near, this.far);\n  }\n  set worldProximityThreshold(value) {\n    this.proximityThreshold = viewZToOrthographicDepth(-value, this.near, this.far);\n  }\n  get proximityFalloff() {\n    return this.uniforms.proximityCutoff.value.y - this.proximityThreshold;\n  }\n  set proximityFalloff(value) {\n    this.uniforms.proximityCutoff.value.y = Math.min(Math.max(this.proximityThreshold + value, 0), 1);\n  }\n  get worldProximityFalloff() {\n    return -orthographicDepthToViewZ(this.proximityFalloff, this.near, this.far);\n  }\n  set worldProximityFalloff(value) {\n    this.proximityFalloff = viewZToOrthographicDepth(-value, this.near, this.far);\n  }\n  setProximityCutoff(threshold, falloff) {\n    this.uniforms.proximityCutoff.value.set(Math.min(Math.max(threshold, 0), 1), Math.min(Math.max(threshold + falloff, 0), 1));\n  }\n  setTexelSize(x, y) {\n    this.uniforms.texelSize.value.set(x, y);\n  }\n  adoptCameraSettings(camera) {\n    if (camera) {\n      this.uniforms.cameraNearFar.value.set(camera.near, camera.far);\n      this.uniforms.projectionMatrix.value.copy(camera.projectionMatrix);\n      this.uniforms.inverseProjectionMatrix.value.copy(camera.projectionMatrix).invert();\n      if (camera instanceof PerspectiveCamera5) {\n        this.defines.PERSPECTIVE_CAMERA = \"1\";\n      } else {\n        delete this.defines.PERSPECTIVE_CAMERA;\n      }\n      this.needsUpdate = true;\n    }\n  }\n  setSize(width, height) {\n    const uniforms = this.uniforms;\n    const noiseTexture = uniforms.noiseTexture.value;\n    if (noiseTexture !== null) {\n      uniforms.noiseScale.value.set(width / noiseTexture.image.width, height / noiseTexture.image.height);\n    }\n    uniforms.texelSize.value.set(1 / width, 1 / height);\n    this.resolution.set(width, height);\n    this.updateRadius();\n  }\n};\n\n// src/materials/UpsamplingMaterial.js\nimport { NoBlending as NoBlending20, ShaderMaterial as ShaderMaterial20, Uniform as Uniform20, Vector2 as Vector213 } from \"three\";\n\n// src/materials/glsl/convolution.upsampling.frag\nvar convolution_upsampling_default = \"#ifdef FRAMEBUFFER_PRECISION_HIGH\\nuniform mediump sampler2D inputBuffer;uniform mediump sampler2D supportBuffer;\\n#else\\nuniform lowp sampler2D inputBuffer;uniform lowp sampler2D supportBuffer;\\n#endif\\nuniform float radius;uniform vec2 texelSize;uniform vec3 kernel[SAMPLES];varying vec2 vUv;vec4 textureClampToBorder(sampler2D map,const in vec2 uv){return(uv.s<0.0||uv.s>1.0||uv.t<0.0||uv.t>1.0)?vec4(0.0):texture2D(map,uv);}void main(){vec4 c=vec4(0.0);for(int i=0;i<SAMPLES;++i){vec2 uv=vUv+kernel[i].xy*texelSize;c+=kernel[i].z*textureClampToBorder(inputBuffer,uv);}vec4 baseColor=texture2D(supportBuffer,vUv);gl_FragColor=mix(baseColor,c,radius);\\n#include <encodings_fragment>\\n}\";\n\n// src/materials/UpsamplingMaterial.js\nvar UpsamplingMaterial = class extends ShaderMaterial20 {\n  constructor() {\n    super({\n      name: \"UpsamplingMaterial\",\n      defines: {\n        SAMPLES: \"9\"\n      },\n      uniforms: {\n        inputBuffer: new Uniform20(null),\n        supportBuffer: new Uniform20(null),\n        texelSize: new Uniform20(new Vector213()),\n        radius: new Uniform20(0.85),\n        kernel: new Uniform20(new Float32Array([\n          -1,\n          1,\n          0.0625,\n          0,\n          1,\n          0.125,\n          1,\n          1,\n          0.0625,\n          -1,\n          0,\n          0.125,\n          0,\n          0,\n          0.25,\n          1,\n          0,\n          0.125,\n          -1,\n          -1,\n          0.0625,\n          0,\n          -1,\n          0.125,\n          1,\n          -1,\n          0.0625\n        ]))\n      },\n      blending: NoBlending20,\n      depthWrite: false,\n      depthTest: false,\n      fragmentShader: convolution_upsampling_default,\n      vertexShader: common_default\n    });\n    this.toneMapped = false;\n  }\n  set inputBuffer(value) {\n    this.uniforms.inputBuffer.value = value;\n  }\n  set supportBuffer(value) {\n    this.uniforms.supportBuffer.value = value;\n  }\n  get radius() {\n    return this.uniforms.radius.value;\n  }\n  set radius(value) {\n    this.uniforms.radius.value = value;\n  }\n  setSize(width, height) {\n    this.uniforms.texelSize.value.set(1 / width, 1 / height);\n  }\n};\n\n// src/passes/CopyPass.js\nimport { LinearFilter, sRGBEncoding as sRGBEncoding2, UnsignedByteType as UnsignedByteType3, WebGLRenderTarget } from \"three\";\n\n// src/passes/Pass.js\nimport { BasicDepthPacking as BasicDepthPacking8, BufferAttribute, BufferGeometry, Camera, Mesh, Scene } from \"three\";\nvar dummyCamera = new Camera();\nvar geometry = null;\nfunction getFullscreenTriangle() {\n  if (geometry === null) {\n    const vertices = new Float32Array([-1, -1, 0, 3, -1, 0, -1, 3, 0]);\n    const uvs = new Float32Array([0, 0, 2, 0, 0, 2]);\n    geometry = new BufferGeometry();\n    if (geometry.setAttribute !== void 0) {\n      geometry.setAttribute(\"position\", new BufferAttribute(vertices, 3));\n      geometry.setAttribute(\"uv\", new BufferAttribute(uvs, 2));\n    } else {\n      geometry.addAttribute(\"position\", new BufferAttribute(vertices, 3));\n      geometry.addAttribute(\"uv\", new BufferAttribute(uvs, 2));\n    }\n  }\n  return geometry;\n}\nvar Pass = class {\n  constructor(name = \"Pass\", scene = new Scene(), camera = dummyCamera) {\n    this.name = name;\n    this.renderer = null;\n    this.scene = scene;\n    this.camera = camera;\n    this.screen = null;\n    this.rtt = true;\n    this.needsSwap = true;\n    this.needsDepthTexture = false;\n    this.enabled = true;\n  }\n  get renderToScreen() {\n    return !this.rtt;\n  }\n  set renderToScreen(value) {\n    if (this.rtt === value) {\n      const material = this.getFullscreenMaterial();\n      if (material !== null) {\n        material.needsUpdate = true;\n      }\n      this.rtt = !value;\n    }\n  }\n  setRenderer(renderer) {\n    this.renderer = renderer;\n  }\n  isEnabled() {\n    return this.enabled;\n  }\n  setEnabled(value) {\n    this.enabled = value;\n  }\n  get fullscreenMaterial() {\n    return this.screen !== null ? this.screen.material : null;\n  }\n  set fullscreenMaterial(value) {\n    let screen = this.screen;\n    if (screen !== null) {\n      screen.material = value;\n    } else {\n      screen = new Mesh(getFullscreenTriangle(), value);\n      screen.frustumCulled = false;\n      if (this.scene === null) {\n        this.scene = new Scene();\n      }\n      this.scene.add(screen);\n      this.screen = screen;\n    }\n  }\n  getFullscreenMaterial() {\n    return this.fullscreenMaterial;\n  }\n  setFullscreenMaterial(value) {\n    this.fullscreenMaterial = value;\n  }\n  getDepthTexture() {\n    return null;\n  }\n  setDepthTexture(depthTexture, depthPacking = BasicDepthPacking8) {\n  }\n  render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\n    throw new Error(\"Render method not implemented!\");\n  }\n  setSize(width, height) {\n  }\n  initialize(renderer, alpha, frameBufferType) {\n  }\n  dispose() {\n    for (const key of Object.keys(this)) {\n      const property = this[key];\n      if (property !== null && typeof property.dispose === \"function\") {\n        if (property instanceof Scene || property === this.renderer) {\n          continue;\n        }\n        this[key].dispose();\n      }\n    }\n  }\n};\n\n// src/passes/CopyPass.js\nvar CopyPass = class extends Pass {\n  constructor(renderTarget, autoResize = true) {\n    super(\"CopyPass\");\n    this.fullscreenMaterial = new CopyMaterial();\n    this.needsSwap = false;\n    this.renderTarget = renderTarget;\n    if (renderTarget === void 0) {\n      this.renderTarget = new WebGLRenderTarget(1, 1, {\n        minFilter: LinearFilter,\n        magFilter: LinearFilter,\n        stencilBuffer: false,\n        depthBuffer: false\n      });\n      this.renderTarget.texture.name = \"CopyPass.Target\";\n    }\n    this.autoResize = autoResize;\n  }\n  get resize() {\n    return this.autoResize;\n  }\n  set resize(value) {\n    this.autoResize = value;\n  }\n  get texture() {\n    return this.renderTarget.texture;\n  }\n  getTexture() {\n    return this.renderTarget.texture;\n  }\n  setAutoResizeEnabled(value) {\n    this.autoResize = value;\n  }\n  render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\n    this.fullscreenMaterial.inputBuffer = inputBuffer.texture;\n    renderer.setRenderTarget(this.renderToScreen ? null : this.renderTarget);\n    renderer.render(this.scene, this.camera);\n  }\n  setSize(width, height) {\n    if (this.autoResize) {\n      this.renderTarget.setSize(width, height);\n    }\n  }\n  initialize(renderer, alpha, frameBufferType) {\n    if (frameBufferType !== void 0) {\n      this.renderTarget.texture.type = frameBufferType;\n      if (frameBufferType !== UnsignedByteType3) {\n        this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH = \"1\";\n      } else if (renderer.outputEncoding === sRGBEncoding2) {\n        this.renderTarget.texture.encoding = sRGBEncoding2;\n      }\n    }\n  }\n};\n\n// src/passes/AdaptiveLuminancePass.js\nvar AdaptiveLuminancePass = class extends Pass {\n  constructor(luminanceBuffer, { minLuminance = 0.01, adaptationRate = 1 } = {}) {\n    super(\"AdaptiveLuminancePass\");\n    this.fullscreenMaterial = new AdaptiveLuminanceMaterial();\n    this.needsSwap = false;\n    this.renderTargetPrevious = new WebGLRenderTarget2(1, 1, {\n      minFilter: NearestFilter,\n      magFilter: NearestFilter,\n      depthBuffer: false\n    });\n    this.renderTargetPrevious.texture.name = \"Luminance.Previous\";\n    const material = this.fullscreenMaterial;\n    material.luminanceBuffer0 = this.renderTargetPrevious.texture;\n    material.luminanceBuffer1 = luminanceBuffer;\n    material.minLuminance = minLuminance;\n    material.adaptationRate = adaptationRate;\n    this.renderTargetAdapted = this.renderTargetPrevious.clone();\n    this.renderTargetAdapted.texture.name = \"Luminance.Adapted\";\n    this.copyPass = new CopyPass(this.renderTargetPrevious, false);\n  }\n  get texture() {\n    return this.renderTargetAdapted.texture;\n  }\n  getTexture() {\n    return this.renderTargetAdapted.texture;\n  }\n  set mipLevel1x1(value) {\n    this.fullscreenMaterial.mipLevel1x1 = value;\n  }\n  get adaptationRate() {\n    return this.fullscreenMaterial.adaptationRate;\n  }\n  set adaptationRate(value) {\n    this.fullscreenMaterial.adaptationRate = value;\n  }\n  render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\n    this.fullscreenMaterial.deltaTime = deltaTime;\n    renderer.setRenderTarget(this.renderToScreen ? null : this.renderTargetAdapted);\n    renderer.render(this.scene, this.camera);\n    this.copyPass.render(renderer, this.renderTargetAdapted);\n  }\n};\n\n// src/passes/ClearMaskPass.js\nvar ClearMaskPass = class extends Pass {\n  constructor() {\n    super(\"ClearMaskPass\", null, null);\n    this.needsSwap = false;\n  }\n  render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\n    const stencil = renderer.state.buffers.stencil;\n    stencil.setLocked(false);\n    stencil.setTest(false);\n  }\n};\n\n// src/passes/ClearPass.js\nimport { Color } from \"three\";\nvar color = new Color();\nvar ClearPass = class extends Pass {\n  constructor(color2 = true, depth = true, stencil = false) {\n    super(\"ClearPass\", null, null);\n    this.needsSwap = false;\n    this.color = color2;\n    this.depth = depth;\n    this.stencil = stencil;\n    this.overrideClearColor = null;\n    this.overrideClearAlpha = -1;\n  }\n  setClearFlags(color2, depth, stencil) {\n    this.color = color2;\n    this.depth = depth;\n    this.stencil = stencil;\n  }\n  getOverrideClearColor() {\n    return this.overrideClearColor;\n  }\n  setOverrideClearColor(value) {\n    this.overrideClearColor = value;\n  }\n  getOverrideClearAlpha() {\n    return this.overrideClearAlpha;\n  }\n  setOverrideClearAlpha(value) {\n    this.overrideClearAlpha = value;\n  }\n  render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\n    const overrideClearColor = this.overrideClearColor;\n    const overrideClearAlpha = this.overrideClearAlpha;\n    const clearAlpha = renderer.getClearAlpha();\n    const hasOverrideClearColor = overrideClearColor !== null;\n    const hasOverrideClearAlpha = overrideClearAlpha >= 0;\n    if (hasOverrideClearColor) {\n      color.copy(renderer.getClearColor(color));\n      renderer.setClearColor(overrideClearColor, hasOverrideClearAlpha ? overrideClearAlpha : clearAlpha);\n    } else if (hasOverrideClearAlpha) {\n      renderer.setClearAlpha(overrideClearAlpha);\n    }\n    renderer.setRenderTarget(this.renderToScreen ? null : inputBuffer);\n    renderer.clear(this.color, this.depth, this.stencil);\n    if (hasOverrideClearColor) {\n      renderer.setClearColor(color, clearAlpha);\n    } else if (hasOverrideClearAlpha) {\n      renderer.setClearAlpha(clearAlpha);\n    }\n  }\n};\n\n// src/passes/DepthPass.js\nimport { Color as Color2, MeshDepthMaterial, NearestFilter as NearestFilter2, RGBADepthPacking as RGBADepthPacking2, WebGLRenderTarget as WebGLRenderTarget3 } from \"three\";\n\n// src/core/Resolution.js\nimport { EventDispatcher, Vector2 as Vector214 } from \"three\";\nvar AUTO_SIZE = -1;\nvar Resolution = class extends EventDispatcher {\n  constructor(resizable, width = AUTO_SIZE, height = AUTO_SIZE, scale = 1) {\n    super();\n    this.resizable = resizable;\n    this.base = new Vector214(1, 1);\n    this.preferred = new Vector214(width, height);\n    this.target = this.preferred;\n    this.s = scale;\n  }\n  get width() {\n    const { base, preferred, scale } = this;\n    let result;\n    if (preferred.width !== AUTO_SIZE) {\n      result = preferred.width;\n    } else if (preferred.height !== AUTO_SIZE) {\n      result = Math.round(preferred.height * (base.width / Math.max(base.height, 1)));\n    } else {\n      result = Math.round(base.width * scale);\n    }\n    return result;\n  }\n  set width(value) {\n    this.preferredWidth = value;\n  }\n  get height() {\n    const { base, preferred, scale } = this;\n    let result;\n    if (preferred.height !== AUTO_SIZE) {\n      result = preferred.height;\n    } else if (preferred.width !== AUTO_SIZE) {\n      result = Math.round(preferred.width / Math.max(base.width / Math.max(base.height, 1), 1));\n    } else {\n      result = Math.round(base.height * scale);\n    }\n    return result;\n  }\n  set height(value) {\n    this.preferredHeight = value;\n  }\n  getWidth() {\n    return this.width;\n  }\n  getHeight() {\n    return this.height;\n  }\n  get scale() {\n    return this.s;\n  }\n  set scale(value) {\n    if (this.s !== value) {\n      this.s = value;\n      this.preferred.setScalar(AUTO_SIZE);\n      this.dispatchEvent({ type: \"change\" });\n      this.resizable.setSize(this.base.width, this.base.height);\n    }\n  }\n  getScale() {\n    return this.scale;\n  }\n  setScale(value) {\n    this.scale = value;\n  }\n  get baseWidth() {\n    return this.base.width;\n  }\n  set baseWidth(value) {\n    if (this.base.width !== value) {\n      this.base.width = value;\n      this.dispatchEvent({ type: \"change\" });\n      this.resizable.setSize(this.base.width, this.base.height);\n    }\n  }\n  getBaseWidth() {\n    return this.base.width;\n  }\n  setBaseWidth(value) {\n    if (this.base.width !== value) {\n      this.base.width = value;\n      this.dispatchEvent({ type: \"change\" });\n      this.resizable.setSize(this.base.width, this.base.height);\n    }\n  }\n  get baseHeight() {\n    return this.base.height;\n  }\n  set baseHeight(value) {\n    if (this.base.height !== value) {\n      this.base.height = value;\n      this.dispatchEvent({ type: \"change\" });\n      this.resizable.setSize(this.base.width, this.base.height);\n    }\n  }\n  getBaseHeight() {\n    return this.baseHeight;\n  }\n  setBaseHeight(value) {\n    this.baseHeight = value;\n  }\n  setBaseSize(width, height) {\n    if (this.base.width !== width || this.base.height !== height) {\n      this.base.set(width, height);\n      this.dispatchEvent({ type: \"change\" });\n      this.resizable.setSize(this.base.width, this.base.height);\n    }\n  }\n  get preferredWidth() {\n    return this.preferred.width;\n  }\n  set preferredWidth(value) {\n    if (this.preferred.width !== value) {\n      this.preferred.width = value;\n      this.dispatchEvent({ type: \"change\" });\n      this.resizable.setSize(this.base.width, this.base.height);\n    }\n  }\n  getPreferredWidth() {\n    return this.preferredWidth;\n  }\n  setPreferredWidth(value) {\n    this.preferredWidth = value;\n  }\n  get preferredHeight() {\n    return this.preferred.height;\n  }\n  set preferredHeight(value) {\n    if (this.preferred.height !== value) {\n      this.preferred.height = value;\n      this.dispatchEvent({ type: \"change\" });\n      this.resizable.setSize(this.base.width, this.base.height);\n    }\n  }\n  getPreferredHeight() {\n    return this.preferredHeight;\n  }\n  setPreferredHeight(value) {\n    this.preferredHeight = value;\n  }\n  setPreferredSize(width, height) {\n    if (this.preferred.width !== width || this.preferred.height !== height) {\n      this.preferred.set(width, height);\n      this.dispatchEvent({ type: \"change\" });\n      this.resizable.setSize(this.base.width, this.base.height);\n    }\n  }\n  copy(resolution) {\n    this.s = resolution.scale;\n    this.base.set(resolution.getBaseWidth(), resolution.getBaseHeight());\n    this.preferred.set(resolution.getPreferredWidth(), resolution.getPreferredHeight());\n    this.dispatchEvent({ type: \"change\" });\n    this.resizable.setSize(this.base.width, this.base.height);\n  }\n  static get AUTO_SIZE() {\n    return AUTO_SIZE;\n  }\n};\n\n// src/core/OverrideMaterialManager.js\nimport { BackSide, DoubleSide, FrontSide } from \"three\";\nvar workaroundEnabled = false;\nvar OverrideMaterialManager = class {\n  constructor(material = null) {\n    this.originalMaterials = /* @__PURE__ */ new Map();\n    this.material = null;\n    this.materials = null;\n    this.materialsBackSide = null;\n    this.materialsDoubleSide = null;\n    this.materialsFlatShaded = null;\n    this.materialsFlatShadedBackSide = null;\n    this.materialsFlatShadedDoubleSide = null;\n    this.setMaterial(material);\n    this.meshCount = 0;\n    this.replaceMaterial = (node) => {\n      if (node.isMesh) {\n        let materials;\n        if (node.material.flatShading) {\n          switch (node.material.side) {\n            case DoubleSide:\n              materials = this.materialsFlatShadedDoubleSide;\n              break;\n            case BackSide:\n              materials = this.materialsFlatShadedBackSide;\n              break;\n            default:\n              materials = this.materialsFlatShaded;\n              break;\n          }\n        } else {\n          switch (node.material.side) {\n            case DoubleSide:\n              materials = this.materialsDoubleSide;\n              break;\n            case BackSide:\n              materials = this.materialsBackSide;\n              break;\n            default:\n              materials = this.materials;\n              break;\n          }\n        }\n        this.originalMaterials.set(node, node.material);\n        if (node.isSkinnedMesh) {\n          node.material = materials[2];\n        } else if (node.isInstancedMesh) {\n          node.material = materials[1];\n        } else {\n          node.material = materials[0];\n        }\n        ++this.meshCount;\n      }\n    };\n  }\n  setMaterial(material) {\n    this.disposeMaterials();\n    this.material = material;\n    if (material !== null) {\n      const materials = this.materials = [\n        material.clone(),\n        material.clone(),\n        material.clone()\n      ];\n      for (const m2 of materials) {\n        m2.uniforms = Object.assign({}, material.uniforms);\n        m2.side = FrontSide;\n      }\n      materials[2].skinning = true;\n      this.materialsBackSide = materials.map((m2) => {\n        const c2 = m2.clone();\n        c2.uniforms = Object.assign({}, material.uniforms);\n        c2.side = BackSide;\n        return c2;\n      });\n      this.materialsDoubleSide = materials.map((m2) => {\n        const c2 = m2.clone();\n        c2.uniforms = Object.assign({}, material.uniforms);\n        c2.side = DoubleSide;\n        return c2;\n      });\n      this.materialsFlatShaded = materials.map((m2) => {\n        const c2 = m2.clone();\n        c2.uniforms = Object.assign({}, material.uniforms);\n        c2.flatShading = true;\n        return c2;\n      });\n      this.materialsFlatShadedBackSide = materials.map((m2) => {\n        const c2 = m2.clone();\n        c2.uniforms = Object.assign({}, material.uniforms);\n        c2.flatShading = true;\n        c2.side = BackSide;\n        return c2;\n      });\n      this.materialsFlatShadedDoubleSide = materials.map((m2) => {\n        const c2 = m2.clone();\n        c2.uniforms = Object.assign({}, material.uniforms);\n        c2.flatShading = true;\n        c2.side = DoubleSide;\n        return c2;\n      });\n    }\n  }\n  render(renderer, scene, camera) {\n    const shadowMapEnabled = renderer.shadowMap.enabled;\n    renderer.shadowMap.enabled = false;\n    if (workaroundEnabled) {\n      const originalMaterials = this.originalMaterials;\n      this.meshCount = 0;\n      scene.traverse(this.replaceMaterial);\n      renderer.render(scene, camera);\n      for (const entry of originalMaterials) {\n        entry[0].material = entry[1];\n      }\n      if (this.meshCount !== originalMaterials.size) {\n        originalMaterials.clear();\n      }\n    } else {\n      const overrideMaterial = scene.overrideMaterial;\n      scene.overrideMaterial = this.material;\n      renderer.render(scene, camera);\n      scene.overrideMaterial = overrideMaterial;\n    }\n    renderer.shadowMap.enabled = shadowMapEnabled;\n  }\n  disposeMaterials() {\n    if (this.material !== null) {\n      const materials = this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);\n      for (const m2 of materials) {\n        m2.dispose();\n      }\n    }\n  }\n  dispose() {\n    this.originalMaterials.clear();\n    this.disposeMaterials();\n  }\n  static get workaroundEnabled() {\n    return workaroundEnabled;\n  }\n  static set workaroundEnabled(value) {\n    workaroundEnabled = value;\n  }\n};\n\n// src/passes/RenderPass.js\nvar RenderPass = class extends Pass {\n  constructor(scene, camera, overrideMaterial = null) {\n    super(\"RenderPass\", scene, camera);\n    this.needsSwap = false;\n    this.clearPass = new ClearPass();\n    this.overrideMaterialManager = overrideMaterial === null ? null : new OverrideMaterialManager(overrideMaterial);\n    this.ignoreBackground = false;\n    this.skipShadowMapUpdate = false;\n    this.selection = null;\n  }\n  get renderToScreen() {\n    return super.renderToScreen;\n  }\n  set renderToScreen(value) {\n    super.renderToScreen = value;\n    this.clearPass.renderToScreen = value;\n  }\n  get overrideMaterial() {\n    const manager = this.overrideMaterialManager;\n    return manager !== null ? manager.material : null;\n  }\n  set overrideMaterial(value) {\n    const manager = this.overrideMaterialManager;\n    if (value !== null) {\n      if (manager !== null) {\n        manager.setMaterial(value);\n      } else {\n        this.overrideMaterialManager = new OverrideMaterialManager(value);\n      }\n    } else if (manager !== null) {\n      manager.dispose();\n      this.overrideMaterialManager = null;\n    }\n  }\n  getOverrideMaterial() {\n    return this.overrideMaterial;\n  }\n  setOverrideMaterial(value) {\n    this.overrideMaterial = value;\n  }\n  get clear() {\n    return this.clearPass.enabled;\n  }\n  set clear(value) {\n    this.clearPass.enabled = value;\n  }\n  getSelection() {\n    return this.selection;\n  }\n  setSelection(value) {\n    this.selection = value;\n  }\n  isBackgroundDisabled() {\n    return this.ignoreBackground;\n  }\n  setBackgroundDisabled(value) {\n    this.ignoreBackground = value;\n  }\n  isShadowMapDisabled() {\n    return this.skipShadowMapUpdate;\n  }\n  setShadowMapDisabled(value) {\n    this.skipShadowMapUpdate = value;\n  }\n  getClearPass() {\n    return this.clearPass;\n  }\n  render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\n    const scene = this.scene;\n    const camera = this.camera;\n    const selection = this.selection;\n    const mask = camera.layers.mask;\n    const background = scene.background;\n    const shadowMapAutoUpdate = renderer.shadowMap.autoUpdate;\n    const renderTarget = this.renderToScreen ? null : inputBuffer;\n    if (selection !== null) {\n      camera.layers.set(selection.getLayer());\n    }\n    if (this.skipShadowMapUpdate) {\n      renderer.shadowMap.autoUpdate = false;\n    }\n    if (this.ignoreBackground || this.clearPass.overrideClearColor !== null) {\n      scene.background = null;\n    }\n    if (this.clearPass.enabled) {\n      this.clearPass.render(renderer, inputBuffer);\n    }\n    renderer.setRenderTarget(renderTarget);\n    if (this.overrideMaterialManager !== null) {\n      this.overrideMaterialManager.render(renderer, scene, camera);\n    } else {\n      renderer.render(scene, camera);\n    }\n    camera.layers.mask = mask;\n    scene.background = background;\n    renderer.shadowMap.autoUpdate = shadowMapAutoUpdate;\n  }\n};\n\n// src/passes/DepthPass.js\nvar DepthPass = class extends Pass {\n  constructor(scene, camera, {\n    renderTarget,\n    resolutionScale = 1,\n    width = Resolution.AUTO_SIZE,\n    height = Resolution.AUTO_SIZE,\n    resolutionX = width,\n    resolutionY = height\n  } = {}) {\n    super(\"DepthPass\");\n    this.needsSwap = false;\n    this.renderPass = new RenderPass(scene, camera, new MeshDepthMaterial({\n      depthPacking: RGBADepthPacking2\n    }));\n    const renderPass = this.renderPass;\n    renderPass.skipShadowMapUpdate = true;\n    renderPass.ignoreBackground = true;\n    const clearPass = renderPass.getClearPass();\n    clearPass.overrideClearColor = new Color2(16777215);\n    clearPass.overrideClearAlpha = 1;\n    this.renderTarget = renderTarget;\n    if (this.renderTarget === void 0) {\n      this.renderTarget = new WebGLRenderTarget3(1, 1, {\n        minFilter: NearestFilter2,\n        magFilter: NearestFilter2\n      });\n      this.renderTarget.texture.name = \"DepthPass.Target\";\n    }\n    const resolution = this.resolution = new Resolution(this, resolutionX, resolutionY, resolutionScale);\n    resolution.addEventListener(\"change\", (e) => this.setSize(resolution.baseWidth, resolution.baseHeight));\n  }\n  get texture() {\n    return this.renderTarget.texture;\n  }\n  getTexture() {\n    return this.renderTarget.texture;\n  }\n  getResolution() {\n    return this.resolution;\n  }\n  getResolutionScale() {\n    return this.resolution.scale;\n  }\n  setResolutionScale(scale) {\n    this.resolution.scale = scale;\n  }\n  render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\n    const renderTarget = this.renderToScreen ? null : this.renderTarget;\n    this.renderPass.render(renderer, renderTarget);\n  }\n  setSize(width, height) {\n    const resolution = this.resolution;\n    resolution.setBaseSize(width, height);\n    this.renderTarget.setSize(resolution.width, resolution.height);\n  }\n};\n\n// src/passes/DepthDownsamplingPass.js\nimport { BasicDepthPacking as BasicDepthPacking9, FloatType, NearestFilter as NearestFilter3, WebGLRenderTarget as WebGLRenderTarget4 } from \"three\";\nvar DepthDownsamplingPass = class extends Pass {\n  constructor({\n    normalBuffer = null,\n    resolutionScale = 0.5,\n    width = Resolution.AUTO_SIZE,\n    height = Resolution.AUTO_SIZE,\n    resolutionX = width,\n    resolutionY = height\n  } = {}) {\n    super(\"DepthDownsamplingPass\");\n    const material = new DepthDownsamplingMaterial();\n    material.normalBuffer = normalBuffer;\n    this.fullscreenMaterial = material;\n    this.needsDepthTexture = true;\n    this.needsSwap = false;\n    this.renderTarget = new WebGLRenderTarget4(1, 1, {\n      minFilter: NearestFilter3,\n      magFilter: NearestFilter3,\n      depthBuffer: false,\n      type: FloatType\n    });\n    this.renderTarget.texture.name = \"DepthDownsamplingPass.Target\";\n    this.renderTarget.texture.generateMipmaps = false;\n    const resolution = this.resolution = new Resolution(this, resolutionX, resolutionY, resolutionScale);\n    resolution.addEventListener(\"change\", (e) => this.setSize(resolution.baseWidth, resolution.baseHeight));\n  }\n  get texture() {\n    return this.renderTarget.texture;\n  }\n  getTexture() {\n    return this.renderTarget.texture;\n  }\n  getResolution() {\n    return this.resolution;\n  }\n  setDepthTexture(depthTexture, depthPacking = BasicDepthPacking9) {\n    this.fullscreenMaterial.depthBuffer = depthTexture;\n    this.fullscreenMaterial.depthPacking = depthPacking;\n  }\n  render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\n    renderer.setRenderTarget(this.renderToScreen ? null : this.renderTarget);\n    renderer.render(this.scene, this.camera);\n  }\n  setSize(width, height) {\n    this.fullscreenMaterial.setSize(width, height);\n    const resolution = this.resolution;\n    resolution.setBaseSize(width, height);\n    this.renderTarget.setSize(resolution.width, resolution.height);\n  }\n  initialize(renderer, alpha, frameBufferType) {\n    if (!renderer.capabilities.isWebGL2) {\n      throw new Error(\"The DepthDownsamplingPass requires WebGL 2\");\n    }\n  }\n};\n\n// src/passes/DepthPickingPass.js\nimport { FloatType as FloatType3, RGBADepthPacking as RGBADepthPacking4 } from \"three\";\n\n// src/passes/DepthCopyPass.js\nimport {\n  BasicDepthPacking as BasicDepthPacking10,\n  FloatType as FloatType2,\n  NearestFilter as NearestFilter4,\n  RGBADepthPacking as RGBADepthPacking3,\n  UnsignedByteType as UnsignedByteType4,\n  WebGLRenderTarget as WebGLRenderTarget5\n} from \"three\";\nvar DepthCopyPass = class extends Pass {\n  constructor({ depthPacking = RGBADepthPacking3 } = {}) {\n    super(\"DepthCopyPass\");\n    const material = new DepthCopyMaterial();\n    material.outputDepthPacking = depthPacking;\n    this.fullscreenMaterial = material;\n    this.needsDepthTexture = true;\n    this.needsSwap = false;\n    this.renderTarget = new WebGLRenderTarget5(1, 1, {\n      type: depthPacking === RGBADepthPacking3 ? UnsignedByteType4 : FloatType2,\n      minFilter: NearestFilter4,\n      magFilter: NearestFilter4,\n      depthBuffer: false\n    });\n    this.renderTarget.texture.name = \"DepthCopyPass.Target\";\n  }\n  get texture() {\n    return this.renderTarget.texture;\n  }\n  getTexture() {\n    return this.renderTarget.texture;\n  }\n  get depthPacking() {\n    return this.fullscreenMaterial.outputDepthPacking;\n  }\n  getDepthPacking() {\n    return this.fullscreenMaterial.outputDepthPacking;\n  }\n  setDepthTexture(depthTexture, depthPacking = BasicDepthPacking10) {\n    this.fullscreenMaterial.depthBuffer = depthTexture;\n    this.fullscreenMaterial.inputDepthPacking = depthPacking;\n  }\n  render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\n    renderer.setRenderTarget(this.renderToScreen ? null : this.renderTarget);\n    renderer.render(this.scene, this.camera);\n  }\n  setSize(width, height) {\n    this.renderTarget.setSize(width, height);\n  }\n};\n\n// src/passes/DepthPickingPass.js\nvar unpackFactors = new Float32Array([\n  255 / 256 / 256 ** 3,\n  255 / 256 / 256 ** 2,\n  255 / 256 / 256,\n  255 / 256\n]);\nfunction unpackRGBAToDepth(packedDepth) {\n  return (packedDepth[0] * unpackFactors[0] + packedDepth[1] * unpackFactors[1] + packedDepth[2] * unpackFactors[2] + packedDepth[3] * unpackFactors[3]) / 255;\n}\nvar DepthPickingPass = class extends DepthCopyPass {\n  constructor({ depthPacking = RGBADepthPacking4, mode = DepthCopyMode.SINGLE } = {}) {\n    super({ depthPacking });\n    this.name = \"DepthPickingPass\";\n    this.fullscreenMaterial.mode = mode;\n    this.pixelBuffer = depthPacking === RGBADepthPacking4 ? new Uint8Array(4) : new Float32Array(4);\n    this.callback = null;\n  }\n  readDepth(ndc) {\n    this.fullscreenMaterial.texelPosition.set(ndc.x * 0.5 + 0.5, ndc.y * 0.5 + 0.5);\n    return new Promise((resolve) => {\n      this.callback = resolve;\n    });\n  }\n  render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\n    const material = this.fullscreenMaterial;\n    const mode = material.mode;\n    if (mode === DepthCopyMode.FULL) {\n      super.render(renderer);\n    }\n    if (this.callback !== null) {\n      const renderTarget = this.renderTarget;\n      const pixelBuffer = this.pixelBuffer;\n      const packed = renderTarget.texture.type !== FloatType3;\n      let x = 0, y = 0;\n      if (mode === DepthCopyMode.SINGLE) {\n        super.render(renderer);\n      } else {\n        const texelPosition = material.texelPosition;\n        x = Math.round(texelPosition.x * renderTarget.width);\n        y = Math.round(texelPosition.y * renderTarget.height);\n      }\n      renderer.readRenderTargetPixels(renderTarget, x, y, 1, 1, pixelBuffer);\n      this.callback(packed ? unpackRGBAToDepth(pixelBuffer) : pixelBuffer[0]);\n      this.callback = null;\n    }\n  }\n  setSize(width, height) {\n    if (this.fullscreenMaterial.mode === DepthCopyMode.FULL) {\n      super.setSize(width, height);\n    }\n  }\n};\n\n// src/passes/EffectPass.js\nimport { BasicDepthPacking as BasicDepthPacking11, UnsignedByteType as UnsignedByteType5, sRGBEncoding as sRGBEncoding3 } from \"three\";\nfunction prefixSubstrings(prefix, substrings, strings) {\n  for (const substring of substrings) {\n    const prefixed = \"$1\" + prefix + substring.charAt(0).toUpperCase() + substring.slice(1);\n    const regExp = new RegExp(\"([^\\\\.])(\\\\b\" + substring + \"\\\\b)\", \"g\");\n    for (const entry of strings.entries()) {\n      if (entry[1] !== null) {\n        strings.set(entry[0], entry[1].replace(regExp, prefixed));\n      }\n    }\n  }\n}\nfunction integrateEffect(prefix, effect, data) {\n  let fragmentShader = effect.getFragmentShader();\n  let vertexShader = effect.getVertexShader();\n  const mainImageExists = fragmentShader !== void 0 && /mainImage/.test(fragmentShader);\n  const mainUvExists = fragmentShader !== void 0 && /mainUv/.test(fragmentShader);\n  data.attributes |= effect.getAttributes();\n  if (fragmentShader === void 0) {\n    throw new Error(`Missing fragment shader (${effect.name})`);\n  } else if (mainUvExists && (data.attributes & EffectAttribute.CONVOLUTION) !== 0) {\n    throw new Error(`Effects that transform UVs are incompatible with convolution effects (${effect.name})`);\n  } else if (!mainImageExists && !mainUvExists) {\n    throw new Error(`Could not find mainImage or mainUv function (${effect.name})`);\n  } else {\n    const functionRegExp = /\\w+\\s+(\\w+)\\([\\w\\s,]*\\)\\s*{/g;\n    const shaderParts = data.shaderParts;\n    let fragmentHead = shaderParts.get(EffectShaderSection.FRAGMENT_HEAD) ?? \"\";\n    let fragmentMainUv = shaderParts.get(EffectShaderSection.FRAGMENT_MAIN_UV) ?? \"\";\n    let fragmentMainImage = shaderParts.get(EffectShaderSection.FRAGMENT_MAIN_IMAGE) ?? \"\";\n    let vertexHead = shaderParts.get(EffectShaderSection.VERTEX_HEAD) ?? \"\";\n    let vertexMainSupport = shaderParts.get(EffectShaderSection.VERTEX_MAIN_SUPPORT) ?? \"\";\n    const varyings = /* @__PURE__ */ new Set();\n    const names = /* @__PURE__ */ new Set();\n    if (mainUvExists) {\n      fragmentMainUv += `\t${prefix}MainUv(UV);\n`;\n      data.uvTransformation = true;\n    }\n    if (vertexShader !== null && /mainSupport/.test(vertexShader)) {\n      const needsUv = /mainSupport *\\([\\w\\s]*?uv\\s*?\\)/.test(vertexShader);\n      vertexMainSupport += `\t${prefix}MainSupport(`;\n      vertexMainSupport += needsUv ? \"vUv);\\n\" : \");\\n\";\n      for (const m2 of vertexShader.matchAll(/(?:varying\\s+\\w+\\s+(\\w*))/g)) {\n        data.varyings.add(m2[1]);\n        varyings.add(m2[1]);\n        names.add(m2[1]);\n      }\n      for (const m2 of vertexShader.matchAll(functionRegExp)) {\n        names.add(m2[1]);\n      }\n    }\n    for (const m2 of fragmentShader.matchAll(functionRegExp)) {\n      names.add(m2[1]);\n    }\n    for (const d of effect.defines.keys()) {\n      names.add(d.replace(/\\([\\w\\s,]*\\)/g, \"\"));\n    }\n    for (const u of effect.uniforms.keys()) {\n      names.add(u);\n    }\n    names.delete(\"while\");\n    names.delete(\"for\");\n    names.delete(\"if\");\n    effect.uniforms.forEach((val, key) => data.uniforms.set(prefix + key.charAt(0).toUpperCase() + key.slice(1), val));\n    effect.defines.forEach((val, key) => data.defines.set(prefix + key.charAt(0).toUpperCase() + key.slice(1), val));\n    const shaders = /* @__PURE__ */ new Map([[\"fragment\", fragmentShader], [\"vertex\", vertexShader]]);\n    prefixSubstrings(prefix, names, data.defines);\n    prefixSubstrings(prefix, names, shaders);\n    fragmentShader = shaders.get(\"fragment\");\n    vertexShader = shaders.get(\"vertex\");\n    const blendMode = effect.blendMode;\n    data.blendModes.set(blendMode.blendFunction, blendMode);\n    if (mainImageExists) {\n      if (effect.inputColorSpace !== null && effect.inputColorSpace !== data.colorSpace) {\n        fragmentMainImage += effect.inputColorSpace === sRGBEncoding3 ? \"color0 = LinearTosRGB(color0);\\n\t\" : \"color0 = sRGBToLinear(color0);\\n\t\";\n      }\n      if (effect.outputColorSpace !== null) {\n        data.colorSpace = effect.outputColorSpace;\n      } else if (effect.inputColorSpace !== null) {\n        data.colorSpace = effect.inputColorSpace;\n      }\n      const depthParamRegExp = /MainImage *\\([\\w\\s,]*?depth[\\w\\s,]*?\\)/;\n      fragmentMainImage += `${prefix}MainImage(color0, UV, `;\n      if ((data.attributes & EffectAttribute.DEPTH) !== 0 && depthParamRegExp.test(fragmentShader)) {\n        fragmentMainImage += \"depth, \";\n        data.readDepth = true;\n      }\n      fragmentMainImage += \"color1);\\n\t\";\n      const blendOpacity = prefix + \"BlendOpacity\";\n      data.uniforms.set(blendOpacity, blendMode.opacity);\n      fragmentMainImage += `color0 = blend${blendMode.blendFunction}(color0, color1, ${blendOpacity});\n\n\t`;\n      fragmentHead += `uniform float ${blendOpacity};\n\n`;\n    }\n    fragmentHead += fragmentShader + \"\\n\";\n    if (vertexShader !== null) {\n      vertexHead += vertexShader + \"\\n\";\n    }\n    shaderParts.set(EffectShaderSection.FRAGMENT_HEAD, fragmentHead);\n    shaderParts.set(EffectShaderSection.FRAGMENT_MAIN_UV, fragmentMainUv);\n    shaderParts.set(EffectShaderSection.FRAGMENT_MAIN_IMAGE, fragmentMainImage);\n    shaderParts.set(EffectShaderSection.VERTEX_HEAD, vertexHead);\n    shaderParts.set(EffectShaderSection.VERTEX_MAIN_SUPPORT, vertexMainSupport);\n    if (effect.extensions !== null) {\n      for (const extension of effect.extensions) {\n        data.extensions.add(extension);\n      }\n    }\n  }\n}\nvar EffectPass = class extends Pass {\n  constructor(camera, ...effects) {\n    super(\"EffectPass\");\n    this.fullscreenMaterial = new EffectMaterial(null, null, null, camera);\n    this.listener = (event) => this.handleEvent(event);\n    this.effects = [];\n    this.setEffects(effects);\n    this.skipRendering = false;\n    this.minTime = 1;\n    this.maxTime = Number.POSITIVE_INFINITY;\n  }\n  get encodeOutput() {\n    return this.fullscreenMaterial.encodeOutput;\n  }\n  set encodeOutput(value) {\n    this.fullscreenMaterial.encodeOutput = value;\n  }\n  get dithering() {\n    return this.fullscreenMaterial.dithering;\n  }\n  set dithering(value) {\n    const material = this.fullscreenMaterial;\n    material.dithering = value;\n    material.needsUpdate = true;\n  }\n  setEffects(effects) {\n    for (const effect of this.effects) {\n      effect.removeEventListener(\"change\", this.listener);\n    }\n    this.effects = effects.sort((a, b) => b.attributes - a.attributes);\n    for (const effect of this.effects) {\n      effect.addEventListener(\"change\", this.listener);\n    }\n  }\n  updateMaterial() {\n    const data = new EffectShaderData();\n    let id = 0;\n    for (const effect of this.effects) {\n      if (effect.blendMode.blendFunction === BlendFunction.DST) {\n        data.attributes |= effect.getAttributes() & EffectAttribute.DEPTH;\n      } else if ((data.attributes & effect.getAttributes() & EffectAttribute.CONVOLUTION) !== 0) {\n        throw new Error(`Convolution effects cannot be merged (${effect.name})`);\n      } else {\n        integrateEffect(\"e\" + id++, effect, data);\n      }\n    }\n    let fragmentHead = data.shaderParts.get(EffectShaderSection.FRAGMENT_HEAD);\n    let fragmentMainImage = data.shaderParts.get(EffectShaderSection.FRAGMENT_MAIN_IMAGE);\n    let fragmentMainUv = data.shaderParts.get(EffectShaderSection.FRAGMENT_MAIN_UV);\n    const blendRegExp = /\\bblend\\b/g;\n    for (const blendMode of data.blendModes.values()) {\n      fragmentHead += blendMode.getShaderCode().replace(blendRegExp, `blend${blendMode.blendFunction}`) + \"\\n\";\n    }\n    if ((data.attributes & EffectAttribute.DEPTH) !== 0) {\n      if (data.readDepth) {\n        fragmentMainImage = \"float depth = readDepth(UV);\\n\\n\t\" + fragmentMainImage;\n      }\n      this.needsDepthTexture = this.getDepthTexture() === null;\n    } else {\n      this.needsDepthTexture = false;\n    }\n    if (data.colorSpace === sRGBEncoding3) {\n      fragmentMainImage += \"color0 = sRGBToLinear(color0);\\n\t\";\n    }\n    if (data.uvTransformation) {\n      fragmentMainUv = \"vec2 transformedUv = vUv;\\n\" + fragmentMainUv;\n      data.defines.set(\"UV\", \"transformedUv\");\n    } else {\n      data.defines.set(\"UV\", \"vUv\");\n    }\n    data.shaderParts.set(EffectShaderSection.FRAGMENT_HEAD, fragmentHead);\n    data.shaderParts.set(EffectShaderSection.FRAGMENT_MAIN_IMAGE, fragmentMainImage);\n    data.shaderParts.set(EffectShaderSection.FRAGMENT_MAIN_UV, fragmentMainUv);\n    data.shaderParts.forEach((value, key, map) => map.set(key, value?.trim().replace(/^#/, \"\\n#\")));\n    this.skipRendering = id === 0;\n    this.needsSwap = !this.skipRendering;\n    this.fullscreenMaterial.setShaderData(data);\n  }\n  recompile() {\n    this.updateMaterial();\n  }\n  getDepthTexture() {\n    return this.fullscreenMaterial.depthBuffer;\n  }\n  setDepthTexture(depthTexture, depthPacking = BasicDepthPacking11) {\n    this.fullscreenMaterial.depthBuffer = depthTexture;\n    this.fullscreenMaterial.depthPacking = depthPacking;\n    for (const effect of this.effects) {\n      effect.setDepthTexture(depthTexture, depthPacking);\n    }\n  }\n  render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\n    for (const effect of this.effects) {\n      effect.update(renderer, inputBuffer, deltaTime);\n    }\n    if (!this.skipRendering || this.renderToScreen) {\n      const material = this.fullscreenMaterial;\n      material.inputBuffer = inputBuffer.texture;\n      material.time += deltaTime;\n      renderer.setRenderTarget(this.renderToScreen ? null : outputBuffer);\n      renderer.render(this.scene, this.camera);\n    }\n  }\n  setSize(width, height) {\n    this.fullscreenMaterial.setSize(width, height);\n    for (const effect of this.effects) {\n      effect.setSize(width, height);\n    }\n  }\n  initialize(renderer, alpha, frameBufferType) {\n    this.renderer = renderer;\n    for (const effect of this.effects) {\n      effect.initialize(renderer, alpha, frameBufferType);\n    }\n    this.updateMaterial();\n    if (frameBufferType !== void 0 && frameBufferType !== UnsignedByteType5) {\n      this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH = \"1\";\n    }\n  }\n  dispose() {\n    super.dispose();\n    for (const effect of this.effects) {\n      effect.removeEventListener(\"change\", this.listener);\n      effect.dispose();\n    }\n  }\n  handleEvent(event) {\n    switch (event.type) {\n      case \"change\":\n        this.recompile();\n        break;\n    }\n  }\n};\n\n// src/passes/GaussianBlurPass.js\nimport { sRGBEncoding as sRGBEncoding4, UnsignedByteType as UnsignedByteType6, WebGLRenderTarget as WebGLRenderTarget6 } from \"three\";\nvar GaussianBlurPass = class extends Pass {\n  constructor({\n    kernelSize = 35,\n    iterations = 1,\n    resolutionScale = 1,\n    resolutionX = Resolution.AUTO_SIZE,\n    resolutionY = Resolution.AUTO_SIZE\n  } = {}) {\n    super(\"GaussianBlurPass\");\n    this.renderTargetA = new WebGLRenderTarget6(1, 1, { depthBuffer: false });\n    this.renderTargetA.texture.name = \"Blur.Target.A\";\n    this.renderTargetB = this.renderTargetA.clone();\n    this.renderTargetB.texture.name = \"Blur.Target.B\";\n    this.blurMaterial = new GaussianBlurMaterial({ kernelSize });\n    this.copyMaterial = new CopyMaterial();\n    this.copyMaterial.inputBuffer = this.renderTargetB.texture;\n    const resolution = this.resolution = new Resolution(this, resolutionX, resolutionY, resolutionScale);\n    resolution.addEventListener(\"change\", (e) => this.setSize(resolution.baseWidth, resolution.baseHeight));\n    this.iterations = iterations;\n  }\n  render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\n    const scene = this.scene;\n    const camera = this.camera;\n    const renderTargetA = this.renderTargetA;\n    const renderTargetB = this.renderTargetB;\n    const blurMaterial = this.blurMaterial;\n    this.fullscreenMaterial = blurMaterial;\n    let previousBuffer = inputBuffer;\n    for (let i = 0, l = Math.max(this.iterations, 1); i < l; ++i) {\n      blurMaterial.direction.set(1, 0);\n      blurMaterial.inputBuffer = previousBuffer.texture;\n      renderer.setRenderTarget(renderTargetA);\n      renderer.render(scene, camera);\n      blurMaterial.direction.set(0, 1);\n      blurMaterial.inputBuffer = renderTargetA.texture;\n      renderer.setRenderTarget(renderTargetB);\n      renderer.render(scene, camera);\n      previousBuffer = renderTargetB;\n    }\n    this.fullscreenMaterial = this.copyMaterial;\n    renderer.setRenderTarget(this.renderToScreen ? null : outputBuffer);\n    renderer.render(scene, camera);\n  }\n  setSize(width, height) {\n    const resolution = this.resolution;\n    resolution.setBaseSize(width, height);\n    const w = resolution.width, h = resolution.height;\n    this.renderTargetA.setSize(w, h);\n    this.renderTargetB.setSize(w, h);\n    this.blurMaterial.setSize(w, h);\n    this.blurMaterial.resolutionScale = resolution.scale;\n  }\n  initialize(renderer, alpha, frameBufferType) {\n    if (frameBufferType !== void 0) {\n      this.renderTargetA.texture.type = frameBufferType;\n      this.renderTargetB.texture.type = frameBufferType;\n      if (frameBufferType !== UnsignedByteType6) {\n        this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH = \"1\";\n      } else if (renderer.outputEncoding === sRGBEncoding4) {\n        this.renderTargetA.texture.encoding = sRGBEncoding4;\n        this.renderTargetB.texture.encoding = sRGBEncoding4;\n      }\n    }\n  }\n};\n\n// src/passes/KawaseBlurPass.js\nimport { sRGBEncoding as sRGBEncoding5, UnsignedByteType as UnsignedByteType7, WebGLRenderTarget as WebGLRenderTarget7 } from \"three\";\nvar KawaseBlurPass = class extends Pass {\n  constructor({\n    kernelSize = KernelSize.MEDIUM,\n    resolutionScale = 0.5,\n    width = Resolution.AUTO_SIZE,\n    height = Resolution.AUTO_SIZE,\n    resolutionX = width,\n    resolutionY = height\n  } = {}) {\n    super(\"KawaseBlurPass\");\n    this.renderTargetA = new WebGLRenderTarget7(1, 1, { depthBuffer: false });\n    this.renderTargetA.texture.name = \"Blur.Target.A\";\n    this.renderTargetB = this.renderTargetA.clone();\n    this.renderTargetB.texture.name = \"Blur.Target.B\";\n    const resolution = this.resolution = new Resolution(this, resolutionX, resolutionY, resolutionScale);\n    resolution.addEventListener(\"change\", (e) => this.setSize(resolution.baseWidth, resolution.baseHeight));\n    this.blurMaterial = new KawaseBlurMaterial();\n    this.copyMaterial = new CopyMaterial();\n  }\n  getResolution() {\n    return this.resolution;\n  }\n  get dithering() {\n    return this.copyMaterial.dithering;\n  }\n  set dithering(value) {\n    this.copyMaterial.dithering = value;\n  }\n  get kernelSize() {\n    return this.blurMaterial.kernelSize;\n  }\n  set kernelSize(value) {\n    this.blurMaterial.kernelSize = value;\n  }\n  get width() {\n    return this.resolution.width;\n  }\n  set width(value) {\n    this.resolution.preferredWidth = value;\n  }\n  get height() {\n    return this.resolution.height;\n  }\n  set height(value) {\n    this.resolution.preferredHeight = value;\n  }\n  get scale() {\n    return this.blurMaterial.scale;\n  }\n  set scale(value) {\n    this.blurMaterial.scale = value;\n  }\n  getScale() {\n    return this.blurMaterial.scale;\n  }\n  setScale(value) {\n    this.blurMaterial.scale = value;\n  }\n  getKernelSize() {\n    return this.kernelSize;\n  }\n  setKernelSize(value) {\n    this.kernelSize = value;\n  }\n  getResolutionScale() {\n    return this.resolution.scale;\n  }\n  setResolutionScale(scale) {\n    this.resolution.scale = scale;\n  }\n  render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\n    const scene = this.scene;\n    const camera = this.camera;\n    const renderTargetA = this.renderTargetA;\n    const renderTargetB = this.renderTargetB;\n    const material = this.blurMaterial;\n    const kernelSequence = material.kernelSequence;\n    let previousBuffer = inputBuffer;\n    this.fullscreenMaterial = material;\n    for (let i = 0, l = kernelSequence.length; i < l; ++i) {\n      const buffer = (i & 1) === 0 ? renderTargetA : renderTargetB;\n      material.kernel = kernelSequence[i];\n      material.inputBuffer = previousBuffer.texture;\n      renderer.setRenderTarget(buffer);\n      renderer.render(scene, camera);\n      previousBuffer = buffer;\n    }\n    this.fullscreenMaterial = this.copyMaterial;\n    this.copyMaterial.inputBuffer = previousBuffer.texture;\n    renderer.setRenderTarget(this.renderToScreen ? null : outputBuffer);\n    renderer.render(scene, camera);\n  }\n  setSize(width, height) {\n    const resolution = this.resolution;\n    resolution.setBaseSize(width, height);\n    const w = resolution.width, h = resolution.height;\n    this.renderTargetA.setSize(w, h);\n    this.renderTargetB.setSize(w, h);\n    this.blurMaterial.setSize(w, h);\n    this.blurMaterial.resolutionScale = resolution.scale;\n  }\n  initialize(renderer, alpha, frameBufferType) {\n    if (frameBufferType !== void 0) {\n      this.renderTargetA.texture.type = frameBufferType;\n      this.renderTargetB.texture.type = frameBufferType;\n      if (frameBufferType !== UnsignedByteType7) {\n        this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH = \"1\";\n      } else if (renderer.outputEncoding === sRGBEncoding5) {\n        this.renderTargetA.texture.encoding = sRGBEncoding5;\n        this.renderTargetB.texture.encoding = sRGBEncoding5;\n      }\n    }\n  }\n  static get AUTO_SIZE() {\n    return Resolution.AUTO_SIZE;\n  }\n};\n\n// src/passes/LambdaPass.js\nvar LambdaPass = class extends Pass {\n  constructor(f) {\n    super(\"LambdaPass\", null, null);\n    this.needsSwap = false;\n    this.f = f;\n  }\n  render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\n    this.f();\n  }\n};\n\n// src/passes/LuminancePass.js\nimport { UnsignedByteType as UnsignedByteType8, WebGLRenderTarget as WebGLRenderTarget8 } from \"three\";\nvar LuminancePass = class extends Pass {\n  constructor({\n    renderTarget,\n    luminanceRange,\n    colorOutput,\n    resolutionScale = 1,\n    width = Resolution.AUTO_SIZE,\n    height = Resolution.AUTO_SIZE,\n    resolutionX = width,\n    resolutionY = height\n  } = {}) {\n    super(\"LuminancePass\");\n    this.fullscreenMaterial = new LuminanceMaterial(colorOutput, luminanceRange);\n    this.needsSwap = false;\n    this.renderTarget = renderTarget;\n    if (this.renderTarget === void 0) {\n      this.renderTarget = new WebGLRenderTarget8(1, 1, { depthBuffer: false });\n      this.renderTarget.texture.name = \"LuminancePass.Target\";\n    }\n    const resolution = this.resolution = new Resolution(this, resolutionX, resolutionY, resolutionScale);\n    resolution.addEventListener(\"change\", (e) => this.setSize(resolution.baseWidth, resolution.baseHeight));\n  }\n  get texture() {\n    return this.renderTarget.texture;\n  }\n  getTexture() {\n    return this.renderTarget.texture;\n  }\n  getResolution() {\n    return this.resolution;\n  }\n  render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\n    const material = this.fullscreenMaterial;\n    material.inputBuffer = inputBuffer.texture;\n    renderer.setRenderTarget(this.renderToScreen ? null : this.renderTarget);\n    renderer.render(this.scene, this.camera);\n  }\n  setSize(width, height) {\n    const resolution = this.resolution;\n    resolution.setBaseSize(width, height);\n    this.renderTarget.setSize(resolution.width, resolution.height);\n  }\n  initialize(renderer, alpha, frameBufferType) {\n    if (frameBufferType !== void 0 && frameBufferType !== UnsignedByteType8) {\n      this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH = \"1\";\n    }\n  }\n};\n\n// src/passes/MaskPass.js\nvar MaskPass = class extends Pass {\n  constructor(scene, camera) {\n    super(\"MaskPass\", scene, camera);\n    this.needsSwap = false;\n    this.clearPass = new ClearPass(false, false, true);\n    this.inverse = false;\n  }\n  get inverted() {\n    return this.inverse;\n  }\n  set inverted(value) {\n    this.inverse = value;\n  }\n  get clear() {\n    return this.clearPass.enabled;\n  }\n  set clear(value) {\n    this.clearPass.enabled = value;\n  }\n  getClearPass() {\n    return this.clearPass;\n  }\n  isInverted() {\n    return this.inverted;\n  }\n  setInverted(value) {\n    this.inverted = value;\n  }\n  render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\n    const context = renderer.getContext();\n    const buffers = renderer.state.buffers;\n    const scene = this.scene;\n    const camera = this.camera;\n    const clearPass = this.clearPass;\n    const writeValue = this.inverted ? 0 : 1;\n    const clearValue = 1 - writeValue;\n    buffers.color.setMask(false);\n    buffers.depth.setMask(false);\n    buffers.color.setLocked(true);\n    buffers.depth.setLocked(true);\n    buffers.stencil.setTest(true);\n    buffers.stencil.setOp(context.REPLACE, context.REPLACE, context.REPLACE);\n    buffers.stencil.setFunc(context.ALWAYS, writeValue, 4294967295);\n    buffers.stencil.setClear(clearValue);\n    buffers.stencil.setLocked(true);\n    if (this.clearPass.enabled) {\n      if (this.renderToScreen) {\n        clearPass.render(renderer, null);\n      } else {\n        clearPass.render(renderer, inputBuffer);\n        clearPass.render(renderer, outputBuffer);\n      }\n    }\n    if (this.renderToScreen) {\n      renderer.setRenderTarget(null);\n      renderer.render(scene, camera);\n    } else {\n      renderer.setRenderTarget(inputBuffer);\n      renderer.render(scene, camera);\n      renderer.setRenderTarget(outputBuffer);\n      renderer.render(scene, camera);\n    }\n    buffers.color.setLocked(false);\n    buffers.depth.setLocked(false);\n    buffers.stencil.setLocked(false);\n    buffers.stencil.setFunc(context.EQUAL, 1, 4294967295);\n    buffers.stencil.setOp(context.KEEP, context.KEEP, context.KEEP);\n    buffers.stencil.setLocked(true);\n  }\n};\n\n// src/passes/MipmapBlurPass.js\nimport { sRGBEncoding as sRGBEncoding6, UnsignedByteType as UnsignedByteType9, Vector2 as Vector215, WebGLRenderTarget as WebGLRenderTarget9 } from \"three\";\nvar MipmapBlurPass = class extends Pass {\n  constructor() {\n    super(\"MipmapBlurPass\");\n    this.needsSwap = false;\n    this.renderTarget = new WebGLRenderTarget9(1, 1, { depthBuffer: false });\n    this.renderTarget.texture.name = \"Upsampling.Mipmap0\";\n    this.downsamplingMipmaps = [];\n    this.upsamplingMipmaps = [];\n    this.downsamplingMaterial = new DownsamplingMaterial();\n    this.upsamplingMaterial = new UpsamplingMaterial();\n    this.resolution = new Vector215();\n  }\n  get texture() {\n    return this.renderTarget.texture;\n  }\n  get levels() {\n    return this.downsamplingMipmaps.length;\n  }\n  set levels(value) {\n    if (this.levels !== value) {\n      const renderTarget = this.renderTarget;\n      this.dispose();\n      for (let i = 0; i < value; ++i) {\n        const mipmap = renderTarget.clone();\n        mipmap.texture.name = \"Downsampling.Mipmap\" + i;\n        this.downsamplingMipmaps.push(mipmap);\n      }\n      this.upsamplingMipmaps.push(renderTarget);\n      for (let i = 1, l = value - 1; i < l; ++i) {\n        const mipmap = renderTarget.clone();\n        mipmap.texture.name = \"Upsampling.Mipmap\" + i;\n        this.upsamplingMipmaps.push(mipmap);\n      }\n      this.setSize(this.resolution.x, this.resolution.y);\n    }\n  }\n  get radius() {\n    return this.upsamplingMaterial.radius;\n  }\n  set radius(value) {\n    this.upsamplingMaterial.radius = value;\n  }\n  render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\n    const { scene, camera } = this;\n    const { downsamplingMaterial, upsamplingMaterial } = this;\n    const { downsamplingMipmaps, upsamplingMipmaps } = this;\n    let previousBuffer = inputBuffer;\n    this.fullscreenMaterial = downsamplingMaterial;\n    for (let i = 0, l = downsamplingMipmaps.length; i < l; ++i) {\n      const mipmap = downsamplingMipmaps[i];\n      downsamplingMaterial.setSize(previousBuffer.width, previousBuffer.height);\n      downsamplingMaterial.inputBuffer = previousBuffer.texture;\n      renderer.setRenderTarget(mipmap);\n      renderer.render(scene, camera);\n      previousBuffer = mipmap;\n    }\n    this.fullscreenMaterial = upsamplingMaterial;\n    for (let i = upsamplingMipmaps.length - 1; i >= 0; --i) {\n      const mipmap = upsamplingMipmaps[i];\n      upsamplingMaterial.setSize(previousBuffer.width, previousBuffer.height);\n      upsamplingMaterial.inputBuffer = previousBuffer.texture;\n      upsamplingMaterial.supportBuffer = downsamplingMipmaps[i].texture;\n      renderer.setRenderTarget(mipmap);\n      renderer.render(scene, camera);\n      previousBuffer = mipmap;\n    }\n  }\n  setSize(width, height) {\n    const resolution = this.resolution;\n    resolution.set(width, height);\n    let w = resolution.width, h = resolution.height;\n    for (let i = 0, l = this.downsamplingMipmaps.length; i < l; ++i) {\n      w = Math.round(w * 0.5);\n      h = Math.round(h * 0.5);\n      this.downsamplingMipmaps[i].setSize(w, h);\n      if (i < this.upsamplingMipmaps.length) {\n        this.upsamplingMipmaps[i].setSize(w, h);\n      }\n    }\n  }\n  initialize(renderer, alpha, frameBufferType) {\n    if (frameBufferType !== void 0) {\n      const mipmaps = this.downsamplingMipmaps.concat(this.upsamplingMipmaps);\n      for (const mipmap of mipmaps) {\n        mipmap.texture.type = frameBufferType;\n      }\n      if (frameBufferType !== UnsignedByteType9) {\n        this.downsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH = \"1\";\n        this.upsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH = \"1\";\n      } else if (renderer.outputEncoding === sRGBEncoding6) {\n        for (const mipmap of mipmaps) {\n          mipmap.texture.encoding = sRGBEncoding6;\n        }\n      }\n    }\n  }\n  dispose() {\n    super.dispose();\n    for (const mipmap of this.downsamplingMipmaps.concat(this.upsamplingMipmaps)) {\n      mipmap.dispose();\n    }\n    this.downsamplingMipmaps = [];\n    this.upsamplingMipmaps = [];\n  }\n};\n\n// src/passes/NormalPass.js\nimport { Color as Color3, MeshNormalMaterial, NearestFilter as NearestFilter5, WebGLRenderTarget as WebGLRenderTarget10 } from \"three\";\nvar NormalPass = class extends Pass {\n  constructor(scene, camera, {\n    renderTarget,\n    resolutionScale = 1,\n    width = Resolution.AUTO_SIZE,\n    height = Resolution.AUTO_SIZE,\n    resolutionX = width,\n    resolutionY = height\n  } = {}) {\n    super(\"NormalPass\");\n    this.needsSwap = false;\n    this.renderPass = new RenderPass(scene, camera, new MeshNormalMaterial());\n    const renderPass = this.renderPass;\n    renderPass.setBackgroundDisabled(true);\n    renderPass.setShadowMapDisabled(true);\n    const clearPass = renderPass.getClearPass();\n    clearPass.setOverrideClearColor(new Color3(7829503));\n    clearPass.setOverrideClearAlpha(1);\n    this.renderTarget = renderTarget;\n    if (this.renderTarget === void 0) {\n      this.renderTarget = new WebGLRenderTarget10(1, 1, {\n        minFilter: NearestFilter5,\n        magFilter: NearestFilter5\n      });\n      this.renderTarget.texture.name = \"NormalPass.Target\";\n    }\n    const resolution = this.resolution = new Resolution(this, resolutionX, resolutionY, resolutionScale);\n    resolution.addEventListener(\"change\", (e) => this.setSize(resolution.baseWidth, resolution.baseHeight));\n  }\n  get texture() {\n    return this.renderTarget.texture;\n  }\n  getTexture() {\n    return this.renderTarget.texture;\n  }\n  getResolution() {\n    return this.resolution;\n  }\n  getResolutionScale() {\n    return this.resolution.scale;\n  }\n  setResolutionScale(scale) {\n    this.resolution.scale = scale;\n  }\n  render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\n    const renderTarget = this.renderToScreen ? null : this.renderTarget;\n    this.renderPass.render(renderer, renderTarget, renderTarget);\n  }\n  setSize(width, height) {\n    const resolution = this.resolution;\n    resolution.setBaseSize(width, height);\n    this.renderTarget.setSize(resolution.width, resolution.height);\n  }\n};\n\n// src/passes/ShaderPass.js\nimport { UnsignedByteType as UnsignedByteType10 } from \"three\";\nvar ShaderPass = class extends Pass {\n  constructor(material, input = \"inputBuffer\") {\n    super(\"ShaderPass\");\n    this.fullscreenMaterial = material;\n    this.input = input;\n  }\n  setInput(input) {\n  }\n  render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\n    const uniforms = this.fullscreenMaterial.uniforms;\n    if (inputBuffer !== null && uniforms !== void 0 && uniforms[this.input] !== void 0) {\n      uniforms[this.input].value = inputBuffer.texture;\n    }\n    renderer.setRenderTarget(this.renderToScreen ? null : outputBuffer);\n    renderer.render(this.scene, this.camera);\n  }\n  initialize(renderer, alpha, frameBufferType) {\n    if (frameBufferType !== void 0 && frameBufferType !== UnsignedByteType10) {\n      this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH = \"1\";\n    }\n  }\n};\n\n// src/core/Timer.js\nvar MILLISECONDS_TO_SECONDS = 1 / 1e3;\nvar SECONDS_TO_MILLISECONDS = 1e3;\nvar Timer = class {\n  constructor() {\n    this.previousTime = 0;\n    this.currentTime = 0;\n    this.delta = 0;\n    this.fixedDelta = 1e3 / 60;\n    this.elapsed = 0;\n    this.timescale = 1;\n    this.fixedDeltaEnabled = false;\n    this.autoReset = false;\n  }\n  setFixedDeltaEnabled(enabled) {\n    this.fixedDeltaEnabled = enabled;\n    return this;\n  }\n  isAutoResetEnabled(enabled) {\n    return this.autoReset;\n  }\n  setAutoResetEnabled(enabled) {\n    if (typeof document !== \"undefined\" && document.hidden !== void 0) {\n      if (enabled) {\n        document.addEventListener(\"visibilitychange\", this);\n      } else {\n        document.removeEventListener(\"visibilitychange\", this);\n      }\n      this.autoReset = enabled;\n    }\n    return this;\n  }\n  getDelta() {\n    return this.delta * MILLISECONDS_TO_SECONDS;\n  }\n  getFixedDelta() {\n    return this.fixedDelta * MILLISECONDS_TO_SECONDS;\n  }\n  setFixedDelta(fixedDelta) {\n    this.fixedDelta = fixedDelta * SECONDS_TO_MILLISECONDS;\n    return this;\n  }\n  getElapsed() {\n    return this.elapsed * MILLISECONDS_TO_SECONDS;\n  }\n  getTimescale() {\n    return this.timescale;\n  }\n  setTimescale(timescale) {\n    this.timescale = timescale;\n    return this;\n  }\n  update(timestamp) {\n    if (this.fixedDeltaEnabled) {\n      this.delta = this.fixedDelta;\n    } else {\n      this.previousTime = this.currentTime;\n      this.currentTime = timestamp !== void 0 ? timestamp : performance.now();\n      this.delta = this.currentTime - this.previousTime;\n    }\n    this.delta *= this.timescale;\n    this.elapsed += this.delta;\n    return this;\n  }\n  reset() {\n    this.delta = 0;\n    this.elapsed = 0;\n    this.currentTime = performance.now();\n    return this;\n  }\n  handleEvent(event) {\n    if (!document.hidden) {\n      this.currentTime = performance.now();\n    }\n  }\n  dispose() {\n    this.setAutoResetEnabled(false);\n  }\n};\n\n// src/core/EffectComposer.js\nvar EffectComposer = class {\n  constructor(renderer = null, {\n    depthBuffer = true,\n    stencilBuffer = false,\n    multisampling = 0,\n    frameBufferType\n  } = {}) {\n    this.renderer = null;\n    this.inputBuffer = this.createBuffer(depthBuffer, stencilBuffer, frameBufferType, multisampling);\n    this.outputBuffer = this.inputBuffer.clone();\n    this.copyPass = new CopyPass();\n    this.depthTexture = null;\n    this.passes = [];\n    this.timer = new Timer();\n    this.autoRenderToScreen = true;\n    this.setRenderer(renderer);\n  }\n  get multisampling() {\n    return this.inputBuffer.samples || 0;\n  }\n  set multisampling(value) {\n    const buffer = this.inputBuffer;\n    const multisampling = this.multisampling;\n    if (multisampling > 0 && value > 0) {\n      this.inputBuffer.samples = value;\n      this.outputBuffer.samples = value;\n      this.inputBuffer.dispose();\n      this.outputBuffer.dispose();\n    } else if (multisampling !== value) {\n      this.inputBuffer.dispose();\n      this.outputBuffer.dispose();\n      this.inputBuffer = this.createBuffer(buffer.depthBuffer, buffer.stencilBuffer, buffer.texture.type, value);\n      this.inputBuffer.depthTexture = this.depthTexture;\n      this.outputBuffer = this.inputBuffer.clone();\n    }\n  }\n  getTimer() {\n    return this.timer;\n  }\n  getRenderer() {\n    return this.renderer;\n  }\n  setRenderer(renderer) {\n    this.renderer = renderer;\n    if (renderer !== null) {\n      const size = renderer.getSize(new Vector216());\n      const alpha = renderer.getContext().getContextAttributes().alpha;\n      const frameBufferType = this.inputBuffer.texture.type;\n      if (frameBufferType === UnsignedByteType11 && renderer.outputEncoding === sRGBEncoding7) {\n        this.inputBuffer.texture.encoding = sRGBEncoding7;\n        this.outputBuffer.texture.encoding = sRGBEncoding7;\n        this.inputBuffer.dispose();\n        this.outputBuffer.dispose();\n      }\n      renderer.autoClear = false;\n      this.setSize(size.width, size.height);\n      for (const pass of this.passes) {\n        pass.initialize(renderer, alpha, frameBufferType);\n      }\n    }\n  }\n  replaceRenderer(renderer, updateDOM = true) {\n    const oldRenderer = this.renderer;\n    const parent = oldRenderer.domElement.parentNode;\n    this.setRenderer(renderer);\n    if (updateDOM && parent !== null) {\n      parent.removeChild(oldRenderer.domElement);\n      parent.appendChild(renderer.domElement);\n    }\n    return oldRenderer;\n  }\n  createDepthTexture() {\n    const depthTexture = this.depthTexture = new DepthTexture();\n    this.inputBuffer.depthTexture = depthTexture;\n    this.inputBuffer.dispose();\n    if (this.inputBuffer.stencilBuffer) {\n      depthTexture.format = DepthStencilFormat;\n      depthTexture.type = UnsignedInt248Type;\n    } else {\n      depthTexture.type = UnsignedIntType;\n    }\n    return depthTexture;\n  }\n  deleteDepthTexture() {\n    if (this.depthTexture !== null) {\n      this.depthTexture.dispose();\n      this.depthTexture = null;\n      this.inputBuffer.depthTexture = null;\n      this.inputBuffer.dispose();\n      for (const pass of this.passes) {\n        pass.setDepthTexture(null);\n      }\n    }\n  }\n  createBuffer(depthBuffer, stencilBuffer, type, multisampling) {\n    const renderer = this.renderer;\n    const size = renderer === null ? new Vector216() : renderer.getDrawingBufferSize(new Vector216());\n    const options = {\n      minFilter: LinearFilter2,\n      magFilter: LinearFilter2,\n      stencilBuffer,\n      depthBuffer,\n      type\n    };\n    let renderTarget;\n    if (multisampling > 0) {\n      renderTarget = Number(REVISION3.replace(/\\D+/g, \"\")) < 138 ? new WebGLMultisampleRenderTarget(size.width, size.height, options) : new WebGLRenderTarget11(size.width, size.height, options);\n      renderTarget.ignoreDepthForMultisampleCopy = false;\n      renderTarget.samples = multisampling;\n    } else {\n      renderTarget = new WebGLRenderTarget11(size.width, size.height, options);\n    }\n    if (type === UnsignedByteType11 && renderer !== null && renderer.outputEncoding === sRGBEncoding7) {\n      renderTarget.texture.encoding = sRGBEncoding7;\n    }\n    renderTarget.texture.name = \"EffectComposer.Buffer\";\n    renderTarget.texture.generateMipmaps = false;\n    return renderTarget;\n  }\n  addPass(pass, index) {\n    const passes = this.passes;\n    const renderer = this.renderer;\n    const drawingBufferSize = renderer.getDrawingBufferSize(new Vector216());\n    const alpha = renderer.getContext().getContextAttributes().alpha;\n    const frameBufferType = this.inputBuffer.texture.type;\n    pass.setRenderer(renderer);\n    pass.setSize(drawingBufferSize.width, drawingBufferSize.height);\n    pass.initialize(renderer, alpha, frameBufferType);\n    if (this.autoRenderToScreen) {\n      if (passes.length > 0) {\n        passes[passes.length - 1].renderToScreen = false;\n      }\n      if (pass.renderToScreen) {\n        this.autoRenderToScreen = false;\n      }\n    }\n    if (index !== void 0) {\n      passes.splice(index, 0, pass);\n    } else {\n      passes.push(pass);\n    }\n    if (this.autoRenderToScreen) {\n      passes[passes.length - 1].renderToScreen = true;\n    }\n    if (pass.needsDepthTexture || this.depthTexture !== null) {\n      if (this.depthTexture === null) {\n        const depthTexture = this.createDepthTexture();\n        for (pass of passes) {\n          pass.setDepthTexture(depthTexture);\n        }\n      } else {\n        pass.setDepthTexture(this.depthTexture);\n      }\n    }\n  }\n  removePass(pass) {\n    const passes = this.passes;\n    const index = passes.indexOf(pass);\n    const exists = index !== -1;\n    const removed = exists && passes.splice(index, 1).length > 0;\n    if (removed) {\n      if (this.depthTexture !== null) {\n        const reducer = (a, b) => a || b.needsDepthTexture;\n        const depthTextureRequired = passes.reduce(reducer, false);\n        if (!depthTextureRequired) {\n          if (pass.getDepthTexture() === this.depthTexture) {\n            pass.setDepthTexture(null);\n          }\n          this.deleteDepthTexture();\n        }\n      }\n      if (this.autoRenderToScreen) {\n        if (index === passes.length) {\n          pass.renderToScreen = false;\n          if (passes.length > 0) {\n            passes[passes.length - 1].renderToScreen = true;\n          }\n        }\n      }\n    }\n  }\n  removeAllPasses() {\n    const passes = this.passes;\n    this.deleteDepthTexture();\n    if (passes.length > 0) {\n      if (this.autoRenderToScreen) {\n        passes[passes.length - 1].renderToScreen = false;\n      }\n      this.passes = [];\n    }\n  }\n  render(deltaTime) {\n    const renderer = this.renderer;\n    const copyPass = this.copyPass;\n    let inputBuffer = this.inputBuffer;\n    let outputBuffer = this.outputBuffer;\n    let stencilTest = false;\n    let context, stencil, buffer;\n    if (deltaTime === void 0) {\n      deltaTime = this.timer.update().getDelta();\n    }\n    for (const pass of this.passes) {\n      if (pass.enabled) {\n        pass.render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest);\n        if (pass.needsSwap) {\n          if (stencilTest) {\n            copyPass.renderToScreen = pass.renderToScreen;\n            context = renderer.getContext();\n            stencil = renderer.state.buffers.stencil;\n            stencil.setFunc(context.NOTEQUAL, 1, 4294967295);\n            copyPass.render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest);\n            stencil.setFunc(context.EQUAL, 1, 4294967295);\n          }\n          buffer = inputBuffer;\n          inputBuffer = outputBuffer;\n          outputBuffer = buffer;\n        }\n        if (pass instanceof MaskPass) {\n          stencilTest = true;\n        } else if (pass instanceof ClearMaskPass) {\n          stencilTest = false;\n        }\n      }\n    }\n  }\n  setSize(width, height, updateStyle) {\n    const renderer = this.renderer;\n    if (width === void 0 || height === void 0) {\n      const size = renderer.getSize(new Vector216());\n      width = size.width;\n      height = size.height;\n    }\n    renderer.setSize(width, height, updateStyle);\n    const drawingBufferSize = renderer.getDrawingBufferSize(new Vector216());\n    this.inputBuffer.setSize(drawingBufferSize.width, drawingBufferSize.height);\n    this.outputBuffer.setSize(drawingBufferSize.width, drawingBufferSize.height);\n    for (const pass of this.passes) {\n      pass.setSize(drawingBufferSize.width, drawingBufferSize.height);\n    }\n  }\n  reset() {\n    const autoReset = this.timer.isAutoResetEnabled();\n    this.dispose();\n    this.autoRenderToScreen = true;\n    this.timer.setAutoResetEnabled(autoReset);\n  }\n  dispose() {\n    for (const pass of this.passes) {\n      pass.dispose();\n    }\n    this.passes = [];\n    if (this.inputBuffer !== null) {\n      this.inputBuffer.dispose();\n    }\n    if (this.outputBuffer !== null) {\n      this.outputBuffer.dispose();\n    }\n    this.deleteDepthTexture();\n    this.copyPass.dispose();\n    this.timer.dispose();\n  }\n};\n\n// src/core/EffectShaderData.js\nimport { LinearEncoding as LinearEncoding2 } from \"three\";\nvar EffectShaderData = class {\n  constructor() {\n    this.shaderParts = /* @__PURE__ */ new Map([\n      [EffectShaderSection.FRAGMENT_HEAD, null],\n      [EffectShaderSection.FRAGMENT_MAIN_UV, null],\n      [EffectShaderSection.FRAGMENT_MAIN_IMAGE, null],\n      [EffectShaderSection.VERTEX_HEAD, null],\n      [EffectShaderSection.VERTEX_MAIN_SUPPORT, null]\n    ]);\n    this.defines = /* @__PURE__ */ new Map();\n    this.uniforms = /* @__PURE__ */ new Map();\n    this.blendModes = /* @__PURE__ */ new Map();\n    this.extensions = /* @__PURE__ */ new Set();\n    this.attributes = EffectAttribute.NONE;\n    this.varyings = /* @__PURE__ */ new Set();\n    this.uvTransformation = false;\n    this.readDepth = false;\n    this.colorSpace = LinearEncoding2;\n  }\n};\n\n// src/core/GaussKernel.js\nfunction getCoefficients(n) {\n  let result;\n  if (n === 0) {\n    result = new Float64Array(0);\n  } else if (n === 1) {\n    result = new Float64Array([1]);\n  } else if (n > 1) {\n    let row0 = new Float64Array(n);\n    let row1 = new Float64Array(n);\n    for (let y = 1; y <= n; ++y) {\n      for (let x = 0; x < y; ++x) {\n        row1[x] = x === 0 || x === y - 1 ? 1 : row0[x - 1] + row0[x];\n      }\n      result = row1;\n      row1 = row0;\n      row0 = result;\n    }\n  }\n  return result;\n}\nvar GaussKernel = class {\n  constructor(kernelSize, edgeBias = 2) {\n    this.weights = null;\n    this.offsets = null;\n    this.linearWeights = null;\n    this.linearOffsets = null;\n    this.generate(kernelSize, edgeBias);\n  }\n  get steps() {\n    return this.offsets === null ? 0 : this.offsets.length;\n  }\n  get linearSteps() {\n    return this.linearOffsets === null ? 0 : this.linearOffsets.length;\n  }\n  generate(kernelSize, edgeBias) {\n    if (kernelSize < 3 || kernelSize > 1020) {\n      throw new Error(\"The kernel size must be in the range [3, 1020]\");\n    }\n    const n = kernelSize + edgeBias * 2;\n    const coefficients = edgeBias > 0 ? getCoefficients(n).slice(edgeBias, -edgeBias) : getCoefficients(n);\n    const mid = Math.floor((coefficients.length - 1) / 2);\n    const sum = coefficients.reduce((a, b) => a + b, 0);\n    const weights = coefficients.slice(mid);\n    const offsets = [...Array(mid + 1).keys()];\n    const linearWeights = new Float64Array(Math.floor(offsets.length / 2));\n    const linearOffsets = new Float64Array(linearWeights.length);\n    linearWeights[0] = weights[0] / sum;\n    for (let i = 1, j = 1, l = offsets.length - 1; i < l; i += 2, ++j) {\n      const offset0 = offsets[i], offset1 = offsets[i + 1];\n      const weight0 = weights[i], weight1 = weights[i + 1];\n      const w = weight0 + weight1;\n      const o = (offset0 * weight0 + offset1 * weight1) / w;\n      linearWeights[j] = w / sum;\n      linearOffsets[j] = o;\n    }\n    for (let i = 0, l = weights.length, s = 1 / sum; i < l; ++i) {\n      weights[i] *= s;\n    }\n    const linearWeightSum = (linearWeights.reduce((a, b) => a + b, 0) - linearWeights[0] * 0.5) * 2;\n    if (linearWeightSum !== 0) {\n      for (let i = 0, l = linearWeights.length, s = 1 / linearWeightSum; i < l; ++i) {\n        linearWeights[i] *= s;\n      }\n    }\n    this.offsets = offsets;\n    this.weights = weights;\n    this.linearOffsets = linearOffsets;\n    this.linearWeights = linearWeights;\n  }\n};\n\n// src/core/Initializable.js\nvar Initializable = class {\n  initialize(renderer, alpha, frameBufferType) {\n  }\n};\n\n// src/core/Resizable.js\nvar Resizable = class {\n  setSize(width, height) {\n  }\n};\n\n// src/core/Selection.js\nvar Selection = class extends Set {\n  constructor(iterable, layer = 10) {\n    super();\n    this.l = layer;\n    this.exclusive = false;\n    if (iterable !== void 0) {\n      this.set(iterable);\n    }\n  }\n  get layer() {\n    return this.l;\n  }\n  set layer(value) {\n    const currentLayer = this.l;\n    for (const object of this) {\n      object.layers.disable(currentLayer);\n      object.layers.enable(value);\n    }\n    this.l = value;\n  }\n  getLayer() {\n    return this.layer;\n  }\n  setLayer(value) {\n    this.layer = value;\n  }\n  isExclusive() {\n    return this.exclusive;\n  }\n  setExclusive(value) {\n    this.exclusive = value;\n  }\n  clear() {\n    const layer = this.layer;\n    for (const object of this) {\n      object.layers.disable(layer);\n    }\n    return super.clear();\n  }\n  set(objects) {\n    this.clear();\n    for (const object of objects) {\n      this.add(object);\n    }\n    return this;\n  }\n  indexOf(object) {\n    return this.has(object) ? 0 : -1;\n  }\n  add(object) {\n    if (this.exclusive) {\n      object.layers.set(this.layer);\n    } else {\n      object.layers.enable(this.layer);\n    }\n    return super.add(object);\n  }\n  delete(object) {\n    if (this.has(object)) {\n      object.layers.disable(this.layer);\n    }\n    return super.delete(object);\n  }\n  toggle(object) {\n    let result;\n    if (this.has(object)) {\n      this.delete(object);\n      result = false;\n    } else {\n      this.add(object);\n      result = true;\n    }\n    return result;\n  }\n  setVisible(visible) {\n    for (const object of this) {\n      if (visible) {\n        object.layers.enable(0);\n      } else {\n        object.layers.disable(0);\n      }\n    }\n    return this;\n  }\n};\n\n// src/effects/blending/BlendMode.js\nimport { EventDispatcher as EventDispatcher2, Uniform as Uniform21 } from \"three\";\n\n// src/effects/blending/glsl/add.frag\nvar add_default = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y,opacity);}\";\n\n// src/effects/blending/glsl/alpha.frag\nvar alpha_default = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,min(y.a,opacity));}\";\n\n// src/effects/blending/glsl/average.frag\nvar average_default = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y)*0.5,opacity);}\";\n\n// src/effects/blending/glsl/color.frag\nvar color_default = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.rg,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}\";\n\n// src/effects/blending/glsl/color-burn.frag\nvar color_burn_default = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(step(0.0,y)*(1.0-min(vec4(1.0),(1.0-x)/y)),vec4(1.0),step(1.0,x));return mix(x,z,opacity);}\";\n\n// src/effects/blending/glsl/color-dodge.frag\nvar color_dodge_default = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=step(0.0,x)*mix(min(vec4(1.0),x/max(1.0-y,1e-9)),vec4(1.0),step(1.0,y));return mix(x,z,opacity);}\";\n\n// src/effects/blending/glsl/darken.frag\nvar darken_default = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x,y),opacity);}\";\n\n// src/effects/blending/glsl/difference.frag\nvar difference_default = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,abs(x-y),opacity);}\";\n\n// src/effects/blending/glsl/divide.frag\nvar divide_default = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x/max(y,1e-12),opacity);}\";\n\n// src/effects/blending/glsl/exclusion.frag\nvar exclusion_default = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y-2.0*x*y),opacity);}\";\n\n// src/effects/blending/glsl/hard-light.frag\nvar hard_light_default = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(2.0*x*y,1.0-2.0*(1.0-x)*(1.0-y),step(0.5,y));return mix(x,z,opacity);}\";\n\n// src/effects/blending/glsl/hard-mix.frag\nvar hard_mix_default = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,step(1.0,x+y),opacity);}\";\n\n// src/effects/blending/glsl/hue.frag\nvar hue_default = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.r,xHSL.gb));return vec4(mix(x.rgb,z,opacity),y.a);}\";\n\n// src/effects/blending/glsl/invert.frag\nvar invert_default = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-y,opacity);}\";\n\n// src/effects/blending/glsl/invert-rgb.frag\nvar invert_rgb_default = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y*(1.0-x),opacity);}\";\n\n// src/effects/blending/glsl/lighten.frag\nvar lighten_default = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x,y),opacity);}\";\n\n// src/effects/blending/glsl/linear-burn.frag\nvar linear_burn_default = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(y+x-1.0,0.0,1.0),opacity);}\";\n\n// src/effects/blending/glsl/linear-dodge.frag\nvar linear_dodge_default = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x+y,1.0),opacity);}\";\n\n// src/effects/blending/glsl/linear-light.frag\nvar linear_light_default = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(2.0*y+x-1.0,0.0,1.0),opacity);}\";\n\n// src/effects/blending/glsl/luminosity.frag\nvar luminosity_default = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.rg,yHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}\";\n\n// src/effects/blending/glsl/multiply.frag\nvar multiply_default = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x*y,opacity);}\";\n\n// src/effects/blending/glsl/negation.frag\nvar negation_default = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-abs(1.0-x-y),opacity);}\";\n\n// src/effects/blending/glsl/normal.frag\nvar normal_default = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,opacity);}\";\n\n// src/effects/blending/glsl/overlay.frag\nvar overlay_default = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(2.0*y*x,1.0-2.0*(1.0-y)*(1.0-x),step(0.5,x));return mix(x,z,opacity);}\";\n\n// src/effects/blending/glsl/pin-light.frag\nvar pin_light_default = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 z=mix(mix(y2,x,step(0.5*x,y)),max(vec4(0.0),y2-1.0),step(x,(y2-1.0)));return mix(x,z,opacity);}\";\n\n// src/effects/blending/glsl/reflect.frag\nvar reflect_default = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,mix(min(x*x/max(1.0-y,1e-12),1.0),y,step(1.0,y)),opacity);}\";\n\n// src/effects/blending/glsl/saturation.frag\nvar saturation_default = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.r,yHSL.g,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}\";\n\n// src/effects/blending/glsl/screen.frag\nvar screen_default = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y-x*y,opacity);}\";\n\n// src/effects/blending/glsl/soft-light.frag\nvar soft_light_default = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 w=step(0.5,y);vec4 z=mix(x-(1.0-y2)*x*(1.0-x),mix(x+(y2-1.0)*(sqrt(x)-x),x+(y2-1.0)*x*((16.0*x-12.0)*x+3.0),w*(1.0-step(0.25,x))),w);return mix(x,z,opacity);}\";\n\n// src/effects/blending/glsl/src.frag\nvar src_default = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y;}\";\n\n// src/effects/blending/glsl/subtract.frag\nvar subtract_default = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x+y-1.0,0.0),opacity);}\";\n\n// src/effects/blending/glsl/vivid-light.frag\nvar vivid_light_default = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(max(vec4(0.0),1.0-min(vec4(1.0),(1.0-x)/(2.0*y))),min(vec4(1.0),x/(2.0*(1.0-y))),step(0.5,y));return mix(x,z,opacity);}\";\n\n// src/effects/blending/BlendMode.js\nvar blendFunctions = /* @__PURE__ */ new Map([\n  [BlendFunction.ADD, add_default],\n  [BlendFunction.ALPHA, alpha_default],\n  [BlendFunction.AVERAGE, average_default],\n  [BlendFunction.COLOR, color_default],\n  [BlendFunction.COLOR_BURN, color_burn_default],\n  [BlendFunction.COLOR_DODGE, color_dodge_default],\n  [BlendFunction.DARKEN, darken_default],\n  [BlendFunction.DIFFERENCE, difference_default],\n  [BlendFunction.DIVIDE, divide_default],\n  [BlendFunction.DST, null],\n  [BlendFunction.EXCLUSION, exclusion_default],\n  [BlendFunction.HARD_LIGHT, hard_light_default],\n  [BlendFunction.HARD_MIX, hard_mix_default],\n  [BlendFunction.HUE, hue_default],\n  [BlendFunction.INVERT, invert_default],\n  [BlendFunction.INVERT_RGB, invert_rgb_default],\n  [BlendFunction.LIGHTEN, lighten_default],\n  [BlendFunction.LINEAR_BURN, linear_burn_default],\n  [BlendFunction.LINEAR_DODGE, linear_dodge_default],\n  [BlendFunction.LINEAR_LIGHT, linear_light_default],\n  [BlendFunction.LUMINOSITY, luminosity_default],\n  [BlendFunction.MULTIPLY, multiply_default],\n  [BlendFunction.NEGATION, negation_default],\n  [BlendFunction.NORMAL, normal_default],\n  [BlendFunction.OVERLAY, overlay_default],\n  [BlendFunction.PIN_LIGHT, pin_light_default],\n  [BlendFunction.REFLECT, reflect_default],\n  [BlendFunction.SATURATION, saturation_default],\n  [BlendFunction.SCREEN, screen_default],\n  [BlendFunction.SOFT_LIGHT, soft_light_default],\n  [BlendFunction.SRC, src_default],\n  [BlendFunction.SUBTRACT, subtract_default],\n  [BlendFunction.VIVID_LIGHT, vivid_light_default]\n]);\nvar BlendMode = class extends EventDispatcher2 {\n  constructor(blendFunction, opacity = 1) {\n    super();\n    this._blendFunction = blendFunction;\n    this.opacity = new Uniform21(opacity);\n  }\n  getOpacity() {\n    return this.opacity.value;\n  }\n  setOpacity(value) {\n    this.opacity.value = value;\n  }\n  get blendFunction() {\n    return this._blendFunction;\n  }\n  set blendFunction(value) {\n    this._blendFunction = value;\n    this.dispatchEvent({ type: \"change\" });\n  }\n  getBlendFunction() {\n    return this.blendFunction;\n  }\n  setBlendFunction(value) {\n    this.blendFunction = value;\n  }\n  getShaderCode() {\n    return blendFunctions.get(this.blendFunction);\n  }\n};\n\n// src/effects/BloomEffect.js\nimport { sRGBEncoding as sRGBEncoding8, Uniform as Uniform22, WebGLRenderTarget as WebGLRenderTarget12 } from \"three\";\n\n// src/effects/Effect.js\nimport { BasicDepthPacking as BasicDepthPacking12, EventDispatcher as EventDispatcher3, LinearEncoding as LinearEncoding3, Scene as Scene2 } from \"three\";\nvar Effect = class extends EventDispatcher3 {\n  constructor(name, fragmentShader, {\n    attributes = EffectAttribute.NONE,\n    blendFunction = BlendFunction.NORMAL,\n    defines = /* @__PURE__ */ new Map(),\n    uniforms = /* @__PURE__ */ new Map(),\n    extensions = null,\n    vertexShader = null\n  } = {}) {\n    super();\n    this.name = name;\n    this.renderer = null;\n    this.attributes = attributes;\n    this.fragmentShader = fragmentShader;\n    this.vertexShader = vertexShader;\n    this.defines = defines;\n    this.uniforms = uniforms;\n    this.extensions = extensions;\n    this.blendMode = new BlendMode(blendFunction);\n    this.blendMode.addEventListener(\"change\", (event) => this.setChanged());\n    this._inputColorSpace = LinearEncoding3;\n    this._outputColorSpace = null;\n  }\n  get inputColorSpace() {\n    return this._inputColorSpace;\n  }\n  set inputColorSpace(value) {\n    this._inputColorSpace = value;\n    this.setChanged();\n  }\n  get outputColorSpace() {\n    return this._outputColorSpace;\n  }\n  set outputColorSpace(value) {\n    this._outputColorSpace = value;\n    this.setChanged();\n  }\n  getName() {\n    return this.name;\n  }\n  setRenderer(renderer) {\n    this.renderer = renderer;\n  }\n  getDefines() {\n    return this.defines;\n  }\n  getUniforms() {\n    return this.uniforms;\n  }\n  getExtensions() {\n    return this.extensions;\n  }\n  getBlendMode() {\n    return this.blendMode;\n  }\n  getAttributes() {\n    return this.attributes;\n  }\n  setAttributes(attributes) {\n    this.attributes = attributes;\n    this.setChanged();\n  }\n  getFragmentShader() {\n    return this.fragmentShader;\n  }\n  setFragmentShader(fragmentShader) {\n    this.fragmentShader = fragmentShader;\n    this.setChanged();\n  }\n  getVertexShader() {\n    return this.vertexShader;\n  }\n  setVertexShader(vertexShader) {\n    this.vertexShader = vertexShader;\n    this.setChanged();\n  }\n  setChanged() {\n    this.dispatchEvent({ type: \"change\" });\n  }\n  setDepthTexture(depthTexture, depthPacking = BasicDepthPacking12) {\n  }\n  update(renderer, inputBuffer, deltaTime) {\n  }\n  setSize(width, height) {\n  }\n  initialize(renderer, alpha, frameBufferType) {\n  }\n  dispose() {\n    for (const key of Object.keys(this)) {\n      const property = this[key];\n      if (property !== null && typeof property.dispose === \"function\") {\n        if (property instanceof Scene2 || property === this.renderer) {\n          continue;\n        }\n        this[key].dispose();\n      }\n    }\n  }\n};\n\n// src/effects/glsl/bloom.frag\nvar bloom_default = \"#ifdef FRAMEBUFFER_PRECISION_HIGH\\nuniform mediump sampler2D map;\\n#else\\nuniform lowp sampler2D map;\\n#endif\\nuniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=texture2D(map,uv)*intensity;}\";\n\n// src/effects/BloomEffect.js\nvar BloomEffect = class extends Effect {\n  constructor({\n    blendFunction = BlendFunction.SCREEN,\n    luminanceThreshold = 0.9,\n    luminanceSmoothing = 0.025,\n    mipmapBlur = false,\n    intensity = 1,\n    radius = 0.85,\n    levels = 8,\n    kernelSize = KernelSize.LARGE,\n    resolutionScale = 0.5,\n    width = Resolution.AUTO_SIZE,\n    height = Resolution.AUTO_SIZE,\n    resolutionX = width,\n    resolutionY = height\n  } = {}) {\n    super(\"BloomEffect\", bloom_default, {\n      blendFunction,\n      uniforms: /* @__PURE__ */ new Map([\n        [\"map\", new Uniform22(null)],\n        [\"intensity\", new Uniform22(intensity)]\n      ])\n    });\n    this.renderTarget = new WebGLRenderTarget12(1, 1, { depthBuffer: false });\n    this.renderTarget.texture.name = \"Bloom.Target\";\n    this.blurPass = new KawaseBlurPass({ kernelSize });\n    this.luminancePass = new LuminancePass({ colorOutput: true });\n    this.luminanceMaterial.threshold = luminanceThreshold;\n    this.luminanceMaterial.smoothing = luminanceSmoothing;\n    this.mipmapBlurPass = new MipmapBlurPass();\n    this.mipmapBlurPass.enabled = mipmapBlur;\n    this.mipmapBlurPass.radius = radius;\n    this.mipmapBlurPass.levels = levels;\n    this.uniforms.get(\"map\").value = mipmapBlur ? this.mipmapBlurPass.texture : this.renderTarget.texture;\n    const resolution = this.resolution = new Resolution(this, resolutionX, resolutionY, resolutionScale);\n    resolution.addEventListener(\"change\", (e) => this.setSize(resolution.baseWidth, resolution.baseHeight));\n  }\n  get texture() {\n    return this.mipmapBlurPass.enabled ? this.mipmapBlurPass.texture : this.renderTarget.texture;\n  }\n  getTexture() {\n    return this.texture;\n  }\n  getResolution() {\n    return this.resolution;\n  }\n  getBlurPass() {\n    return this.blurPass;\n  }\n  getLuminancePass() {\n    return this.luminancePass;\n  }\n  get luminanceMaterial() {\n    return this.luminancePass.fullscreenMaterial;\n  }\n  getLuminanceMaterial() {\n    return this.luminancePass.fullscreenMaterial;\n  }\n  get width() {\n    return this.resolution.width;\n  }\n  set width(value) {\n    this.resolution.preferredWidth = value;\n  }\n  get height() {\n    return this.resolution.height;\n  }\n  set height(value) {\n    this.resolution.preferredHeight = value;\n  }\n  get dithering() {\n    return this.blurPass.dithering;\n  }\n  set dithering(value) {\n    this.blurPass.dithering = value;\n  }\n  get kernelSize() {\n    return this.blurPass.kernelSize;\n  }\n  set kernelSize(value) {\n    this.blurPass.kernelSize = value;\n  }\n  get distinction() {\n    console.warn(this.name, \"distinction was removed\");\n    return 1;\n  }\n  set distinction(value) {\n    console.warn(this.name, \"distinction was removed\");\n  }\n  get intensity() {\n    return this.uniforms.get(\"intensity\").value;\n  }\n  set intensity(value) {\n    this.uniforms.get(\"intensity\").value = value;\n  }\n  getIntensity() {\n    return this.intensity;\n  }\n  setIntensity(value) {\n    this.intensity = value;\n  }\n  getResolutionScale() {\n    return this.resolution.scale;\n  }\n  setResolutionScale(scale) {\n    this.resolution.scale = scale;\n  }\n  update(renderer, inputBuffer, deltaTime) {\n    const renderTarget = this.renderTarget;\n    const luminancePass = this.luminancePass;\n    if (luminancePass.enabled) {\n      luminancePass.render(renderer, inputBuffer);\n      if (this.mipmapBlurPass.enabled) {\n        this.mipmapBlurPass.render(renderer, luminancePass.renderTarget);\n      } else {\n        this.blurPass.render(renderer, luminancePass.renderTarget, renderTarget);\n      }\n    } else {\n      if (this.mipmapBlurPass.enabled) {\n        this.mipmapBlurPass.render(renderer, inputBuffer);\n      } else {\n        this.blurPass.render(renderer, inputBuffer, renderTarget);\n      }\n    }\n  }\n  setSize(width, height) {\n    const resolution = this.resolution;\n    resolution.setBaseSize(width, height);\n    this.renderTarget.setSize(resolution.width, resolution.height);\n    this.blurPass.resolution.copy(resolution);\n    this.luminancePass.setSize(width, height);\n    this.mipmapBlurPass.setSize(width, height);\n  }\n  initialize(renderer, alpha, frameBufferType) {\n    this.blurPass.initialize(renderer, alpha, frameBufferType);\n    this.luminancePass.initialize(renderer, alpha, frameBufferType);\n    this.mipmapBlurPass.initialize(renderer, alpha, frameBufferType);\n    if (frameBufferType !== void 0) {\n      this.renderTarget.texture.type = frameBufferType;\n      if (renderer.outputEncoding === sRGBEncoding8) {\n        this.renderTarget.texture.encoding = sRGBEncoding8;\n      }\n    }\n  }\n};\n\n// src/effects/BokehEffect.js\nimport { Uniform as Uniform23 } from \"three\";\n\n// src/effects/glsl/bokeh.frag\nvar bokeh_default = \"uniform float focus;uniform float dof;uniform float aperture;uniform float maxBlur;void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){vec2 aspectCorrection=vec2(1.0,aspect);\\n#ifdef PERSPECTIVE_CAMERA\\nfloat viewZ=perspectiveDepthToViewZ(depth,cameraNear,cameraFar);float linearDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);\\n#else\\nfloat linearDepth=depth;\\n#endif\\nfloat focusNear=clamp(focus-dof,0.0,1.0);float focusFar=clamp(focus+dof,0.0,1.0);float low=step(linearDepth,focusNear);float high=step(focusFar,linearDepth);float factor=(linearDepth-focusNear)*low+(linearDepth-focusFar)*high;vec2 dofBlur=vec2(clamp(factor*aperture,-maxBlur,maxBlur));vec2 dofblur9=dofBlur*0.9;vec2 dofblur7=dofBlur*0.7;vec2 dofblur4=dofBlur*0.4;vec4 color=inputColor;color+=texture2D(inputBuffer,uv+(vec2(0.0,0.4)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(0.15,0.37)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(0.29,0.29)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(-0.37,0.15)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(0.40,0.0)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(0.37,-0.15)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(0.29,-0.29)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(-0.15,-0.37)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(0.0,-0.4)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(-0.15,0.37)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(-0.29,0.29)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(0.37,0.15)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(-0.4,0.0)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(-0.37,-0.15)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(-0.29,-0.29)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(0.15,-0.37)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(0.15,0.37)*aspectCorrection)*dofblur9);color+=texture2D(inputBuffer,uv+(vec2(-0.37,0.15)*aspectCorrection)*dofblur9);color+=texture2D(inputBuffer,uv+(vec2(0.37,-0.15)*aspectCorrection)*dofblur9);color+=texture2D(inputBuffer,uv+(vec2(-0.15,-0.37)*aspectCorrection)*dofblur9);color+=texture2D(inputBuffer,uv+(vec2(-0.15,0.37)*aspectCorrection)*dofblur9);color+=texture2D(inputBuffer,uv+(vec2(0.37,0.15)*aspectCorrection)*dofblur9);color+=texture2D(inputBuffer,uv+(vec2(-0.37,-0.15)*aspectCorrection)*dofblur9);color+=texture2D(inputBuffer,uv+(vec2(0.15,-0.37)*aspectCorrection)*dofblur9);color+=texture2D(inputBuffer,uv+(vec2(0.29,0.29)*aspectCorrection)*dofblur7);color+=texture2D(inputBuffer,uv+(vec2(0.40,0.0)*aspectCorrection)*dofblur7);color+=texture2D(inputBuffer,uv+(vec2(0.29,-0.29)*aspectCorrection)*dofblur7);color+=texture2D(inputBuffer,uv+(vec2(0.0,-0.4)*aspectCorrection)*dofblur7);color+=texture2D(inputBuffer,uv+(vec2(-0.29,0.29)*aspectCorrection)*dofblur7);color+=texture2D(inputBuffer,uv+(vec2(-0.4,0.0)*aspectCorrection)*dofblur7);color+=texture2D(inputBuffer,uv+(vec2(-0.29,-0.29)*aspectCorrection)*dofblur7);color+=texture2D(inputBuffer,uv+(vec2(0.0,0.4)*aspectCorrection)*dofblur7);color+=texture2D(inputBuffer,uv+(vec2(0.29,0.29)*aspectCorrection)*dofblur4);color+=texture2D(inputBuffer,uv+(vec2(0.4,0.0)*aspectCorrection)*dofblur4);color+=texture2D(inputBuffer,uv+(vec2(0.29,-0.29)*aspectCorrection)*dofblur4);color+=texture2D(inputBuffer,uv+(vec2(0.0,-0.4)*aspectCorrection)*dofblur4);color+=texture2D(inputBuffer,uv+(vec2(-0.29,0.29)*aspectCorrection)*dofblur4);color+=texture2D(inputBuffer,uv+(vec2(-0.4,0.0)*aspectCorrection)*dofblur4);color+=texture2D(inputBuffer,uv+(vec2(-0.29,-0.29)*aspectCorrection)*dofblur4);color+=texture2D(inputBuffer,uv+(vec2(0.0,0.4)*aspectCorrection)*dofblur4);outputColor=color/41.0;}\";\n\n// src/effects/BokehEffect.js\nvar BokehEffect = class extends Effect {\n  constructor({\n    blendFunction,\n    focus = 0.5,\n    dof = 0.02,\n    aperture = 0.015,\n    maxBlur = 1\n  } = {}) {\n    super(\"BokehEffect\", bokeh_default, {\n      blendFunction,\n      attributes: EffectAttribute.CONVOLUTION | EffectAttribute.DEPTH,\n      uniforms: /* @__PURE__ */ new Map([\n        [\"focus\", new Uniform23(focus)],\n        [\"dof\", new Uniform23(dof)],\n        [\"aperture\", new Uniform23(aperture)],\n        [\"maxBlur\", new Uniform23(maxBlur)]\n      ])\n    });\n  }\n};\n\n// src/effects/BrightnessContrastEffect.js\nimport { sRGBEncoding as sRGBEncoding9, Uniform as Uniform24 } from \"three\";\n\n// src/effects/glsl/brightness-contrast.frag\nvar brightness_contrast_default = \"uniform float brightness;uniform float contrast;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=inputColor.rgb+vec3(brightness-0.5);if(contrast>0.0){color/=vec3(1.0-contrast);}else{color*=vec3(1.0+contrast);}outputColor=vec4(color+vec3(0.5),inputColor.a);}\";\n\n// src/effects/BrightnessContrastEffect.js\nvar BrightnessContrastEffect = class extends Effect {\n  constructor({ blendFunction = BlendFunction.SRC, brightness = 0, contrast = 0 } = {}) {\n    super(\"BrightnessContrastEffect\", brightness_contrast_default, {\n      blendFunction,\n      uniforms: /* @__PURE__ */ new Map([\n        [\"brightness\", new Uniform24(brightness)],\n        [\"contrast\", new Uniform24(contrast)]\n      ])\n    });\n    this.inputColorSpace = sRGBEncoding9;\n  }\n  get brightness() {\n    return this.uniforms.get(\"brightness\").value;\n  }\n  set brightness(value) {\n    this.uniforms.get(\"brightness\").value = value;\n  }\n  getBrightness(value) {\n    return this.brightness;\n  }\n  setBrightness(value) {\n    this.brightness = value;\n  }\n  get contrast() {\n    return this.uniforms.get(\"contrast\").value;\n  }\n  set contrast(value) {\n    this.uniforms.get(\"contrast\").value = value;\n  }\n  getContrast(value) {\n    return this.contrast;\n  }\n  setContrast(value) {\n    this.contrast = value;\n  }\n};\n\n// src/effects/glsl/color-average.frag\nvar color_average_default = \"void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=vec4(vec3(average(inputColor.rgb)),inputColor.a);}\";\n\n// src/effects/ColorAverageEffect.js\nvar ColorAverageEffect = class extends Effect {\n  constructor(blendFunction) {\n    super(\"ColorAverageEffect\", color_average_default, { blendFunction });\n  }\n};\n\n// src/effects/ColorDepthEffect.js\nimport { Uniform as Uniform25 } from \"three\";\n\n// src/effects/glsl/color-depth.frag\nvar color_depth_default = \"uniform float factor;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=vec4(floor(inputColor.rgb*factor+0.5)/factor,inputColor.a);}\";\n\n// src/effects/ColorDepthEffect.js\nvar ColorDepthEffect = class extends Effect {\n  constructor({ blendFunction, bits = 16 } = {}) {\n    super(\"ColorDepthEffect\", color_depth_default, {\n      blendFunction,\n      uniforms: /* @__PURE__ */ new Map([\n        [\"factor\", new Uniform25(1)]\n      ])\n    });\n    this.bits = 0;\n    this.bitDepth = bits;\n  }\n  get bitDepth() {\n    return this.bits;\n  }\n  set bitDepth(value) {\n    this.bits = value;\n    this.uniforms.get(\"factor\").value = Math.pow(2, value / 3);\n  }\n  getBitDepth() {\n    return this.bitDepth;\n  }\n  setBitDepth(value) {\n    this.bitDepth = value;\n  }\n};\n\n// src/effects/ChromaticAberrationEffect.js\nimport { Uniform as Uniform26, Vector2 as Vector217 } from \"three\";\n\n// src/effects/glsl/chromatic-aberration.frag\nvar chromatic_aberration_default = \"#ifdef RADIAL_MODULATION\\nuniform float modulationOffset;\\n#endif\\nvarying float vActive;varying vec2 vUvR;varying vec2 vUvB;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec2 ra=inputColor.ra;vec2 ba=inputColor.ba;\\n#ifdef RADIAL_MODULATION\\nconst vec2 center=vec2(0.5);float d=distance(uv,center)*2.0;d=max(d-modulationOffset,0.0);if(vActive>0.0&&d>0.0){ra=texture2D(inputBuffer,mix(uv,vUvR,d)).ra;ba=texture2D(inputBuffer,mix(uv,vUvB,d)).ba;}\\n#else\\nif(vActive>0.0){ra=texture2D(inputBuffer,vUvR).ra;ba=texture2D(inputBuffer,vUvB).ba;}\\n#endif\\noutputColor=vec4(ra.x,inputColor.g,ba.x,max(max(ra.y,ba.y),inputColor.a));}\";\n\n// src/effects/glsl/chromatic-aberration.vert\nvar chromatic_aberration_default2 = \"uniform vec2 offset;varying float vActive;varying vec2 vUvR;varying vec2 vUvB;void mainSupport(const in vec2 uv){vec2 shift=offset*vec2(1.0,aspect);vActive=(shift.x!=0.0||shift.y!=0.0)?1.0:0.0;vUvR=uv+shift;vUvB=uv-shift;}\";\n\n// src/effects/ChromaticAberrationEffect.js\nvar ChromaticAberrationEffect = class extends Effect {\n  constructor({\n    offset = new Vector217(1e-3, 5e-4),\n    radialModulation = false,\n    modulationOffset = 0.15\n  } = {}) {\n    super(\"ChromaticAberrationEffect\", chromatic_aberration_default, {\n      vertexShader: chromatic_aberration_default2,\n      attributes: EffectAttribute.CONVOLUTION,\n      uniforms: /* @__PURE__ */ new Map([\n        [\"offset\", new Uniform26(offset)],\n        [\"modulationOffset\", new Uniform26(modulationOffset)]\n      ])\n    });\n    this.radialModulation = radialModulation;\n  }\n  get offset() {\n    return this.uniforms.get(\"offset\").value;\n  }\n  set offset(value) {\n    this.uniforms.get(\"offset\").value = value;\n  }\n  get radialModulation() {\n    return this.defines.has(\"RADIAL_MODULATION\");\n  }\n  set radialModulation(value) {\n    if (value) {\n      this.defines.set(\"RADIAL_MODULATION\", \"1\");\n    } else {\n      this.defines.delete(\"RADIAL_MODULATION\");\n    }\n    this.setChanged();\n  }\n  get modulationOffset() {\n    return this.uniforms.get(\"modulationOffset\").value;\n  }\n  set modulationOffset(value) {\n    this.uniforms.get(\"modulationOffset\").value = value;\n  }\n  getOffset() {\n    return this.offset;\n  }\n  setOffset(value) {\n    this.offset = value;\n  }\n};\n\n// src/effects/glsl/depth.frag\nvar depth_default = \"void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){\\n#ifdef INVERTED\\nvec3 color=vec3(1.0-depth);\\n#else\\nvec3 color=vec3(depth);\\n#endif\\noutputColor=vec4(color,inputColor.a);}\";\n\n// src/effects/DepthEffect.js\nvar DepthEffect = class extends Effect {\n  constructor({ blendFunction = BlendFunction.SRC, inverted = false } = {}) {\n    super(\"DepthEffect\", depth_default, {\n      blendFunction,\n      attributes: EffectAttribute.DEPTH\n    });\n    this.inverted = inverted;\n  }\n  get inverted() {\n    return this.defines.has(\"INVERTED\");\n  }\n  set inverted(value) {\n    if (this.inverted !== value) {\n      if (value) {\n        this.defines.set(\"INVERTED\", \"1\");\n      } else {\n        this.defines.delete(\"INVERTED\");\n      }\n      this.setChanged();\n    }\n  }\n  isInverted() {\n    return this.inverted;\n  }\n  setInverted(value) {\n    this.inverted = value;\n  }\n};\n\n// src/effects/DepthOfFieldEffect.js\nimport { BasicDepthPacking as BasicDepthPacking13, sRGBEncoding as sRGBEncoding10, Uniform as Uniform27, UnsignedByteType as UnsignedByteType12, WebGLRenderTarget as WebGLRenderTarget13 } from \"three\";\n\n// src/effects/glsl/depth-of-field.frag\nvar depth_of_field_default = \"#ifdef FRAMEBUFFER_PRECISION_HIGH\\nuniform mediump sampler2D nearColorBuffer;uniform mediump sampler2D farColorBuffer;\\n#else\\nuniform lowp sampler2D nearColorBuffer;uniform lowp sampler2D farColorBuffer;\\n#endif\\nuniform lowp sampler2D nearCoCBuffer;uniform float scale;void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){vec4 colorNear=texture2D(nearColorBuffer,uv);vec4 colorFar=texture2D(farColorBuffer,uv);float cocNear=texture2D(nearCoCBuffer,uv).r;cocNear=min(cocNear*scale,1.0);vec4 result=inputColor*(1.0-colorFar.a)+colorFar;result=mix(result,colorNear,cocNear);outputColor=result;}\";\n\n// src/effects/DepthOfFieldEffect.js\nvar DepthOfFieldEffect = class extends Effect {\n  constructor(camera, {\n    blendFunction,\n    worldFocusDistance,\n    worldFocusRange,\n    focusDistance = 0,\n    focalLength = 0.1,\n    focusRange = focalLength,\n    bokehScale = 1,\n    resolutionScale = 1,\n    width = Resolution.AUTO_SIZE,\n    height = Resolution.AUTO_SIZE,\n    resolutionX = width,\n    resolutionY = height\n  } = {}) {\n    super(\"DepthOfFieldEffect\", depth_of_field_default, {\n      blendFunction,\n      attributes: EffectAttribute.DEPTH,\n      uniforms: /* @__PURE__ */ new Map([\n        [\"nearColorBuffer\", new Uniform27(null)],\n        [\"farColorBuffer\", new Uniform27(null)],\n        [\"nearCoCBuffer\", new Uniform27(null)],\n        [\"scale\", new Uniform27(1)]\n      ])\n    });\n    this.camera = camera;\n    this.renderTarget = new WebGLRenderTarget13(1, 1, { depthBuffer: false });\n    this.renderTarget.texture.name = \"DoF.Intermediate\";\n    this.renderTargetMasked = this.renderTarget.clone();\n    this.renderTargetMasked.texture.name = \"DoF.Masked.Far\";\n    this.renderTargetNear = this.renderTarget.clone();\n    this.renderTargetNear.texture.name = \"DoF.Bokeh.Near\";\n    this.uniforms.get(\"nearColorBuffer\").value = this.renderTargetNear.texture;\n    this.renderTargetFar = this.renderTarget.clone();\n    this.renderTargetFar.texture.name = \"DoF.Bokeh.Far\";\n    this.uniforms.get(\"farColorBuffer\").value = this.renderTargetFar.texture;\n    this.renderTargetCoC = this.renderTarget.clone();\n    this.renderTargetCoC.texture.name = \"DoF.CoC\";\n    this.renderTargetCoCBlurred = this.renderTargetCoC.clone();\n    this.renderTargetCoCBlurred.texture.name = \"DoF.CoC.Blurred\";\n    this.uniforms.get(\"nearCoCBuffer\").value = this.renderTargetCoCBlurred.texture;\n    this.cocPass = new ShaderPass(new CircleOfConfusionMaterial(camera));\n    const cocMaterial = this.cocMaterial;\n    cocMaterial.focusDistance = focusDistance;\n    cocMaterial.focusRange = focusRange;\n    if (worldFocusDistance !== void 0) {\n      cocMaterial.worldFocusDistance = worldFocusDistance;\n    }\n    if (worldFocusRange !== void 0) {\n      cocMaterial.worldFocusRange = worldFocusRange;\n    }\n    this.blurPass = new KawaseBlurPass({ resolutionScale, resolutionX, resolutionY, kernelSize: KernelSize.MEDIUM });\n    this.maskPass = new ShaderPass(new MaskMaterial(this.renderTargetCoC.texture));\n    const maskMaterial = this.maskPass.fullscreenMaterial;\n    maskMaterial.maskFunction = MaskFunction.MULTIPLY;\n    maskMaterial.colorChannel = ColorChannel.GREEN;\n    this.bokehNearBasePass = new ShaderPass(new BokehMaterial(false, true));\n    this.bokehNearBasePass.fullscreenMaterial.cocBuffer = this.renderTargetCoCBlurred.texture;\n    this.bokehNearFillPass = new ShaderPass(new BokehMaterial(true, true));\n    this.bokehNearFillPass.fullscreenMaterial.cocBuffer = this.renderTargetCoCBlurred.texture;\n    this.bokehFarBasePass = new ShaderPass(new BokehMaterial(false, false));\n    this.bokehFarBasePass.fullscreenMaterial.cocBuffer = this.renderTargetCoC.texture;\n    this.bokehFarFillPass = new ShaderPass(new BokehMaterial(true, false));\n    this.bokehFarFillPass.fullscreenMaterial.cocBuffer = this.renderTargetCoC.texture;\n    this.target = null;\n    const resolution = this.resolution = new Resolution(this, resolutionX, resolutionY, resolutionScale);\n    resolution.addEventListener(\"change\", (e) => this.setSize(resolution.baseWidth, resolution.baseHeight));\n    this.bokehScale = bokehScale;\n  }\n  get cocTexture() {\n    return this.renderTargetCoC.texture;\n  }\n  get cocMaterial() {\n    return this.cocPass.fullscreenMaterial;\n  }\n  get circleOfConfusionMaterial() {\n    return this.cocMaterial;\n  }\n  getCircleOfConfusionMaterial() {\n    return this.circleOfConfusionMaterial;\n  }\n  getBlurPass() {\n    return this.blurPass;\n  }\n  getResolution() {\n    return this.resolution;\n  }\n  get bokehScale() {\n    return this.uniforms.get(\"scale\").value;\n  }\n  set bokehScale(value) {\n    this.bokehNearBasePass.fullscreenMaterial.scale = value;\n    this.bokehNearFillPass.fullscreenMaterial.scale = value;\n    this.bokehFarBasePass.fullscreenMaterial.scale = value;\n    this.bokehFarFillPass.fullscreenMaterial.scale = value;\n    this.maskPass.fullscreenMaterial.strength = value;\n    this.uniforms.get(\"scale\").value = value;\n  }\n  getBokehScale() {\n    return this.bokehScale;\n  }\n  setBokehScale(value) {\n    this.bokehScale = value;\n  }\n  getTarget() {\n    return this.target;\n  }\n  setTarget(value) {\n    this.target = value;\n  }\n  calculateFocusDistance(target) {\n    const camera = this.camera;\n    const distance = camera.position.distanceTo(target);\n    return viewZToOrthographicDepth(-distance, camera.near, camera.far);\n  }\n  setDepthTexture(depthTexture, depthPacking = BasicDepthPacking13) {\n    this.circleOfConfusionMaterial.depthBuffer = depthTexture;\n    this.circleOfConfusionMaterial.depthPacking = depthPacking;\n  }\n  update(renderer, inputBuffer, deltaTime) {\n    const renderTarget = this.renderTarget;\n    const renderTargetCoC = this.renderTargetCoC;\n    const renderTargetCoCBlurred = this.renderTargetCoCBlurred;\n    const renderTargetMasked = this.renderTargetMasked;\n    if (this.target !== null) {\n      const distance = this.calculateFocusDistance(this.target);\n      this.circleOfConfusionMaterial.focusDistance = distance;\n    }\n    this.cocPass.render(renderer, null, renderTargetCoC);\n    this.blurPass.render(renderer, renderTargetCoC, renderTargetCoCBlurred);\n    this.maskPass.render(renderer, inputBuffer, renderTargetMasked);\n    this.bokehFarBasePass.render(renderer, renderTargetMasked, renderTarget);\n    this.bokehFarFillPass.render(renderer, renderTarget, this.renderTargetFar);\n    this.bokehNearBasePass.render(renderer, inputBuffer, renderTarget);\n    this.bokehNearFillPass.render(renderer, renderTarget, this.renderTargetNear);\n  }\n  setSize(width, height) {\n    const resolution = this.resolution;\n    resolution.setBaseSize(width, height);\n    const w = resolution.width, h = resolution.height;\n    this.cocPass.setSize(width, height);\n    this.blurPass.setSize(width, height);\n    this.maskPass.setSize(width, height);\n    this.renderTargetCoC.setSize(width, height);\n    this.renderTargetMasked.setSize(width, height);\n    this.renderTarget.setSize(w, h);\n    this.renderTargetNear.setSize(w, h);\n    this.renderTargetFar.setSize(w, h);\n    this.renderTargetCoCBlurred.setSize(w, h);\n    this.bokehNearBasePass.fullscreenMaterial.setSize(w, h);\n    this.bokehNearFillPass.fullscreenMaterial.setSize(w, h);\n    this.bokehFarBasePass.fullscreenMaterial.setSize(w, h);\n    this.bokehFarFillPass.fullscreenMaterial.setSize(w, h);\n    this.bokehNearBasePass.fullscreenMaterial.resolutionScale = resolution.scale;\n    this.bokehNearFillPass.fullscreenMaterial.resolutionScale = resolution.scale;\n    this.bokehFarBasePass.fullscreenMaterial.resolutionScale = resolution.scale;\n    this.bokehFarFillPass.fullscreenMaterial.resolutionScale = resolution.scale;\n  }\n  initialize(renderer, alpha, frameBufferType) {\n    this.cocPass.initialize(renderer, alpha, frameBufferType);\n    this.maskPass.initialize(renderer, alpha, frameBufferType);\n    this.bokehNearBasePass.initialize(renderer, alpha, frameBufferType);\n    this.bokehNearFillPass.initialize(renderer, alpha, frameBufferType);\n    this.bokehFarBasePass.initialize(renderer, alpha, frameBufferType);\n    this.bokehFarFillPass.initialize(renderer, alpha, frameBufferType);\n    this.blurPass.initialize(renderer, alpha, UnsignedByteType12);\n    if (frameBufferType !== void 0) {\n      this.renderTarget.texture.type = frameBufferType;\n      this.renderTargetNear.texture.type = frameBufferType;\n      this.renderTargetFar.texture.type = frameBufferType;\n      this.renderTargetMasked.texture.type = frameBufferType;\n      if (renderer.outputEncoding === sRGBEncoding10) {\n        this.renderTarget.texture.encoding = sRGBEncoding10;\n        this.renderTargetNear.texture.encoding = sRGBEncoding10;\n        this.renderTargetFar.texture.encoding = sRGBEncoding10;\n        this.renderTargetMasked.texture.encoding = sRGBEncoding10;\n      }\n    }\n  }\n};\n\n// src/effects/DotScreenEffect.js\nimport { Uniform as Uniform28, Vector2 as Vector218 } from \"three\";\n\n// src/effects/glsl/dot-screen.frag\nvar dot_screen_default = \"uniform vec2 angle;uniform float scale;float pattern(const in vec2 uv){vec2 point=scale*vec2(dot(angle.yx,vec2(uv.x,-uv.y)),dot(angle,uv));return(sin(point.x)*sin(point.y))*4.0;}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(inputColor.rgb*10.0-5.0+pattern(uv*resolution));outputColor=vec4(color,inputColor.a);}\";\n\n// src/effects/DotScreenEffect.js\nvar DotScreenEffect = class extends Effect {\n  constructor({ blendFunction, angle = Math.PI * 0.5, scale = 1 } = {}) {\n    super(\"DotScreenEffect\", dot_screen_default, {\n      blendFunction,\n      uniforms: /* @__PURE__ */ new Map([\n        [\"angle\", new Uniform28(new Vector218())],\n        [\"scale\", new Uniform28(scale)]\n      ])\n    });\n    this.angle = angle;\n  }\n  get angle() {\n    return Math.acos(this.uniforms.get(\"angle\").value.y);\n  }\n  set angle(value) {\n    this.uniforms.get(\"angle\").value.set(Math.sin(value), Math.cos(value));\n  }\n  getAngle() {\n    return this.angle;\n  }\n  setAngle(value) {\n    this.angle = value;\n  }\n  get scale() {\n    return this.uniforms.get(\"scale\").value;\n  }\n  set scale(value) {\n    this.uniforms.get(\"scale\").value = value;\n  }\n};\n\n// src/effects/glsl/fxaa.frag\nvar fxaa_default = \"\\n#define QUALITY(q) ((q) < 5 ? 1.0 : ((q) > 5 ? ((q) < 10 ? 2.0 : ((q) < 11 ? 4.0 : 8.0)) : 1.5))\\n#define ONE_OVER_TWELVE 0.08333333333333333\\nvarying vec2 vUvDown;varying vec2 vUvUp;varying vec2 vUvLeft;varying vec2 vUvRight;varying vec2 vUvDownLeft;varying vec2 vUvUpRight;varying vec2 vUvUpLeft;varying vec2 vUvDownRight;vec4 fxaa(const in vec4 inputColor,const in vec2 uv){float lumaCenter=linearToRelativeLuminance(inputColor.rgb);float lumaDown=linearToRelativeLuminance(texture2D(inputBuffer,vUvDown).rgb);float lumaUp=linearToRelativeLuminance(texture2D(inputBuffer,vUvUp).rgb);float lumaLeft=linearToRelativeLuminance(texture2D(inputBuffer,vUvLeft).rgb);float lumaRight=linearToRelativeLuminance(texture2D(inputBuffer,vUvRight).rgb);float lumaMin=min(lumaCenter,min(min(lumaDown,lumaUp),min(lumaLeft,lumaRight)));float lumaMax=max(lumaCenter,max(max(lumaDown,lumaUp),max(lumaLeft,lumaRight)));float lumaRange=lumaMax-lumaMin;if(lumaRange<max(EDGE_THRESHOLD_MIN,lumaMax*EDGE_THRESHOLD_MAX)){return inputColor;}float lumaDownLeft=linearToRelativeLuminance(texture2D(inputBuffer,vUvDownLeft).rgb);float lumaUpRight=linearToRelativeLuminance(texture2D(inputBuffer,vUvUpRight).rgb);float lumaUpLeft=linearToRelativeLuminance(texture2D(inputBuffer,vUvUpLeft).rgb);float lumaDownRight=linearToRelativeLuminance(texture2D(inputBuffer,vUvDownRight).rgb);float lumaDownUp=lumaDown+lumaUp;float lumaLeftRight=lumaLeft+lumaRight;float lumaLeftCorners=lumaDownLeft+lumaUpLeft;float lumaDownCorners=lumaDownLeft+lumaDownRight;float lumaRightCorners=lumaDownRight+lumaUpRight;float lumaUpCorners=lumaUpRight+lumaUpLeft;float edgeHorizontal=(abs(-2.0*lumaLeft+lumaLeftCorners)+abs(-2.0*lumaCenter+lumaDownUp)*2.0+abs(-2.0*lumaRight+lumaRightCorners));float edgeVertical=(abs(-2.0*lumaUp+lumaUpCorners)+abs(-2.0*lumaCenter+lumaLeftRight)*2.0+abs(-2.0*lumaDown+lumaDownCorners));bool isHorizontal=(edgeHorizontal>=edgeVertical);float stepLength=isHorizontal?texelSize.y:texelSize.x;float luma1=isHorizontal?lumaDown:lumaLeft;float luma2=isHorizontal?lumaUp:lumaRight;float gradient1=abs(luma1-lumaCenter);float gradient2=abs(luma2-lumaCenter);bool is1Steepest=gradient1>=gradient2;float gradientScaled=0.25*max(gradient1,gradient2);float lumaLocalAverage=0.0;if(is1Steepest){stepLength=-stepLength;lumaLocalAverage=0.5*(luma1+lumaCenter);}else{lumaLocalAverage=0.5*(luma2+lumaCenter);}vec2 currentUv=uv;if(isHorizontal){currentUv.y+=stepLength*0.5;}else{currentUv.x+=stepLength*0.5;}vec2 offset=isHorizontal?vec2(texelSize.x,0.0):vec2(0.0,texelSize.y);vec2 uv1=currentUv-offset*QUALITY(0);vec2 uv2=currentUv+offset*QUALITY(0);float lumaEnd1=linearToRelativeLuminance(texture2D(inputBuffer,uv1).rgb);float lumaEnd2=linearToRelativeLuminance(texture2D(inputBuffer,uv2).rgb);lumaEnd1-=lumaLocalAverage;lumaEnd2-=lumaLocalAverage;bool reached1=abs(lumaEnd1)>=gradientScaled;bool reached2=abs(lumaEnd2)>=gradientScaled;bool reachedBoth=reached1&&reached2;if(!reached1){uv1-=offset*QUALITY(1);}if(!reached2){uv2+=offset*QUALITY(1);}if(!reachedBoth){for(int i=2;i<SAMPLES;++i){if(!reached1){lumaEnd1=linearToRelativeLuminance(texture2D(inputBuffer,uv1).rgb);lumaEnd1=lumaEnd1-lumaLocalAverage;}if(!reached2){lumaEnd2=linearToRelativeLuminance(texture2D(inputBuffer,uv2).rgb);lumaEnd2=lumaEnd2-lumaLocalAverage;}reached1=abs(lumaEnd1)>=gradientScaled;reached2=abs(lumaEnd2)>=gradientScaled;reachedBoth=reached1&&reached2;if(!reached1){uv1-=offset*QUALITY(i);}if(!reached2){uv2+=offset*QUALITY(i);}if(reachedBoth){break;}}}float distance1=isHorizontal?(uv.x-uv1.x):(uv.y-uv1.y);float distance2=isHorizontal?(uv2.x-uv.x):(uv2.y-uv.y);bool isDirection1=distance1<distance2;float distanceFinal=min(distance1,distance2);float edgeThickness=(distance1+distance2);bool isLumaCenterSmaller=lumaCenter<lumaLocalAverage;bool correctVariation1=(lumaEnd1<0.0)!=isLumaCenterSmaller;bool correctVariation2=(lumaEnd2<0.0)!=isLumaCenterSmaller;bool correctVariation=isDirection1?correctVariation1:correctVariation2;float pixelOffset=-distanceFinal/edgeThickness+0.5;float finalOffset=correctVariation?pixelOffset:0.0;float lumaAverage=ONE_OVER_TWELVE*(2.0*(lumaDownUp+lumaLeftRight)+lumaLeftCorners+lumaRightCorners);float subPixelOffset1=clamp(abs(lumaAverage-lumaCenter)/lumaRange,0.0,1.0);float subPixelOffset2=(-2.0*subPixelOffset1+3.0)*subPixelOffset1*subPixelOffset1;float subPixelOffsetFinal=subPixelOffset2*subPixelOffset2*SUBPIXEL_QUALITY;finalOffset=max(finalOffset,subPixelOffsetFinal);vec2 finalUv=uv;if(isHorizontal){finalUv.y+=finalOffset*stepLength;}else{finalUv.x+=finalOffset*stepLength;}return texture2D(inputBuffer,finalUv);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=fxaa(inputColor,uv);}\";\n\n// src/effects/glsl/fxaa.vert\nvar fxaa_default2 = \"varying vec2 vUvDown;varying vec2 vUvUp;varying vec2 vUvLeft;varying vec2 vUvRight;varying vec2 vUvDownLeft;varying vec2 vUvUpRight;varying vec2 vUvUpLeft;varying vec2 vUvDownRight;void mainSupport(const in vec2 uv){vUvDown=uv+vec2(0.0,-1.0)*texelSize;vUvUp=uv+vec2(0.0,1.0)*texelSize;vUvRight=uv+vec2(1.0,0.0)*texelSize;vUvLeft=uv+vec2(-1.0,0.0)*texelSize;vUvDownLeft=uv+vec2(-1.0,-1.0)*texelSize;vUvUpRight=uv+vec2(1.0,1.0)*texelSize;vUvUpLeft=uv+vec2(-1.0,1.0)*texelSize;vUvDownRight=uv+vec2(1.0,-1.0)*texelSize;}\";\n\n// src/effects/FXAAEffect.js\nvar FXAAEffect = class extends Effect {\n  constructor({ blendFunction = BlendFunction.SRC } = {}) {\n    super(\"FXAAEffect\", fxaa_default, {\n      vertexShader: fxaa_default2,\n      blendFunction,\n      defines: /* @__PURE__ */ new Map([\n        [\"EDGE_THRESHOLD_MIN\", \"0.0312\"],\n        [\"EDGE_THRESHOLD_MAX\", \"0.125\"],\n        [\"SUBPIXEL_QUALITY\", \"0.75\"],\n        [\"SAMPLES\", \"12\"]\n      ])\n    });\n  }\n  get minEdgeThreshold() {\n    return Number(this.defines.get(\"EDGE_THRESHOLD_MIN\"));\n  }\n  set minEdgeThreshold(value) {\n    this.defines.set(\"EDGE_THRESHOLD_MIN\", value.toFixed(12));\n    this.setChanged();\n  }\n  get maxEdgeThreshold() {\n    return Number(this.defines.get(\"EDGE_THRESHOLD_MAX\"));\n  }\n  set maxEdgeThreshold(value) {\n    this.defines.set(\"EDGE_THRESHOLD_MAX\", value.toFixed(12));\n    this.setChanged();\n  }\n  get subpixelQuality() {\n    return Number(this.defines.get(\"SUBPIXEL_QUALITY\"));\n  }\n  set subpixelQuality(value) {\n    this.defines.set(\"SUBPIXEL_QUALITY\", value.toFixed(12));\n    this.setChanged();\n  }\n  get samples() {\n    return Number(this.defines.get(\"SAMPLES\"));\n  }\n  set samples(value) {\n    this.defines.set(\"SAMPLES\", value.toFixed(0));\n    this.setChanged();\n  }\n};\n\n// src/effects/GammaCorrectionEffect.js\nimport { Uniform as Uniform29 } from \"three\";\n\n// src/effects/glsl/gamma-correction.frag\nvar gamma_correction_default = \"uniform float gamma;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=LinearToGamma(max(inputColor,0.0),gamma);}\";\n\n// src/effects/GammaCorrectionEffect.js\nvar GammaCorrectionEffect = class extends Effect {\n  constructor({ blendFunction = BlendFunction.SRC, gamma = 2 } = {}) {\n    super(\"GammaCorrectionEffect\", gamma_correction_default, {\n      blendFunction,\n      uniforms: /* @__PURE__ */ new Map([\n        [\"gamma\", new Uniform29(gamma)]\n      ])\n    });\n  }\n};\n\n// src/effects/GlitchEffect.js\nimport { NearestFilter as NearestFilter6, RepeatWrapping, RGBAFormat as RGBAFormat3, Uniform as Uniform30, Vector2 as Vector219 } from \"three\";\n\n// src/textures/NoiseTexture.js\nimport {\n  DataTexture,\n  LuminanceFormat,\n  RedFormat,\n  RGFormat,\n  RGBAFormat as RGBAFormat2,\n  UnsignedByteType as UnsignedByteType13\n} from \"three\";\nfunction getNoise(size, format, type) {\n  const channels = /* @__PURE__ */ new Map([\n    [LuminanceFormat, 1],\n    [RedFormat, 1],\n    [RGFormat, 2],\n    [RGBAFormat2, 4]\n  ]);\n  let data;\n  if (!channels.has(format)) {\n    console.error(\"Invalid noise texture format\");\n  }\n  if (type === UnsignedByteType13) {\n    data = new Uint8Array(size * channels.get(format));\n    for (let i = 0, l = data.length; i < l; ++i) {\n      data[i] = Math.random() * 255 + 0.5;\n    }\n  } else {\n    data = new Float32Array(size * channels.get(format));\n    for (let i = 0, l = data.length; i < l; ++i) {\n      data[i] = Math.random();\n    }\n  }\n  return data;\n}\nvar NoiseTexture = class extends DataTexture {\n  constructor(width, height, format = LuminanceFormat, type = UnsignedByteType13) {\n    super(getNoise(width * height, format, type), width, height, format, type);\n    this.needsUpdate = true;\n  }\n};\n\n// src/effects/glsl/glitch.frag\nvar glitch_default = \"uniform lowp sampler2D perturbationMap;uniform bool active;uniform float columns;uniform float random;uniform vec2 seeds;uniform vec2 distortion;void mainUv(inout vec2 uv){if(active){if(uv.y<distortion.x+columns&&uv.y>distortion.x-columns*random){float sx=clamp(ceil(seeds.x),0.0,1.0);uv.y=sx*(1.0-(uv.y+distortion.y))+(1.0-sx)*distortion.y;}if(uv.x<distortion.y+columns&&uv.x>distortion.y-columns*random){float sy=clamp(ceil(seeds.y),0.0,1.0);uv.x=sy*distortion.x+(1.0-sy)*(1.0-(uv.x+distortion.x));}vec2 normal=texture2D(perturbationMap,uv*random*random).rg;uv+=normal*seeds*(random*0.2);}}\";\n\n// src/effects/GlitchEffect.js\nvar textureTag = \"Glitch.Generated\";\nfunction randomFloat(low, high) {\n  return low + Math.random() * (high - low);\n}\nvar GlitchEffect = class extends Effect {\n  constructor({\n    chromaticAberrationOffset = null,\n    delay = new Vector219(1.5, 3.5),\n    duration = new Vector219(0.6, 1),\n    strength = new Vector219(0.3, 1),\n    columns = 0.05,\n    ratio = 0.85,\n    perturbationMap = null,\n    dtSize = 64\n  } = {}) {\n    super(\"GlitchEffect\", glitch_default, {\n      uniforms: /* @__PURE__ */ new Map([\n        [\"perturbationMap\", new Uniform30(null)],\n        [\"columns\", new Uniform30(columns)],\n        [\"active\", new Uniform30(false)],\n        [\"random\", new Uniform30(1)],\n        [\"seeds\", new Uniform30(new Vector219())],\n        [\"distortion\", new Uniform30(new Vector219())]\n      ])\n    });\n    if (perturbationMap === null) {\n      const map = new NoiseTexture(dtSize, dtSize, RGBAFormat3);\n      map.name = textureTag;\n      this.perturbationMap = map;\n    } else {\n      this.perturbationMap = perturbationMap;\n    }\n    this.time = 0;\n    this.distortion = this.uniforms.get(\"distortion\").value;\n    this.delay = delay;\n    this.duration = duration;\n    this.breakPoint = new Vector219(randomFloat(this.delay.x, this.delay.y), randomFloat(this.duration.x, this.duration.y));\n    this.strength = strength;\n    this.mode = GlitchMode.SPORADIC;\n    this.ratio = ratio;\n    this.chromaticAberrationOffset = chromaticAberrationOffset;\n  }\n  get seeds() {\n    return this.uniforms.get(\"seeds\").value;\n  }\n  get active() {\n    return this.uniforms.get(\"active\").value;\n  }\n  isActive() {\n    return this.active;\n  }\n  get minDelay() {\n    return this.delay.x;\n  }\n  set minDelay(value) {\n    this.delay.x = value;\n  }\n  getMinDelay() {\n    return this.delay.x;\n  }\n  setMinDelay(value) {\n    this.delay.x = value;\n  }\n  get maxDelay() {\n    return this.delay.y;\n  }\n  set maxDelay(value) {\n    this.delay.y = value;\n  }\n  getMaxDelay() {\n    return this.delay.y;\n  }\n  setMaxDelay(value) {\n    this.delay.y = value;\n  }\n  get minDuration() {\n    return this.duration.x;\n  }\n  set minDuration(value) {\n    this.duration.x = value;\n  }\n  getMinDuration() {\n    return this.duration.x;\n  }\n  setMinDuration(value) {\n    this.duration.x = value;\n  }\n  get maxDuration() {\n    return this.duration.y;\n  }\n  set maxDuration(value) {\n    this.duration.y = value;\n  }\n  getMaxDuration() {\n    return this.duration.y;\n  }\n  setMaxDuration(value) {\n    this.duration.y = value;\n  }\n  get minStrength() {\n    return this.strength.x;\n  }\n  set minStrength(value) {\n    this.strength.x = value;\n  }\n  getMinStrength() {\n    return this.strength.x;\n  }\n  setMinStrength(value) {\n    this.strength.x = value;\n  }\n  get maxStrength() {\n    return this.strength.y;\n  }\n  set maxStrength(value) {\n    this.strength.y = value;\n  }\n  getMaxStrength() {\n    return this.strength.y;\n  }\n  setMaxStrength(value) {\n    this.strength.y = value;\n  }\n  getMode() {\n    return this.mode;\n  }\n  setMode(value) {\n    this.mode = value;\n  }\n  getGlitchRatio() {\n    return 1 - this.ratio;\n  }\n  setGlitchRatio(value) {\n    this.ratio = Math.min(Math.max(1 - value, 0), 1);\n  }\n  get columns() {\n    return this.uniforms.get(\"columns\").value;\n  }\n  set columns(value) {\n    this.uniforms.get(\"columns\").value = value;\n  }\n  getGlitchColumns() {\n    return this.columns;\n  }\n  setGlitchColumns(value) {\n    this.columns = value;\n  }\n  getChromaticAberrationOffset() {\n    return this.chromaticAberrationOffset;\n  }\n  setChromaticAberrationOffset(value) {\n    this.chromaticAberrationOffset = value;\n  }\n  get perturbationMap() {\n    return this.uniforms.get(\"perturbationMap\").value;\n  }\n  set perturbationMap(value) {\n    const currentMap = this.perturbationMap;\n    if (currentMap !== null && currentMap.name === textureTag) {\n      currentMap.dispose();\n    }\n    value.minFilter = value.magFilter = NearestFilter6;\n    value.wrapS = value.wrapT = RepeatWrapping;\n    value.generateMipmaps = false;\n    this.uniforms.get(\"perturbationMap\").value = value;\n  }\n  getPerturbationMap() {\n    return this.perturbationMap;\n  }\n  setPerturbationMap(value) {\n    this.perturbationMap = value;\n  }\n  generatePerturbationMap(value = 64) {\n    const map = new NoiseTexture(value, value, RGBAFormat3);\n    map.name = textureTag;\n    return map;\n  }\n  update(renderer, inputBuffer, deltaTime) {\n    const mode = this.mode;\n    const breakPoint = this.breakPoint;\n    const offset = this.chromaticAberrationOffset;\n    const s = this.strength;\n    let time = this.time;\n    let active = false;\n    let r = 0, a = 0;\n    let trigger;\n    if (mode !== GlitchMode.DISABLED) {\n      if (mode === GlitchMode.SPORADIC) {\n        time += deltaTime;\n        trigger = time > breakPoint.x;\n        if (time >= breakPoint.x + breakPoint.y) {\n          breakPoint.set(randomFloat(this.delay.x, this.delay.y), randomFloat(this.duration.x, this.duration.y));\n          time = 0;\n        }\n      }\n      r = Math.random();\n      this.uniforms.get(\"random\").value = r;\n      if (trigger && r > this.ratio || mode === GlitchMode.CONSTANT_WILD) {\n        active = true;\n        r *= s.y * 0.03;\n        a = randomFloat(-Math.PI, Math.PI);\n        this.seeds.set(randomFloat(-s.y, s.y), randomFloat(-s.y, s.y));\n        this.distortion.set(randomFloat(0, 1), randomFloat(0, 1));\n      } else if (trigger || mode === GlitchMode.CONSTANT_MILD) {\n        active = true;\n        r *= s.x * 0.03;\n        a = randomFloat(-Math.PI, Math.PI);\n        this.seeds.set(randomFloat(-s.x, s.x), randomFloat(-s.x, s.x));\n        this.distortion.set(randomFloat(0, 1), randomFloat(0, 1));\n      }\n      this.time = time;\n    }\n    if (offset !== null) {\n      if (active) {\n        offset.set(Math.cos(a), Math.sin(a)).multiplyScalar(r);\n      } else {\n        offset.set(0, 0);\n      }\n    }\n    this.uniforms.get(\"active\").value = active;\n  }\n  dispose() {\n    const map = this.perturbationMap;\n    if (map !== null && map.name === textureTag) {\n      map.dispose();\n    }\n  }\n};\n\n// src/effects/GodRaysEffect.js\nimport {\n  BasicDepthPacking as BasicDepthPacking14,\n  Color as Color4,\n  DepthTexture as DepthTexture2,\n  Matrix4 as Matrix42,\n  Scene as Scene3,\n  sRGBEncoding as sRGBEncoding11,\n  Uniform as Uniform31,\n  Vector2 as Vector220,\n  Vector3,\n  WebGLRenderTarget as WebGLRenderTarget14\n} from \"three\";\n\n// src/effects/glsl/god-rays.frag\nvar god_rays_default = \"#ifdef FRAMEBUFFER_PRECISION_HIGH\\nuniform mediump sampler2D map;\\n#else\\nuniform lowp sampler2D map;\\n#endif\\nvoid mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=texture2D(map,uv);}\";\n\n// src/effects/GodRaysEffect.js\nvar v = new Vector3();\nvar m = new Matrix42();\nvar GodRaysEffect = class extends Effect {\n  constructor(camera, lightSource, {\n    blendFunction = BlendFunction.SCREEN,\n    samples = 60,\n    density = 0.96,\n    decay = 0.9,\n    weight = 0.4,\n    exposure = 0.6,\n    clampMax = 1,\n    blur = true,\n    kernelSize = KernelSize.SMALL,\n    resolutionScale = 0.5,\n    width = Resolution.AUTO_SIZE,\n    height = Resolution.AUTO_SIZE,\n    resolutionX = width,\n    resolutionY = height\n  } = {}) {\n    super(\"GodRaysEffect\", god_rays_default, {\n      blendFunction,\n      attributes: EffectAttribute.DEPTH,\n      uniforms: /* @__PURE__ */ new Map([\n        [\"map\", new Uniform31(null)]\n      ])\n    });\n    this.camera = camera;\n    this.lightSource = lightSource;\n    this.lightSource.material.depthWrite = false;\n    this.lightSource.material.transparent = true;\n    this.lightScene = new Scene3();\n    this.screenPosition = new Vector220();\n    this.renderTargetA = new WebGLRenderTarget14(1, 1, { depthBuffer: false });\n    this.renderTargetA.texture.name = \"GodRays.Target.A\";\n    this.renderTargetB = this.renderTargetA.clone();\n    this.renderTargetB.texture.name = \"GodRays.Target.B\";\n    this.uniforms.get(\"map\").value = this.renderTargetB.texture;\n    this.renderTargetLight = new WebGLRenderTarget14(1, 1);\n    this.renderTargetLight.texture.name = \"GodRays.Light\";\n    this.renderTargetLight.depthTexture = new DepthTexture2();\n    this.renderPassLight = new RenderPass(this.lightScene, camera);\n    this.renderPassLight.clearPass.overrideClearColor = new Color4(0);\n    this.clearPass = new ClearPass(true, false, false);\n    this.clearPass.overrideClearColor = new Color4(0);\n    this.blurPass = new KawaseBlurPass({ kernelSize });\n    this.blurPass.enabled = blur;\n    this.depthMaskPass = new ShaderPass(new DepthMaskMaterial());\n    const depthMaskMaterial = this.depthMaskPass.fullscreenMaterial;\n    depthMaskMaterial.depthBuffer1 = this.renderTargetLight.depthTexture;\n    depthMaskMaterial.adoptCameraSettings(camera);\n    this.godRaysPass = new ShaderPass(new GodRaysMaterial(this.screenPosition));\n    const godRaysMaterial = this.godRaysPass.fullscreenMaterial;\n    godRaysMaterial.density = density;\n    godRaysMaterial.decay = decay;\n    godRaysMaterial.weight = weight;\n    godRaysMaterial.exposure = exposure;\n    godRaysMaterial.maxIntensity = clampMax;\n    godRaysMaterial.samples = samples;\n    const resolution = this.resolution = new Resolution(this, resolutionX, resolutionY, resolutionScale);\n    resolution.addEventListener(\"change\", (e) => this.setSize(resolution.baseWidth, resolution.baseHeight));\n  }\n  getBlurPass() {\n    return this.blurPass;\n  }\n  get texture() {\n    return this.renderTargetB.texture;\n  }\n  getTexture() {\n    return this.texture;\n  }\n  get depthMaskMaterial() {\n    return this.depthMaskPass.fullscreenMaterial;\n  }\n  get godRaysMaterial() {\n    return this.godRaysPass.fullscreenMaterial;\n  }\n  getGodRaysMaterial() {\n    return this.godRaysMaterial;\n  }\n  getResolution() {\n    return this.resolution;\n  }\n  get width() {\n    return this.resolution.width;\n  }\n  set width(value) {\n    this.resolution.preferredWidth = value;\n  }\n  get height() {\n    return this.resolution.height;\n  }\n  set height(value) {\n    this.resolution.preferredHeight = value;\n  }\n  get dithering() {\n    return this.godRaysMaterial.dithering;\n  }\n  set dithering(value) {\n    const material = this.godRaysMaterial;\n    material.dithering = value;\n    material.needsUpdate = true;\n  }\n  get blur() {\n    return this.blurPass.enabled;\n  }\n  set blur(value) {\n    this.blurPass.enabled = value;\n  }\n  get kernelSize() {\n    return this.blurPass.kernelSize;\n  }\n  set kernelSize(value) {\n    this.blurPass.kernelSize = value;\n  }\n  getResolutionScale() {\n    return this.resolution.scale;\n  }\n  setResolutionScale(scale) {\n    this.resolution.scale = scale;\n  }\n  get samples() {\n    return this.godRaysMaterial.samples;\n  }\n  set samples(value) {\n    this.godRaysMaterial.samples = value;\n  }\n  setDepthTexture(depthTexture, depthPacking = BasicDepthPacking14) {\n    this.depthMaskPass.fullscreenMaterial.depthBuffer0 = depthTexture;\n    this.depthMaskPass.fullscreenMaterial.depthPacking0 = depthPacking;\n  }\n  update(renderer, inputBuffer, deltaTime) {\n    const lightSource = this.lightSource;\n    const parent = lightSource.parent;\n    const matrixAutoUpdate = lightSource.matrixAutoUpdate;\n    const renderTargetA = this.renderTargetA;\n    const renderTargetLight = this.renderTargetLight;\n    lightSource.material.depthWrite = true;\n    lightSource.matrixAutoUpdate = false;\n    lightSource.updateWorldMatrix(true, false);\n    if (parent !== null) {\n      if (!matrixAutoUpdate) {\n        m.copy(lightSource.matrix);\n      }\n      lightSource.matrix.copy(lightSource.matrixWorld);\n    }\n    this.lightScene.add(lightSource);\n    this.renderPassLight.render(renderer, renderTargetLight);\n    this.clearPass.render(renderer, renderTargetA);\n    this.depthMaskPass.render(renderer, renderTargetLight, renderTargetA);\n    lightSource.material.depthWrite = false;\n    lightSource.matrixAutoUpdate = matrixAutoUpdate;\n    if (parent !== null) {\n      if (!matrixAutoUpdate) {\n        lightSource.matrix.copy(m);\n      }\n      parent.add(lightSource);\n    }\n    v.setFromMatrixPosition(lightSource.matrixWorld).project(this.camera);\n    this.screenPosition.set(Math.min(Math.max((v.x + 1) * 0.5, -1), 2), Math.min(Math.max((v.y + 1) * 0.5, -1), 2));\n    if (this.blurPass.enabled) {\n      this.blurPass.render(renderer, renderTargetA, renderTargetA);\n    }\n    this.godRaysPass.render(renderer, renderTargetA, this.renderTargetB);\n  }\n  setSize(width, height) {\n    const resolution = this.resolution;\n    resolution.setBaseSize(width, height);\n    const w = resolution.width, h = resolution.height;\n    this.renderTargetA.setSize(w, h);\n    this.renderTargetB.setSize(w, h);\n    this.renderTargetLight.setSize(w, h);\n    this.blurPass.resolution.copy(resolution);\n  }\n  initialize(renderer, alpha, frameBufferType) {\n    this.blurPass.initialize(renderer, alpha, frameBufferType);\n    this.renderPassLight.initialize(renderer, alpha, frameBufferType);\n    this.depthMaskPass.initialize(renderer, alpha, frameBufferType);\n    this.godRaysPass.initialize(renderer, alpha, frameBufferType);\n    if (frameBufferType !== void 0) {\n      this.renderTargetA.texture.type = frameBufferType;\n      this.renderTargetB.texture.type = frameBufferType;\n      this.renderTargetLight.texture.type = frameBufferType;\n      if (renderer.outputEncoding === sRGBEncoding11) {\n        this.renderTargetA.texture.encoding = sRGBEncoding11;\n        this.renderTargetB.texture.encoding = sRGBEncoding11;\n        this.renderTargetLight.texture.encoding = sRGBEncoding11;\n      }\n    }\n  }\n};\n\n// src/effects/GridEffect.js\nimport { Uniform as Uniform32, Vector2 as Vector221 } from \"three\";\n\n// src/effects/glsl/grid.frag\nvar grid_default = \"uniform vec2 scale;uniform float lineWidth;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){float grid=0.5-max(abs(mod(uv.x*scale.x,1.0)-0.5),abs(mod(uv.y*scale.y,1.0)-0.5));outputColor=vec4(vec3(smoothstep(0.0,lineWidth,grid)),inputColor.a);}\";\n\n// src/effects/GridEffect.js\nvar GridEffect = class extends Effect {\n  constructor({ blendFunction = BlendFunction.OVERLAY, scale = 1, lineWidth = 0 } = {}) {\n    super(\"GridEffect\", grid_default, {\n      blendFunction,\n      uniforms: /* @__PURE__ */ new Map([\n        [\"scale\", new Uniform32(new Vector221())],\n        [\"lineWidth\", new Uniform32(lineWidth)]\n      ])\n    });\n    this.resolution = new Vector221();\n    this.s = 0;\n    this.scale = scale;\n    this.l = 0;\n    this.lineWidth = lineWidth;\n  }\n  get scale() {\n    return this.s;\n  }\n  set scale(value) {\n    this.s = Math.max(value, 1e-6);\n    this.setSize(this.resolution.width, this.resolution.height);\n  }\n  getScale() {\n    return this.scale;\n  }\n  setScale(value) {\n    this.scale = value;\n  }\n  get lineWidth() {\n    return this.l;\n  }\n  set lineWidth(value) {\n    this.l = value;\n    this.setSize(this.resolution.width, this.resolution.height);\n  }\n  getLineWidth() {\n    return this.lineWidth;\n  }\n  setLineWidth(value) {\n    this.lineWidth = value;\n  }\n  setSize(width, height) {\n    this.resolution.set(width, height);\n    const aspect = width / height;\n    const scale = this.scale * (height * 0.125);\n    this.uniforms.get(\"scale\").value.set(aspect * scale, scale);\n    this.uniforms.get(\"lineWidth\").value = scale / height + this.lineWidth;\n  }\n};\n\n// src/effects/HueSaturationEffect.js\nimport { Uniform as Uniform33, Vector3 as Vector32 } from \"three\";\n\n// src/effects/glsl/hue-saturation.frag\nvar hue_saturation_default = \"uniform vec3 hue;uniform float saturation;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,hue.xyz),dot(inputColor.rgb,hue.zxy),dot(inputColor.rgb,hue.yzx));float average=(color.r+color.g+color.b)/3.0;vec3 diff=average-color;if(saturation>0.0){color+=diff*(1.0-1.0/(1.001-saturation));}else{color+=diff*-saturation;}outputColor=vec4(min(color,1.0),inputColor.a);}\";\n\n// src/effects/HueSaturationEffect.js\nvar HueSaturationEffect = class extends Effect {\n  constructor({ blendFunction = BlendFunction.SRC, hue = 0, saturation = 0 } = {}) {\n    super(\"HueSaturationEffect\", hue_saturation_default, {\n      blendFunction,\n      uniforms: /* @__PURE__ */ new Map([\n        [\"hue\", new Uniform33(new Vector32())],\n        [\"saturation\", new Uniform33(saturation)]\n      ])\n    });\n    this.hue = hue;\n  }\n  get saturation() {\n    return this.uniforms.get(\"saturation\").value;\n  }\n  set saturation(value) {\n    this.uniforms.get(\"saturation\").value = value;\n  }\n  getSaturation() {\n    return this.saturation;\n  }\n  setSaturation(value) {\n    this.saturation = value;\n  }\n  get hue() {\n    const hue = this.uniforms.get(\"hue\").value;\n    return Math.acos((hue.x * 3 - 1) / 2);\n  }\n  set hue(value) {\n    const s = Math.sin(value), c2 = Math.cos(value);\n    this.uniforms.get(\"hue\").value.set((2 * c2 + 1) / 3, (-Math.sqrt(3) * s - c2 + 1) / 3, (Math.sqrt(3) * s - c2 + 1) / 3);\n  }\n  getHue() {\n    return this.hue;\n  }\n  setHue(value) {\n    this.hue = value;\n  }\n};\n\n// src/effects/LUT1DEffect.js\nimport { FloatType as FloatType4, HalfFloatType, Uniform as Uniform34 } from \"three\";\n\n// src/effects/glsl/lut-1d.frag\nvar lut_1d_default = \"#ifdef LUT_PRECISION_HIGH\\n#ifdef GL_FRAGMENT_PRECISION_HIGH\\nuniform highp sampler2D lut;\\n#else\\nuniform mediump sampler2D lut;\\n#endif\\n#else\\nuniform lowp sampler2D lut;\\n#endif\\nvoid mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=vec4(texture2D(lut,vec2(inputColor.r,0.5)).r,texture2D(lut,vec2(inputColor.g,0.5)).r,texture2D(lut,vec2(inputColor.b,0.5)).r,inputColor.a);}\";\n\n// src/effects/LUT1DEffect.js\nvar LUT1DEffect = class extends Effect {\n  constructor(lut, { blendFunction = BlendFunction.SRC } = {}) {\n    super(\"LUT1DEffect\", lut_1d_default, {\n      blendFunction,\n      uniforms: /* @__PURE__ */ new Map([[\"lut\", new Uniform34(null)]])\n    });\n    this.lut = lut;\n  }\n  get lut() {\n    return this.uniforms.get(\"lut\").value;\n  }\n  set lut(value) {\n    this.uniforms.get(\"lut\").value = value;\n    if (value !== null && (value.type === FloatType4 || value.type === HalfFloatType)) {\n      this.defines.set(\"LUT_PRECISION_HIGH\", \"1\");\n    }\n  }\n};\n\n// src/effects/LUT3DEffect.js\nimport {\n  DataTexture3D as DataTexture3D2,\n  FloatType as FloatType6,\n  HalfFloatType as HalfFloatType2,\n  LinearFilter as LinearFilter4,\n  NearestFilter as NearestFilter7,\n  sRGBEncoding as sRGBEncoding13,\n  Uniform as Uniform35,\n  Vector3 as Vector34\n} from \"three\";\n\n// src/textures/lut/LookupTexture.js\nimport {\n  Color as Color5,\n  ClampToEdgeWrapping,\n  DataTexture as DataTexture2,\n  DataTexture3D,\n  FloatType as FloatType5,\n  LinearFilter as LinearFilter3,\n  LinearEncoding as LinearEncoding4,\n  RGBAFormat as RGBAFormat4,\n  sRGBEncoding as sRGBEncoding12,\n  UnsignedByteType as UnsignedByteType14,\n  Vector3 as Vector33\n} from \"three\";\n\n// src/textures/RawImageData.js\nfunction createCanvas(width, height, data) {\n  const canvas = document.createElement(\"canvas\");\n  const context = canvas.getContext(\"2d\");\n  canvas.width = width;\n  canvas.height = height;\n  if (data instanceof Image) {\n    context.drawImage(data, 0, 0);\n  } else {\n    const imageData = context.createImageData(width, height);\n    imageData.data.set(data);\n    context.putImageData(imageData, 0, 0);\n  }\n  return canvas;\n}\nvar RawImageData = class {\n  constructor(width = 0, height = 0, data = null) {\n    this.width = width;\n    this.height = height;\n    this.data = data;\n  }\n  toCanvas() {\n    return typeof document === \"undefined\" ? null : createCanvas(this.width, this.height, this.data);\n  }\n  static from(image) {\n    const { width, height } = image;\n    let data;\n    if (image instanceof Image) {\n      const canvas = createCanvas(width, height, image);\n      if (canvas !== null) {\n        const context = canvas.getContext(\"2d\");\n        data = context.getImageData(0, 0, width, height).data;\n      }\n    } else {\n      data = image.data;\n    }\n    return new RawImageData(width, height, data);\n  }\n};\n\n// tmp/lut/worker.txt\nvar worker_default = '\"use strict\";(()=>{var O=Math.pow;var _={SCALE_UP:\"lut.scaleup\"};var k=[new Float32Array(3),new Float32Array(3)],n=[new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3)],Z=[[new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,0,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([1,0,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([0,1,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([0,1,1]),new Float32Array([1,1,1])]];function d(a,t,r,m){let i=r[0]-t[0],e=r[1]-t[1],y=r[2]-t[2],h=a[0]-t[0],A=a[1]-t[1],w=a[2]-t[2],c=e*w-y*A,l=y*h-i*w,x=i*A-e*h,u=Math.sqrt(c*c+l*l+x*x),b=u*.5,s=c/u,F=l/u,f=x/u,p=-(a[0]*s+a[1]*F+a[2]*f),M=m[0]*s+m[1]*F+m[2]*f;return Math.abs(M+p)*b/3}function V(a,t,r,m,i,e){let y=(r+m*t+i*t*t)*4;e[0]=a[y+0],e[1]=a[y+1],e[2]=a[y+2]}function j(a,t,r,m,i,e){let y=r*(t-1),h=m*(t-1),A=i*(t-1),w=Math.floor(y),c=Math.floor(h),l=Math.floor(A),x=Math.ceil(y),u=Math.ceil(h),b=Math.ceil(A),s=y-w,F=h-c,f=A-l;if(w===y&&c===h&&l===A)V(a,t,y,h,A,e);else{let p;s>=F&&F>=f?p=Z[0]:s>=f&&f>=F?p=Z[1]:f>=s&&s>=F?p=Z[2]:F>=s&&s>=f?p=Z[3]:F>=f&&f>=s?p=Z[4]:f>=F&&F>=s&&(p=Z[5]);let[M,g,X,Y]=p,P=k[0];P[0]=s,P[1]=F,P[2]=f;let o=k[1],L=x-w,S=u-c,U=b-l;o[0]=L*M[0]+w,o[1]=S*M[1]+c,o[2]=U*M[2]+l,V(a,t,o[0],o[1],o[2],n[0]),o[0]=L*g[0]+w,o[1]=S*g[1]+c,o[2]=U*g[2]+l,V(a,t,o[0],o[1],o[2],n[1]),o[0]=L*X[0]+w,o[1]=S*X[1]+c,o[2]=U*X[2]+l,V(a,t,o[0],o[1],o[2],n[2]),o[0]=L*Y[0]+w,o[1]=S*Y[1]+c,o[2]=U*Y[2]+l,V(a,t,o[0],o[1],o[2],n[3]);let T=d(g,X,Y,P)*6,q=d(M,X,Y,P)*6,C=d(M,g,Y,P)*6,E=d(M,g,X,P)*6;n[0][0]*=T,n[0][1]*=T,n[0][2]*=T,n[1][0]*=q,n[1][1]*=q,n[1][2]*=q,n[2][0]*=C,n[2][1]*=C,n[2][2]*=C,n[3][0]*=E,n[3][1]*=E,n[3][2]*=E,e[0]=n[0][0]+n[1][0]+n[2][0]+n[3][0],e[1]=n[0][1]+n[1][1]+n[2][1]+n[3][1],e[2]=n[0][2]+n[1][2]+n[2][2]+n[3][2]}}var v=class{static expand(t,r){let m=Math.cbrt(t.length/4),i=new Float32Array(3),e=new t.constructor(O(r,3)*4),y=t instanceof Uint8Array?255:1,h=O(r,2),A=1/(r-1);for(let w=0;w<r;++w)for(let c=0;c<r;++c)for(let l=0;l<r;++l){let x=l*A,u=c*A,b=w*A,s=Math.round(l+c*r+w*h)*4;j(t,m,x,u,b,i),e[s+0]=i[0],e[s+1]=i[1],e[s+2]=i[2],e[s+3]=y}return e}};self.addEventListener(\"message\",a=>{let t=a.data,r=t.data;switch(t.operation){case _.SCALE_UP:r=v.expand(r,t.size);break}postMessage(r,[r.buffer]),close()});})();\\n';\n\n// src/textures/lut/LookupTexture.js\nvar c = new Color5();\nvar LookupTexture = class extends DataTexture3D {\n  constructor(data, size) {\n    super(data, size, size, size);\n    this.type = FloatType5;\n    this.format = RGBAFormat4;\n    this.encoding = LinearEncoding4;\n    this.minFilter = LinearFilter3;\n    this.magFilter = LinearFilter3;\n    this.wrapS = ClampToEdgeWrapping;\n    this.wrapT = ClampToEdgeWrapping;\n    this.wrapR = ClampToEdgeWrapping;\n    this.unpackAlignment = 1;\n    this.needsUpdate = true;\n    this.domainMin = new Vector33(0, 0, 0);\n    this.domainMax = new Vector33(1, 1, 1);\n  }\n  get isLookupTexture3D() {\n    return true;\n  }\n  scaleUp(size, transferData = true) {\n    const image = this.image;\n    let promise;\n    if (size <= image.width) {\n      promise = Promise.reject(new Error(\"The target size must be greater than the current size\"));\n    } else {\n      promise = new Promise((resolve, reject) => {\n        const workerURL = URL.createObjectURL(new Blob([worker_default], {\n          type: \"text/javascript\"\n        }));\n        const worker = new Worker(workerURL);\n        worker.addEventListener(\"error\", (event) => reject(event.error));\n        worker.addEventListener(\"message\", (event) => {\n          const lut = new LookupTexture(event.data, size);\n          lut.encoding = this.encoding;\n          lut.type = this.type;\n          lut.name = this.name;\n          URL.revokeObjectURL(workerURL);\n          resolve(lut);\n        });\n        const transferList = transferData ? [image.data.buffer] : [];\n        worker.postMessage({\n          operation: LUTOperation.SCALE_UP,\n          data: image.data,\n          size\n        }, transferList);\n      });\n    }\n    return promise;\n  }\n  applyLUT(lut) {\n    const img0 = this.image;\n    const img1 = lut.image;\n    const size0 = Math.min(img0.width, img0.height, img0.depth);\n    const size1 = Math.min(img1.width, img1.height, img1.depth);\n    if (size0 !== size1) {\n      console.error(\"Size mismatch\");\n    } else if (lut.type !== FloatType5 || this.type !== FloatType5) {\n      console.error(\"Both LUTs must be FloatType textures\");\n    } else if (lut.format !== RGBAFormat4 || this.format !== RGBAFormat4) {\n      console.error(\"Both LUTs must be RGBA textures\");\n    } else {\n      const data0 = img0.data;\n      const data1 = img1.data;\n      const size = size0;\n      const sizeSq = size ** 2;\n      const s = size - 1;\n      for (let i = 0, l = size ** 3; i < l; ++i) {\n        const i4 = i * 4;\n        const r = data0[i4 + 0] * s;\n        const g = data0[i4 + 1] * s;\n        const b = data0[i4 + 2] * s;\n        const iRGB = Math.round(r + g * size + b * sizeSq) * 4;\n        data0[i4 + 0] = data1[iRGB + 0];\n        data0[i4 + 1] = data1[iRGB + 1];\n        data0[i4 + 2] = data1[iRGB + 2];\n      }\n      this.needsUpdate = true;\n    }\n    return this;\n  }\n  convertToUint8() {\n    if (this.type === FloatType5) {\n      const floatData = this.image.data;\n      const uint8Data = new Uint8Array(floatData.length);\n      for (let i = 0, l = floatData.length; i < l; ++i) {\n        uint8Data[i] = floatData[i] * 255 + 0.5;\n      }\n      this.image.data = uint8Data;\n      this.type = UnsignedByteType14;\n      this.needsUpdate = true;\n    }\n    return this;\n  }\n  convertToFloat() {\n    if (this.type === UnsignedByteType14) {\n      const uint8Data = this.image.data;\n      const floatData = new Float32Array(uint8Data.length);\n      for (let i = 0, l = uint8Data.length; i < l; ++i) {\n        floatData[i] = uint8Data[i] / 255;\n      }\n      this.image.data = floatData;\n      this.type = FloatType5;\n      this.needsUpdate = true;\n    }\n    return this;\n  }\n  convertToRGBA() {\n    console.warn(\"LookupTexture\", \"convertToRGBA() is deprecated, LUTs are now RGBA by default\");\n    return this;\n  }\n  convertLinearToSRGB() {\n    const data = this.image.data;\n    if (this.type === FloatType5) {\n      for (let i = 0, l = data.length; i < l; i += 4) {\n        c.fromArray(data, i).convertLinearToSRGB().toArray(data, i);\n      }\n      this.encoding = sRGBEncoding12;\n      this.needsUpdate = true;\n    } else {\n      console.error(\"Color space conversion requires FloatType data\");\n    }\n    return this;\n  }\n  convertSRGBToLinear() {\n    const data = this.image.data;\n    if (this.type === FloatType5) {\n      for (let i = 0, l = data.length; i < l; i += 4) {\n        c.fromArray(data, i).convertSRGBToLinear().toArray(data, i);\n      }\n      this.encoding = LinearEncoding4;\n      this.needsUpdate = true;\n    } else {\n      console.error(\"Color space conversion requires FloatType data\");\n    }\n    return this;\n  }\n  toDataTexture() {\n    const width = this.image.width;\n    const height = this.image.height * this.image.depth;\n    const texture = new DataTexture2(this.image.data, width, height);\n    texture.name = this.name;\n    texture.type = this.type;\n    texture.format = this.format;\n    texture.encoding = this.encoding;\n    texture.minFilter = LinearFilter3;\n    texture.magFilter = LinearFilter3;\n    texture.wrapS = this.wrapS;\n    texture.wrapT = this.wrapT;\n    texture.generateMipmaps = false;\n    texture.needsUpdate = true;\n    return texture;\n  }\n  static from(texture) {\n    const image = texture.image;\n    const { width, height } = image;\n    const size = Math.min(width, height);\n    let data;\n    if (image instanceof Image) {\n      const rawImageData = RawImageData.from(image);\n      const src = rawImageData.data;\n      if (width > height) {\n        data = new Uint8Array(src.length);\n        for (let z = 0; z < size; ++z) {\n          for (let y = 0; y < size; ++y) {\n            for (let x = 0; x < size; ++x) {\n              const i4 = (x + z * size + y * size * size) * 4;\n              const j4 = (x + y * size + z * size * size) * 4;\n              data[j4 + 0] = src[i4 + 0];\n              data[j4 + 1] = src[i4 + 1];\n              data[j4 + 2] = src[i4 + 2];\n              data[j4 + 3] = src[i4 + 3];\n            }\n          }\n        }\n      } else {\n        data = new Uint8Array(src.buffer);\n      }\n    } else {\n      data = image.data.slice();\n    }\n    const lut = new LookupTexture(data, size);\n    lut.encoding = texture.encoding;\n    lut.type = texture.type;\n    lut.name = texture.name;\n    return lut;\n  }\n  static createNeutral(size) {\n    const data = new Float32Array(size ** 3 * 4);\n    const sizeSq = size ** 2;\n    const s = 1 / (size - 1);\n    for (let r = 0; r < size; ++r) {\n      for (let g = 0; g < size; ++g) {\n        for (let b = 0; b < size; ++b) {\n          const i4 = (r + g * size + b * sizeSq) * 4;\n          data[i4 + 0] = r * s;\n          data[i4 + 1] = g * s;\n          data[i4 + 2] = b * s;\n          data[i4 + 3] = 1;\n        }\n      }\n    }\n    const lut = new LookupTexture(data, size);\n    lut.name = \"neutral\";\n    return lut;\n  }\n};\n\n// src/textures/lut/TetrahedralUpscaler.js\nvar P = [\n  new Float32Array(3),\n  new Float32Array(3)\n];\nvar C = [\n  new Float32Array(3),\n  new Float32Array(3),\n  new Float32Array(3),\n  new Float32Array(3)\n];\nvar T = [\n  [\n    new Float32Array([0, 0, 0]),\n    new Float32Array([1, 0, 0]),\n    new Float32Array([1, 1, 0]),\n    new Float32Array([1, 1, 1])\n  ],\n  [\n    new Float32Array([0, 0, 0]),\n    new Float32Array([1, 0, 0]),\n    new Float32Array([1, 0, 1]),\n    new Float32Array([1, 1, 1])\n  ],\n  [\n    new Float32Array([0, 0, 0]),\n    new Float32Array([0, 0, 1]),\n    new Float32Array([1, 0, 1]),\n    new Float32Array([1, 1, 1])\n  ],\n  [\n    new Float32Array([0, 0, 0]),\n    new Float32Array([0, 1, 0]),\n    new Float32Array([1, 1, 0]),\n    new Float32Array([1, 1, 1])\n  ],\n  [\n    new Float32Array([0, 0, 0]),\n    new Float32Array([0, 1, 0]),\n    new Float32Array([0, 1, 1]),\n    new Float32Array([1, 1, 1])\n  ],\n  [\n    new Float32Array([0, 0, 0]),\n    new Float32Array([0, 0, 1]),\n    new Float32Array([0, 1, 1]),\n    new Float32Array([1, 1, 1])\n  ]\n];\nfunction calculateTetrahedronVolume(a, b, c2, d) {\n  const bcX = c2[0] - b[0];\n  const bcY = c2[1] - b[1];\n  const bcZ = c2[2] - b[2];\n  const baX = a[0] - b[0];\n  const baY = a[1] - b[1];\n  const baZ = a[2] - b[2];\n  const crossX = bcY * baZ - bcZ * baY;\n  const crossY = bcZ * baX - bcX * baZ;\n  const crossZ = bcX * baY - bcY * baX;\n  const length = Math.sqrt(crossX * crossX + crossY * crossY + crossZ * crossZ);\n  const triangleArea = length * 0.5;\n  const normalX = crossX / length;\n  const normalY = crossY / length;\n  const normalZ = crossZ / length;\n  const constant = -(a[0] * normalX + a[1] * normalY + a[2] * normalZ);\n  const dot = d[0] * normalX + d[1] * normalY + d[2] * normalZ;\n  const height = Math.abs(dot + constant);\n  return height * triangleArea / 3;\n}\nfunction sample(data, size, x, y, z, color2) {\n  const i4 = (x + y * size + z * size * size) * 4;\n  color2[0] = data[i4 + 0];\n  color2[1] = data[i4 + 1];\n  color2[2] = data[i4 + 2];\n}\nfunction tetrahedralSample(data, size, u, v3, w, color2) {\n  const px = u * (size - 1);\n  const py = v3 * (size - 1);\n  const pz = w * (size - 1);\n  const minX = Math.floor(px);\n  const minY = Math.floor(py);\n  const minZ = Math.floor(pz);\n  const maxX = Math.ceil(px);\n  const maxY = Math.ceil(py);\n  const maxZ = Math.ceil(pz);\n  const su = px - minX;\n  const sv = py - minY;\n  const sw = pz - minZ;\n  if (minX === px && minY === py && minZ === pz) {\n    sample(data, size, px, py, pz, color2);\n  } else {\n    let vertices;\n    if (su >= sv && sv >= sw) {\n      vertices = T[0];\n    } else if (su >= sw && sw >= sv) {\n      vertices = T[1];\n    } else if (sw >= su && su >= sv) {\n      vertices = T[2];\n    } else if (sv >= su && su >= sw) {\n      vertices = T[3];\n    } else if (sv >= sw && sw >= su) {\n      vertices = T[4];\n    } else if (sw >= sv && sv >= su) {\n      vertices = T[5];\n    }\n    const [P0, P1, P2, P3] = vertices;\n    const coords = P[0];\n    coords[0] = su;\n    coords[1] = sv;\n    coords[2] = sw;\n    const tmp = P[1];\n    const diffX = maxX - minX;\n    const diffY = maxY - minY;\n    const diffZ = maxZ - minZ;\n    tmp[0] = diffX * P0[0] + minX;\n    tmp[1] = diffY * P0[1] + minY;\n    tmp[2] = diffZ * P0[2] + minZ;\n    sample(data, size, tmp[0], tmp[1], tmp[2], C[0]);\n    tmp[0] = diffX * P1[0] + minX;\n    tmp[1] = diffY * P1[1] + minY;\n    tmp[2] = diffZ * P1[2] + minZ;\n    sample(data, size, tmp[0], tmp[1], tmp[2], C[1]);\n    tmp[0] = diffX * P2[0] + minX;\n    tmp[1] = diffY * P2[1] + minY;\n    tmp[2] = diffZ * P2[2] + minZ;\n    sample(data, size, tmp[0], tmp[1], tmp[2], C[2]);\n    tmp[0] = diffX * P3[0] + minX;\n    tmp[1] = diffY * P3[1] + minY;\n    tmp[2] = diffZ * P3[2] + minZ;\n    sample(data, size, tmp[0], tmp[1], tmp[2], C[3]);\n    const V0 = calculateTetrahedronVolume(P1, P2, P3, coords) * 6;\n    const V1 = calculateTetrahedronVolume(P0, P2, P3, coords) * 6;\n    const V2 = calculateTetrahedronVolume(P0, P1, P3, coords) * 6;\n    const V3 = calculateTetrahedronVolume(P0, P1, P2, coords) * 6;\n    C[0][0] *= V0;\n    C[0][1] *= V0;\n    C[0][2] *= V0;\n    C[1][0] *= V1;\n    C[1][1] *= V1;\n    C[1][2] *= V1;\n    C[2][0] *= V2;\n    C[2][1] *= V2;\n    C[2][2] *= V2;\n    C[3][0] *= V3;\n    C[3][1] *= V3;\n    C[3][2] *= V3;\n    color2[0] = C[0][0] + C[1][0] + C[2][0] + C[3][0];\n    color2[1] = C[0][1] + C[1][1] + C[2][1] + C[3][1];\n    color2[2] = C[0][2] + C[1][2] + C[2][2] + C[3][2];\n  }\n}\nvar TetrahedralUpscaler = class {\n  static expand(data, size) {\n    const originalSize = Math.cbrt(data.length / 4);\n    const rgb = new Float32Array(3);\n    const array = new data.constructor(size ** 3 * 4);\n    const maxValue = data instanceof Uint8Array ? 255 : 1;\n    const sizeSq = size ** 2;\n    const s = 1 / (size - 1);\n    for (let z = 0; z < size; ++z) {\n      for (let y = 0; y < size; ++y) {\n        for (let x = 0; x < size; ++x) {\n          const u = x * s;\n          const v3 = y * s;\n          const w = z * s;\n          const i4 = Math.round(x + y * size + z * sizeSq) * 4;\n          tetrahedralSample(data, originalSize, u, v3, w, rgb);\n          array[i4 + 0] = rgb[0];\n          array[i4 + 1] = rgb[1];\n          array[i4 + 2] = rgb[2];\n          array[i4 + 3] = maxValue;\n        }\n      }\n    }\n    return array;\n  }\n};\n\n// src/textures/smaa/SMAAAreaImageData.js\nvar area = [\n  new Float32Array(2),\n  new Float32Array(2)\n];\nvar ORTHOGONAL_SIZE = 16;\nvar DIAGONAL_SIZE = 20;\nvar DIAGONAL_SAMPLES = 30;\nvar SMOOTH_MAX_DISTANCE = 32;\nvar orthogonalSubsamplingOffsets = new Float32Array([\n  0,\n  -0.25,\n  0.25,\n  -0.125,\n  0.125,\n  -0.375,\n  0.375\n]);\nvar diagonalSubsamplingOffsets = [\n  new Float32Array([0, 0]),\n  new Float32Array([0.25, -0.25]),\n  new Float32Array([-0.25, 0.25]),\n  new Float32Array([0.125, -0.125]),\n  new Float32Array([-0.125, 0.125])\n];\nvar orthogonalEdges = [\n  new Uint8Array([0, 0]),\n  new Uint8Array([3, 0]),\n  new Uint8Array([0, 3]),\n  new Uint8Array([3, 3]),\n  new Uint8Array([1, 0]),\n  new Uint8Array([4, 0]),\n  new Uint8Array([1, 3]),\n  new Uint8Array([4, 3]),\n  new Uint8Array([0, 1]),\n  new Uint8Array([3, 1]),\n  new Uint8Array([0, 4]),\n  new Uint8Array([3, 4]),\n  new Uint8Array([1, 1]),\n  new Uint8Array([4, 1]),\n  new Uint8Array([1, 4]),\n  new Uint8Array([4, 4])\n];\nvar diagonalEdges = [\n  new Uint8Array([0, 0]),\n  new Uint8Array([1, 0]),\n  new Uint8Array([0, 2]),\n  new Uint8Array([1, 2]),\n  new Uint8Array([2, 0]),\n  new Uint8Array([3, 0]),\n  new Uint8Array([2, 2]),\n  new Uint8Array([3, 2]),\n  new Uint8Array([0, 1]),\n  new Uint8Array([1, 1]),\n  new Uint8Array([0, 3]),\n  new Uint8Array([1, 3]),\n  new Uint8Array([2, 1]),\n  new Uint8Array([3, 1]),\n  new Uint8Array([2, 3]),\n  new Uint8Array([3, 3])\n];\nfunction lerp(a, b, p) {\n  return a + (b - a) * p;\n}\nfunction saturate(a) {\n  return Math.min(Math.max(a, 0), 1);\n}\nfunction smoothArea(d) {\n  const a1 = area[0];\n  const a2 = area[1];\n  const b1X = Math.sqrt(a1[0] * 2) * 0.5;\n  const b1Y = Math.sqrt(a1[1] * 2) * 0.5;\n  const b2X = Math.sqrt(a2[0] * 2) * 0.5;\n  const b2Y = Math.sqrt(a2[1] * 2) * 0.5;\n  const p = saturate(d / SMOOTH_MAX_DISTANCE);\n  a1[0] = lerp(b1X, a1[0], p);\n  a1[1] = lerp(b1Y, a1[1], p);\n  a2[0] = lerp(b2X, a2[0], p);\n  a2[1] = lerp(b2Y, a2[1], p);\n}\nfunction getOrthArea(p1X, p1Y, p2X, p2Y, x, result) {\n  const dX = p2X - p1X;\n  const dY = p2Y - p1Y;\n  const x1 = x;\n  const x2 = x + 1;\n  const y1 = p1Y + dY * (x1 - p1X) / dX;\n  const y2 = p1Y + dY * (x2 - p1X) / dX;\n  if (x1 >= p1X && x1 < p2X || x2 > p1X && x2 <= p2X) {\n    if (Math.sign(y1) === Math.sign(y2) || Math.abs(y1) < 1e-4 || Math.abs(y2) < 1e-4) {\n      const a = (y1 + y2) / 2;\n      if (a < 0) {\n        result[0] = Math.abs(a);\n        result[1] = 0;\n      } else {\n        result[0] = 0;\n        result[1] = Math.abs(a);\n      }\n    } else {\n      const t = -p1Y * dX / dY + p1X;\n      const tInt = Math.trunc(t);\n      const a1 = t > p1X ? y1 * (t - tInt) / 2 : 0;\n      const a2 = t < p2X ? y2 * (1 - (t - tInt)) / 2 : 0;\n      const a = Math.abs(a1) > Math.abs(a2) ? a1 : -a2;\n      if (a < 0) {\n        result[0] = Math.abs(a1);\n        result[1] = Math.abs(a2);\n      } else {\n        result[0] = Math.abs(a2);\n        result[1] = Math.abs(a1);\n      }\n    }\n  } else {\n    result[0] = 0;\n    result[1] = 0;\n  }\n  return result;\n}\nfunction getOrthAreaForPattern(pattern, left, right, offset, result) {\n  const a1 = area[0];\n  const a2 = area[1];\n  const o1 = 0.5 + offset;\n  const o2 = 0.5 + offset - 1;\n  const d = left + right + 1;\n  switch (pattern) {\n    case 0: {\n      result[0] = 0;\n      result[1] = 0;\n      break;\n    }\n    case 1: {\n      if (left <= right) {\n        getOrthArea(0, o2, d / 2, 0, left, result);\n      } else {\n        result[0] = 0;\n        result[1] = 0;\n      }\n      break;\n    }\n    case 2: {\n      if (left >= right) {\n        getOrthArea(d / 2, 0, d, o2, left, result);\n      } else {\n        result[0] = 0;\n        result[1] = 0;\n      }\n      break;\n    }\n    case 3: {\n      getOrthArea(0, o2, d / 2, 0, left, a1);\n      getOrthArea(d / 2, 0, d, o2, left, a2);\n      smoothArea(d, area);\n      result[0] = a1[0] + a2[0];\n      result[1] = a1[1] + a2[1];\n      break;\n    }\n    case 4: {\n      if (left <= right) {\n        getOrthArea(0, o1, d / 2, 0, left, result);\n      } else {\n        result[0] = 0;\n        result[1] = 0;\n      }\n      break;\n    }\n    case 5: {\n      result[0] = 0;\n      result[1] = 0;\n      break;\n    }\n    case 6: {\n      if (Math.abs(offset) > 0) {\n        getOrthArea(0, o1, d, o2, left, a1);\n        getOrthArea(0, o1, d / 2, 0, left, a2);\n        getOrthArea(d / 2, 0, d, o2, left, result);\n        a2[0] = a2[0] + result[0];\n        a2[1] = a2[1] + result[1];\n        result[0] = (a1[0] + a2[0]) / 2;\n        result[1] = (a1[1] + a2[1]) / 2;\n      } else {\n        getOrthArea(0, o1, d, o2, left, result);\n      }\n      break;\n    }\n    case 7: {\n      getOrthArea(0, o1, d, o2, left, result);\n      break;\n    }\n    case 8: {\n      if (left >= right) {\n        getOrthArea(d / 2, 0, d, o1, left, result);\n      } else {\n        result[0] = 0;\n        result[1] = 0;\n      }\n      break;\n    }\n    case 9: {\n      if (Math.abs(offset) > 0) {\n        getOrthArea(0, o2, d, o1, left, a1);\n        getOrthArea(0, o2, d / 2, 0, left, a2);\n        getOrthArea(d / 2, 0, d, o1, left, result);\n        a2[0] = a2[0] + result[0];\n        a2[1] = a2[1] + result[1];\n        result[0] = (a1[0] + a2[0]) / 2;\n        result[1] = (a1[1] + a2[1]) / 2;\n      } else {\n        getOrthArea(0, o2, d, o1, left, result);\n      }\n      break;\n    }\n    case 10: {\n      result[0] = 0;\n      result[1] = 0;\n      break;\n    }\n    case 11: {\n      getOrthArea(0, o2, d, o1, left, result);\n      break;\n    }\n    case 12: {\n      getOrthArea(0, o1, d / 2, 0, left, a1);\n      getOrthArea(d / 2, 0, d, o1, left, a2);\n      smoothArea(d, area);\n      result[0] = a1[0] + a2[0];\n      result[1] = a1[1] + a2[1];\n      break;\n    }\n    case 13: {\n      getOrthArea(0, o2, d, o1, left, result);\n      break;\n    }\n    case 14: {\n      getOrthArea(0, o1, d, o2, left, result);\n      break;\n    }\n    case 15: {\n      result[0] = 0;\n      result[1] = 0;\n      break;\n    }\n  }\n  return result;\n}\nfunction isInsideArea(a1X, a1Y, a2X, a2Y, x, y) {\n  let result = a1X === a2X && a1Y === a2Y;\n  if (!result) {\n    const xm = (a1X + a2X) / 2;\n    const ym = (a1Y + a2Y) / 2;\n    const a = a2Y - a1Y;\n    const b = a1X - a2X;\n    const c2 = a * (x - xm) + b * (y - ym);\n    result = c2 > 0;\n  }\n  return result;\n}\nfunction getDiagAreaForPixel(a1X, a1Y, a2X, a2Y, pX, pY) {\n  let n = 0;\n  for (let y = 0; y < DIAGONAL_SAMPLES; ++y) {\n    for (let x = 0; x < DIAGONAL_SAMPLES; ++x) {\n      const offsetX = x / (DIAGONAL_SAMPLES - 1);\n      const offsetY = y / (DIAGONAL_SAMPLES - 1);\n      if (isInsideArea(a1X, a1Y, a2X, a2Y, pX + offsetX, pY + offsetY)) {\n        ++n;\n      }\n    }\n  }\n  return n / (DIAGONAL_SAMPLES * DIAGONAL_SAMPLES);\n}\nfunction getDiagArea(pattern, a1X, a1Y, a2X, a2Y, left, offset, result) {\n  const e = diagonalEdges[pattern];\n  const e1 = e[0];\n  const e2 = e[1];\n  if (e1 > 0) {\n    a1X += offset[0];\n    a1Y += offset[1];\n  }\n  if (e2 > 0) {\n    a2X += offset[0];\n    a2Y += offset[1];\n  }\n  result[0] = 1 - getDiagAreaForPixel(a1X, a1Y, a2X, a2Y, 1 + left, 0 + left);\n  result[1] = getDiagAreaForPixel(a1X, a1Y, a2X, a2Y, 1 + left, 1 + left);\n  return result;\n}\nfunction getDiagAreaForPattern(pattern, left, right, offset, result) {\n  const a1 = area[0];\n  const a2 = area[1];\n  const d = left + right + 1;\n  switch (pattern) {\n    case 0: {\n      getDiagArea(pattern, 1, 1, 1 + d, 1 + d, left, offset, a1);\n      getDiagArea(pattern, 1, 0, 1 + d, 0 + d, left, offset, a2);\n      result[0] = (a1[0] + a2[0]) / 2;\n      result[1] = (a1[1] + a2[1]) / 2;\n      break;\n    }\n    case 1: {\n      getDiagArea(pattern, 1, 0, 0 + d, 0 + d, left, offset, a1);\n      getDiagArea(pattern, 1, 0, 1 + d, 0 + d, left, offset, a2);\n      result[0] = (a1[0] + a2[0]) / 2;\n      result[1] = (a1[1] + a2[1]) / 2;\n      break;\n    }\n    case 2: {\n      getDiagArea(pattern, 0, 0, 1 + d, 0 + d, left, offset, a1);\n      getDiagArea(pattern, 1, 0, 1 + d, 0 + d, left, offset, a2);\n      result[0] = (a1[0] + a2[0]) / 2;\n      result[1] = (a1[1] + a2[1]) / 2;\n      break;\n    }\n    case 3: {\n      getDiagArea(pattern, 1, 0, 1 + d, 0 + d, left, offset, result);\n      break;\n    }\n    case 4: {\n      getDiagArea(pattern, 1, 1, 0 + d, 0 + d, left, offset, a1);\n      getDiagArea(pattern, 1, 1, 1 + d, 0 + d, left, offset, a2);\n      result[0] = (a1[0] + a2[0]) / 2;\n      result[1] = (a1[1] + a2[1]) / 2;\n      break;\n    }\n    case 5: {\n      getDiagArea(pattern, 1, 1, 0 + d, 0 + d, left, offset, a1);\n      getDiagArea(pattern, 1, 0, 1 + d, 0 + d, left, offset, a2);\n      result[0] = (a1[0] + a2[0]) / 2;\n      result[1] = (a1[1] + a2[1]) / 2;\n      break;\n    }\n    case 6: {\n      getDiagArea(pattern, 1, 1, 1 + d, 0 + d, left, offset, result);\n      break;\n    }\n    case 7: {\n      getDiagArea(pattern, 1, 1, 1 + d, 0 + d, left, offset, a1);\n      getDiagArea(pattern, 1, 0, 1 + d, 0 + d, left, offset, a2);\n      result[0] = (a1[0] + a2[0]) / 2;\n      result[1] = (a1[1] + a2[1]) / 2;\n      break;\n    }\n    case 8: {\n      getDiagArea(pattern, 0, 0, 1 + d, 1 + d, left, offset, a1);\n      getDiagArea(pattern, 1, 0, 1 + d, 1 + d, left, offset, a2);\n      result[0] = (a1[0] + a2[0]) / 2;\n      result[1] = (a1[1] + a2[1]) / 2;\n      break;\n    }\n    case 9: {\n      getDiagArea(pattern, 1, 0, 1 + d, 1 + d, left, offset, result);\n      getDiagArea(pattern, 1, 0, 1 + d, 1 + d, left, offset, result);\n      break;\n    }\n    case 10: {\n      getDiagArea(pattern, 0, 0, 1 + d, 1 + d, left, offset, a1);\n      getDiagArea(pattern, 1, 0, 1 + d, 0 + d, left, offset, a2);\n      result[0] = (a1[0] + a2[0]) / 2;\n      result[1] = (a1[1] + a2[1]) / 2;\n      break;\n    }\n    case 11: {\n      getDiagArea(pattern, 1, 0, 1 + d, 1 + d, left, offset, a1);\n      getDiagArea(pattern, 1, 0, 1 + d, 0 + d, left, offset, a2);\n      result[0] = (a1[0] + a2[0]) / 2;\n      result[1] = (a1[1] + a2[1]) / 2;\n      break;\n    }\n    case 12: {\n      getDiagArea(pattern, 1, 1, 1 + d, 1 + d, left, offset, result);\n      break;\n    }\n    case 13: {\n      getDiagArea(pattern, 1, 1, 1 + d, 1 + d, left, offset, a1);\n      getDiagArea(pattern, 1, 0, 1 + d, 1 + d, left, offset, a2);\n      result[0] = (a1[0] + a2[0]) / 2;\n      result[1] = (a1[1] + a2[1]) / 2;\n      break;\n    }\n    case 14: {\n      getDiagArea(pattern, 1, 1, 1 + d, 1 + d, left, offset, a1);\n      getDiagArea(pattern, 1, 1, 1 + d, 0 + d, left, offset, a2);\n      result[0] = (a1[0] + a2[0]) / 2;\n      result[1] = (a1[1] + a2[1]) / 2;\n      break;\n    }\n    case 15: {\n      getDiagArea(pattern, 1, 1, 1 + d, 1 + d, left, offset, a1);\n      getDiagArea(pattern, 1, 0, 1 + d, 0 + d, left, offset, a2);\n      result[0] = (a1[0] + a2[0]) / 2;\n      result[1] = (a1[1] + a2[1]) / 2;\n      break;\n    }\n  }\n  return result;\n}\nfunction generatePatterns(patterns, offset, orthogonal) {\n  const result = new Float32Array(2);\n  for (let i = 0, l = patterns.length; i < l; ++i) {\n    const pattern = patterns[i];\n    const data = pattern.data;\n    const size = pattern.width;\n    for (let y = 0; y < size; ++y) {\n      for (let x = 0; x < size; ++x) {\n        if (orthogonal) {\n          getOrthAreaForPattern(i, x, y, offset, result);\n        } else {\n          getDiagAreaForPattern(i, x, y, offset, result);\n        }\n        const c2 = (y * size + x) * 2;\n        data[c2] = result[0] * 255;\n        data[c2 + 1] = result[1] * 255;\n      }\n    }\n  }\n}\nfunction assemble(baseX, baseY, patterns, edges2, size, orthogonal, target) {\n  const dstData = target.data;\n  const dstWidth = target.width;\n  for (let i = 0, l = patterns.length; i < l; ++i) {\n    const edge = edges2[i];\n    const pattern = patterns[i];\n    const srcData = pattern.data;\n    const srcWidth = pattern.width;\n    for (let y = 0; y < size; ++y) {\n      for (let x = 0; x < size; ++x) {\n        const pX = edge[0] * size + baseX + x;\n        const pY = edge[1] * size + baseY + y;\n        const c2 = (pY * dstWidth + pX) * 4;\n        const d = orthogonal ? (y * y * srcWidth + x * x) * 2 : (y * srcWidth + x) * 2;\n        dstData[c2] = srcData[d];\n        dstData[c2 + 1] = srcData[d + 1];\n        dstData[c2 + 2] = 0;\n        dstData[c2 + 3] = 255;\n      }\n    }\n  }\n}\nvar SMAAAreaImageData = class {\n  static generate() {\n    const width = 2 * 5 * ORTHOGONAL_SIZE;\n    const height = orthogonalSubsamplingOffsets.length * 5 * ORTHOGONAL_SIZE;\n    const data = new Uint8ClampedArray(width * height * 4);\n    const result = new RawImageData(width, height, data);\n    const orthPatternSize = Math.pow(ORTHOGONAL_SIZE - 1, 2) + 1;\n    const diagPatternSize = DIAGONAL_SIZE;\n    const orthogonalPatterns = [];\n    const diagonalPatterns = [];\n    for (let i = 3, l = data.length; i < l; i += 4) {\n      data[i] = 255;\n    }\n    for (let i = 0; i < 16; ++i) {\n      orthogonalPatterns.push(new RawImageData(orthPatternSize, orthPatternSize, new Uint8ClampedArray(orthPatternSize * orthPatternSize * 2), 2));\n      diagonalPatterns.push(new RawImageData(diagPatternSize, diagPatternSize, new Uint8ClampedArray(diagPatternSize * diagPatternSize * 2), 2));\n    }\n    for (let i = 0, l = orthogonalSubsamplingOffsets.length; i < l; ++i) {\n      generatePatterns(orthogonalPatterns, orthogonalSubsamplingOffsets[i], true);\n      assemble(0, 5 * ORTHOGONAL_SIZE * i, orthogonalPatterns, orthogonalEdges, ORTHOGONAL_SIZE, true, result);\n    }\n    for (let i = 0, l = diagonalSubsamplingOffsets.length; i < l; ++i) {\n      generatePatterns(diagonalPatterns, diagonalSubsamplingOffsets[i], false);\n      assemble(5 * ORTHOGONAL_SIZE, 4 * DIAGONAL_SIZE * i, diagonalPatterns, diagonalEdges, DIAGONAL_SIZE, false, result);\n    }\n    return result;\n  }\n};\n\n// src/textures/smaa/SMAAImageGenerator.js\nimport { LoadingManager } from \"three\";\n\n// tmp/smaa/worker.txt\nvar worker_default2 = '\"use strict\";(()=>{function q(t,a,s){let e=document.createElement(\"canvas\"),n=e.getContext(\"2d\");if(e.width=t,e.height=a,s instanceof Image)n.drawImage(s,0,0);else{let r=n.createImageData(t,a);r.data.set(s),n.putImageData(r,0,0)}return e}var m=class{constructor(a=0,s=0,e=null){this.width=a,this.height=s,this.data=e}toCanvas(){return typeof document==\"undefined\"?null:q(this.width,this.height,this.data)}static from(a){let{width:s,height:e}=a,n;if(a instanceof Image){let r=q(s,e,a);r!==null&&(n=r.getContext(\"2d\").getImageData(0,0,s,e).data)}else n=a.data;return new m(s,e,n)}};var M=[new Float32Array(2),new Float32Array(2)],D=16,W=20,I=30,j=32,v=new Float32Array([0,-.25,.25,-.125,.125,-.375,.375]),N=[new Float32Array([0,0]),new Float32Array([.25,-.25]),new Float32Array([-.25,.25]),new Float32Array([.125,-.125]),new Float32Array([-.125,.125])],z=[new Uint8Array([0,0]),new Uint8Array([3,0]),new Uint8Array([0,3]),new Uint8Array([3,3]),new Uint8Array([1,0]),new Uint8Array([4,0]),new Uint8Array([1,3]),new Uint8Array([4,3]),new Uint8Array([0,1]),new Uint8Array([3,1]),new Uint8Array([0,4]),new Uint8Array([3,4]),new Uint8Array([1,1]),new Uint8Array([4,1]),new Uint8Array([1,4]),new Uint8Array([4,4])],R=[new Uint8Array([0,0]),new Uint8Array([1,0]),new Uint8Array([0,2]),new Uint8Array([1,2]),new Uint8Array([2,0]),new Uint8Array([3,0]),new Uint8Array([2,2]),new Uint8Array([3,2]),new Uint8Array([0,1]),new Uint8Array([1,1]),new Uint8Array([0,3]),new Uint8Array([1,3]),new Uint8Array([2,1]),new Uint8Array([3,1]),new Uint8Array([2,3]),new Uint8Array([3,3])];function C(t,a,s){return t+(a-t)*s}function B(t){return Math.min(Math.max(t,0),1)}function _(t){let a=M[0],s=M[1],e=Math.sqrt(a[0]*2)*.5,n=Math.sqrt(a[1]*2)*.5,r=Math.sqrt(s[0]*2)*.5,o=Math.sqrt(s[1]*2)*.5,c=B(t/j);a[0]=C(e,a[0],c),a[1]=C(n,a[1],c),s[0]=C(r,s[0],c),s[1]=C(o,s[1],c)}function d(t,a,s,e,n,r){let o=s-t,c=e-a,h=n,i=n+1,w=a+c*(h-t)/o,g=a+c*(i-t)/o;if(h>=t&&h<s||i>t&&i<=s)if(Math.sign(w)===Math.sign(g)||Math.abs(w)<1e-4||Math.abs(g)<1e-4){let b=(w+g)/2;b<0?(r[0]=Math.abs(b),r[1]=0):(r[0]=0,r[1]=Math.abs(b))}else{let b=-a*o/c+t,F=Math.trunc(b),k=b>t?w*(b-F)/2:0,U=b<s?g*(1-(b-F))/2:0;(Math.abs(k)>Math.abs(U)?k:-U)<0?(r[0]=Math.abs(k),r[1]=Math.abs(U)):(r[0]=Math.abs(U),r[1]=Math.abs(k))}else r[0]=0,r[1]=0;return r}function J(t,a,s,e,n){let r=M[0],o=M[1],c=.5+e,h=.5+e-1,i=a+s+1;switch(t){case 0:{n[0]=0,n[1]=0;break}case 1:{a<=s?d(0,h,i/2,0,a,n):(n[0]=0,n[1]=0);break}case 2:{a>=s?d(i/2,0,i,h,a,n):(n[0]=0,n[1]=0);break}case 3:{d(0,h,i/2,0,a,r),d(i/2,0,i,h,a,o),_(i,M),n[0]=r[0]+o[0],n[1]=r[1]+o[1];break}case 4:{a<=s?d(0,c,i/2,0,a,n):(n[0]=0,n[1]=0);break}case 5:{n[0]=0,n[1]=0;break}case 6:{Math.abs(e)>0?(d(0,c,i,h,a,r),d(0,c,i/2,0,a,o),d(i/2,0,i,h,a,n),o[0]=o[0]+n[0],o[1]=o[1]+n[1],n[0]=(r[0]+o[0])/2,n[1]=(r[1]+o[1])/2):d(0,c,i,h,a,n);break}case 7:{d(0,c,i,h,a,n);break}case 8:{a>=s?d(i/2,0,i,c,a,n):(n[0]=0,n[1]=0);break}case 9:{Math.abs(e)>0?(d(0,h,i,c,a,r),d(0,h,i/2,0,a,o),d(i/2,0,i,c,a,n),o[0]=o[0]+n[0],o[1]=o[1]+n[1],n[0]=(r[0]+o[0])/2,n[1]=(r[1]+o[1])/2):d(0,h,i,c,a,n);break}case 10:{n[0]=0,n[1]=0;break}case 11:{d(0,h,i,c,a,n);break}case 12:{d(0,c,i/2,0,a,r),d(i/2,0,i,c,a,o),_(i,M),n[0]=r[0]+o[0],n[1]=r[1]+o[1];break}case 13:{d(0,h,i,c,a,n);break}case 14:{d(0,c,i,h,a,n);break}case 15:{n[0]=0,n[1]=0;break}}return n}function K(t,a,s,e,n,r){let o=t===s&&a===e;if(!o){let c=(t+s)/2,h=(a+e)/2,i=e-a,w=t-s;o=i*(n-c)+w*(r-h)>0}return o}function G(t,a,s,e,n,r){let o=0;for(let c=0;c<I;++c)for(let h=0;h<I;++h){let i=h/(I-1),w=c/(I-1);K(t,a,s,e,n+i,r+w)&&++o}return o/(I*I)}function A(t,a,s,e,n,r,o,c){let h=R[t],i=h[0],w=h[1];return i>0&&(a+=o[0],s+=o[1]),w>0&&(e+=o[0],n+=o[1]),c[0]=1-G(a,s,e,n,1+r,0+r),c[1]=G(a,s,e,n,1+r,1+r),c}function Q(t,a,s,e,n){let r=M[0],o=M[1],c=a+s+1;switch(t){case 0:{A(t,1,1,1+c,1+c,a,e,r),A(t,1,0,1+c,0+c,a,e,o),n[0]=(r[0]+o[0])/2,n[1]=(r[1]+o[1])/2;break}case 1:{A(t,1,0,0+c,0+c,a,e,r),A(t,1,0,1+c,0+c,a,e,o),n[0]=(r[0]+o[0])/2,n[1]=(r[1]+o[1])/2;break}case 2:{A(t,0,0,1+c,0+c,a,e,r),A(t,1,0,1+c,0+c,a,e,o),n[0]=(r[0]+o[0])/2,n[1]=(r[1]+o[1])/2;break}case 3:{A(t,1,0,1+c,0+c,a,e,n);break}case 4:{A(t,1,1,0+c,0+c,a,e,r),A(t,1,1,1+c,0+c,a,e,o),n[0]=(r[0]+o[0])/2,n[1]=(r[1]+o[1])/2;break}case 5:{A(t,1,1,0+c,0+c,a,e,r),A(t,1,0,1+c,0+c,a,e,o),n[0]=(r[0]+o[0])/2,n[1]=(r[1]+o[1])/2;break}case 6:{A(t,1,1,1+c,0+c,a,e,n);break}case 7:{A(t,1,1,1+c,0+c,a,e,r),A(t,1,0,1+c,0+c,a,e,o),n[0]=(r[0]+o[0])/2,n[1]=(r[1]+o[1])/2;break}case 8:{A(t,0,0,1+c,1+c,a,e,r),A(t,1,0,1+c,1+c,a,e,o),n[0]=(r[0]+o[0])/2,n[1]=(r[1]+o[1])/2;break}case 9:{A(t,1,0,1+c,1+c,a,e,n),A(t,1,0,1+c,1+c,a,e,n);break}case 10:{A(t,0,0,1+c,1+c,a,e,r),A(t,1,0,1+c,0+c,a,e,o),n[0]=(r[0]+o[0])/2,n[1]=(r[1]+o[1])/2;break}case 11:{A(t,1,0,1+c,1+c,a,e,r),A(t,1,0,1+c,0+c,a,e,o),n[0]=(r[0]+o[0])/2,n[1]=(r[1]+o[1])/2;break}case 12:{A(t,1,1,1+c,1+c,a,e,n);break}case 13:{A(t,1,1,1+c,1+c,a,e,r),A(t,1,0,1+c,1+c,a,e,o),n[0]=(r[0]+o[0])/2,n[1]=(r[1]+o[1])/2;break}case 14:{A(t,1,1,1+c,1+c,a,e,r),A(t,1,1,1+c,0+c,a,e,o),n[0]=(r[0]+o[0])/2,n[1]=(r[1]+o[1])/2;break}case 15:{A(t,1,1,1+c,1+c,a,e,r),A(t,1,0,1+c,0+c,a,e,o),n[0]=(r[0]+o[0])/2,n[1]=(r[1]+o[1])/2;break}}return n}function T(t,a,s){let e=new Float32Array(2);for(let n=0,r=t.length;n<r;++n){let o=t[n],c=o.data,h=o.width;for(let i=0;i<h;++i)for(let w=0;w<h;++w){s?J(n,w,i,a,e):Q(n,w,i,a,e);let g=(i*h+w)*2;c[g]=e[0]*255,c[g+1]=e[1]*255}}}function p(t,a,s,e,n,r,o){let c=o.data,h=o.width;for(let i=0,w=s.length;i<w;++i){let g=e[i],b=s[i],F=b.data,k=b.width;for(let U=0;U<n;++U)for(let x=0;x<n;++x){let Z=g[0]*n+t+x,O=((g[1]*n+a+U)*h+Z)*4,L=r?(U*U*k+x*x)*2:(U*k+x)*2;c[O]=F[L],c[O+1]=F[L+1],c[O+2]=0,c[O+3]=255}}}var S=class{static generate(){let a=10*D,s=v.length*5*D,e=new Uint8ClampedArray(a*s*4),n=new m(a,s,e),r=Math.pow(D-1,2)+1,o=W,c=[],h=[];for(let i=3,w=e.length;i<w;i+=4)e[i]=255;for(let i=0;i<16;++i)c.push(new m(r,r,new Uint8ClampedArray(r*r*2),2)),h.push(new m(o,o,new Uint8ClampedArray(o*o*2),2));for(let i=0,w=v.length;i<w;++i)T(c,v[i],!0),p(0,5*D*i,c,z,D,!0,n);for(let i=0,w=N.length;i<w;++i)T(h,N[i],!1),p(5*D,4*W*i,h,R,W,!1,n);return n}};var P=new Map([[y(0,0,0,0),new Float32Array([0,0,0,0])],[y(0,0,0,1),new Float32Array([0,0,0,1])],[y(0,0,1,0),new Float32Array([0,0,1,0])],[y(0,0,1,1),new Float32Array([0,0,1,1])],[y(0,1,0,0),new Float32Array([0,1,0,0])],[y(0,1,0,1),new Float32Array([0,1,0,1])],[y(0,1,1,0),new Float32Array([0,1,1,0])],[y(0,1,1,1),new Float32Array([0,1,1,1])],[y(1,0,0,0),new Float32Array([1,0,0,0])],[y(1,0,0,1),new Float32Array([1,0,0,1])],[y(1,0,1,0),new Float32Array([1,0,1,0])],[y(1,0,1,1),new Float32Array([1,0,1,1])],[y(1,1,0,0),new Float32Array([1,1,0,0])],[y(1,1,0,1),new Float32Array([1,1,0,1])],[y(1,1,1,0),new Float32Array([1,1,1,0])],[y(1,1,1,1),new Float32Array([1,1,1,1])]]);function H(t,a,s){return t+(a-t)*s}function y(t,a,s,e){let n=H(t,a,.75),r=H(s,e,1-.25);return H(n,r,1-.125)}function V(t,a){let s=0;return a[3]===1&&(s+=1),s===1&&a[2]===1&&t[1]!==1&&t[3]!==1&&(s+=1),s}function $(t,a){let s=0;return a[3]===1&&t[1]!==1&&t[3]!==1&&(s+=1),s===1&&a[2]===1&&t[0]!==1&&t[2]!==1&&(s+=1),s}var E=class{static generate(){let o=new Uint8ClampedArray(2178),c=new Uint8ClampedArray(64*16*4);for(let h=0;h<33;++h)for(let i=0;i<66;++i){let w=.03125*i,g=.03125*h;if(P.has(w)&&P.has(g)){let b=P.get(w),F=P.get(g),k=h*66+i;o[k]=127*V(b,F),o[k+33]=127*$(b,F)}}for(let h=0,i=33-16;i<33;++i)for(let w=0;w<64;++w,h+=4)c[h]=o[i*66+w],c[h+3]=255;return new m(64,16,c)}};self.addEventListener(\"message\",t=>{let a=S.generate(),s=E.generate();postMessage({areaImageData:a,searchImageData:s},[a.data.buffer,s.data.buffer]),close()});})();\\n';\n\n// src/textures/smaa/SMAAImageGenerator.js\nfunction generate(useCache = true) {\n  const workerURL = URL.createObjectURL(new Blob([worker_default2], {\n    type: \"text/javascript\"\n  }));\n  const worker = new Worker(workerURL);\n  URL.revokeObjectURL(workerURL);\n  return new Promise((resolve, reject) => {\n    worker.addEventListener(\"error\", (event) => reject(event.error));\n    worker.addEventListener(\"message\", (event) => {\n      const searchImageData = RawImageData.from(event.data.searchImageData);\n      const areaImageData = RawImageData.from(event.data.areaImageData);\n      const urls = [\n        searchImageData.toCanvas().toDataURL(\"image/png\", 1),\n        areaImageData.toCanvas().toDataURL(\"image/png\", 1)\n      ];\n      if (useCache) {\n        localStorage.setItem(\"smaa-search\", urls[0]);\n        localStorage.setItem(\"smaa-area\", urls[1]);\n      }\n      resolve(urls);\n    });\n    worker.postMessage(null);\n  });\n}\nvar SMAAImageGenerator = class {\n  constructor() {\n    this.disableCache = false;\n  }\n  setCacheEnabled(value) {\n    this.disableCache = !value;\n  }\n  generate() {\n    const useCache = !this.disableCache && window.localStorage !== void 0;\n    const cachedURLs = useCache ? [\n      localStorage.getItem(\"smaa-search\"),\n      localStorage.getItem(\"smaa-area\")\n    ] : [null, null];\n    const promise = cachedURLs[0] !== null && cachedURLs[1] !== null ? Promise.resolve(cachedURLs) : generate(useCache);\n    return promise.then((urls) => {\n      return new Promise((resolve, reject) => {\n        const searchImage = new Image();\n        const areaImage = new Image();\n        const manager = new LoadingManager();\n        manager.onLoad = () => resolve([searchImage, areaImage]);\n        manager.onError = reject;\n        searchImage.addEventListener(\"error\", (e) => manager.itemError(\"smaa-search\"));\n        areaImage.addEventListener(\"error\", (e) => manager.itemError(\"smaa-area\"));\n        searchImage.addEventListener(\"load\", () => manager.itemEnd(\"smaa-search\"));\n        areaImage.addEventListener(\"load\", () => manager.itemEnd(\"smaa-area\"));\n        manager.itemStart(\"smaa-search\");\n        manager.itemStart(\"smaa-area\");\n        searchImage.src = urls[0];\n        areaImage.src = urls[1];\n      });\n    });\n  }\n};\n\n// src/textures/smaa/SMAASearchImageData.js\nvar edges = /* @__PURE__ */ new Map([\n  [bilinear(0, 0, 0, 0), new Float32Array([0, 0, 0, 0])],\n  [bilinear(0, 0, 0, 1), new Float32Array([0, 0, 0, 1])],\n  [bilinear(0, 0, 1, 0), new Float32Array([0, 0, 1, 0])],\n  [bilinear(0, 0, 1, 1), new Float32Array([0, 0, 1, 1])],\n  [bilinear(0, 1, 0, 0), new Float32Array([0, 1, 0, 0])],\n  [bilinear(0, 1, 0, 1), new Float32Array([0, 1, 0, 1])],\n  [bilinear(0, 1, 1, 0), new Float32Array([0, 1, 1, 0])],\n  [bilinear(0, 1, 1, 1), new Float32Array([0, 1, 1, 1])],\n  [bilinear(1, 0, 0, 0), new Float32Array([1, 0, 0, 0])],\n  [bilinear(1, 0, 0, 1), new Float32Array([1, 0, 0, 1])],\n  [bilinear(1, 0, 1, 0), new Float32Array([1, 0, 1, 0])],\n  [bilinear(1, 0, 1, 1), new Float32Array([1, 0, 1, 1])],\n  [bilinear(1, 1, 0, 0), new Float32Array([1, 1, 0, 0])],\n  [bilinear(1, 1, 0, 1), new Float32Array([1, 1, 0, 1])],\n  [bilinear(1, 1, 1, 0), new Float32Array([1, 1, 1, 0])],\n  [bilinear(1, 1, 1, 1), new Float32Array([1, 1, 1, 1])]\n]);\nfunction lerp2(a, b, p) {\n  return a + (b - a) * p;\n}\nfunction bilinear(e0, e1, e2, e3) {\n  const a = lerp2(e0, e1, 1 - 0.25);\n  const b = lerp2(e2, e3, 1 - 0.25);\n  return lerp2(a, b, 1 - 0.125);\n}\nfunction deltaLeft(left, top) {\n  let d = 0;\n  if (top[3] === 1) {\n    d += 1;\n  }\n  if (d === 1 && top[2] === 1 && left[1] !== 1 && left[3] !== 1) {\n    d += 1;\n  }\n  return d;\n}\nfunction deltaRight(left, top) {\n  let d = 0;\n  if (top[3] === 1 && left[1] !== 1 && left[3] !== 1) {\n    d += 1;\n  }\n  if (d === 1 && top[2] === 1 && left[0] !== 1 && left[2] !== 1) {\n    d += 1;\n  }\n  return d;\n}\nvar SMAASearchImageData = class {\n  static generate() {\n    const width = 66;\n    const height = 33;\n    const halfWidth = width / 2;\n    const croppedWidth = 64;\n    const croppedHeight = 16;\n    const data = new Uint8ClampedArray(width * height);\n    const croppedData = new Uint8ClampedArray(croppedWidth * croppedHeight * 4);\n    for (let y = 0; y < height; ++y) {\n      for (let x = 0; x < width; ++x) {\n        const s = 0.03125 * x;\n        const t = 0.03125 * y;\n        if (edges.has(s) && edges.has(t)) {\n          const e1 = edges.get(s);\n          const e2 = edges.get(t);\n          const i = y * width + x;\n          data[i] = 127 * deltaLeft(e1, e2);\n          data[i + halfWidth] = 127 * deltaRight(e1, e2);\n        }\n      }\n    }\n    for (let i = 0, y = height - croppedHeight; y < height; ++y) {\n      for (let x = 0; x < croppedWidth; ++x, i += 4) {\n        croppedData[i] = data[y * width + x];\n        croppedData[i + 3] = 255;\n      }\n    }\n    return new RawImageData(croppedWidth, croppedHeight, croppedData);\n  }\n};\n\n// src/effects/glsl/lut-3d.frag\nvar lut_3d_default = \"uniform vec3 scale;uniform vec3 offset;\\n#ifdef CUSTOM_INPUT_DOMAIN\\nuniform vec3 domainMin;uniform vec3 domainMax;\\n#endif\\n#ifdef LUT_3D\\n#ifdef LUT_PRECISION_HIGH\\n#ifdef GL_FRAGMENT_PRECISION_HIGH\\nuniform highp sampler3D lut;\\n#else\\nuniform mediump sampler3D lut;\\n#endif\\n#else\\nuniform lowp sampler3D lut;\\n#endif\\nvec4 applyLUT(const in vec3 rgb){\\n#ifdef TETRAHEDRAL_INTERPOLATION\\nvec3 p=floor(rgb);vec3 f=rgb-p;vec3 v1=(p+0.5)*LUT_TEXEL_WIDTH;vec3 v4=(p+1.5)*LUT_TEXEL_WIDTH;vec3 v2,v3;vec3 frac;if(f.r>=f.g){if(f.g>f.b){frac=f.rgb;v2=vec3(v4.x,v1.y,v1.z);v3=vec3(v4.x,v4.y,v1.z);}else if(f.r>=f.b){frac=f.rbg;v2=vec3(v4.x,v1.y,v1.z);v3=vec3(v4.x,v1.y,v4.z);}else{frac=f.brg;v2=vec3(v1.x,v1.y,v4.z);v3=vec3(v4.x,v1.y,v4.z);}}else{if(f.b>f.g){frac=f.bgr;v2=vec3(v1.x,v1.y,v4.z);v3=vec3(v1.x,v4.y,v4.z);}else if(f.r>=f.b){frac=f.grb;v2=vec3(v1.x,v4.y,v1.z);v3=vec3(v4.x,v4.y,v1.z);}else{frac=f.gbr;v2=vec3(v1.x,v4.y,v1.z);v3=vec3(v1.x,v4.y,v4.z);}}vec4 n1=texture(lut,v1);vec4 n2=texture(lut,v2);vec4 n3=texture(lut,v3);vec4 n4=texture(lut,v4);vec4 weights=vec4(1.0-frac.x,frac.x-frac.y,frac.y-frac.z,frac.z);vec4 result=weights*mat4(vec4(n1.r,n2.r,n3.r,n4.r),vec4(n1.g,n2.g,n3.g,n4.g),vec4(n1.b,n2.b,n3.b,n4.b),vec4(1.0));return vec4(result.rgb,1.0);\\n#else\\nreturn texture(lut,rgb);\\n#endif\\n}\\n#else\\n#ifdef LUT_PRECISION_HIGH\\n#ifdef GL_FRAGMENT_PRECISION_HIGH\\nuniform highp sampler2D lut;\\n#else\\nuniform mediump sampler2D lut;\\n#endif\\n#else\\nuniform lowp sampler2D lut;\\n#endif\\nvec4 applyLUT(const in vec3 rgb){float slice=rgb.b*LUT_SIZE;float slice0=floor(slice);float interp=slice-slice0;float centeredInterp=interp-0.5;float slice1=slice0+sign(centeredInterp);\\n#ifdef LUT_STRIP_HORIZONTAL\\nfloat xOffset=clamp(rgb.r*LUT_TEXEL_HEIGHT,LUT_TEXEL_WIDTH*0.5,LUT_TEXEL_HEIGHT-LUT_TEXEL_WIDTH*0.5);vec2 uv0=vec2(slice0*LUT_TEXEL_HEIGHT+xOffset,rgb.g);vec2 uv1=vec2(slice1*LUT_TEXEL_HEIGHT+xOffset,rgb.g);\\n#else\\nfloat yOffset=clamp(rgb.g*LUT_TEXEL_WIDTH,LUT_TEXEL_HEIGHT*0.5,LUT_TEXEL_WIDTH-LUT_TEXEL_HEIGHT*0.5);vec2 uv0=vec2(rgb.r,slice0*LUT_TEXEL_WIDTH+yOffset);vec2 uv1=vec2(rgb.r,slice1*LUT_TEXEL_WIDTH+yOffset);\\n#endif\\nvec4 sample0=texture2D(lut,uv0);vec4 sample1=texture2D(lut,uv1);return mix(sample0,sample1,abs(centeredInterp));}\\n#endif\\nvoid mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 c=inputColor.rgb;\\n#ifdef CUSTOM_INPUT_DOMAIN\\nif(c.r>=domainMin.r&&c.g>=domainMin.g&&c.b>=domainMin.b&&c.r<=domainMax.r&&c.g<=domainMax.g&&c.b<=domainMax.b){c=applyLUT(scale*c+offset).rgb;}else{c=inputColor.rgb;}\\n#else\\n#if !defined(LUT_3D) || defined(TETRAHEDRAL_INTERPOLATION)\\nc=clamp(c,0.0,1.0);\\n#endif\\nc=applyLUT(scale*c+offset).rgb;\\n#endif\\noutputColor=vec4(c,inputColor.a);}\";\n\n// src/effects/LUT3DEffect.js\nvar LUT3DEffect = class extends Effect {\n  constructor(lut, {\n    blendFunction = BlendFunction.SRC,\n    tetrahedralInterpolation = false,\n    inputEncoding = sRGBEncoding13\n  } = {}) {\n    super(\"LUT3DEffect\", lut_3d_default, {\n      blendFunction,\n      uniforms: /* @__PURE__ */ new Map([\n        [\"lut\", new Uniform35(null)],\n        [\"scale\", new Uniform35(new Vector34())],\n        [\"offset\", new Uniform35(new Vector34())],\n        [\"domainMin\", new Uniform35(null)],\n        [\"domainMax\", new Uniform35(null)]\n      ])\n    });\n    this.tetrahedralInterpolation = tetrahedralInterpolation;\n    this.inputColorSpace = inputEncoding;\n    this.lut = lut;\n  }\n  get inputEncoding() {\n    return this.inputColorSpace;\n  }\n  set inputEncoding(value) {\n    this.inputColorSpace = value;\n  }\n  getInputEncoding() {\n    return this.inputColorSpace;\n  }\n  setInputEncoding(value) {\n    this.inputColorSpace = value;\n  }\n  getOutputEncoding() {\n    return this.outputColorSpace;\n  }\n  get lut() {\n    return this.uniforms.get(\"lut\").value;\n  }\n  set lut(value) {\n    const defines = this.defines;\n    const uniforms = this.uniforms;\n    if (this.lut !== value) {\n      uniforms.get(\"lut\").value = value;\n      if (value !== null) {\n        const image = value.image;\n        const tetrahedralInterpolation = this.tetrahedralInterpolation;\n        defines.clear();\n        defines.set(\"LUT_SIZE\", Math.min(image.width, image.height).toFixed(16));\n        defines.set(\"LUT_TEXEL_WIDTH\", (1 / image.width).toFixed(16));\n        defines.set(\"LUT_TEXEL_HEIGHT\", (1 / image.height).toFixed(16));\n        uniforms.get(\"domainMin\").value = null;\n        uniforms.get(\"domainMax\").value = null;\n        if (value.type === FloatType6 || value.type === HalfFloatType2) {\n          defines.set(\"LUT_PRECISION_HIGH\", \"1\");\n        }\n        if (image.width > image.height) {\n          defines.set(\"LUT_STRIP_HORIZONTAL\", \"1\");\n        } else if (value instanceof DataTexture3D2) {\n          defines.set(\"LUT_3D\", \"1\");\n        }\n        if (value instanceof LookupTexture) {\n          const min = value.domainMin;\n          const max = value.domainMax;\n          if (min.x !== 0 || min.y !== 0 || min.z !== 0 || max.x !== 1 || max.y !== 1 || max.z !== 1) {\n            defines.set(\"CUSTOM_INPUT_DOMAIN\", \"1\");\n            uniforms.get(\"domainMin\").value = min.clone();\n            uniforms.get(\"domainMax\").value = max.clone();\n          }\n        }\n        this.tetrahedralInterpolation = tetrahedralInterpolation;\n      }\n    }\n  }\n  getLUT() {\n    return this.lut;\n  }\n  setLUT(value) {\n    this.lut = value;\n  }\n  updateScaleOffset() {\n    const lut = this.lut;\n    if (lut !== null) {\n      const size = Math.min(lut.image.width, lut.image.height);\n      const scale = this.uniforms.get(\"scale\").value;\n      const offset = this.uniforms.get(\"offset\").value;\n      if (this.tetrahedralInterpolation && lut instanceof DataTexture3D2) {\n        if (this.defines.has(\"CUSTOM_INPUT_DOMAIN\")) {\n          const domainScale = lut.domainMax.clone().sub(lut.domainMin);\n          scale.setScalar(size - 1).divide(domainScale);\n          offset.copy(lut.domainMin).negate().multiply(scale);\n        } else {\n          scale.setScalar(size - 1);\n          offset.setScalar(0);\n        }\n      } else {\n        if (this.defines.has(\"CUSTOM_INPUT_DOMAIN\")) {\n          const domainScale = lut.domainMax.clone().sub(lut.domainMin).multiplyScalar(size);\n          scale.setScalar(size - 1).divide(domainScale);\n          offset.copy(lut.domainMin).negate().multiply(scale).addScalar(1 / (2 * size));\n        } else {\n          scale.setScalar((size - 1) / size);\n          offset.setScalar(1 / (2 * size));\n        }\n      }\n    }\n  }\n  configureTetrahedralInterpolation() {\n    const lut = this.lut;\n    if (lut !== null) {\n      lut.minFilter = LinearFilter4;\n      lut.magFilter = LinearFilter4;\n      if (this.tetrahedralInterpolation) {\n        if (lut instanceof DataTexture3D2) {\n          lut.minFilter = NearestFilter7;\n          lut.magFilter = NearestFilter7;\n        } else {\n          console.warn(\"Tetrahedral interpolation requires a 3D texture\");\n        }\n      }\n      if (lut.source === void 0) {\n        lut.needsUpdate = true;\n      }\n    }\n  }\n  get tetrahedralInterpolation() {\n    return this.defines.has(\"TETRAHEDRAL_INTERPOLATION\");\n  }\n  set tetrahedralInterpolation(value) {\n    if (value) {\n      this.defines.set(\"TETRAHEDRAL_INTERPOLATION\", \"1\");\n    } else {\n      this.defines.delete(\"TETRAHEDRAL_INTERPOLATION\");\n    }\n    this.configureTetrahedralInterpolation();\n    this.updateScaleOffset();\n    this.setChanged();\n  }\n  setTetrahedralInterpolationEnabled(value) {\n    this.tetrahedralInterpolation = value;\n  }\n};\n\n// src/effects/glsl/noise.frag\nvar noise_default = \"void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 noise=vec3(rand(uv*time));\\n#ifdef PREMULTIPLY\\noutputColor=vec4(min(inputColor.rgb*noise,vec3(1.0)),inputColor.a);\\n#else\\noutputColor=vec4(noise,inputColor.a);\\n#endif\\n}\";\n\n// src/effects/NoiseEffect.js\nvar NoiseEffect = class extends Effect {\n  constructor({ blendFunction = BlendFunction.SCREEN, premultiply = false } = {}) {\n    super(\"NoiseEffect\", noise_default, { blendFunction });\n    this.premultiply = premultiply;\n  }\n  get premultiply() {\n    return this.defines.has(\"PREMULTIPLY\");\n  }\n  set premultiply(value) {\n    if (this.premultiply !== value) {\n      if (value) {\n        this.defines.set(\"PREMULTIPLY\", \"1\");\n      } else {\n        this.defines.delete(\"PREMULTIPLY\");\n      }\n      this.setChanged();\n    }\n  }\n  isPremultiplied() {\n    return this.premultiply;\n  }\n  setPremultiplied(value) {\n    this.premultiply = value;\n  }\n};\n\n// src/effects/OutlineEffect.js\nimport { Color as Color6, RepeatWrapping as RepeatWrapping2, Uniform as Uniform36, UnsignedByteType as UnsignedByteType15, WebGLRenderTarget as WebGLRenderTarget15 } from \"three\";\n\n// src/effects/glsl/outline.frag\nvar outline_default3 = \"uniform lowp sampler2D edgeTexture;uniform lowp sampler2D maskTexture;uniform vec3 visibleEdgeColor;uniform vec3 hiddenEdgeColor;uniform float pulse;uniform float edgeStrength;\\n#ifdef USE_PATTERN\\nuniform lowp sampler2D patternTexture;varying vec2 vUvPattern;\\n#endif\\nvoid mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec2 edge=texture2D(edgeTexture,uv).rg;vec2 mask=texture2D(maskTexture,uv).rg;\\n#ifndef X_RAY\\nedge.y=0.0;\\n#endif\\nedge*=(edgeStrength*mask.x*pulse);vec3 color=edge.x*visibleEdgeColor+edge.y*hiddenEdgeColor;float visibilityFactor=0.0;\\n#ifdef USE_PATTERN\\nvec4 patternColor=texelToLinear(texture2D(patternTexture,vUvPattern));\\n#ifdef X_RAY\\nfloat hiddenFactor=0.5;\\n#else\\nfloat hiddenFactor=0.0;\\n#endif\\nvisibilityFactor=(1.0-mask.y>0.0)?1.0:hiddenFactor;visibilityFactor*=(1.0-mask.x)*patternColor.a;color+=visibilityFactor*patternColor.rgb;\\n#endif\\nfloat alpha=max(max(edge.x,edge.y),visibilityFactor);\\n#ifdef ALPHA\\noutputColor=vec4(color,alpha);\\n#else\\noutputColor=vec4(color,max(alpha,inputColor.a));\\n#endif\\n}\";\n\n// src/effects/glsl/outline.vert\nvar outline_default4 = \"uniform float patternScale;varying vec2 vUvPattern;void mainSupport(const in vec2 uv){vUvPattern=uv*vec2(aspect,1.0)*patternScale;}\";\n\n// src/effects/OutlineEffect.js\nvar OutlineEffect = class extends Effect {\n  constructor(scene, camera, {\n    blendFunction = BlendFunction.SCREEN,\n    patternTexture = null,\n    patternScale = 1,\n    edgeStrength = 1,\n    pulseSpeed = 0,\n    visibleEdgeColor = 16777215,\n    hiddenEdgeColor = 2230538,\n    kernelSize = KernelSize.VERY_SMALL,\n    blur = false,\n    xRay = true,\n    resolutionScale = 0.5,\n    width = Resolution.AUTO_SIZE,\n    height = Resolution.AUTO_SIZE,\n    resolutionX = width,\n    resolutionY = height\n  } = {}) {\n    super(\"OutlineEffect\", outline_default3, {\n      uniforms: /* @__PURE__ */ new Map([\n        [\"maskTexture\", new Uniform36(null)],\n        [\"edgeTexture\", new Uniform36(null)],\n        [\"edgeStrength\", new Uniform36(edgeStrength)],\n        [\"visibleEdgeColor\", new Uniform36(new Color6(visibleEdgeColor))],\n        [\"hiddenEdgeColor\", new Uniform36(new Color6(hiddenEdgeColor))],\n        [\"pulse\", new Uniform36(1)],\n        [\"patternScale\", new Uniform36(patternScale)],\n        [\"patternTexture\", new Uniform36(null)]\n      ])\n    });\n    this.blendMode.addEventListener(\"change\", (event) => {\n      if (this.blendMode.getBlendFunction() === BlendFunction.ALPHA) {\n        this.defines.set(\"ALPHA\", \"1\");\n      } else {\n        this.defines.delete(\"ALPHA\");\n      }\n      this.setChanged();\n    });\n    this.blendMode.setBlendFunction(blendFunction);\n    this.patternTexture = patternTexture;\n    this.xRay = xRay;\n    this.scene = scene;\n    this.camera = camera;\n    this.renderTargetMask = new WebGLRenderTarget15(1, 1);\n    this.renderTargetMask.texture.name = \"Outline.Mask\";\n    this.uniforms.get(\"maskTexture\").value = this.renderTargetMask.texture;\n    this.renderTargetOutline = new WebGLRenderTarget15(1, 1, { depthBuffer: false });\n    this.renderTargetOutline.texture.name = \"Outline.Edges\";\n    this.uniforms.get(\"edgeTexture\").value = this.renderTargetOutline.texture;\n    this.clearPass = new ClearPass();\n    this.clearPass.overrideClearColor = new Color6(0);\n    this.clearPass.overrideClearAlpha = 1;\n    this.depthPass = new DepthPass(scene, camera);\n    this.maskPass = new RenderPass(scene, camera, new DepthComparisonMaterial(this.depthPass.texture, camera));\n    const clearPass = this.maskPass.clearPass;\n    clearPass.overrideClearColor = new Color6(16777215);\n    clearPass.overrideClearAlpha = 1;\n    this.blurPass = new KawaseBlurPass({ resolutionScale, resolutionX, resolutionY, kernelSize });\n    this.blurPass.enabled = blur;\n    const resolution = this.blurPass.resolution;\n    resolution.addEventListener(\"change\", (e) => this.setSize(resolution.baseWidth, resolution.baseHeight));\n    this.outlinePass = new ShaderPass(new OutlineMaterial());\n    const outlineMaterial = this.outlinePass.fullscreenMaterial;\n    outlineMaterial.inputBuffer = this.renderTargetMask.texture;\n    this.time = 0;\n    this.selection = new Selection();\n    this.selection.layer = 10;\n    this.pulseSpeed = pulseSpeed;\n  }\n  get resolution() {\n    return this.blurPass.resolution;\n  }\n  getResolution() {\n    return this.blurPass.getResolution();\n  }\n  get patternScale() {\n    return this.uniforms.get(\"patternScale\").value;\n  }\n  set patternScale(value) {\n    this.uniforms.get(\"patternScale\").value = value;\n  }\n  get edgeStrength() {\n    return this.uniforms.get(\"edgeStrength\").value;\n  }\n  set edgeStrength(value) {\n    this.uniforms.get(\"edgeStrength\").value = value;\n  }\n  get visibleEdgeColor() {\n    return this.uniforms.get(\"visibleEdgeColor\").value;\n  }\n  set visibleEdgeColor(value) {\n    this.uniforms.get(\"visibleEdgeColor\").value = value;\n  }\n  get hiddenEdgeColor() {\n    return this.uniforms.get(\"hiddenEdgeColor\").value;\n  }\n  set hiddenEdgeColor(value) {\n    this.uniforms.get(\"hiddenEdgeColor\").value = value;\n  }\n  getBlurPass() {\n    return this.blurPass;\n  }\n  getSelection() {\n    return this.selection;\n  }\n  getPulseSpeed() {\n    return this.pulseSpeed;\n  }\n  setPulseSpeed(value) {\n    this.pulseSpeed = value;\n  }\n  get width() {\n    return this.resolution.width;\n  }\n  set width(value) {\n    this.resolution.preferredWidth = value;\n  }\n  get height() {\n    return this.resolution.height;\n  }\n  set height(value) {\n    this.resolution.preferredHeight = value;\n  }\n  get selectionLayer() {\n    return this.selection.layer;\n  }\n  set selectionLayer(value) {\n    this.selection.layer = value;\n  }\n  get dithering() {\n    return this.blurPass.dithering;\n  }\n  set dithering(value) {\n    this.blurPass.dithering = value;\n  }\n  get kernelSize() {\n    return this.blurPass.kernelSize;\n  }\n  set kernelSize(value) {\n    this.blurPass.kernelSize = value;\n  }\n  get blur() {\n    return this.blurPass.enabled;\n  }\n  set blur(value) {\n    this.blurPass.enabled = value;\n  }\n  get xRay() {\n    return this.defines.has(\"X_RAY\");\n  }\n  set xRay(value) {\n    if (this.xRay !== value) {\n      if (value) {\n        this.defines.set(\"X_RAY\", \"1\");\n      } else {\n        this.defines.delete(\"X_RAY\");\n      }\n      this.setChanged();\n    }\n  }\n  isXRayEnabled() {\n    return this.xRay;\n  }\n  setXRayEnabled(value) {\n    this.xRay = value;\n  }\n  get patternTexture() {\n    return this.uniforms.get(\"patternTexture\").value;\n  }\n  set patternTexture(value) {\n    if (value !== null) {\n      value.wrapS = value.wrapT = RepeatWrapping2;\n      this.defines.set(\"USE_PATTERN\", \"1\");\n      this.setVertexShader(outline_default4);\n    } else {\n      this.defines.delete(\"USE_PATTERN\");\n      this.setVertexShader(null);\n    }\n    if (this.renderer !== null) {\n      const decoding = getTextureDecoding(value, this.renderer.capabilities.isWebGL2);\n      this.defines.set(\"texelToLinear(texel)\", decoding);\n    }\n    this.uniforms.get(\"patternTexture\").value = value;\n    this.setChanged();\n  }\n  setPatternTexture(value) {\n    this.patternTexture = value;\n  }\n  getResolutionScale() {\n    return this.resolution.scale;\n  }\n  setResolutionScale(scale) {\n    this.resolution.scale = scale;\n  }\n  setSelection(objects) {\n    this.selection.set(objects);\n    return this;\n  }\n  clearSelection() {\n    this.selection.clear();\n    return this;\n  }\n  selectObject(object) {\n    this.selection.add(object);\n    return this;\n  }\n  deselectObject(object) {\n    this.selection.delete(object);\n    return this;\n  }\n  update(renderer, inputBuffer, deltaTime) {\n    const scene = this.scene;\n    const camera = this.camera;\n    const selection = this.selection;\n    const uniforms = this.uniforms;\n    const pulse = uniforms.get(\"pulse\");\n    const background = scene.background;\n    const mask = camera.layers.mask;\n    if (selection.size > 0) {\n      scene.background = null;\n      pulse.value = 1;\n      if (this.pulseSpeed > 0) {\n        pulse.value = Math.cos(this.time * this.pulseSpeed * 10) * 0.375 + 0.625;\n      }\n      this.time += deltaTime;\n      selection.setVisible(false);\n      this.depthPass.render(renderer);\n      selection.setVisible(true);\n      camera.layers.set(selection.layer);\n      this.maskPass.render(renderer, this.renderTargetMask);\n      camera.layers.mask = mask;\n      scene.background = background;\n      this.outlinePass.render(renderer, null, this.renderTargetOutline);\n      if (this.blurPass.enabled) {\n        this.blurPass.render(renderer, this.renderTargetOutline, this.renderTargetOutline);\n      }\n    } else if (this.time > 0) {\n      this.clearPass.render(renderer, this.renderTargetMask);\n      this.time = 0;\n    }\n  }\n  setSize(width, height) {\n    this.blurPass.setSize(width, height);\n    this.renderTargetMask.setSize(width, height);\n    const resolution = this.resolution;\n    resolution.setBaseSize(width, height);\n    const w = resolution.width, h = resolution.height;\n    this.depthPass.setSize(w, h);\n    this.renderTargetOutline.setSize(w, h);\n    this.outlinePass.fullscreenMaterial.setSize(w, h);\n  }\n  initialize(renderer, alpha, frameBufferType) {\n    const texture = this.patternTexture;\n    const decoding = getTextureDecoding(texture, renderer.capabilities.isWebGL2);\n    this.defines.set(\"texelToLinear(texel)\", decoding);\n    this.blurPass.initialize(renderer, alpha, UnsignedByteType15);\n    if (frameBufferType !== void 0) {\n      this.depthPass.initialize(renderer, alpha, frameBufferType);\n      this.maskPass.initialize(renderer, alpha, frameBufferType);\n      this.outlinePass.initialize(renderer, alpha, frameBufferType);\n    }\n  }\n};\n\n// src/effects/PixelationEffect.js\nimport { Uniform as Uniform37, Vector2 as Vector222, Vector4 as Vector42 } from \"three\";\n\n// src/effects/glsl/pixelation.frag\nvar pixelation_default = \"uniform bool active;uniform vec4 d;void mainUv(inout vec2 uv){if(active){uv=d.xy*(floor(uv*d.zw)+0.5);}}\";\n\n// src/effects/PixelationEffect.js\nvar PixelationEffect = class extends Effect {\n  constructor(granularity = 30) {\n    super(\"PixelationEffect\", pixelation_default, {\n      uniforms: /* @__PURE__ */ new Map([\n        [\"active\", new Uniform37(false)],\n        [\"d\", new Uniform37(new Vector42())]\n      ])\n    });\n    this.resolution = new Vector222();\n    this._granularity = 0;\n    this.granularity = granularity;\n  }\n  get granularity() {\n    return this._granularity;\n  }\n  set granularity(value) {\n    let d = Math.floor(value);\n    if (d % 2 > 0) {\n      d += 1;\n    }\n    this._granularity = d;\n    this.uniforms.get(\"active\").value = d > 0;\n    this.setSize(this.resolution.width, this.resolution.height);\n  }\n  getGranularity() {\n    return this.granularity;\n  }\n  setGranularity(value) {\n    this.granularity = value;\n  }\n  setSize(width, height) {\n    const resolution = this.resolution;\n    resolution.set(width, height);\n    const d = this.granularity;\n    const x = d / resolution.x;\n    const y = d / resolution.y;\n    this.uniforms.get(\"d\").value.set(x, y, 1 / x, 1 / y);\n  }\n};\n\n// src/effects/RealisticBokehEffect.js\nimport { Uniform as Uniform38, Vector4 as Vector43 } from \"three\";\n\n// src/effects/glsl/realistic-bokeh.frag\nvar realistic_bokeh_default = \"uniform float focus;uniform float focalLength;uniform float fStop;uniform float maxBlur;uniform float luminanceThreshold;uniform float luminanceGain;uniform float bias;uniform float fringe;\\n#ifdef MANUAL_DOF\\nuniform vec4 dof;\\n#endif\\n#ifdef PENTAGON\\nfloat pentagon(const in vec2 coords){const vec4 HS0=vec4(1.0,0.0,0.0,1.0);const vec4 HS1=vec4(0.309016994,0.951056516,0.0,1.0);const vec4 HS2=vec4(-0.809016994,0.587785252,0.0,1.0);const vec4 HS3=vec4(-0.809016994,-0.587785252,0.0,1.0);const vec4 HS4=vec4(0.309016994,-0.951056516,0.0,1.0);const vec4 HS5=vec4(0.0,0.0,1.0,1.0);const vec4 ONE=vec4(1.0);const float P_FEATHER=0.4;const float N_FEATHER=-P_FEATHER;float inOrOut=-4.0;vec4 P=vec4(coords,vec2(RINGS_FLOAT-1.3));vec4 dist=vec4(dot(P,HS0),dot(P,HS1),dot(P,HS2),dot(P,HS3));dist=smoothstep(N_FEATHER,P_FEATHER,dist);inOrOut+=dot(dist,ONE);dist.x=dot(P,HS4);dist.y=HS5.w-abs(P.z);dist=smoothstep(N_FEATHER,P_FEATHER,dist);inOrOut+=dist.x;return clamp(inOrOut,0.0,1.0);}\\n#endif\\nvec3 processTexel(const in vec2 coords,const in float blur){vec2 scale=texelSize*fringe*blur;vec3 c=vec3(texture2D(inputBuffer,coords+vec2(0.0,1.0)*scale).r,texture2D(inputBuffer,coords+vec2(-0.866,-0.5)*scale).g,texture2D(inputBuffer,coords+vec2(0.866,-0.5)*scale).b);float luminance=linearToRelativeLuminance(c);float threshold=max((luminance-luminanceThreshold)*luminanceGain,0.0);return c+mix(vec3(0.0),c,threshold*blur);}float gather(const in float i,const in float j,const in float ringSamples,const in vec2 uv,const in vec2 blurFactor,const in float blur,inout vec3 color){float step=PI2/ringSamples;vec2 wh=vec2(cos(j*step)*i,sin(j*step)*i);\\n#ifdef PENTAGON\\nfloat p=pentagon(wh);\\n#else\\nfloat p=1.0;\\n#endif\\ncolor+=processTexel(wh*blurFactor+uv,blur)*mix(1.0,i/RINGS_FLOAT,bias)*p;return mix(1.0,i/RINGS_FLOAT,bias)*p;}void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){\\n#ifdef PERSPECTIVE_CAMERA\\nfloat viewZ=perspectiveDepthToViewZ(depth,cameraNear,cameraFar);float linearDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);\\n#else\\nfloat linearDepth=depth;\\n#endif\\n#ifdef MANUAL_DOF\\nfloat focalPlane=linearDepth-focus;float farDoF=(focalPlane-dof.z)/dof.w;float nearDoF=(-focalPlane-dof.x)/dof.y;float blur=(focalPlane>0.0)?farDoF:nearDoF;\\n#else\\nconst float CIRCLE_OF_CONFUSION=0.03;float focalPlaneMM=focus*1000.0;float depthMM=linearDepth*1000.0;float focalPlane=(depthMM*focalLength)/(depthMM-focalLength);float farDoF=(focalPlaneMM*focalLength)/(focalPlaneMM-focalLength);float nearDoF=(focalPlaneMM-focalLength)/(focalPlaneMM*fStop*CIRCLE_OF_CONFUSION);float blur=abs(focalPlane-farDoF)*nearDoF;\\n#endif\\nconst int MAX_RING_SAMPLES=RINGS_INT*SAMPLES_INT;blur=clamp(blur,0.0,1.0);vec3 color=inputColor.rgb;if(blur>=0.05){vec2 blurFactor=blur*maxBlur*texelSize;float s=1.0;int ringSamples;for(int i=1;i<=RINGS_INT;i++){ringSamples=i*SAMPLES_INT;for(int j=0;j<MAX_RING_SAMPLES;j++){if(j>=ringSamples){break;}s+=gather(float(i),float(j),float(ringSamples),uv,blurFactor,blur,color);}}color/=s;}\\n#ifdef SHOW_FOCUS\\nfloat edge=0.002*linearDepth;float m=clamp(smoothstep(0.0,edge,blur),0.0,1.0);float e=clamp(smoothstep(1.0-edge,1.0,blur),0.0,1.0);color=mix(color,vec3(1.0,0.5,0.0),(1.0-m)*0.6);color=mix(color,vec3(0.0,0.5,1.0),((1.0-e)-(1.0-m))*0.2);\\n#endif\\noutputColor=vec4(color,inputColor.a);}\";\n\n// src/effects/RealisticBokehEffect.js\nvar RealisticBokehEffect = class extends Effect {\n  constructor({\n    blendFunction,\n    focus = 1,\n    focalLength = 24,\n    fStop = 0.9,\n    luminanceThreshold = 0.5,\n    luminanceGain = 2,\n    bias = 0.5,\n    fringe = 0.7,\n    maxBlur = 1,\n    rings = 3,\n    samples = 2,\n    showFocus = false,\n    manualDoF = false,\n    pentagon = false\n  } = {}) {\n    super(\"RealisticBokehEffect\", realistic_bokeh_default, {\n      blendFunction,\n      attributes: EffectAttribute.CONVOLUTION | EffectAttribute.DEPTH,\n      uniforms: /* @__PURE__ */ new Map([\n        [\"focus\", new Uniform38(focus)],\n        [\"focalLength\", new Uniform38(focalLength)],\n        [\"fStop\", new Uniform38(fStop)],\n        [\"luminanceThreshold\", new Uniform38(luminanceThreshold)],\n        [\"luminanceGain\", new Uniform38(luminanceGain)],\n        [\"bias\", new Uniform38(bias)],\n        [\"fringe\", new Uniform38(fringe)],\n        [\"maxBlur\", new Uniform38(maxBlur)],\n        [\"dof\", new Uniform38(null)]\n      ])\n    });\n    this.rings = rings;\n    this.samples = samples;\n    this.showFocus = showFocus;\n    this.manualDoF = manualDoF;\n    this.pentagon = pentagon;\n  }\n  get rings() {\n    return Number.parseInt(this.defines.get(\"RINGS_INT\"));\n  }\n  set rings(value) {\n    const r = Math.floor(value);\n    this.defines.set(\"RINGS_INT\", r.toFixed(0));\n    this.defines.set(\"RINGS_FLOAT\", r.toFixed(1));\n    this.setChanged();\n  }\n  get samples() {\n    return Number.parseInt(this.defines.get(\"SAMPLES_INT\"));\n  }\n  set samples(value) {\n    const s = Math.floor(value);\n    this.defines.set(\"SAMPLES_INT\", s.toFixed(0));\n    this.defines.set(\"SAMPLES_FLOAT\", s.toFixed(1));\n    this.setChanged();\n  }\n  get showFocus() {\n    return this.defines.has(\"SHOW_FOCUS\");\n  }\n  set showFocus(value) {\n    if (this.showFocus !== value) {\n      if (value) {\n        this.defines.set(\"SHOW_FOCUS\", \"1\");\n      } else {\n        this.defines.delete(\"SHOW_FOCUS\");\n      }\n      this.setChanged();\n    }\n  }\n  get manualDoF() {\n    return this.defines.has(\"MANUAL_DOF\");\n  }\n  set manualDoF(value) {\n    if (this.manualDoF !== value) {\n      if (value) {\n        this.defines.set(\"MANUAL_DOF\", \"1\");\n        this.uniforms.get(\"dof\").value = new Vector43(0.2, 1, 0.2, 2);\n      } else {\n        this.defines.delete(\"MANUAL_DOF\");\n        this.uniforms.get(\"dof\").value = null;\n      }\n      this.setChanged();\n    }\n  }\n  get pentagon() {\n    return this.defines.has(\"PENTAGON\");\n  }\n  set pentagon(value) {\n    if (this.pentagon !== value) {\n      if (value) {\n        this.defines.set(\"PENTAGON\", \"1\");\n      } else {\n        this.defines.delete(\"PENTAGON\");\n      }\n      this.setChanged();\n    }\n  }\n};\n\n// src/effects/ScanlineEffect.js\nimport { Uniform as Uniform39, Vector2 as Vector223 } from \"three\";\n\n// src/effects/glsl/scanlines.frag\nvar scanlines_default = \"uniform float count;\\n#ifdef SCROLL\\nuniform float scrollSpeed;\\n#endif\\nvoid mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){float y=uv.y;\\n#ifdef SCROLL\\ny+=time*scrollSpeed;\\n#endif\\nvec2 sl=vec2(sin(y*count),cos(y*count));outputColor=vec4(sl.xyx,inputColor.a);}\";\n\n// src/effects/ScanlineEffect.js\nvar ScanlineEffect = class extends Effect {\n  constructor({ blendFunction = BlendFunction.OVERLAY, density = 1.25, scrollSpeed = 0 } = {}) {\n    super(\"ScanlineEffect\", scanlines_default, {\n      blendFunction,\n      uniforms: /* @__PURE__ */ new Map([\n        [\"count\", new Uniform39(0)],\n        [\"scrollSpeed\", new Uniform39(0)]\n      ])\n    });\n    this.resolution = new Vector223();\n    this.d = density;\n    this.scrollSpeed = scrollSpeed;\n  }\n  get density() {\n    return this.d;\n  }\n  set density(value) {\n    this.d = value;\n    this.setSize(this.resolution.width, this.resolution.height);\n  }\n  getDensity() {\n    return this.density;\n  }\n  setDensity(value) {\n    this.density = value;\n  }\n  get scrollSpeed() {\n    return this.uniforms.get(\"scrollSpeed\").value;\n  }\n  set scrollSpeed(value) {\n    this.uniforms.get(\"scrollSpeed\").value = value;\n    if (value === 0) {\n      if (this.defines.delete(\"SCROLL\")) {\n        this.setChanged();\n      }\n    } else if (!this.defines.has(\"SCROLL\")) {\n      this.defines.set(\"SCROLL\", \"1\");\n      this.setChanged();\n    }\n  }\n  setSize(width, height) {\n    this.resolution.set(width, height);\n    this.uniforms.get(\"count\").value = Math.round(height * this.density);\n  }\n};\n\n// src/effects/ShockWaveEffect.js\nimport { Uniform as Uniform40, Vector2 as Vector224, Vector3 as Vector35 } from \"three\";\n\n// src/effects/glsl/shock-wave.frag\nvar shock_wave_default = \"uniform bool active;uniform vec2 center;uniform float waveSize;uniform float radius;uniform float maxRadius;uniform float amplitude;varying float vSize;void mainUv(inout vec2 uv){if(active){vec2 aspectCorrection=vec2(aspect,1.0);vec2 difference=uv*aspectCorrection-center*aspectCorrection;float distance=sqrt(dot(difference,difference))*vSize;if(distance>radius){if(distance<radius+waveSize){float angle=(distance-radius)*PI2/waveSize;float cosSin=(1.0-cos(angle))*0.5;float extent=maxRadius+waveSize;float decay=max(extent-distance*distance,0.0)/extent;uv-=((cosSin*amplitude*difference)/distance)*decay;}}}}\";\n\n// src/effects/glsl/shock-wave.vert\nvar shock_wave_default2 = \"uniform float size;uniform float cameraDistance;varying float vSize;void mainSupport(){vSize=(0.1*cameraDistance)/size;}\";\n\n// src/effects/ShockWaveEffect.js\nvar HALF_PI = Math.PI * 0.5;\nvar v2 = new Vector35();\nvar ab = new Vector35();\nvar ShockWaveEffect = class extends Effect {\n  constructor(camera, position = new Vector35(), {\n    speed = 2,\n    maxRadius = 1,\n    waveSize = 0.2,\n    amplitude = 0.05\n  } = {}) {\n    super(\"ShockWaveEffect\", shock_wave_default, {\n      vertexShader: shock_wave_default2,\n      uniforms: /* @__PURE__ */ new Map([\n        [\"active\", new Uniform40(false)],\n        [\"center\", new Uniform40(new Vector224(0.5, 0.5))],\n        [\"cameraDistance\", new Uniform40(1)],\n        [\"size\", new Uniform40(1)],\n        [\"radius\", new Uniform40(-waveSize)],\n        [\"maxRadius\", new Uniform40(maxRadius)],\n        [\"waveSize\", new Uniform40(waveSize)],\n        [\"amplitude\", new Uniform40(amplitude)]\n      ])\n    });\n    this.position = position;\n    this.speed = speed;\n    this.camera = camera;\n    this.screenPosition = this.uniforms.get(\"center\").value;\n    this.time = 0;\n    this.active = false;\n  }\n  get amplitude() {\n    return this.uniforms.get(\"amplitude\").value;\n  }\n  set amplitude(value) {\n    this.uniforms.get(\"amplitude\").value = value;\n  }\n  get waveSize() {\n    return this.uniforms.get(\"waveSize\").value;\n  }\n  set waveSize(value) {\n    this.uniforms.get(\"waveSize\").value = value;\n  }\n  get maxRadius() {\n    return this.uniforms.get(\"maxRadius\").value;\n  }\n  set maxRadius(value) {\n    this.uniforms.get(\"maxRadius\").value = value;\n  }\n  get epicenter() {\n    return this.position;\n  }\n  set epicenter(value) {\n    this.position = value;\n  }\n  getPosition() {\n    return this.position;\n  }\n  setPosition(value) {\n    this.position = value;\n  }\n  getSpeed() {\n    return this.speed;\n  }\n  setSpeed(value) {\n    this.speed = value;\n  }\n  explode() {\n    this.time = 0;\n    this.active = true;\n    this.uniforms.get(\"active\").value = true;\n  }\n  update(renderer, inputBuffer, delta) {\n    const position = this.position;\n    const camera = this.camera;\n    const uniforms = this.uniforms;\n    const uActive = uniforms.get(\"active\");\n    if (this.active) {\n      const waveSize = uniforms.get(\"waveSize\").value;\n      camera.getWorldDirection(v2);\n      ab.copy(camera.position).sub(position);\n      uActive.value = v2.angleTo(ab) > HALF_PI;\n      if (uActive.value) {\n        uniforms.get(\"cameraDistance\").value = camera.position.distanceTo(position);\n        v2.copy(position).project(camera);\n        this.screenPosition.set((v2.x + 1) * 0.5, (v2.y + 1) * 0.5);\n      }\n      this.time += delta * this.speed;\n      const radius = this.time - waveSize;\n      uniforms.get(\"radius\").value = radius;\n      if (radius >= (uniforms.get(\"maxRadius\").value + waveSize) * 2) {\n        this.active = false;\n        uActive.value = false;\n      }\n    }\n  }\n};\n\n// src/effects/SelectiveBloomEffect.js\nimport {\n  BasicDepthPacking as BasicDepthPacking15,\n  Color as Color7,\n  NotEqualDepth as NotEqualDepth2,\n  EqualDepth as EqualDepth2,\n  RGBADepthPacking as RGBADepthPacking5,\n  sRGBEncoding as sRGBEncoding14,\n  WebGLRenderTarget as WebGLRenderTarget16\n} from \"three\";\nvar SelectiveBloomEffect = class extends BloomEffect {\n  constructor(scene, camera, options) {\n    super(options);\n    this.setAttributes(this.getAttributes() | EffectAttribute.DEPTH);\n    this.camera = camera;\n    this.depthPass = new DepthPass(scene, camera);\n    this.clearPass = new ClearPass(true, false, false);\n    this.clearPass.overrideClearColor = new Color7(0);\n    this.depthMaskPass = new ShaderPass(new DepthMaskMaterial());\n    const depthMaskMaterial = this.depthMaskMaterial;\n    depthMaskMaterial.adoptCameraSettings(camera);\n    depthMaskMaterial.depthBuffer1 = this.depthPass.texture;\n    depthMaskMaterial.depthPacking1 = RGBADepthPacking5;\n    depthMaskMaterial.depthMode = EqualDepth2;\n    this.renderTargetMasked = new WebGLRenderTarget16(1, 1, { depthBuffer: false });\n    this.renderTargetMasked.texture.name = \"Bloom.Masked\";\n    this.selection = new Selection();\n    this.selection.layer = 11;\n    this._inverted = false;\n    this._ignoreBackground = false;\n  }\n  getSelection() {\n    return this.selection;\n  }\n  get depthMaskMaterial() {\n    return this.depthMaskPass.fullscreenMaterial;\n  }\n  get inverted() {\n    return this._inverted;\n  }\n  set inverted(value) {\n    this._inverted = value;\n    this.depthMaskMaterial.depthMode = value ? NotEqualDepth2 : EqualDepth2;\n  }\n  isInverted() {\n    return this.inverted;\n  }\n  setInverted(value) {\n    this.inverted = value;\n  }\n  get ignoreBackground() {\n    return this._ignoreBackground;\n  }\n  set ignoreBackground(value) {\n    this._ignoreBackground = value;\n    this.depthMaskMaterial.maxDepthStrategy = value ? DepthTestStrategy.DISCARD_MAX_DEPTH : DepthTestStrategy.KEEP_MAX_DEPTH;\n  }\n  isBackgroundDisabled() {\n    return this.ignoreBackground;\n  }\n  setBackgroundDisabled(value) {\n    this.ignoreBackground = value;\n  }\n  setDepthTexture(depthTexture, depthPacking = BasicDepthPacking15) {\n    this.depthMaskMaterial.depthBuffer0 = depthTexture;\n    this.depthMaskMaterial.depthPacking0 = depthPacking;\n  }\n  update(renderer, inputBuffer, deltaTime) {\n    const camera = this.camera;\n    const selection = this.selection;\n    const inverted = this.inverted;\n    let renderTarget = inputBuffer;\n    if (this.ignoreBackground || !inverted || selection.size > 0) {\n      const mask = camera.layers.mask;\n      camera.layers.set(selection.layer);\n      this.depthPass.render(renderer);\n      camera.layers.mask = mask;\n      renderTarget = this.renderTargetMasked;\n      this.clearPass.render(renderer, renderTarget);\n      this.depthMaskPass.render(renderer, inputBuffer, renderTarget);\n    }\n    super.update(renderer, renderTarget, deltaTime);\n  }\n  setSize(width, height) {\n    super.setSize(width, height);\n    this.renderTargetMasked.setSize(width, height);\n    this.depthPass.setSize(width, height);\n  }\n  initialize(renderer, alpha, frameBufferType) {\n    super.initialize(renderer, alpha, frameBufferType);\n    this.clearPass.initialize(renderer, alpha, frameBufferType);\n    this.depthPass.initialize(renderer, alpha, frameBufferType);\n    this.depthMaskPass.initialize(renderer, alpha, frameBufferType);\n    if (frameBufferType !== void 0) {\n      this.renderTargetMasked.texture.type = frameBufferType;\n      if (renderer.outputEncoding === sRGBEncoding14) {\n        this.renderTargetMasked.texture.encoding = sRGBEncoding14;\n      }\n    }\n  }\n};\n\n// src/effects/SepiaEffect.js\nimport { Uniform as Uniform41 } from \"three\";\n\n// src/effects/glsl/sepia.frag\nvar sepia_default = \"uniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,vec3(1.0,0.0,0.0)+vec3(-0.607,0.769,0.189)*intensity),dot(inputColor.rgb,vec3(0.0,1.0,0.0)+vec3(0.349,-0.314,0.168)*intensity),dot(inputColor.rgb,vec3(0.0,0.0,1.0)+vec3(0.272,0.534,-0.869)*intensity));outputColor=vec4(color,inputColor.a);}\";\n\n// src/effects/SepiaEffect.js\nvar SepiaEffect = class extends Effect {\n  constructor({ blendFunction, intensity = 1 } = {}) {\n    super(\"SepiaEffect\", sepia_default, {\n      blendFunction,\n      uniforms: /* @__PURE__ */ new Map([\n        [\"intensity\", new Uniform41(intensity)]\n      ])\n    });\n  }\n  get intensity() {\n    return this.uniforms.get(\"intensity\").value;\n  }\n  set intensity(value) {\n    this.uniforms.get(\"intensity\").value = value;\n  }\n  getIntensity() {\n    return this.intensity;\n  }\n  setIntensity(value) {\n    this.intensity = value;\n  }\n};\n\n// src/effects/SMAAEffect.js\nimport {\n  BasicDepthPacking as BasicDepthPacking16,\n  Color as Color8,\n  LinearFilter as LinearFilter5,\n  LoadingManager as LoadingManager2,\n  NearestFilter as NearestFilter8,\n  Texture,\n  Uniform as Uniform42,\n  WebGLRenderTarget as WebGLRenderTarget17\n} from \"three\";\n\n// src/textures/smaa/searchImageDataURL.js\nvar searchImageDataURL_default = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAQCAYAAACm53kpAAAAeElEQVRYR+2XSwqAMAxEJ168ePEqwRSKhIIiuHjJqiU0gWE+1CQdApcVAMUAuARaMGCX1MIL/Ow13++9lW2s3mW9MWvsnWc/2fvGygwPAN4E8QzAA4CXAB6AHjG4JTHYI1ey3pcx6FHnEfhLDOIBKAmUBK6/ANUDTlROXAHd9EC1AAAAAElFTkSuQmCC\";\n\n// src/textures/smaa/areaImageDataURL.js\nvar areaImageDataURL_default = \"data:image/png;base64,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\";\n\n// src/effects/glsl/smaa.frag\nvar smaa_default = \"uniform sampler2D weightMap;varying vec2 vOffset0;varying vec2 vOffset1;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 a;a.x=texture2D(weightMap,vOffset0).a;a.y=texture2D(weightMap,vOffset1).g;a.wz=texture2D(weightMap,uv).rb;vec4 color=inputColor;if(dot(a,vec4(1.0))>=1e-5){bool h=max(a.x,a.z)>max(a.y,a.w);vec4 blendingOffset=vec4(0.0,a.y,0.0,a.w);vec2 blendingWeight=a.yw;movec(bvec4(h),blendingOffset,vec4(a.x,0.0,a.z,0.0));movec(bvec2(h),blendingWeight,a.xz);blendingWeight/=dot(blendingWeight,vec2(1.0));vec4 blendingCoord=blendingOffset*vec4(texelSize,-texelSize)+uv.xyxy;color=blendingWeight.x*texture2D(inputBuffer,blendingCoord.xy);color+=blendingWeight.y*texture2D(inputBuffer,blendingCoord.zw);}outputColor=color;}\";\n\n// src/effects/glsl/smaa.vert\nvar smaa_default2 = \"varying vec2 vOffset0;varying vec2 vOffset1;void mainSupport(const in vec2 uv){vOffset0=uv+texelSize*vec2(1.0,0.0);vOffset1=uv+texelSize*vec2(0.0,1.0);}\";\n\n// src/effects/SMAAEffect.js\nvar SMAAEffect = class extends Effect {\n  constructor({\n    blendFunction = BlendFunction.SRC,\n    preset = SMAAPreset.MEDIUM,\n    edgeDetectionMode = EdgeDetectionMode.COLOR,\n    predicationMode = PredicationMode.DISABLED\n  } = {}) {\n    super(\"SMAAEffect\", smaa_default, {\n      vertexShader: smaa_default2,\n      blendFunction,\n      attributes: EffectAttribute.CONVOLUTION | EffectAttribute.DEPTH,\n      uniforms: /* @__PURE__ */ new Map([\n        [\"weightMap\", new Uniform42(null)]\n      ])\n    });\n    let searchImage, areaImage;\n    if (arguments.length > 1) {\n      searchImage = arguments[0];\n      areaImage = arguments[1];\n      if (arguments.length > 2) {\n        preset = arguments[2];\n      }\n      if (arguments.length > 3) {\n        edgeDetectionMode = arguments[3];\n      }\n    }\n    this.renderTargetEdges = new WebGLRenderTarget17(1, 1, { depthBuffer: false });\n    this.renderTargetEdges.texture.name = \"SMAA.Edges\";\n    this.renderTargetWeights = this.renderTargetEdges.clone();\n    this.renderTargetWeights.texture.name = \"SMAA.Weights\";\n    this.uniforms.get(\"weightMap\").value = this.renderTargetWeights.texture;\n    this.clearPass = new ClearPass(true, false, false);\n    this.clearPass.overrideClearColor = new Color8(0);\n    this.clearPass.overrideClearAlpha = 1;\n    this.edgeDetectionPass = new ShaderPass(new EdgeDetectionMaterial());\n    this.edgeDetectionMaterial.edgeDetectionMode = edgeDetectionMode;\n    this.edgeDetectionMaterial.predicationMode = predicationMode;\n    this.weightsPass = new ShaderPass(new SMAAWeightsMaterial());\n    const loadingManager = new LoadingManager2();\n    loadingManager.onLoad = () => {\n      const searchTexture = new Texture(searchImage);\n      searchTexture.name = \"SMAA.Search\";\n      searchTexture.magFilter = NearestFilter8;\n      searchTexture.minFilter = NearestFilter8;\n      searchTexture.generateMipmaps = false;\n      searchTexture.needsUpdate = true;\n      searchTexture.flipY = true;\n      this.weightsMaterial.searchTexture = searchTexture;\n      const areaTexture = new Texture(areaImage);\n      areaTexture.name = \"SMAA.Area\";\n      areaTexture.magFilter = LinearFilter5;\n      areaTexture.minFilter = LinearFilter5;\n      areaTexture.generateMipmaps = false;\n      areaTexture.needsUpdate = true;\n      areaTexture.flipY = false;\n      this.weightsMaterial.areaTexture = areaTexture;\n      this.dispatchEvent({ type: \"load\" });\n    };\n    loadingManager.itemStart(\"search\");\n    loadingManager.itemStart(\"area\");\n    if (searchImage !== void 0 && areaImage !== void 0) {\n      loadingManager.itemEnd(\"search\");\n      loadingManager.itemEnd(\"area\");\n    } else if (typeof Image !== \"undefined\") {\n      searchImage = new Image();\n      areaImage = new Image();\n      searchImage.addEventListener(\"load\", () => loadingManager.itemEnd(\"search\"));\n      areaImage.addEventListener(\"load\", () => loadingManager.itemEnd(\"area\"));\n      searchImage.src = searchImageDataURL_default;\n      areaImage.src = areaImageDataURL_default;\n    }\n    this.applyPreset(preset);\n  }\n  get edgesTexture() {\n    return this.renderTargetEdges.texture;\n  }\n  getEdgesTexture() {\n    return this.edgesTexture;\n  }\n  get weightsTexture() {\n    return this.renderTargetWeights.texture;\n  }\n  getWeightsTexture() {\n    return this.weightsTexture;\n  }\n  get edgeDetectionMaterial() {\n    return this.edgeDetectionPass.fullscreenMaterial;\n  }\n  get colorEdgesMaterial() {\n    return this.edgeDetectionMaterial;\n  }\n  getEdgeDetectionMaterial() {\n    return this.edgeDetectionMaterial;\n  }\n  get weightsMaterial() {\n    return this.weightsPass.fullscreenMaterial;\n  }\n  getWeightsMaterial() {\n    return this.weightsMaterial;\n  }\n  setEdgeDetectionThreshold(threshold) {\n    this.edgeDetectionMaterial.edgeDetectionThreshold = threshold;\n  }\n  setOrthogonalSearchSteps(steps) {\n    this.weightsMaterial.orthogonalSearchSteps = steps;\n  }\n  applyPreset(preset) {\n    const edgeDetectionMaterial = this.edgeDetectionMaterial;\n    const weightsMaterial = this.weightsMaterial;\n    switch (preset) {\n      case SMAAPreset.LOW:\n        edgeDetectionMaterial.edgeDetectionThreshold = 0.15;\n        weightsMaterial.orthogonalSearchSteps = 4;\n        weightsMaterial.diagonalDetection = false;\n        weightsMaterial.cornerDetection = false;\n        break;\n      case SMAAPreset.MEDIUM:\n        edgeDetectionMaterial.edgeDetectionThreshold = 0.1;\n        weightsMaterial.orthogonalSearchSteps = 8;\n        weightsMaterial.diagonalDetection = false;\n        weightsMaterial.cornerDetection = false;\n        break;\n      case SMAAPreset.HIGH:\n        edgeDetectionMaterial.edgeDetectionThreshold = 0.1;\n        weightsMaterial.orthogonalSearchSteps = 16;\n        weightsMaterial.diagonalSearchSteps = 8;\n        weightsMaterial.cornerRounding = 25;\n        weightsMaterial.diagonalDetection = true;\n        weightsMaterial.cornerDetection = true;\n        break;\n      case SMAAPreset.ULTRA:\n        edgeDetectionMaterial.edgeDetectionThreshold = 0.05;\n        weightsMaterial.orthogonalSearchSteps = 32;\n        weightsMaterial.diagonalSearchSteps = 16;\n        weightsMaterial.cornerRounding = 25;\n        weightsMaterial.diagonalDetection = true;\n        weightsMaterial.cornerDetection = true;\n        break;\n    }\n  }\n  setDepthTexture(depthTexture, depthPacking = BasicDepthPacking16) {\n    this.edgeDetectionMaterial.depthBuffer = depthTexture;\n    this.edgeDetectionMaterial.depthPacking = depthPacking;\n  }\n  update(renderer, inputBuffer, deltaTime) {\n    this.clearPass.render(renderer, this.renderTargetEdges);\n    this.edgeDetectionPass.render(renderer, inputBuffer, this.renderTargetEdges);\n    this.weightsPass.render(renderer, this.renderTargetEdges, this.renderTargetWeights);\n  }\n  setSize(width, height) {\n    this.edgeDetectionMaterial.setSize(width, height);\n    this.weightsMaterial.setSize(width, height);\n    this.renderTargetEdges.setSize(width, height);\n    this.renderTargetWeights.setSize(width, height);\n  }\n  dispose() {\n    const { searchTexture, areaTexture } = this.weightsMaterial;\n    if (searchTexture !== null && areaTexture !== null) {\n      searchTexture.dispose();\n      areaTexture.dispose();\n    }\n    super.dispose();\n  }\n  static get searchImageDataURL() {\n    return searchImageDataURL_default;\n  }\n  static get areaImageDataURL() {\n    return areaImageDataURL_default;\n  }\n};\n\n// src/effects/SSAOEffect.js\nimport { BasicDepthPacking as BasicDepthPacking17, Color as Color9, RepeatWrapping as RepeatWrapping3, RGBAFormat as RGBAFormat5, Uniform as Uniform43, WebGLRenderTarget as WebGLRenderTarget18 } from \"three\";\n\n// src/effects/glsl/ssao.frag\nvar ssao_default3 = \"uniform lowp sampler2D aoBuffer;uniform float luminanceInfluence;\\n#ifdef DEPTH_AWARE_UPSAMPLING\\n#ifdef GL_FRAGMENT_PRECISION_HIGH\\nuniform highp sampler2D normalDepthBuffer;\\n#else\\nuniform mediump sampler2D normalDepthBuffer;\\n#endif\\n#endif\\n#ifdef COLORIZE\\nuniform vec3 color;\\n#endif\\nvoid mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){float aoLinear=texture2D(aoBuffer,uv).r;\\n#if defined(DEPTH_AWARE_UPSAMPLING) && __VERSION__ == 300\\nvec4 normalDepth[4];normalDepth[0]=textureOffset(normalDepthBuffer,uv,ivec2(0,0));normalDepth[1]=textureOffset(normalDepthBuffer,uv,ivec2(0,1));normalDepth[2]=textureOffset(normalDepthBuffer,uv,ivec2(1,0));normalDepth[3]=textureOffset(normalDepthBuffer,uv,ivec2(1,1));float dot01=dot(normalDepth[0].rgb,normalDepth[1].rgb);float dot02=dot(normalDepth[0].rgb,normalDepth[2].rgb);float dot03=dot(normalDepth[0].rgb,normalDepth[3].rgb);float minDot=min(dot01,min(dot02,dot03));float s=step(THRESHOLD,minDot);float smallestDistance=1.0;int index;for(int i=0;i<4;++i){float distance=abs(depth-normalDepth[i].a);if(distance<smallestDistance){smallestDistance=distance;index=i;}}ivec2 offsets[4];offsets[0]=ivec2(0,0);offsets[1]=ivec2(0,1);offsets[2]=ivec2(1,0);offsets[3]=ivec2(1,1);ivec2 coord=ivec2(uv*vec2(textureSize(aoBuffer,0)))+offsets[index];float aoNearest=texelFetch(aoBuffer,coord,0).r;float ao=mix(aoNearest,aoLinear,s);\\n#else\\nfloat ao=aoLinear;\\n#endif\\nfloat l=linearToRelativeLuminance(inputColor.rgb);ao=mix(ao,1.0,l*luminanceInfluence);\\n#ifdef COLORIZE\\noutputColor=vec4(1.0-(1.0-ao)*(1.0-color),inputColor.a);\\n#else\\noutputColor=vec4(vec3(ao),inputColor.a);\\n#endif\\n}\";\n\n// src/effects/SSAOEffect.js\nvar NOISE_TEXTURE_SIZE = 64;\nvar SSAOEffect = class extends Effect {\n  constructor(camera, normalBuffer, {\n    blendFunction = BlendFunction.MULTIPLY,\n    distanceScaling = true,\n    depthAwareUpsampling = true,\n    normalDepthBuffer = null,\n    samples = 9,\n    rings = 7,\n    worldDistanceThreshold,\n    worldDistanceFalloff,\n    worldProximityThreshold,\n    worldProximityFalloff,\n    distanceThreshold = 0.97,\n    distanceFalloff = 0.03,\n    rangeThreshold = 5e-4,\n    rangeFalloff = 1e-3,\n    minRadiusScale = 0.1,\n    luminanceInfluence = 0.7,\n    radius = 0.1825,\n    intensity = 1,\n    bias = 0.025,\n    fade = 0.01,\n    color: color2 = null,\n    resolutionScale = 1,\n    width = Resolution.AUTO_SIZE,\n    height = Resolution.AUTO_SIZE,\n    resolutionX = width,\n    resolutionY = height\n  } = {}) {\n    super(\"SSAOEffect\", ssao_default3, {\n      blendFunction,\n      attributes: EffectAttribute.DEPTH,\n      defines: /* @__PURE__ */ new Map([\n        [\"THRESHOLD\", \"0.997\"]\n      ]),\n      uniforms: /* @__PURE__ */ new Map([\n        [\"aoBuffer\", new Uniform43(null)],\n        [\"normalDepthBuffer\", new Uniform43(normalDepthBuffer)],\n        [\"luminanceInfluence\", new Uniform43(luminanceInfluence)],\n        [\"color\", new Uniform43(null)],\n        [\"scale\", new Uniform43(0)]\n      ])\n    });\n    this.renderTargetAO = new WebGLRenderTarget18(1, 1, { depthBuffer: false });\n    this.renderTargetAO.texture.name = \"AO.Target\";\n    this.uniforms.get(\"aoBuffer\").value = this.renderTargetAO.texture;\n    const resolution = this.resolution = new Resolution(this, resolutionX, resolutionY, resolutionScale);\n    resolution.addEventListener(\"change\", (e) => this.setSize(resolution.baseWidth, resolution.baseHeight));\n    this.camera = camera;\n    this.ssaoPass = new ShaderPass(new SSAOMaterial(camera));\n    const noiseTexture = new NoiseTexture(NOISE_TEXTURE_SIZE, NOISE_TEXTURE_SIZE, RGBAFormat5);\n    noiseTexture.wrapS = noiseTexture.wrapT = RepeatWrapping3;\n    const material = this.ssaoMaterial;\n    material.noiseTexture = noiseTexture;\n    material.minRadiusScale = minRadiusScale;\n    material.intensity = intensity;\n    material.fade = fade;\n    material.bias = bias;\n    if (normalDepthBuffer !== null) {\n      material.normalDepthBuffer = normalDepthBuffer;\n      this.depthAwareUpsampling = depthAwareUpsampling;\n    } else {\n      material.normalBuffer = normalBuffer;\n    }\n    material.distanceThreshold = distanceThreshold;\n    material.distanceFalloff = distanceFalloff;\n    material.proximityThreshold = rangeThreshold;\n    material.proximityFalloff = rangeFalloff;\n    if (worldDistanceThreshold !== void 0) {\n      material.worldDistanceThreshold = worldDistanceThreshold;\n    }\n    if (worldDistanceFalloff !== void 0) {\n      material.worldDistanceFalloff = worldDistanceFalloff;\n    }\n    if (worldProximityThreshold !== void 0) {\n      material.worldProximityThreshold = worldProximityThreshold;\n    }\n    if (worldProximityFalloff !== void 0) {\n      material.worldProximityFalloff = worldProximityFalloff;\n    }\n    material.distanceScaling = distanceScaling;\n    material.samples = samples;\n    material.radius = radius;\n    material.rings = rings;\n    this.color = color2;\n  }\n  getResolution() {\n    return this.resolution;\n  }\n  get ssaoMaterial() {\n    return this.ssaoPass.fullscreenMaterial;\n  }\n  getSSAOMaterial() {\n    return this.ssaoMaterial;\n  }\n  get samples() {\n    return this.ssaoMaterial.samples;\n  }\n  set samples(value) {\n    this.ssaoMaterial.samples = value;\n  }\n  get rings() {\n    return this.ssaoMaterial.rings;\n  }\n  set rings(value) {\n    this.ssaoMaterial.rings = value;\n  }\n  get radius() {\n    return this.ssaoMaterial.radius;\n  }\n  set radius(value) {\n    this.ssaoMaterial.radius = value;\n  }\n  get depthAwareUpsampling() {\n    return this.defines.has(\"DEPTH_AWARE_UPSAMPLING\");\n  }\n  set depthAwareUpsampling(value) {\n    if (this.depthAwareUpsampling !== value) {\n      if (value && this.uniforms.get(\"normalDepthBuffer\").value !== null) {\n        this.defines.set(\"DEPTH_AWARE_UPSAMPLING\", \"1\");\n      } else {\n        this.defines.delete(\"DEPTH_AWARE_UPSAMPLING\");\n      }\n      this.setChanged();\n    }\n  }\n  isDepthAwareUpsamplingEnabled() {\n    return this.depthAwareUpsampling;\n  }\n  setDepthAwareUpsamplingEnabled(value) {\n    this.depthAwareUpsampling = value;\n  }\n  get distanceScaling() {\n    return this.ssaoMaterial.distanceScaling;\n  }\n  set distanceScaling(value) {\n    this.ssaoMaterial.distanceScaling = value;\n  }\n  get color() {\n    return this.uniforms.get(\"color\").value;\n  }\n  set color(value) {\n    const uniforms = this.uniforms;\n    const defines = this.defines;\n    if (value !== null) {\n      if (defines.has(\"COLORIZE\")) {\n        uniforms.get(\"color\").value.set(value);\n      } else {\n        defines.set(\"COLORIZE\", \"1\");\n        uniforms.get(\"color\").value = new Color9(value);\n        this.setChanged();\n      }\n    } else if (defines.has(\"COLORIZE\")) {\n      defines.delete(\"COLORIZE\");\n      uniforms.get(\"color\").value = null;\n      this.setChanged();\n    }\n  }\n  get luminanceInfluence() {\n    return this.uniforms.get(\"luminanceInfluence\").value;\n  }\n  set luminanceInfluence(value) {\n    this.uniforms.get(\"luminanceInfluence\").value = value;\n  }\n  getColor() {\n    return this.color;\n  }\n  setColor(value) {\n    this.color = value;\n  }\n  setDistanceCutoff(threshold, falloff) {\n    this.ssaoMaterial.distanceThreshold = threshold;\n    this.ssaoMaterial.distanceFalloff = falloff;\n  }\n  setProximityCutoff(threshold, falloff) {\n    this.ssaoMaterial.proximityThreshold = threshold;\n    this.ssaoMaterial.proximityFalloff = falloff;\n  }\n  setDepthTexture(depthTexture, depthPacking = BasicDepthPacking17) {\n    this.ssaoMaterial.depthBuffer = depthTexture;\n    this.ssaoMaterial.depthPacking = depthPacking;\n  }\n  update(renderer, inputBuffer, deltaTime) {\n    this.ssaoPass.render(renderer, null, this.renderTargetAO);\n  }\n  setSize(width, height) {\n    const resolution = this.resolution;\n    resolution.setBaseSize(width, height);\n    const w = resolution.width, h = resolution.height;\n    const material = this.ssaoMaterial;\n    material.adoptCameraSettings(this.camera);\n    material.setSize(w, h);\n    this.renderTargetAO.setSize(w, h);\n  }\n};\n\n// src/effects/TextureEffect.js\nimport { Uniform as Uniform44, UnsignedByteType as UnsignedByteType16 } from \"three\";\n\n// src/effects/glsl/texture.frag\nvar texture_default = \"#ifdef TEXTURE_PRECISION_HIGH\\nuniform mediump sampler2D map;\\n#else\\nuniform lowp sampler2D map;\\n#endif\\nvarying vec2 vUv2;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){\\n#ifdef UV_TRANSFORM\\nvec4 texel=texelToLinear(texture2D(map,vUv2));\\n#else\\nvec4 texel=texelToLinear(texture2D(map,uv));\\n#endif\\noutputColor=TEXEL;}\";\n\n// src/effects/glsl/texture.vert\nvar texture_default2 = \"#ifdef ASPECT_CORRECTION\\nuniform float scale;\\n#else\\nuniform mat3 uvTransform;\\n#endif\\nvarying vec2 vUv2;void mainSupport(const in vec2 uv){\\n#ifdef ASPECT_CORRECTION\\nvUv2=uv*vec2(aspect,1.0)*scale;\\n#else\\nvUv2=(uvTransform*vec3(uv,1.0)).xy;\\n#endif\\n}\";\n\n// src/effects/TextureEffect.js\nvar TextureEffect = class extends Effect {\n  constructor({ blendFunction, texture = null, aspectCorrection = false } = {}) {\n    super(\"TextureEffect\", texture_default, {\n      blendFunction,\n      defines: /* @__PURE__ */ new Map([\n        [\"TEXEL\", \"texel\"]\n      ]),\n      uniforms: /* @__PURE__ */ new Map([\n        [\"map\", new Uniform44(null)],\n        [\"scale\", new Uniform44(1)],\n        [\"uvTransform\", new Uniform44(null)]\n      ])\n    });\n    this.texture = texture;\n    this.aspectCorrection = aspectCorrection;\n  }\n  get texture() {\n    return this.uniforms.get(\"map\").value;\n  }\n  set texture(value) {\n    const prevTexture = this.texture;\n    const uniforms = this.uniforms;\n    const defines = this.defines;\n    if (prevTexture !== value) {\n      uniforms.get(\"map\").value = value;\n      uniforms.get(\"uvTransform\").value = value.matrix;\n      defines.delete(\"TEXTURE_PRECISION_HIGH\");\n      if (this.renderer !== null) {\n        const decoding = getTextureDecoding(value, this.renderer.capabilities.isWebGL2);\n        defines.set(\"texelToLinear(texel)\", decoding);\n      }\n      if (value !== null) {\n        if (value.matrixAutoUpdate) {\n          defines.set(\"UV_TRANSFORM\", \"1\");\n          this.setVertexShader(texture_default2);\n        } else {\n          defines.delete(\"UV_TRANSFORM\");\n          this.setVertexShader(null);\n        }\n        if (value.type !== UnsignedByteType16) {\n          defines.set(\"TEXTURE_PRECISION_HIGH\", \"1\");\n        }\n        if (prevTexture === null || prevTexture.type !== value.type || prevTexture.encoding !== value.encoding) {\n          this.setChanged();\n        }\n      }\n    }\n  }\n  getTexture() {\n    return this.texture;\n  }\n  setTexture(value) {\n    this.texture = value;\n  }\n  get aspectCorrection() {\n    return this.defines.has(\"ASPECT_CORRECTION\");\n  }\n  set aspectCorrection(value) {\n    if (this.aspectCorrection !== value) {\n      if (value) {\n        this.defines.set(\"ASPECT_CORRECTION\", \"1\");\n      } else {\n        this.defines.delete(\"ASPECT_CORRECTION\");\n      }\n      this.setChanged();\n    }\n  }\n  get uvTransform() {\n    const texture = this.texture;\n    return texture !== null && texture.matrixAutoUpdate;\n  }\n  set uvTransform(value) {\n    const texture = this.texture;\n    if (texture !== null) {\n      texture.matrixAutoUpdate = value;\n    }\n  }\n  setTextureSwizzleRGBA(r, g = r, b = r, a = r) {\n    const rgba = \"rgba\";\n    let swizzle = \"\";\n    if (r !== ColorChannel.RED || g !== ColorChannel.GREEN || b !== ColorChannel.BLUE || a !== ColorChannel.ALPHA) {\n      swizzle = [\".\", rgba[r], rgba[g], rgba[b], rgba[a]].join(\"\");\n    }\n    this.defines.set(\"TEXEL\", \"texel\" + swizzle);\n    this.setChanged();\n  }\n  update(renderer, inputBuffer, deltaTime) {\n    if (this.texture.matrixAutoUpdate) {\n      this.texture.updateMatrix();\n    }\n  }\n  initialize(renderer, alpha, frameBufferType) {\n    const decoding = getTextureDecoding(this.texture, renderer.capabilities.isWebGL2);\n    this.defines.set(\"texelToLinear(texel)\", decoding);\n    this.renderer = renderer;\n  }\n};\n\n// src/effects/ToneMappingEffect.js\nimport { LinearMipmapLinearFilter, Uniform as Uniform45, WebGLRenderTarget as WebGLRenderTarget19 } from \"three\";\n\n// src/effects/glsl/tone-mapping.frag\nvar tone_mapping_default = \"#include <tonemapping_pars_fragment>\\nuniform lowp sampler2D luminanceBuffer;uniform float whitePoint;uniform float middleGrey;\\n#if TONE_MAPPING_MODE != 2\\nuniform float averageLuminance;\\n#endif\\nvec3 Reinhard2ToneMapping(vec3 color){color*=toneMappingExposure;float l=linearToRelativeLuminance(color);\\n#if TONE_MAPPING_MODE == 2\\nfloat lumAvg=unpackRGBAToFloat(texture2D(luminanceBuffer,vec2(0.5)));\\n#else\\nfloat lumAvg=averageLuminance;\\n#endif\\nfloat lumScaled=(l*middleGrey)/max(lumAvg,1e-6);float lumCompressed=lumScaled*(1.0+lumScaled/(whitePoint*whitePoint));lumCompressed/=(1.0+lumScaled);return clamp(lumCompressed*color,0.0,1.0);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){\\n#if TONE_MAPPING_MODE == 1 || TONE_MAPPING_MODE == 2\\noutputColor=vec4(Reinhard2ToneMapping(inputColor.rgb),inputColor.a);\\n#else\\noutputColor=vec4(toneMapping(inputColor.rgb),inputColor.a);\\n#endif\\n}\";\n\n// src/effects/ToneMappingEffect.js\nvar ToneMappingEffect = class extends Effect {\n  constructor({\n    blendFunction = BlendFunction.SRC,\n    adaptive = true,\n    mode = adaptive ? ToneMappingMode.REINHARD2_ADAPTIVE : ToneMappingMode.REINHARD2,\n    resolution = 256,\n    maxLuminance = 16,\n    whitePoint = maxLuminance,\n    middleGrey = 0.6,\n    minLuminance = 0.01,\n    averageLuminance = 1,\n    adaptationRate = 1\n  } = {}) {\n    super(\"ToneMappingEffect\", tone_mapping_default, {\n      blendFunction,\n      uniforms: /* @__PURE__ */ new Map([\n        [\"luminanceBuffer\", new Uniform45(null)],\n        [\"maxLuminance\", new Uniform45(maxLuminance)],\n        [\"whitePoint\", new Uniform45(whitePoint)],\n        [\"middleGrey\", new Uniform45(middleGrey)],\n        [\"averageLuminance\", new Uniform45(averageLuminance)]\n      ])\n    });\n    this.renderTargetLuminance = new WebGLRenderTarget19(1, 1, {\n      minFilter: LinearMipmapLinearFilter,\n      depthBuffer: false\n    });\n    this.renderTargetLuminance.texture.generateMipmaps = true;\n    this.renderTargetLuminance.texture.name = \"Luminance\";\n    this.luminancePass = new LuminancePass({\n      renderTarget: this.renderTargetLuminance\n    });\n    this.adaptiveLuminancePass = new AdaptiveLuminancePass(this.luminancePass.texture, {\n      minLuminance,\n      adaptationRate\n    });\n    this.uniforms.get(\"luminanceBuffer\").value = this.adaptiveLuminancePass.texture;\n    this.resolution = resolution;\n    this.mode = mode;\n  }\n  get mode() {\n    return Number(this.defines.get(\"TONE_MAPPING_MODE\"));\n  }\n  set mode(value) {\n    if (this.mode !== value) {\n      this.defines.clear();\n      this.defines.set(\"TONE_MAPPING_MODE\", value.toFixed(0));\n      switch (value) {\n        case ToneMappingMode.REINHARD:\n          this.defines.set(\"toneMapping(texel)\", \"ReinhardToneMapping(texel)\");\n          break;\n        case ToneMappingMode.OPTIMIZED_CINEON:\n          this.defines.set(\"toneMapping(texel)\", \"OptimizedCineonToneMapping(texel)\");\n          break;\n        case ToneMappingMode.ACES_FILMIC:\n          this.defines.set(\"toneMapping(texel)\", \"ACESFilmicToneMapping(texel)\");\n          break;\n        default:\n          this.defines.set(\"toneMapping(texel)\", \"texel\");\n          break;\n      }\n      this.adaptiveLuminancePass.enabled = value === ToneMappingMode.REINHARD2_ADAPTIVE;\n      this.setChanged();\n    }\n  }\n  getMode() {\n    return this.mode;\n  }\n  setMode(value) {\n    this.mode = value;\n  }\n  get whitePoint() {\n    return this.uniforms.get(\"whitePoint\").value;\n  }\n  set whitePoint(value) {\n    this.uniforms.get(\"whitePoint\").value = value;\n  }\n  get middleGrey() {\n    return this.uniforms.get(\"middleGrey\").value;\n  }\n  set middleGrey(value) {\n    this.uniforms.get(\"middleGrey\").value = value;\n  }\n  get averageLuminance() {\n    return this.uniforms.get(\"averageLuminance\").value;\n  }\n  set averageLuminance(value) {\n    this.uniforms.get(\"averageLuminance\").value = value;\n  }\n  get adaptiveLuminanceMaterial() {\n    return this.adaptiveLuminancePass.fullscreenMaterial;\n  }\n  getAdaptiveLuminanceMaterial() {\n    return this.adaptiveLuminanceMaterial;\n  }\n  get resolution() {\n    return this.luminancePass.resolution.width;\n  }\n  set resolution(value) {\n    const exponent = Math.max(0, Math.ceil(Math.log2(value)));\n    const size = Math.pow(2, exponent);\n    this.luminancePass.resolution.setPreferredSize(size, size);\n    this.adaptiveLuminanceMaterial.mipLevel1x1 = exponent;\n  }\n  getResolution() {\n    return this.resolution;\n  }\n  setResolution(value) {\n    this.resolution = value;\n  }\n  get adaptive() {\n    return this.mode === ToneMappingMode.REINHARD2_ADAPTIVE;\n  }\n  set adaptive(value) {\n    this.mode = value ? ToneMappingMode.REINHARD2_ADAPTIVE : ToneMappingMode.REINHARD2;\n  }\n  get adaptationRate() {\n    return this.adaptiveLuminanceMaterial.adaptationRate;\n  }\n  set adaptationRate(value) {\n    this.adaptiveLuminanceMaterial.adaptationRate = value;\n  }\n  get distinction() {\n    console.warn(this.name, \"distinction was removed.\");\n    return 1;\n  }\n  set distinction(value) {\n    console.warn(this.name, \"distinction was removed.\");\n  }\n  update(renderer, inputBuffer, deltaTime) {\n    if (this.adaptiveLuminancePass.enabled) {\n      this.luminancePass.render(renderer, inputBuffer);\n      this.adaptiveLuminancePass.render(renderer, null, null, deltaTime);\n    }\n  }\n  initialize(renderer, alpha, frameBufferType) {\n    this.adaptiveLuminancePass.initialize(renderer, alpha, frameBufferType);\n  }\n};\n\n// src/effects/VignetteEffect.js\nimport { Uniform as Uniform46 } from \"three\";\n\n// src/effects/glsl/vignette.frag\nvar vignette_default = \"uniform float offset;uniform float darkness;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){const vec2 center=vec2(0.5);vec3 color=inputColor.rgb;\\n#if VIGNETTE_TECHNIQUE == 0\\nfloat d=distance(uv,center);color*=smoothstep(0.8,offset*0.799,d*(darkness+offset));\\n#else\\nvec2 coord=(uv-center)*vec2(offset);color=mix(color,vec3(1.0-darkness),dot(coord,coord));\\n#endif\\noutputColor=vec4(color,inputColor.a);}\";\n\n// src/effects/VignetteEffect.js\nvar VignetteEffect = class extends Effect {\n  constructor({\n    blendFunction,\n    technique = VignetteTechnique.DEFAULT,\n    eskil = false,\n    offset = 0.5,\n    darkness = 0.5\n  } = {}) {\n    super(\"VignetteEffect\", vignette_default, {\n      blendFunction,\n      defines: /* @__PURE__ */ new Map([\n        [\"VIGNETTE_TECHNIQUE\", technique.toFixed(0)]\n      ]),\n      uniforms: /* @__PURE__ */ new Map([\n        [\"offset\", new Uniform46(offset)],\n        [\"darkness\", new Uniform46(darkness)]\n      ])\n    });\n  }\n  get technique() {\n    return Number(this.defines.get(\"VIGNETTE_TECHNIQUE\"));\n  }\n  set technique(value) {\n    if (this.technique !== value) {\n      this.defines.set(\"VIGNETTE_TECHNIQUE\", value.toFixed(0));\n      this.setChanged();\n    }\n  }\n  get eskil() {\n    return this.technique === VignetteTechnique.ESKIL;\n  }\n  set eskil(value) {\n    this.technique = value ? VignetteTechnique.ESKIL : VignetteTechnique.DEFAULT;\n  }\n  getTechnique() {\n    return this.technique;\n  }\n  setTechnique(value) {\n    this.technique = value;\n  }\n  get offset() {\n    return this.uniforms.get(\"offset\").value;\n  }\n  set offset(value) {\n    this.uniforms.get(\"offset\").value = value;\n  }\n  getOffset() {\n    return this.offset;\n  }\n  setOffset(value) {\n    this.offset = value;\n  }\n  get darkness() {\n    return this.uniforms.get(\"darkness\").value;\n  }\n  set darkness(value) {\n    this.uniforms.get(\"darkness\").value = value;\n  }\n  getDarkness() {\n    return this.darkness;\n  }\n  setDarkness(value) {\n    this.darkness = value;\n  }\n};\n\n// src/loaders/LUT3dlLoader.js\nimport { FileLoader, Loader, LoadingManager as LoadingManager3 } from \"three\";\nvar LUT3dlLoader = class extends Loader {\n  load(url, onLoad = () => {\n  }, onProgress = () => {\n  }, onError = null) {\n    const externalManager = this.manager;\n    const internalManager = new LoadingManager3();\n    const loader = new FileLoader(internalManager);\n    loader.setPath(this.path);\n    loader.setResponseType(\"text\");\n    return new Promise((resolve, reject) => {\n      internalManager.onError = (url2) => {\n        externalManager.itemError(url2);\n        if (onError !== null) {\n          onError(`Failed to load ${url2}`);\n          resolve();\n        } else {\n          reject(`Failed to load ${url2}`);\n        }\n      };\n      externalManager.itemStart(url);\n      loader.load(url, (data) => {\n        try {\n          const result = this.parse(data);\n          externalManager.itemEnd(url);\n          onLoad(result);\n          resolve(result);\n        } catch (e) {\n          console.error(e);\n          internalManager.onError(url);\n        }\n      }, onProgress);\n    });\n  }\n  parse(input) {\n    const regExpGridInfo = /^[\\d ]+$/m;\n    const regExpDataPoints = /^([\\d.e+-]+) +([\\d.e+-]+) +([\\d.e+-]+) *$/gm;\n    let result = regExpGridInfo.exec(input);\n    if (result === null) {\n      throw new Error(\"Missing grid information\");\n    }\n    const gridLines = result[0].trim().split(/\\s+/g).map((n) => Number(n));\n    const gridStep = gridLines[1] - gridLines[0];\n    const size = gridLines.length;\n    const sizeSq = size ** 2;\n    for (let i = 1, l = gridLines.length; i < l; ++i) {\n      if (gridStep !== gridLines[i] - gridLines[i - 1]) {\n        throw new Error(\"Inconsistent grid size\");\n      }\n    }\n    const data = new Float32Array(size ** 3 * 4);\n    let maxValue = 0;\n    let index = 0;\n    while ((result = regExpDataPoints.exec(input)) !== null) {\n      const r = Number(result[1]);\n      const g = Number(result[2]);\n      const b = Number(result[3]);\n      maxValue = Math.max(maxValue, r, g, b);\n      const bLayer = index % size;\n      const gLayer = Math.floor(index / size) % size;\n      const rLayer = Math.floor(index / sizeSq) % size;\n      const d4 = (bLayer * sizeSq + gLayer * size + rLayer) * 4;\n      data[d4 + 0] = r;\n      data[d4 + 1] = g;\n      data[d4 + 2] = b;\n      data[d4 + 3] = 1;\n      ++index;\n    }\n    const bits = Math.ceil(Math.log2(maxValue));\n    const maxBitValue = Math.pow(2, bits);\n    for (let i = 0, l = data.length; i < l; i += 4) {\n      data[i + 0] /= maxBitValue;\n      data[i + 1] /= maxBitValue;\n      data[i + 2] /= maxBitValue;\n    }\n    return new LookupTexture(data, size);\n  }\n};\n\n// src/loaders/LUTCubeLoader.js\nimport { FileLoader as FileLoader2, Loader as Loader2, LoadingManager as LoadingManager4, Vector3 as Vector36 } from \"three\";\nvar LUTCubeLoader = class extends Loader2 {\n  load(url, onLoad = () => {\n  }, onProgress = () => {\n  }, onError = null) {\n    const externalManager = this.manager;\n    const internalManager = new LoadingManager4();\n    const loader = new FileLoader2(internalManager);\n    loader.setPath(this.path);\n    loader.setResponseType(\"text\");\n    return new Promise((resolve, reject) => {\n      internalManager.onError = (url2) => {\n        externalManager.itemError(url2);\n        if (onError !== null) {\n          onError(`Failed to load ${url2}`);\n          resolve();\n        } else {\n          reject(`Failed to load ${url2}`);\n        }\n      };\n      externalManager.itemStart(url);\n      loader.load(url, (data) => {\n        try {\n          const result = this.parse(data);\n          externalManager.itemEnd(url);\n          onLoad(result);\n          resolve(result);\n        } catch (e) {\n          console.error(e);\n          internalManager.onError(url);\n        }\n      }, onProgress);\n    });\n  }\n  parse(input) {\n    const regExpTitle = /TITLE +\"([^\"]*)\"/;\n    const regExpSize = /LUT_3D_SIZE +(\\d+)/;\n    const regExpDomainMin = /DOMAIN_MIN +([\\d.]+) +([\\d.]+) +([\\d.]+)/;\n    const regExpDomainMax = /DOMAIN_MAX +([\\d.]+) +([\\d.]+) +([\\d.]+)/;\n    const regExpDataPoints = /^([\\d.e+-]+) +([\\d.e+-]+) +([\\d.e+-]+) *$/gm;\n    let result = regExpTitle.exec(input);\n    const title = result !== null ? result[1] : null;\n    result = regExpSize.exec(input);\n    if (result === null) {\n      throw new Error(\"Missing LUT_3D_SIZE information\");\n    }\n    const size = Number(result[1]);\n    const data = new Float32Array(size ** 3 * 4);\n    const domainMin = new Vector36(0, 0, 0);\n    const domainMax = new Vector36(1, 1, 1);\n    result = regExpDomainMin.exec(input);\n    if (result !== null) {\n      domainMin.set(Number(result[1]), Number(result[2]), Number(result[3]));\n    }\n    result = regExpDomainMax.exec(input);\n    if (result !== null) {\n      domainMax.set(Number(result[1]), Number(result[2]), Number(result[3]));\n    }\n    if (domainMin.x > domainMax.x || domainMin.y > domainMax.y || domainMin.z > domainMax.z) {\n      domainMin.set(0, 0, 0);\n      domainMax.set(1, 1, 1);\n      throw new Error(\"Invalid input domain\");\n    }\n    let i = 0;\n    while ((result = regExpDataPoints.exec(input)) !== null) {\n      data[i++] = Number(result[1]);\n      data[i++] = Number(result[2]);\n      data[i++] = Number(result[3]);\n      data[i++] = 1;\n    }\n    const lut = new LookupTexture(data, size);\n    lut.domainMin.copy(domainMin);\n    lut.domainMax.copy(domainMax);\n    if (title !== null) {\n      lut.name = title;\n    }\n    return lut;\n  }\n};\n\n// src/loaders/SMAAImageLoader.js\nimport { Loader as Loader3, LoadingManager as LoadingManager5 } from \"three\";\nvar SMAAImageLoader = class extends Loader3 {\n  load(onLoad = () => {\n  }, onError = null) {\n    if (arguments.length === 4) {\n      onLoad = arguments[1];\n      onError = arguments[3];\n    } else if (arguments.length === 3 || typeof arguments[0] !== \"function\") {\n      onLoad = arguments[1];\n      onError = null;\n    }\n    const externalManager = this.manager;\n    const internalManager = new LoadingManager5();\n    return new Promise((resolve, reject) => {\n      const searchImage = new Image();\n      const areaImage = new Image();\n      internalManager.onError = (url) => {\n        externalManager.itemError(url);\n        if (onError !== null) {\n          onError(`Failed to load ${url}`);\n          resolve();\n        } else {\n          reject(`Failed to load ${url}`);\n        }\n      };\n      internalManager.onLoad = () => {\n        const result = [searchImage, areaImage];\n        onLoad(result);\n        resolve(result);\n      };\n      searchImage.addEventListener(\"error\", (e) => {\n        internalManager.itemError(\"smaa-search\");\n      });\n      areaImage.addEventListener(\"error\", (e) => {\n        internalManager.itemError(\"smaa-area\");\n      });\n      searchImage.addEventListener(\"load\", () => {\n        externalManager.itemEnd(\"smaa-search\");\n        internalManager.itemEnd(\"smaa-search\");\n      });\n      areaImage.addEventListener(\"load\", () => {\n        externalManager.itemEnd(\"smaa-area\");\n        internalManager.itemEnd(\"smaa-area\");\n      });\n      externalManager.itemStart(\"smaa-search\");\n      externalManager.itemStart(\"smaa-area\");\n      internalManager.itemStart(\"smaa-search\");\n      internalManager.itemStart(\"smaa-area\");\n      searchImage.src = searchImageDataURL_default;\n      areaImage.src = areaImageDataURL_default;\n    });\n  }\n};\nexport {\n  AdaptiveLuminanceMaterial,\n  AdaptiveLuminancePass,\n  BlendFunction,\n  BlendMode,\n  BloomEffect,\n  KawaseBlurPass as BlurPass,\n  BokehEffect,\n  BokehMaterial,\n  BrightnessContrastEffect,\n  ChromaticAberrationEffect,\n  CircleOfConfusionMaterial,\n  ClearMaskPass,\n  ClearPass,\n  ColorAverageEffect,\n  ColorChannel,\n  ColorDepthEffect,\n  EdgeDetectionMaterial as ColorEdgesMaterial,\n  KawaseBlurMaterial as ConvolutionMaterial,\n  CopyMaterial,\n  CopyPass,\n  DepthComparisonMaterial,\n  DepthCopyMaterial,\n  DepthCopyMode,\n  DepthCopyPass,\n  DepthDownsamplingMaterial,\n  DepthDownsamplingPass,\n  DepthEffect,\n  DepthMaskMaterial,\n  DepthOfFieldEffect,\n  DepthPass,\n  DepthPickingPass,\n  DepthCopyPass as DepthSavePass,\n  DepthTestStrategy,\n  Disposable,\n  DotScreenEffect,\n  DownsamplingMaterial,\n  EdgeDetectionMaterial,\n  EdgeDetectionMode,\n  Effect,\n  EffectAttribute,\n  EffectComposer,\n  EffectMaterial,\n  EffectPass,\n  EffectShaderData,\n  EffectShaderSection,\n  FXAAEffect,\n  GammaCorrectionEffect,\n  GaussKernel,\n  GaussianBlurMaterial,\n  GaussianBlurPass,\n  GlitchEffect,\n  GlitchMode,\n  GodRaysEffect,\n  GodRaysMaterial,\n  GridEffect,\n  HueSaturationEffect,\n  Initializable,\n  KawaseBlurMaterial,\n  KawaseBlurPass,\n  KernelSize,\n  LUT1DEffect,\n  LUT3DEffect,\n  LUT3dlLoader,\n  LUTCubeLoader,\n  LUT3DEffect as LUTEffect,\n  LUTOperation,\n  LambdaPass,\n  LookupTexture,\n  LookupTexture as LookupTexture3D,\n  LuminanceMaterial,\n  LuminancePass,\n  MaskFunction,\n  MaskMaterial,\n  MaskPass,\n  MipmapBlurPass,\n  NoiseEffect,\n  NoiseTexture,\n  NormalPass,\n  OutlineMaterial as OutlineEdgesMaterial,\n  OutlineEffect,\n  OutlineMaterial,\n  OverrideMaterialManager,\n  Pass,\n  PixelationEffect,\n  PredicationMode,\n  RawImageData,\n  RealisticBokehEffect,\n  RenderPass,\n  Resizable,\n  Resolution as Resizer,\n  Resolution,\n  SMAAAreaImageData,\n  SMAAEffect,\n  SMAAImageGenerator,\n  SMAAImageLoader,\n  SMAAPreset,\n  SMAASearchImageData,\n  SMAAWeightsMaterial,\n  SSAOEffect,\n  SSAOMaterial,\n  CopyPass as SavePass,\n  ScanlineEffect,\n  EffectShaderSection as Section,\n  Selection,\n  SelectiveBloomEffect,\n  SepiaEffect,\n  ShaderPass,\n  ShockWaveEffect,\n  TetrahedralUpscaler,\n  TextureEffect,\n  Timer,\n  ToneMappingEffect,\n  ToneMappingMode,\n  UpsamplingMaterial,\n  VignetteEffect,\n  VignetteTechnique,\n  WebGLExtension\n};\n","let webGLAvailable, webGL2Available;\nfunction isWebGLAvailable() {\n  if (webGLAvailable !== undefined) return webGLAvailable;\n\n  try {\n    var _gl$getExtension;\n\n    let gl;\n    const canvas = document.createElement('canvas');\n    webGLAvailable = !!(window.WebGLRenderingContext && (gl = canvas.getContext('webgl')));\n    if (gl) (_gl$getExtension = gl.getExtension('WEBGL_lose_context')) === null || _gl$getExtension === void 0 ? void 0 : _gl$getExtension.loseContext();\n    return webGLAvailable;\n  } catch (e) {\n    return webGLAvailable = false;\n  }\n}\nfunction isWebGL2Available() {\n  if (webGL2Available !== undefined) return webGL2Available;\n\n  try {\n    var _gl$getExtension2;\n\n    let gl;\n    const canvas = document.createElement('canvas');\n    webGL2Available = !!(window.WebGL2RenderingContext && (gl = canvas.getContext('webgl2')));\n    if (gl) (_gl$getExtension2 = gl.getExtension('WEBGL_lose_context')) === null || _gl$getExtension2 === void 0 ? void 0 : _gl$getExtension2.loseContext();\n    return webGL2Available;\n  } catch (e) {\n    return webGL2Available = false;\n  }\n}\nfunction getWebGLErrorMessage() {\n  return this.getErrorMessage(1);\n}\nfunction getWebGL2ErrorMessage() {\n  return this.getErrorMessage(2);\n}\nfunction getErrorMessage(version) {\n  const names = {\n    1: 'WebGL',\n    2: 'WebGL 2'\n  };\n  const contexts = {\n    1: window.WebGLRenderingContext,\n    2: window.WebGL2RenderingContext\n  };\n  const element = document.createElement('div');\n  element.id = 'webglmessage';\n  element.style.fontFamily = 'monospace';\n  element.style.fontSize = '13px';\n  element.style.fontWeight = 'normal';\n  element.style.textAlign = 'center';\n  element.style.background = '#fff';\n  element.style.color = '#000';\n  element.style.padding = '1.5em';\n  element.style.width = '400px';\n  element.style.margin = '5em auto 0';\n  let message = 'Your $0 does not seem to support <a href=\"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\" style=\"color:#000\">$1</a>';\n\n  if (contexts[version]) {\n    message = message.replace('$0', 'graphics card');\n  } else {\n    message = message.replace('$0', 'browser');\n  }\n\n  message = message.replace('$1', names[version]);\n  element.innerHTML = message;\n  return element;\n}\n\nexport { getErrorMessage, getWebGL2ErrorMessage, getWebGLErrorMessage, isWebGL2Available, isWebGLAvailable };\n","import { BlendFunction, BloomEffect, BrightnessContrastEffect, ChromaticAberrationEffect, ColorAverageEffect, ColorDepthEffect, DepthEffect, EffectComposer as EffectComposer$1, RenderPass, NormalPass, DepthDownsamplingPass, EffectPass, DepthOfFieldEffect, DotScreenEffect, GlitchEffect, GlitchMode, GodRaysEffect, GridEffect, HueSaturationEffect, NoiseEffect, OutlineEffect, PixelationEffect, ScanlineEffect, SelectiveBloomEffect, SepiaEffect, SSAOEffect, SMAAPreset, EdgeDetectionMode, SMAAImageLoader, SMAAEffect, TextureEffect, ToneMappingEffect, VignetteEffect, ShockWaveEffect, LUTEffect, KernelSize } from 'postprocessing';\nimport React, { forwardRef, useMemo, useLayoutEffect, createContext, useEffect, useRef, useImperativeHandle, useContext, useState } from 'react';\nimport { Vector2, HalfFloatType, Vector3, TextureLoader, sRGBEncoding, RepeatWrapping } from 'three';\nimport { useThree, useFrame, useLoader } from '@react-three/fiber';\nimport { isWebGL2Available } from 'three-stdlib';\nimport mergeRefs from 'react-merge-refs';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport { SSRPass } from 'screen-space-reflections';\n\nconst isRef = ref => !!ref.current;\n\nconst resolveRef = ref => isRef(ref) ? ref.current : ref;\nconst wrapEffect = function (effectImpl, defaultBlendMode) {\n  if (defaultBlendMode === void 0) {\n    defaultBlendMode = BlendFunction.NORMAL;\n  }\n\n  return /*#__PURE__*/forwardRef(function Wrap(_ref, ref) {\n    let {\n      blendFunction,\n      opacity,\n      ...props\n    } = _ref;\n    const invalidate = useThree(state => state.invalidate);\n    const effect = useMemo(() => new effectImpl(props), [props]);\n    useLayoutEffect(() => {\n      effect.blendMode.blendFunction = !blendFunction && blendFunction !== 0 ? defaultBlendMode : blendFunction;\n      if (opacity !== undefined) effect.blendMode.opacity.value = opacity;\n      invalidate();\n    }, [blendFunction, effect.blendMode, opacity]);\n    return /*#__PURE__*/React.createElement(\"primitive\", {\n      ref: ref,\n      object: effect,\n      dispose: null\n    });\n  });\n};\nconst useVector2 = (props, key) => {\n  const vec = props[key];\n  return useMemo(() => {\n    if (vec instanceof Vector2) {\n      return new Vector2().set(vec.x, vec.y);\n    } else if (Array.isArray(vec)) {\n      const [x, y] = vec;\n      return new Vector2().set(x, y);\n    }\n  }, [vec]);\n};\n\nconst Bloom = wrapEffect(BloomEffect, BlendFunction.SCREEN);\n\nconst BrightnessContrast = wrapEffect(BrightnessContrastEffect);\n\nconst ChromaticAberration = /*#__PURE__*/forwardRef(function ChromaticAberration(props, ref) {\n  const offset = useVector2(props, 'offset');\n  const effect = useMemo(() => new ChromaticAberrationEffect({ ...props,\n    offset\n  }), [offset, props]);\n  return /*#__PURE__*/React.createElement(\"primitive\", {\n    ref: ref,\n    object: effect,\n    dispose: null\n  });\n});\n\nconst ColorAverage = /*#__PURE__*/forwardRef(function ColorAverage(_ref, ref) {\n  let {\n    blendFunction = BlendFunction.NORMAL\n  } = _ref;\n\n  /** Because ColorAverage blendFunction is not an object but a number, we have to define a custom prop \"blendFunction\" */\n  const effect = useMemo(() => new ColorAverageEffect(blendFunction), [blendFunction]);\n  return /*#__PURE__*/React.createElement(\"primitive\", {\n    ref: ref,\n    object: effect,\n    dispose: null\n  });\n});\n\nconst ColorDepth = wrapEffect(ColorDepthEffect);\n\nconst Depth = wrapEffect(DepthEffect);\n\nconst EffectComposerContext = /*#__PURE__*/createContext(null);\nconst EffectComposer = /*#__PURE__*/React.memo( /*#__PURE__*/forwardRef((_ref, ref) => {\n  let {\n    children,\n    camera,\n    scene,\n    resolutionScale,\n    enabled = true,\n    renderPriority = 1,\n    autoClear = true,\n    depthBuffer,\n    disableNormalPass,\n    stencilBuffer,\n    multisampling = 8,\n    frameBufferType = HalfFloatType\n  } = _ref;\n  const {\n    gl,\n    scene: defaultScene,\n    camera: defaultCamera,\n    size\n  } = useThree();\n  scene = scene || defaultScene;\n  camera = camera || defaultCamera;\n  const [composer, normalPass, downSamplingPass] = useMemo(() => {\n    const webGL2Available = isWebGL2Available(); // Initialize composer\n\n    const effectComposer = new EffectComposer$1(gl, {\n      depthBuffer,\n      stencilBuffer,\n      multisampling: multisampling > 0 && webGL2Available ? multisampling : 0,\n      frameBufferType\n    }); // Add render pass\n\n    effectComposer.addPass(new RenderPass(scene, camera)); // Create normal pass\n\n    let downSamplingPass = null;\n    let normalPass = null;\n\n    if (!disableNormalPass) {\n      normalPass = new NormalPass(scene, camera);\n      normalPass.enabled = false;\n      effectComposer.addPass(normalPass);\n\n      if (resolutionScale !== undefined && webGL2Available) {\n        downSamplingPass = new DepthDownsamplingPass({\n          normalBuffer: normalPass.texture,\n          resolutionScale\n        });\n        downSamplingPass.enabled = false;\n        effectComposer.addPass(downSamplingPass);\n      }\n    }\n\n    return [effectComposer, normalPass, downSamplingPass];\n  }, [camera, gl, depthBuffer, stencilBuffer, multisampling, frameBufferType, scene, disableNormalPass, resolutionScale]);\n  useEffect(() => composer == null ? void 0 : composer.setSize(size.width, size.height), [composer, size]);\n  useFrame((_, delta) => {\n    if (enabled) {\n      gl.autoClear = autoClear;\n      composer.render(delta);\n    }\n  }, enabled ? renderPriority : 0);\n  const group = useRef(null);\n  useLayoutEffect(() => {\n    let effectPass;\n\n    if (group.current && group.current.__r3f && composer) {\n      effectPass = new EffectPass(camera, ...group.current.__r3f.objects);\n      effectPass.renderToScreen = true;\n      composer.addPass(effectPass);\n      if (normalPass) normalPass.enabled = true;\n      if (downSamplingPass) downSamplingPass.enabled = true;\n    }\n\n    return () => {\n      if (effectPass) composer == null ? void 0 : composer.removePass(effectPass);\n      if (normalPass) normalPass.enabled = false;\n      if (downSamplingPass) downSamplingPass.enabled = false;\n    };\n  }, [composer, children, camera, normalPass, downSamplingPass]); // Memoize state, otherwise it would trigger all consumers on every render\n\n  const state = useMemo(() => ({\n    composer,\n    normalPass,\n    downSamplingPass,\n    resolutionScale,\n    camera,\n    scene\n  }), [composer, normalPass, downSamplingPass, resolutionScale, camera, scene]); // Expose the composer\n\n  useImperativeHandle(ref, () => composer, [composer]);\n  return /*#__PURE__*/React.createElement(EffectComposerContext.Provider, {\n    value: state\n  }, /*#__PURE__*/React.createElement(\"group\", {\n    ref: group\n  }, children));\n}));\n\nconst DepthOfField = /*#__PURE__*/forwardRef(function DepthOfField(_ref, ref) {\n  let {\n    target,\n    depthTexture,\n    ...props\n  } = _ref;\n  const invalidate = useThree(state => state.invalidate);\n  const {\n    camera\n  } = useContext(EffectComposerContext);\n  const effect = useMemo(() => new DepthOfFieldEffect(camera, props), [camera, props]);\n  useLayoutEffect(() => {\n    if (target) {\n      const vec = target instanceof Vector3 ? new Vector3().set(target.x, target.y, target.z) : new Vector3().set(target[0], target[1], target[2]);\n      effect.target = vec;\n    }\n\n    if (depthTexture) effect.setDepthTexture(depthTexture.texture, depthTexture.packing);\n    invalidate();\n  }, [target, depthTexture, effect]);\n  return /*#__PURE__*/React.createElement(\"primitive\", {\n    ref: ref,\n    object: effect,\n    dispose: null\n  });\n});\n\nconst DotScreen = wrapEffect(DotScreenEffect);\n\nconst Glitch = /*#__PURE__*/forwardRef(function Glitch(_ref, ref) {\n  let {\n    active = true,\n    ...props\n  } = _ref;\n  const invalidate = useThree(state => state.invalidate);\n  const delay = useVector2(props, 'delay');\n  const duration = useVector2(props, 'duration');\n  const strength = useVector2(props, 'strength');\n  const effect = useMemo(() => new GlitchEffect({ ...props,\n    delay,\n    duration,\n    strength\n  }), [delay, duration, props, strength]);\n  useLayoutEffect(() => {\n    effect.mode = active ? props.mode || GlitchMode.SPORADIC : GlitchMode.DISABLED;\n    invalidate();\n  }, [active, effect, props.mode]);\n  return /*#__PURE__*/React.createElement(\"primitive\", {\n    ref: ref,\n    object: effect,\n    dispose: null\n  });\n});\n\nconst GodRays = /*#__PURE__*/forwardRef(function GodRays(props, ref) {\n  const {\n    camera\n  } = useContext(EffectComposerContext);\n  const effect = useMemo(() => new GodRaysEffect(camera, props.sun, props), [camera, props]);\n  return /*#__PURE__*/React.createElement(\"primitive\", {\n    ref: ref,\n    object: effect,\n    dispose: null\n  });\n});\n\nconst Grid = /*#__PURE__*/forwardRef(function Grid(_ref, ref) {\n  let {\n    size,\n    ...props\n  } = _ref;\n  const invalidate = useThree(state => state.invalidate);\n  const effect = useMemo(() => new GridEffect(props), [props]);\n  useLayoutEffect(() => {\n    if (size) effect.setSize(size.width, size.height);\n    invalidate();\n  }, [effect, size]);\n  return /*#__PURE__*/React.createElement(\"primitive\", {\n    ref: ref,\n    object: effect,\n    dispose: null\n  });\n});\n\nconst HueSaturation = wrapEffect(HueSaturationEffect);\n\nconst Noise = wrapEffect(NoiseEffect, BlendFunction.COLOR_DODGE);\n\nconst selectionContext = /*#__PURE__*/createContext(null);\nfunction Selection(_ref) {\n  let {\n    children,\n    enabled = true\n  } = _ref;\n  const [selected, select] = useState([]);\n  const value = useMemo(() => ({\n    selected,\n    select,\n    enabled\n  }), [selected, select, enabled]);\n  return /*#__PURE__*/React.createElement(selectionContext.Provider, {\n    value: value\n  }, children);\n}\nfunction Select(_ref2) {\n  let {\n    enabled = false,\n    children,\n    ...props\n  } = _ref2;\n  const group = useRef(null);\n  const api = useContext(selectionContext);\n  useEffect(() => {\n    if (api && enabled) {\n      let changed = false;\n      const current = [];\n      group.current.traverse(o => {\n        o.type === 'Mesh' && current.push(o);\n        if (api.selected.indexOf(o) === -1) changed = true;\n      });\n\n      if (changed) {\n        api.select(state => [...state, ...current]);\n        return () => {\n          api.select(state => state.filter(selected => !current.includes(selected)));\n        };\n      }\n    }\n  }, [enabled, children]);\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: group\n  }, props), children);\n}\n\nconst Outline = /*#__PURE__*/forwardRef(function Outline(_ref, forwardRef) {\n  let {\n    selection = [],\n    selectionLayer = 10,\n    blendFunction,\n    patternTexture,\n    edgeStrength,\n    pulseSpeed,\n    visibleEdgeColor,\n    hiddenEdgeColor,\n    width,\n    height,\n    kernelSize,\n    blur,\n    xRay,\n    ...props\n  } = _ref;\n  const invalidate = useThree(state => state.invalidate);\n  const {\n    scene,\n    camera\n  } = useContext(EffectComposerContext);\n  const effect = useMemo(() => new OutlineEffect(scene, camera, {\n    blendFunction,\n    patternTexture,\n    edgeStrength,\n    pulseSpeed,\n    visibleEdgeColor,\n    hiddenEdgeColor,\n    width,\n    height,\n    kernelSize,\n    blur,\n    xRay\n  }), [blendFunction, blur, camera, edgeStrength, height, hiddenEdgeColor, kernelSize, patternTexture, pulseSpeed, scene, visibleEdgeColor, width, xRay]);\n  const api = useContext(selectionContext);\n  useEffect(() => {\n    // Do not allow array selection if declarative selection is active\n    // TODO: array selection should probably be deprecated altogether\n    if (!api && selection) {\n      effect.selection.set(Array.isArray(selection) ? selection.map(resolveRef) : [resolveRef(selection)]);\n      invalidate();\n      return () => {\n        effect.selection.clear();\n        invalidate();\n      };\n    }\n  }, [effect, selection, api]);\n  useEffect(() => {\n    effect.selectionLayer = selectionLayer;\n    invalidate();\n  }, [effect, selectionLayer]);\n  const ref = useRef();\n  useEffect(() => {\n    if (api && api.enabled) {\n      var _api$selected;\n\n      const effect = ref.current;\n\n      if ((_api$selected = api.selected) != null && _api$selected.length) {\n        effect.selection.set(api.selected);\n        invalidate();\n        return () => {\n          effect.selection.clear();\n          invalidate();\n        };\n      }\n    }\n  }, [api]);\n  return /*#__PURE__*/React.createElement(\"primitive\", {\n    ref: mergeRefs([ref, forwardRef]),\n    object: effect\n  });\n});\n\nconst Pixelation = /*#__PURE__*/forwardRef(function Pixelation(_ref, ref) {\n  let {\n    granularity = 5\n  } = _ref;\n\n  /** Because GlitchEffect granularity is not an object but a number, we have to define a custom prop \"granularity\" */\n  const effect = useMemo(() => new PixelationEffect(granularity), [granularity]);\n  return /*#__PURE__*/React.createElement(\"primitive\", {\n    ref: ref,\n    object: effect,\n    dispose: null\n  });\n});\n\nconst Scanline = wrapEffect(ScanlineEffect, BlendFunction.OVERLAY);\n\nconst addLight = (light, effect) => light.layers.enable(effect.selection.layer);\n\nconst removeLight = (light, effect) => light.layers.disable(effect.selection.layer);\n\nconst SelectiveBloom = /*#__PURE__*/forwardRef(function SelectiveBloom(_ref, forwardRef) {\n  let {\n    selection = [],\n    selectionLayer = 10,\n    lights = [],\n    luminanceThreshold,\n    luminanceSmoothing,\n    intensity,\n    width,\n    height,\n    kernelSize\n  } = _ref;\n\n  if (lights.length === 0) {\n    console.warn('SelectiveBloom requires lights to work.');\n  }\n\n  const invalidate = useThree(state => state.invalidate);\n  const {\n    scene,\n    camera\n  } = useContext(EffectComposerContext);\n  const effect = useMemo(() => new SelectiveBloomEffect(scene, camera, {\n    blendFunction: BlendFunction.SCREEN,\n    luminanceThreshold,\n    luminanceSmoothing,\n    intensity,\n    width,\n    height,\n    kernelSize\n  }), [camera, height, intensity, kernelSize, luminanceSmoothing, luminanceThreshold, scene, width]);\n  const api = useContext(selectionContext);\n  useEffect(() => {\n    // Do not allow array selection if declarative selection is active\n    // TODO: array selection should probably be deprecated altogether\n    if (!api && selection) {\n      effect.selection.set(Array.isArray(selection) ? selection.map(resolveRef) : [resolveRef(selection)]);\n      invalidate();\n      return () => {\n        effect.selection.clear();\n        invalidate();\n      };\n    }\n  }, [effect, selection, api]);\n  useEffect(() => {\n    effect.selection.layer = selectionLayer;\n    invalidate();\n  }, [effect, selectionLayer]);\n  useEffect(() => {\n    if (lights && lights.length > 0) {\n      lights.forEach(light => addLight(resolveRef(light), effect));\n      invalidate();\n      return () => {\n        lights.forEach(light => removeLight(resolveRef(light), effect));\n        invalidate();\n      };\n    }\n  }, [effect, lights, selectionLayer]);\n  const ref = useRef();\n  useEffect(() => {\n    if (api && api.enabled) {\n      var _api$selected;\n\n      const effect = ref.current;\n\n      if ((_api$selected = api.selected) != null && _api$selected.length) {\n        effect.selection.set(api.selected);\n        invalidate();\n        return () => {\n          effect.selection.clear();\n          invalidate();\n        };\n      }\n    }\n  }, [api]);\n  return /*#__PURE__*/React.createElement(\"primitive\", {\n    ref: mergeRefs([ref, forwardRef]),\n    object: effect,\n    dispose: null\n  });\n});\n\nconst Sepia = wrapEffect(SepiaEffect);\n\nconst SSAO = /*#__PURE__*/forwardRef(function SSAO(props, ref) {\n  const {\n    camera,\n    normalPass,\n    downSamplingPass,\n    resolutionScale\n  } = useContext(EffectComposerContext);\n  const effect = useMemo(() => {\n    if (normalPass === null && downSamplingPass === null) {\n      console.error('Please enable the NormalPass in the EffectComposer in order to use SSAO.');\n      return null;\n    }\n\n    return new SSAOEffect(camera, normalPass && !downSamplingPass ? normalPass.texture : null, {\n      blendFunction: BlendFunction.MULTIPLY,\n      samples: 30,\n      rings: 4,\n      distanceThreshold: 1.0,\n      distanceFalloff: 0.0,\n      rangeThreshold: 0.5,\n      rangeFalloff: 0.1,\n      luminanceInfluence: 0.9,\n      radius: 20,\n      scale: 0.5,\n      bias: 0.5,\n      intensity: 1.0,\n      color: null,\n      // @ts-ignore\n      normalDepthBuffer: downSamplingPass ? downSamplingPass.texture : null,\n      resolutionScale: resolutionScale != null ? resolutionScale : 1,\n      depthAwareUpsampling: true,\n      ...props\n    });\n  }, [camera, normalPass, props]);\n  return /*#__PURE__*/React.createElement(\"primitive\", {\n    ref: ref,\n    object: effect,\n    dispose: null\n  });\n});\n\nconst SMAA = /*#__PURE__*/forwardRef(function SMAA(_ref, ref) {\n  let {\n    preset = SMAAPreset.HIGH,\n    edgeDetectionMode = EdgeDetectionMode.COLOR\n  } = _ref;\n  const smaaProps = useLoader(SMAAImageLoader, '');\n  const effect = useMemo(() => new SMAAEffect(...smaaProps, preset, edgeDetectionMode), [smaaProps, preset, edgeDetectionMode]);\n  return /*#__PURE__*/React.createElement(\"primitive\", {\n    ref: ref,\n    object: effect,\n    dispose: null\n  });\n});\n\nconst Texture = /*#__PURE__*/forwardRef(function Texture(_ref, ref) {\n  let {\n    textureSrc,\n    texture,\n    ...props\n  } = _ref;\n  const t = useLoader(TextureLoader, textureSrc);\n  useLayoutEffect(() => {\n    t.encoding = sRGBEncoding;\n    t.wrapS = t.wrapT = RepeatWrapping;\n  }, [t]);\n  const effect = useMemo(() => new TextureEffect({ ...props,\n    texture: t || texture\n  }), [props, t, texture]);\n  return /*#__PURE__*/React.createElement(\"primitive\", {\n    ref: ref,\n    object: effect,\n    dispose: null\n  });\n});\n\nconst ToneMapping = wrapEffect(ToneMappingEffect);\n\nconst Vignette = wrapEffect(VignetteEffect);\n\nconst ShockWave = wrapEffect(ShockWaveEffect);\n\nconst LUT = /*#__PURE__*/forwardRef(function LUT(_ref, ref) {\n  let {\n    lut,\n    tetrahedralInterpolation,\n    ...props\n  } = _ref;\n  const invalidate = useThree(state => state.invalidate);\n  const effect = useMemo(() => new LUTEffect(lut, props), [lut, props]);\n  useLayoutEffect(() => {\n    if (lut) effect.setLUT(lut);\n    if (tetrahedralInterpolation) effect.setTetrahedralInterpolationEnabled(tetrahedralInterpolation);\n    invalidate();\n  }, [effect, lut, tetrahedralInterpolation]);\n  return /*#__PURE__*/React.createElement(\"primitive\", {\n    ref: ref,\n    object: effect,\n    dispose: null\n  });\n});\n\nconst SSR = /*#__PURE__*/forwardRef(function SSR(_ref, ref) {\n  let {\n    resolutionScale = 1,\n    blurSize = 512,\n    enabled = true,\n    ...props\n  } = _ref;\n  const {\n    size,\n    viewport,\n    invalidate\n  } = useThree();\n  const {\n    composer,\n    scene,\n    camera\n  } = useContext(EffectComposerContext);\n  const [pass] = useState(() => new SSRPass(scene, camera, {\n    width: size.width * viewport.dpr * resolutionScale,\n    height: size.height * viewport.dpr * resolutionScale,\n    blurWidth: blurSize,\n    blurHeight: blurSize,\n    blurKernelSize: KernelSize.SMALL,\n    rayStep: 0.1,\n    intensity: 1,\n    power: 1,\n    depthBlur: 0.1,\n    enableJittering: false,\n    jitter: 0.1,\n    jitterSpread: 0.1,\n    roughnessFadeOut: 1,\n    MAX_STEPS: 20,\n    NUM_BINARY_SEARCH_STEPS: 5,\n    maxDepthDifference: 1,\n    maxDepth: 1,\n    thickness: 10,\n    ior: 1.45,\n    useBlur: true,\n    useMRT: true,\n    useNormalMap: true,\n    useRoughnessMap: true,\n    ...props\n  }));\n  useEffect(() => {\n    Object.keys(props).forEach(key => pass.reflectionUniforms[key] && (pass.reflectionUniforms[key].value = props[key]));\n    invalidate();\n  }, [props]);\n  useEffect(() => {\n    // Steps\n    pass.reflectionsPass.fullscreenMaterial.defines.MAX_STEPS = Math.ceil(props.MAX_STEPS);\n    pass.reflectionsPass.fullscreenMaterial.defines.NUM_BINARY_SEARCH_STEPS = Math.ceil(props.NUM_BINARY_SEARCH_STEPS); // Blur\n\n    if (props.useBlur) {\n      pass.fullscreenMaterial.defines.USE_BLUR = '';\n      pass.reflectionsPass.fullscreenMaterial.defines.USE_BLUR = '';\n    } else {\n      delete pass.fullscreenMaterial.defines.USE_BLUR;\n      delete pass.reflectionsPass.fullscreenMaterial.defines.USE_BLUR;\n    } // Jitter\n\n\n    if (props.enableJittering) {\n      pass.reflectionsPass.fullscreenMaterial.defines.USE_JITTERING = '';\n    } else {\n      delete pass.reflectionsPass.fullscreenMaterial.defines.USE_JITTERING;\n    } // Enabled\n\n\n    pass.fullscreenMaterial.defines.RENDER_MODE = enabled ? 0 : 4; // Update materials\n\n    pass.reflectionsPass.fullscreenMaterial.needsUpdate = true;\n    pass.fullscreenMaterial.needsUpdate = true;\n    invalidate();\n  }, [enabled, props.useBlur, props.enableJittering, props.NUM_BINARY_SEARCH_STEPS, props.MAX_STEPS]);\n  useEffect(() => {\n    pass.setSize(size.width * viewport.dpr * resolutionScale, size.height * viewport.dpr * resolutionScale);\n    pass.kawaseBlurPass.setSize(blurSize, blurSize);\n    invalidate();\n  }, [resolutionScale, blurSize, size, viewport, composer, pass, invalidate]);\n  useLayoutEffect(() => {\n    composer.addPass(pass);\n    return () => {\n      composer.removePass(pass); //pass.dispose()\n    };\n  }, [composer, pass]);\n  return null;\n});\n\nexport { Bloom, BrightnessContrast, ChromaticAberration, ColorAverage, ColorDepth, Depth, DepthOfField, DotScreen, EffectComposer, EffectComposerContext, Glitch, GodRays, Grid, HueSaturation, LUT, Noise, Outline, Pixelation, SMAA, SSAO, SSR, Scanline, Select, Selection, SelectiveBloom, Sepia, ShockWave, Texture, ToneMapping, Vignette, selectionContext };\n"],"names":["AdaptiveEvents","get","useThree","state","setEvents","current","performance","React","enabled","events","boundingBox","THREE","boundingBoxSize","BBAnchor","anchor","props","ref","parentRef","_ref$current","_ref$current$parent","parent","add","useFrame","setFromObject","getSize","position","set","x","y","z","_extends","RGBELoader","manager","type","HalfFloatType","buffer","rgbe_error","rgbe_error_code","msg","console","error","fgets","lineLimit","consume","p","pos","i","len","s","chunk","String","fromCharCode","apply","Uint16Array","subarray","indexOf","byteLength","length","slice","RGBEByteToRGBFloat","sourceArray","sourceOffset","destArray","destOffset","e","scale","Math","pow","RGBEByteToRGBHalf","DataUtils","min","byteArray","Uint8Array","rgbe_header_info","line","match","gamma_re","exposure_re","format_re","dimensions_re","header","valid","string","comments","programtype","format","gamma","exposure","width","height","charAt","parseFloat","parseInt","RGBE_ReadHeader","w","h","image_rgba_data","scanline_width","data_rgba","offset","ptr_end","rgbeStart","scanline_buffer","num_scanlines","ptr","count","isEncodedRun","byteValue","l","off","RGBE_ReadPixels_RLE","data","numElements","this","FloatType","floatArray","Float32Array","j","halfArray","value","url","onLoad","onProgress","onError","texture","texData","encoding","LinearEncoding","minFilter","LinearFilter","magFilter","generateMipmaps","flipY","DataTextureLoader","presetsObj","sunset","dawn","night","warehouse","forest","apartment","studio","city","park","lobby","create","El","args","children","attach","Icosahedron","resolveScene","scene","obj","isScene","EnvironmentMap","background","map","defaultScene","target","oldbg","oldenv","environment","useEnvironment","files","path","preset","undefined","extensions","Error","Object","keys","join","isCubeMap","Array","isArray","loader","CubeTextureLoader","loaderResult","useLoader","setPath","mapping","CubeReflectionMapping","EquirectangularReflectionMapping","EnvironmentCube","EnvironmentPortal","near","far","resolution","frames","gl","camera","Scene","virtualScene","fbo","WebGLCubeRenderTarget","update","Infinity","createPortal","EnvironmentGround","_props$ground","_props$ground2","_scale","_props$ground3","def","textureDefault","isCubeTexture","defines","_ref","_texture$image$","cubeSize","image","_lodMax","floor","log2","_cubeSize","max","fragment","uniforms","cubemap","radius","mat","ground","side","BackSide","vertexShader","fragmentShader","Environment","OrthographicCamera","makeDefault","size","cameraRef","manual","updateProjectionMatrix","oldCam","left","right","top","bottom","mergeRefs","Context","useGizmoContext","turnRate","PI","dummy","Object3D","matrix","Matrix4","q1","Quaternion","q2","Vector3","targetPosition","GizmoHelper","alignment","margin","renderPriority","autoClear","onUpdate","onTarget","GizmoHelperComponent","mainCamera","defaultControls","controls","invalidate","backgroundRef","gizmoRef","virtualCam","animating","focusPoint","tweenCamera","direction","distanceTo","copy","quaternion","multiplyScalar","lookAt","_","delta","_gizmoRef$current","angleTo","step","rotateTowards","applyQuaternion","up","normalize","invert","setFromRotationMatrix","clearDepth","render","raycast","pointer","raycaster","Raycaster","applyProps","intersects","setFromCamera","Camera","rc","constructor","prototype","bind","useCamera","gizmoHelperContext","marginX","marginY","endsWith","startsWith","Provider","colors","defaultFaces","makePositionVector","xyz","corners","cornerDimensions","edges","edgeDimensions","edge","toArray","axis","FaceMaterial","hover","index","font","faces","color","hoverColor","textColor","strokeColor","opacity","canvas","document","createElement","context","getContext","fillStyle","fillRect","strokeStyle","strokeRect","textAlign","fillText","toUpperCase","CanvasTexture","outputEncoding","capabilities","getMaxAnisotropy","transparent","FaceCube","setHover","onPointerOut","stopPropagation","onPointerMove","faceIndex","onClick","face","normal","key","EdgeCube","dimensions","onPointerOver","visible","GizmoViewcube","corner","intensity","MapControls","enableDamping","domElement","onChange","onStart","onEnd","rest","defaultCamera","explDomElement","connected","explCamera","MapControls$1","connect","callback","addEventListener","dispose","removeEventListener","object","OrbitControls","regress","restProps","OrbitControls$1","old","LineSegmentsGeometry","_defineProperty","Box3","setIndex","setAttribute","Float32BufferAttribute","start","attributes","instanceStart","end","instanceEnd","applyMatrix4","needsUpdate","computeBoundingBox","boundingSphere","computeBoundingSphere","array","lineSegments","instanceBuffer","InstancedInterleavedBuffer","InterleavedBufferAttribute","instanceColorBuffer","geometry","setPositions","from","mesh","fromWireframeGeometry","WireframeGeometry","isBufferGeometry","setFromBufferAttribute","box","union","Sphere","center","getCenter","maxRadiusSq","il","vector","fromBufferAttribute","distanceToSquared","sqrt","isNaN","InstancedBufferGeometry","LineUniforms","linewidth","Vector2","dashScale","dashSize","dashOffset","gapSize","ShaderLib","UniformsUtils","UniformsLib","LineMaterial","parameters","clipping","Color","defineProperties","enumerable","diffuse","colorObj","getHex","alphaToCoverage","Boolean","ALPHA_TO_COVERAGE","derivatives","dashed","USE_DASH","setValues","ShaderMaterial","LineSegments2","_geometry","_material","random","lineDistances","distStart","distEnd","instanceDistanceBuffer","Vector4","Line3","ray","projectionMatrix","material","lineWidth","at","ssOrigin","matrixWorldInverse","ssOrigin3","matrixWorld","mvMatrix","multiplyMatrices","rayStart","rayEnd","deltaDist","t","lerp","param","closestPointToPointParameter","closestPoint","zPos","MathUtils","isInClipSpace","isInside","pointOnLine","point","distanceSqToSegment","push","distance","origin","uv","Mesh","LineGeometry","points","Line2","Line","vertexColors","line2","lineMaterial","lineGeom","geom","pValues","flat","cValues","c","setColors","computeLineDistances","v","QuadraticBezierLine","forwardref","mid","segments","QuadraticBezierCurve3","curve","getPoints","v0","v2","v1","clone","sub","setPoints","_inverseMatrix","_ray","Ray","_sphere","_vA","meshBounds","intersectsSphere","intersectBox","vA","vB","vC","uvA","uvB","uvC","intersectionPoint","checkBufferGeometryIntersection","a","b","intersection","pA","pB","pC","intersectTriangle","DoubleSide","checkIntersection","Triangle","materialIndex","intersectTri","geo","tri","intersections","triOffset","getX","convertRaycastIntersect","hit","TRIANGLE_INTERSECT_COST","BYTES_PER_NODE","IS_LEAFNODE_FLAG","FLOAT32_EPSILON","MeshBVHNode","arrayToBox","nodeIndex32","getLongestEdgeIndex","bounds","splitDimIdx","splitDist","dist","copyBounds","source","unionBounds","aVal","bVal","d","d3","expandByTriangleBounds","startIndex","triangleBounds","tCenter","tHalf","tMin","tMax","computeSurfaceArea","d0","d1","d2","getBounds","centroidTarget","minx","miny","minz","maxx","maxy","maxz","cminx","cminy","cminz","cmaxx","cmaxy","cmaxz","includeCentroid","cx","hx","lx","rx","cy","hy","ly","ry","cz","hz","lz","rz","partition","split","axisOffset","t0","t1","t2","BIN_COUNT","binsSort","candidate","sahBins","fill","rightCacheBounds","leftCacheBounds","leftBounds","getOptimalSplit","nodeBoundingData","centroidBoundingData","strategy","avg","getAverage","rootSurfaceArea","bestCost","cStart","cEnd","axisLeft","binWidth","truncatedBins","bin","sort","splitCount","bi","splice","leftCount","rightCount","rightBounds","leftProb","rightProb","cost","binIndex","lastBin","nextBin","binCount","warn","buildTree","options","triggerProgress","trianglesProcessed","totalTriangles","splitNode","node","depth","reachedMaxDepth","maxDepth","verbose","maxLeafTris","boundingData","splitOffset","indexArray","splitAxis","lstart","lcount","cacheCentroidBoundingData","rstart","rcount","vertexCount","BufferConstructor","useSharedArrayBuffer","SharedArrayBuffer","ArrayBuffer","Uint32Array","BufferAttribute","ensureIndex","fullBounds","posAttr","posArr","triCount","bufferOffset","stride","isInterleavedBufferAttribute","tri3","tri6","ai","ci","el","halfExtents","el2","abs","computeTriangleBounds","roots","ranges","groups","rangeBoundaries","Set","group","sortedBoundaries","values","getRootIndexRanges","range","root","getCentroidBounds","buildPackedTree","float32Array","uint32Array","uint16Array","packedRoots","nodeCount","countNodes","populateBuffer","byteOffset","stride4Offset","stride2Offset","isLeaf","nextUnusedPointer","SeparatingAxisBounds","field","val","dot","other","setFromBox","boxMin","boxMax","cacheSatBounds","closestPointLineToLine","dir1","dir2","v02","l1","l2","result","v10","v32","subVectors","d0232","d3210","d3232","d0210","denom","closestPointsSegmentToSegment","paramResult","temp1","temp2","target1","target2","p2","closestPointToPoint","closestPoint2","sphereIntersectTriangle","closestPointTemp","projectedPointTemp","planeTemp","Plane","lineTemp","sphere","triangle","plane","getPlane","distanceToPoint","pp","projectPoint","containsPoint","isNearZero","ExtendedTriangle","isExtendedTriangle","satAxes","satBounds","axis0","sab0","getNormal","setFromPoints","axis1","sab1","axis2","sab2","axis3","sab3","setFromNormalAndCoplanarPoint","closestPointToSegment","point1","point2","segment","distSq","closestDistanceSq","nexti","intersectsTriangle","saTri2","arr1","arr2","cachedSatBounds","cachedSatBounds2","cachedAxis","tempDir","edge1","edge2","plane1","plane2","satBounds1","satAxes1","sb","sa","isSeparated","satBounds2","satAxes2","sa1","i2","sa2","crossVectors","points1","found1","count1","pNext","targetPoint","startIntersects","doesIntersect","intersectLine","points2","found2","count2","tmp","s1","e1","s2","e2","separated1","separated2","distanceToTriangle","cornerFields","line1","lineTarget","otherVec","thisVec","f11","f12","f21","f22","OrientedBox","isOrientedBox","invMatrix","alignedSatBounds","setTriangle","ta","tb","tc","i0","i1","getY","getZ","iterateOverTriangles","intersectsTriangleFunc","contained","minVec","pi","setFromPointsField","intersectsBox","aabbBounds","saTri","pointsArr","triSatBounds","triSatAxes","clamp","distanceToBox","xyzFields","segments1","segments2","threshold","threshold2","nextIndex","nextIndex2","index2","p1","f1","f2","f3","PrimitivePool","getNewPrimitive","_getNewPrimitive","_primitives","primitives","pop","primitive","IS_LEAF","n16","OFFSET","n32","COUNT","LEFT_NODE","RIGHT_NODE","boxIntersection","nodeIndex16","_float32Array","_uint16Array","_uint32Array","intersectTris","leftIndex","intersectRay","rightIndex","raycastFirst","res","intersectClosestTri","c1","c2","SPLIT_AXIS","xyzAxis","leftToRight","c1Result","c2Result","shapecast","_box1","_box2","boxStack","boxPool","getPrimitive","shapecastTraverse","releasePrimitive","intersectsBoundsFunc","intersectsRangeFunc","nodeScoreFunc","nodeIndexByteOffset","getLeftOffset","getRightEndOffset","score1","score2","box1","box2","temp","c1StopTraversal","isC1Leaf","c1Intersection","c2StopTraversal","isC2Leaf","c2Intersection","intersectsGeometry","triangle2","invertedMat","obb","obb2","otherGeometry","geometryToBvh","cachedObb","leftIntersection","rightIntersection","thisGeometry","thisIndex","thisPos","boundsTree","intersectsBounds","_prevBuffer","bufferStack","setBuffer","clearBuffer","SKIP_GENERATION","Symbol","aabb","aabb2","tempMatrix","temp3","temp4","tempBox","trianglePool","MeshBVH","assign","setBoundingBox","_roots","getBoundingBox","nodeIndices","indexArr","_traverse","node32Index","force","node16Index","offsetLeft","offsetRight","forceChildren","includesLeft","includesRight","has","traverseLeft","traverseRight","leftChange","rightChange","didChange","lefti","righti","minLeftValue","maxLeftValue","minRightValue","maxRightValue","rootIndex","stopTraversal","materialOrSide","FrontSide","isMaterial","isArrayMaterial","materialSide","startCount","jl","closestResult","geomToMesh","callbacks","_intersectsTriangleFunc","_orderNodesFunc","Function","originalTriangleFunc","i3","boundsTraverseOrder","intersectsRange","originalIntersectsRange","nodeIndex","otherBvh","matrixToLocal","intersectsRanges","intersectsTriangles","indexAttr","positionAttr","otherIndexAttr","otherPositionAttr","iterateOverDoubleTriangles","offset1","offset2","depth1","index1","depth2","originalIntersectsRanges","nodeIndex1","nodeIndex2","boxToMesh","minThreshold","maxThreshold","otherPos","otherIndex","tempTarget1","tempTargetDest1","tempTarget2","tempTargetDest2","closestDistance","closestDistanceTriIndex","closestDistanceOtherTriIndex","score","otherOffset","otherCount","minThresholdSq","maxThresholdSq","triIndex","makeEmpty","forEach","bvh","serialize","arguments","cloneBuffers","rootData","indexAttribute","getIndex","deserialize","newIndex","originalRaycast","isMesh","results","call","originalRaycastFirst","originalClosestPointToPoint","unshift","originalClosestPointToGeometry","closestPointToGeometry","isVector3","result1","result2","originalRefit","refit","terminationIndices","newNodeIndices","name","originalFunc","shift","tmpInverseMatrix","origMeshRaycastFunc","acceleratedRaycast","firstHitOnly","hits","computeBoundsTree","disposeBoundsTree","useBVH","v3","defaultCalculatePosition","objectPos","setFromMatrixPosition","project","widthHalf","heightHalf","epsilon","getCSSMatrix","multipliers","prepend","matrix3d","elements","getCameraCSSMatrix","getObjectCSSMatrix","factor","f","Html","_portal$current","eps","style","className","fullscreen","portal","distanceFactor","sprite","transform","occlude","onOcclude","zIndexRange","calculatePosition","as","wrapperClass","pointerEvents","oldZoom","oldPosition","transformOuterRef","transformInnerRef","parentNode","currentRoot","ReactDOM","updateMatrixWorld","cssText","vec","appendChild","removeChild","unmount","styles","transformStyle","transformInnerStyles","_root$current","_root$current2","updateWorldMatrix","zoom","isBehindCamera","cameraPos","deltaCamObj","camDir","getWorldDirection","isObjectBehindCamera","raytraceTarget","item","previouslyVisible","isvisible","elPos","screenPos","intersectObjects","intersectionDistance","isObjectVisible","display","zIndex","PerspectiveCamera","A","B","round","objectZIndex","fov","isOrthographicCamera","cameraMatrix","cameraTransform","transpose","copyPosition","perspective","vFOV","tan","objectScale","SelectionBox","frustum","Frustum","tmpPoint","vecNear","vecTopLeft","vecTopRight","vecDownRight","vecDownLeft","vecFarTopLeft","vecFarTopRight","vecFarDownRight","vecFarDownLeft","vectemp1","vectemp2","vectemp3","deep","startPoint","endPoint","collection","Number","MAX_VALUE","updateFrustum","searchChildInFrustum","EPSILON","isPerspectiveCamera","unproject","planes","setFromCoplanarPoints","down","isLine","isPoints","Select","multiple","border","backgroundColor","filter","customFilter","hovered","includes","o","active","dispatch","shiftKey","onPointerMissed","selBox","element","pointTopLeft","pointBottomRight","oldRaycasterEnabled","oldControlsEnabled","isDown","previous","pointerDown","passive","pointerMove","capture","pointerUp","prepareRay","event","offsetX","offsetY","_gl$domElement$parent","parentElement","clientX","clientY","onSelectStart","onSelectMove","allSelected","select","uuid","shallow","_element$parentElemen","onSelectOver","useCursor","body","cursor","useMeasure","_temp","debounce","scroll","offsetSize","polyfill","ResizeObserver","window","useState","useRef","scrollContainers","resizeObserver","lastBounds","scrollDebounce","resizeDebounce","resize","mounted","useEffect","useMemo","getBoundingClientRect","HTMLElement","offsetHeight","offsetWidth","freeze","areBoundsEqual","createDebounce","forceRefresh","resizeChange","scrollChange","removeListeners","disconnect","addListeners","observe","scrollContainer","onScroll","onWindowResize","cb","findScrollContainers","getComputedStyle","overflow","overflowX","overflowY","some","prop","every","DOM_EVENTS","onContextMenu","onDoubleClick","onWheel","onPointerDown","onPointerUp","onPointerLeave","onPointerCancel","onLostPointerCapture","createPointerEvents","store","handlePointer","createEvents","priority","compute","handlers","reduce","acc","_events$handlers","getState","entries","eventName","_events$handlers2","Canvas","forwardedRef","fallback","shadows","linear","legacy","orthographic","frameloop","dpr","onCreated","extend","containerRef","canvasRef","divRef","setCanvas","handlePointerMissed","useMutableCallback","block","setBlock","setError","createRoot","configure","ErrorBoundary","Block","useIsomorphicLayoutEffect","unmountComponentAtNode","module","exports","receiver","objects","TypeError","getOwnPropertySymbols","isEnumerable","propertyIsEnumerable","provider","names","file","acceptedFiles","acceptedFilesArray","fileName","mimeType","toLowerCase","baseMimeType","replace","validType","trim","func","wait","immediate","timeout","timestamp","later","last","Date","now","setTimeout","debounced","callNow","clear","clearTimeout","flush","isObject","require","hasOwn","hasOwnProperty","fn","thisArg","toString","segs","isPlainObject","isObjectObject","ctor","prot","composeRefs","refs","useComposedRefs","Slot","slotProps","isSlottable","_react","child","$d34e8c328cb3dd19ab7a2f6eafa6ad$var$SlotClone","_babelRuntimeHelpersEsmExtends","displayName","SlotClone","childProps","overrideProps","propName","slotPropValue","childPropValue","test","mergeProps","Slottable","Primitive","asChild","primitiveProps","Comp","for","useLayoutEffect","globalThis","Portal","portalProps","hostElement","_containerRef$current","_globalThis$document","forceUpdate","div","Root","dequal","foo","bar","getTime","RegExp","Rule","modifiers","pickFn","variant","testAux","rule","modifier","nextFn","perform","testAsyncAux","performAsync","Promise","resolve","_test","ex","ex$1","_check","it","_testAsync","this$1","reject","then","catch","Modifier","ValidationError","cause","remaining","captureStackTrace","__proto__","chain","nextRuleModifiers","executeAsyncRules","rules","_applyRule","ruleFn","_applyModifier","simple","async","_clone","testAll","err","check","testAsync","consideredEmpty","considerTrimmedEmptyString","v8n","Proxy","proxyContext","proxylessContext","customRules","newContext","availableModifiers","availableRules","addRuleSet","ruleSet","targetContext","contextWithRuleApplied","contextWithAvailableRules","contextWithAllRules","defineProperty","newRules","clearCustomRules","not","all","strict","isSchemaRule","equal","expected","exact","number","allowInfinite","isFinite","integer","isInteger","isIntegerPolyfill","numeric","testType","boolean","null","instanceOf","instance","pattern","lowercase","uppercase","vowel","consonant","first","empty","minLength","maxLength","negative","positive","between","lessThan","n","lessThanOrEqual","greaterThan","greaterThanOrEqual","even","odd","schema","causes","nestedValidation","nested","testSchema","passesAnyOf","validations","validation","optional","r","gap","gridGap","columnGap","gridColumnGap","rowGap","gridRowGap","inset","insetBlock","insetBlockEnd","insetBlockStart","insetInline","insetInlineEnd","insetInlineStart","marginTop","marginRight","marginBottom","marginLeft","marginBlock","marginBlockEnd","marginBlockStart","marginInline","marginInlineEnd","marginInlineStart","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingBlock","paddingBlockEnd","paddingBlockStart","paddingInline","paddingInlineEnd","paddingInlineStart","scrollMargin","scrollMarginTop","scrollMarginRight","scrollMarginBottom","scrollMarginLeft","scrollMarginX","scrollMarginY","scrollMarginBlock","scrollMarginBlockEnd","scrollMarginBlockStart","scrollMarginInline","scrollMarginInlineEnd","scrollMarginInlineStart","scrollPadding","scrollPaddingTop","scrollPaddingRight","scrollPaddingBottom","scrollPaddingLeft","scrollPaddingX","scrollPaddingY","scrollPaddingBlock","scrollPaddingBlockEnd","scrollPaddingBlockStart","scrollPaddingInline","scrollPaddingInlineEnd","scrollPaddingInlineStart","fontSize","backgroundImage","borderImage","borderBlock","borderBlockEnd","borderBlockStart","borderBottom","borderBottomColor","borderColor","borderInline","borderInlineEnd","borderInlineStart","borderLeft","borderLeftColor","borderRight","borderRightColor","borderTop","borderTopColor","caretColor","columnRuleColor","outline","outlineColor","stroke","textDecorationColor","fontFamily","fontWeight","lineHeight","letterSpacing","blockSize","minBlockSize","maxBlockSize","inlineSize","minInlineSize","maxInlineSize","minWidth","maxWidth","minHeight","maxHeight","flexBasis","gridTemplateColumns","gridTemplateRows","borderWidth","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","borderRadius","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","boxShadow","textShadow","transition","JSON","stringify","getOwnPropertyDescriptors","g","u","appearance","WebkitAppearance","backfaceVisibility","WebkitBackfaceVisibility","backdropFilter","WebkitBackdropFilter","backgroundClip","WebkitBackgroundClip","boxDecorationBreak","WebkitBoxDecorationBreak","clipPath","WebkitClipPath","content","hyphens","WebkitHyphens","maskImage","WebkitMaskImage","maskSize","WebkitMaskSize","tabSize","MozTabSize","textSizeAdjust","WebkitTextSizeAdjust","userSelect","WebkitUserSelect","maxSize","minSize","m","S","k","$","R","charCodeAt","utils","media","concat","prefix","I","themeMap","animationDelay","animationDuration","backgroundSize","borderBlockEndWidth","borderBlockStartWidth","borderBlockWidth","borderEndEndRadius","borderEndStartRadius","borderInlineEndWidth","borderInlineStartWidth","borderInlineWidth","borderSpacing","borderStartEndRadius","borderStartStartRadius","columnRule","columnRuleWidth","columnWidth","containIntrinsicSize","gridAutoColumns","gridAutoRows","offsetDistance","offsetRotate","outlineOffset","outlineWidth","overflowClipMargin","shapeMargin","textDecoration","textDecorationThickness","textIndent","textUnderlineOffset","transitionDelay","transitionDuration","verticalAlign","wordSpacing","W","href","location","cssRules","insertRule","T","M","composers","$$typeof","C","P","variants","compoundVariants","defaultVariants","css","L","styled","cache","O","resonevar","onevar","allvar","inline","selector","deferredInjector","N","D","global","sheet","themed","H","V","G","token","variable","computedValue","F","J","theme","U","Y","q","deleteRule","styleSheets","reset","head","import","E","globalCss","keyframes","createTheme","config","getCssText","Z","rubberband","dimension","constant","rubberbandIfOutOfBounds","configurable","writable","ownKeys","enumerableOnly","symbols","sym","getOwnPropertyDescriptor","_objectSpread2","EVENT_TYPE_MAP","change","mouse","touch","gesture","capitalize","actionsWithoutCaptureSupported","hasCapture","actionKey","toHandlerProp","device","action","deviceProps","pointerCaptureEvents","parseProp","eventKey","substring","captureKey","isTouch","getPointerType","pointerType","getValueEvent","changedTouches","targetTouches","getTouchList","touchIds","touches","_event$currentTarget","_event$currentTarget$","currentTarget","contains","getCurrentTargetTouchList","identifier","pointerId","valueEvent","pointerValues","noop","fns","assignDefault","Engine","ctrl","computeValues","computeInitial","init","shared","gestureEventStores","gestureTimeoutStores","ingKey","_active","_blocked","_force","_step","intentional","_movement","_distance","_direction","_delta","_bounds","memo","elapsedTime","_movementBound","velocity","movement","timeStamp","lastOffset","startTime","_values","_initial","initial","dt","preventDefault","cancelable","pointerIds","locked","pointerLockElement","payload","buttons","altKey","metaKey","ctrlKey","getEventDetails","pressed","_absoluteDelta","axisIntent","_m0","_m1","hasCustomTransform","sign","restrictToAxis","previousOffset","gestureIsActive","setup","computeOffset","ox","oy","x0","x1","y0","y1","Vx","Vy","Rx","Ry","X0","X1","Y0","Y1","computeRubberband","computeMovement","absoluteDelta","clean","triggerAllEvents","handler","aliasKey","eventStore","timeoutStore","CoordinatesEngine","axisThreshold","dx","dy","absDx","absDy","selectAxis","lockDirection","identity","DEFAULT_RUBBERBAND","commonConfigResolver","eventOptions","_k","coordinatesConfigResolver","_v","DISPLACEMENT","KEYS_DELTA_MAP","ArrowRight","ArrowLeft","ArrowUp","ArrowDown","DragEngine","_pointerId","_pointerActive","_keyboardActive","_preventScroll","_delayed","swipe","tap","canceled","cancel","boundRect","targetRect","emit","pointerClean","pointerButtons","ctrlIds","setEventIds","pointerCapture","setPointerCapture","setupPointer","preventScrollAxis","setupScrollPrevention","delay","setupDelayTrigger","startPointerDrag","id","movementX","movementY","remove","hasPointerCapture","releasePointerCapture","_unused","process","setActive","tapsThreshold","filterTaps","dirx","diry","vx","vy","mx","my","svx","svy","sx","sy","sdt","duration","pointerLock","requestPointerLock","sharedConfig","exitPointerLock","persist","persistEvent","preventScroll","preventScrollDelay","deltaFn","bindFunction","keyDown","keyUp","pointerClick","isBrowser","isTouchScreen","navigator","maxTouchPoints","SUPPORT","GestureEvent","supportsGestureEvents","touchscreen","DEFAULT_DRAG_AXIS_THRESHOLD","pen","dragConfigResolver","lock","scaleBounds","angleBounds","_scaleBounds","_angleBounds","modifierKey","mouseOnly","EngineMap","Map","ConfigResolverMap","dragAction","engine","resolver","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","sharedConfigResolver","_excluded","resolveWith","resolvers","EventStore","gestureKey","_ctrl","_gestureKey","listeners","_listeners","toDomEventType","delete","TimeoutStore","ms","_timeouts","Controller","internalHandlers","drag","setupGesture","wheel","move","pinch","resolveGestures","nativeHandlers","_config","parse","_targetEventStore","gestures","gestureConfig","bindToProps","nativeBindFunction","handlerProp","withPassiveOption","_options$capture","_options$passive","isNative","useRecognizers","applyHandlers","applyConfig","effect","useDrag","useReactId","rafId","AS_ERROR","VisuallyHidden","clip","whiteSpace","wordWrap","Arrow","arrowProps","viewBox","preserveAspectRatio","useSize","setSize","entry","borderSizeEntry","borderBoxSize","borderSize","rect","unobserve","observedElements","runLoop","changedRectsData","rect1","rect2","newRect","requestAnimationFrame","useRect","measurable","setRect","elementToObserve","observedData","cancelAnimationFrame","observeElementRect","createContextScope","scopeName","createContextScopeDeps","defaultContexts","createScope","scopeContexts","defaultContext","scope","contexts","rootComponentName","BaseContext","consumerName","composeContextScopes","scopes","baseScope","scopeHooks","useScope","overrideScopes","nextScopes","getPopperSlotsForAxis","anchorRect","popperSize","anchorStart","anchorDimension","popperDimension","before","after","getPlacementStylesForPoint","willChange","scrollX","scrollY","getTransformOrigin","align","arrowOffset","arrowSize","isHorizontalSide","arrowBaseLength","sideOffset","alignOffset","UNMEASURED_POPPER_STYLES","UNMEASURED_ARROW_STYLES","getPopperArrowStyles","popperCenterX","popperCenterY","rotation","arrowMaxDimension","getArrowCssDirection","getOppositeSide","getCollisions","collisionBoundariesRect","createPopperContext","createPopperScope","PopperProvider","usePopperContext","PopperAnchor","__scopePopper","virtualRef","anchorProps","composedRefs","onAnchorChange","PopperContentProvider","useContentContext","PopperContent","collisionTolerance","avoidCollisions","contentProps","setArrowOffset","setContent","contentSize","arrow","setArrow","windowSize","setWindowSize","debounceTimerId","updateWindowSize","innerWidth","innerHeight","handleResize","shouldAvoidCollisions","popperStyles","arrowStyles","allPlacementPoints","arrowBaseToTipLength","topY","bottomY","leftX","rightX","popperPoint","placedSide","placedAlign","amount","popperRect","DOMRect","fromRect","collisionBoundariesRectWithTolerance","popperCollisions","oppositeSidePopperPoint","collisions","oppositeSideCollisions","oppositeSide","anchorSize","startBound","endBound","isAnchorBigger","getPlacementData","isPlaced","$d4fb2a15a6483a4f85af0f96fd68687d$var$PopperContentProvider","onArrowChange","onArrowOffsetChange","animation","PopperArrow","_radixUiReactArrow","setAnchor","$d4fb2a15a6483a4f85af0f96fd68687d$var$PopperProvider","Anchor","Content","Presence","present","presence","setNode","stylesRef","prevPresentRef","prevAnimationNameRef","initialState","machine","nextState","UNMOUNT","ANIMATION_OUT","unmountSuspended","MOUNT","ANIMATION_END","unmounted","send","currentAnimationName","getAnimationName","wasPresent","prevAnimationName","handleAnimationEnd","isCurrentAnimation","animationName","handleAnimationStart","isPresent","usePrevious","useCallbackRef","callbackRef","_callbackRef$current","composeEventHandlers","originalEventHandler","ourEventHandler","checkForDefaultPrevented","defaultPrevented","createTooltipContext","usePopperScope","isOpenDelayed","delayDuration","onOpen","onClose","useTooltipProviderContext","TooltipContextProvider","useTooltipContext","TooltipTrigger","__scopeTooltip","triggerProps","popperScope","composedTriggerRef","onTriggerChange","isMouseDownRef","handleMouseUp","_radixUiReactPopper","open","contentId","stateAttribute","onMouseEnter","onTriggerEnter","onMouseLeave","onMouseDown","once","onFocus","onBlur","TooltipContent","forceMount","$badf5d6f88b7e9fa4e0bb85d71c0396a$var$TooltipContentImpl","TooltipContentImpl","ariaLabel","portalled","PortalWrapper","onEscapeKeyDownProp","onEscapeKeyDown","handleKeyDown","useEscapeKeydown","$badf5d6f88b7e9fa4e0bb85d71c0396a$var$CheckTriggerMoved","_radixUiReactVisuallyHidden","role","TooltipArrow","CheckTriggerMoved","triggerRect","trigger","triggerLeft","previousTriggerLeft","triggerTop","previousTriggerTop","handleClose","LevaErrors","openProp","defaultOpen","onOpenChange","delayDurationProp","setTrigger","deterministicId","setId","reactId","useId","openTimerRef","wasOpenDelayedRef","defaultProp","uncontrolledState","prevValueRef","handleChange","uncontrolledProp","setUncontrolledProp","isControlled","nextValue","useControllableState","dispatchEvent","CustomEvent","setOpen","handleOpen","handleDelayedOpen","$badf5d6f88b7e9fa4e0bb85d71c0396a$var$TooltipContextProvider","Trigger","ErrorList","UNSUPPORTED_INPUT","NO_COMPONENT_FOR_TYPE","UNKNOWN_INPUT","DUPLICATE_KEYS","prevPath","ALREADY_REGISTERED_TYPE","CLIPBOARD_ERROR","THEME_ERROR","category","PATH_DOESNT_EXIST","INPUT_TYPE_OVERRIDE","wrongType","EMPTY_KEY","_log","errorType","message","log","_excluded$a","_excluded2$4","_excluded3$1","Schemas","Plugins","getValueType","settings","checker","register","_ref2","plugin","normalize$3","input","_normalize","format$2","parseNumber","evaluate","log10","getStep","significantDigits","numberLog","invertedRange","parens","exp","mul","expr","newExpr","subExpr","base","SpecialInputs","LevaInputs","isEmptyObject","_excluded$9","_excluded2$3","_excluded3","parseOptions","_input","_commonOptions$option","_commonOptions$disabl","mergedOptions","customType","label","disabled","_type","__customInput","hint","onEditStart","onEditEnd","transient","inputWithType","commonOptions","normalizeInput","parsedInputAndOptions","parsedInput","inputType","updateInput","newValue","fromPanel","sanitizeValue","ValueError","previousValue","sanitizedNewValue","_newValue","prevValue","sanitize","sanitize$4","next","multiplyStep","_excluded$8","_excluded2$2","sanitize$3","_min","_max","suffix","normalize$2","_settings","_value","toPrecision","padStep","initialValue","pad","sanitizeStep$1","props$3","_pad","toFixed","sanitizeStep","InputContext","createContext","useInputContext","useContext","ThemeContext","StoreContext","PanelSettingsContext","useStoreContext","createStateClass","bgColor","$inputStyle","$focusStyle","$hoverStyle","$activeStyle","createStitches","elevation1","elevation2","elevation3","accent1","accent2","accent3","highlight1","highlight2","highlight3","vivid1","folderWidgetColor","folderTextColor","toolTipBackground","toolTipText","radii","xs","sm","lg","space","md","colGap","fonts","mono","sans","fontSizes","toolTip","sizes","rootWidth","controlWidth","numberInputMinWidth","scrubberWidth","scrubberHeight","rowHeight","folderTitleHeight","checkboxSize","joystickWidth","joystickHeight","colorPickerWidth","colorPickerHeight","imagePreviewWidth","imagePreviewHeight","monitorHeight","titleBarHeight","level1","level2","borderWidths","focus","folder","fontWeights","button","$flex","alignItems","$flexCenter","justifyContent","$reset","$draggable","touchAction","WebkitUserDrag","$focus","$focusWithin","$hover","$active","globalStyles","useTh","_key","substr","StyledInput","flex","levaType","textarea","InnerLabel","InnerNumberLabel","textTransform","dragging","true","InputContainer","textArea","_excluded$7","_excluded2$1","ValueInput","innerLabel","onKeyDown","rows","_id","emitOnEditStart","emitOnEditEnd","inputId","inputRef","isTextArea","asType","useCallback","_onUpdate","onKeyPress","inputProps","autoComplete","spellCheck","NumberInput","dir","StyledFolder","StyledWrapper","false","isRoot","StyledTitle","StyledContent","toggled","StyledRow","StyledInputRow","CopyLabelContainer","StyledOptionalToggle","StyledLabel","textOverflow","StyledInputWrapper$1","Overlay","StyledToolTipContent","ToolTipArrow","_excluded$6","OptionalToggle","disable","checked","htmlFor","RawLabel","title","RadixTooltip","Label","copyEnabled","hideCopyButton","copied","setCopied","handleClick","clipboard","writeText","xmlns","fillRule","clipRule","_excluded$5","Svg","Chevron","_excluded$4","Row","useInputSetters","setValue","displayValue","setDisplayValue","previousValueRef","settingsRef","setFormat","updatedValue","useDrag$1","classList","useTransform","local","_excluded$3","getInputAtPath","RangeGrid","hasRange","Range","Scrubber","RangeWrapper","Indicator","RangeSlider","onDrag","scrubberRef","rangeWidth","xy","DraggableLabel","innerLabelTrim","setDragging","_memo","Number$1","component","props$2","_o","SelectContainer","NativeSelect","PresentationalSelect","lastDisplayedValue","props$1","editable","_editable","_rows","_excluded$2","NonEditableString","String$1","StyledInputWrapper","strokeLinecap","strokeLinejoin","strokeWidth","_excluded$1","Coordinate","valueKey","valueRef","Container","gridAutoFlow","withLock","Lock","Vector","setSettings","normalizeKeyedNumberSettings","maxStep","minPad","_excluded2","getVectorSchema","isVectorArray","isVectorObject","convert","getVectorType","mapArrayToKeys","isNumberSettings","getVectorPlugin","defaultKeys","mergedSettings","numberSettings","normalizeVector","formatVector","_valueKeys","_previousValue","lockedKey","lockedCoordinate","previousLockedCoordinate","ratio","sanitizeVector","grad","turn","rad","exec","parsed","rgba","isValid","brightness","isDark","isLight","toHex","toRgb","toRgbString","toHsl","toHslString","toHsv","saturate","desaturate","grayscale","lighten","darken","rotate","hue","alpha","isEqual","useEventCallback","getParentWindow","ownerDocument","defaultView","self","getRelativePosition","touchId","pageX","pageXOffset","pageY","pageYOffset","preventDefaultMove","Interactive","onMove","onKey","container","onMoveCallback","onKeyCallback","hasTouch","handleMove","toggleDocumentEvents","handleMoveEnd","parentWindow","toggleEvent","nativeEvent","keyCode","which","handleMoveStart","onTouchStart","tabIndex","formatClassName","Pointer","nodeClassName","digits","hsvaToHsla","hh","hsvaToHslString","hsva","hsvaToHslaString","hsvaToRgba","rgbaToHsva","Hue","interaction","aria-label","aria-valuetext","Saturation","containerStyle","equalColorObjects","second","useColorManipulation","colorModel","onChangeCallback","toHsva","updateHsva","newHsva","newColor","fromHsva","params","nonce","styleElementMap","useStyleSheet","nodeRef","parentDocument","styleElement","innerHTML","__webpack_nonce__","ColorPicker","defaultColor","Alpha","gradientStyle","AlphaColorPicker","RgbaColorPicker","RgbColorPicker","__awaiter","_arguments","generator","fulfilled","rejected","done","__generator","sent","trys","ops","verb","iterator","op","__read","ar","COMMON_MIME_TYPES","toFileWithPath","lastIndexOf","ext","withMimeType","webkitRelativePath","FILES_TO_IGNORE","getInputFiles","evt","fromList","getFsHandleFiles","handles","getFile","_a","getDataTransferFiles","items","kind","toFilePromises","noIgnoredFiles","flatten","webkitGetAsEntry","fromDataTransferItem","isDirectory","fromDirEntry","getAsFile","fwp","fromEntry","fromFileEntry","reader","createReader","readEntries","batch","err_1","fullPath","_objectSpread","_slicedToArray","arr","_arrayWithHoles","_i","_s","_e","_arr","_n","_d","_iterableToArrayLimit","minLen","_arrayLikeToArray","_unsupportedIterableToArray","_nonIterableRest","FILE_INVALID_TYPE","FILE_TOO_LARGE","FILE_TOO_SMALL","TOO_MANY_FILES","getInvalidTypeRejectionErr","accept","messageSuffix","code","getTooLargeRejectionErr","getTooSmallRejectionErr","TOO_MANY_FILES_REJECTION","fileAccepted","isAcceptable","accepts","fileMatchSize","isDefined","allFilesAccepted","maxFiles","accepted","sizeMatch","isPropagationStopped","cancelBubble","isEvtWithFiles","dataTransfer","types","onDocumentDragOver","isIe","userAgent","isEdge","isIeOrEdge","_len","_len2","_key2","canUseFileSystemAccessAPI","filePickerOptionsTypes","description","isAbort","DOMException","ABORT_ERR","isSecurityError","SECURITY_ERR","_excluded4","_toConsumableArray","_arrayWithoutHoles","iter","_iterableToArray","_nonIterableSpread","Dropzone","forwardRef","_useDropzone","useDropzone","useImperativeHandle","Fragment","defaultProps","getFilesFromEvent","isChangeEvt","preventDropOnDocument","noClick","noKeyboard","noDrag","noDragEventsBubbling","validator","useFsAccessApi","propTypes","PropTypes","onFileDialogCancel","onFileDialogOpen","onDragEnter","onDragLeave","onDragOver","onDrop","onDropAccepted","onDropRejected","isFocused","isFileDialogActive","isDragActive","isDragAccept","isDragReject","draggedFiles","fileRejections","_defaultProps$options","onFileDialogOpenCb","onFileDialogCancelCb","rootRef","_useReducer","useReducer","reducer","_useReducer2","fsAccessApiWorksRef","isSecureContext","onWindowFocus","dragTargetsRef","onDocumentDrop","onDragEnterCb","onDragOverCb","hasFiles","dropEffect","onDragLeaveCb","targets","targetIdx","setFiles","_fileAccepted2","acceptError","_fileMatchSize2","sizeError","customErrors","errors","onDropCb","openFileDialog","opts","showOpenFilePicker","click","onKeyDownCb","isEqualNode","onFocusCb","onBlurCb","onClickCb","composeHandler","composeKeyboardHandler","composeDragHandler","getRootProps","_ref2$refKey","refKey","onInputElementClick","getInputProps","_ref3","_ref3$refKey","fileCount","useDeepMemo","deps","useCompareMemoize","useValuesForPath","paths","initialData","valuesForPath","useStore","getValuesForPaths","usePopin","popinRef","wrapperRef","shown","setShow","show","hide","white","bisque","blue","cadetblue","chartreuse","chocolate","coral","antiquewhite","aqua","azure","whitesmoke","papayawhip","plum","blanchedalmond","black","gold","goldenrod","gainsboro","cornsilk","cornflowerblue","burlywood","aquamarine","beige","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkkhaki","darkgray","darkgreen","darkgrey","peachpuff","darkmagenta","darkred","darkorchid","darkorange","darkslateblue","gray","darkslategray","darkslategrey","deeppink","deepskyblue","wheat","firebrick","floralwhite","ghostwhite","darkviolet","magenta","green","dodgerblue","grey","honeydew","hotpink","blueviolet","forestgreen","lawngreen","indianred","indigo","fuchsia","brown","maroon","mediumblue","lightcoral","darkturquoise","lightcyan","ivory","lightyellow","lightsalmon","lightseagreen","linen","mediumaquamarine","lemonchiffon","lime","khaki","mediumseagreen","limegreen","mediumspringgreen","lightskyblue","lightblue","midnightblue","lightpink","mistyrose","moccasin","mintcream","lightslategray","lightslategrey","navajowhite","navy","mediumvioletred","powderblue","palegoldenrod","oldlace","paleturquoise","mediumturquoise","mediumorchid","rebeccapurple","lightsteelblue","mediumslateblue","thistle","orchid","mediumpurple","purple","pink","skyblue","springgreen","palegreen","red","yellow","slateblue","lavenderblush","peru","palevioletred","violet","teal","slategray","slategrey","aliceblue","darkseagreen","darkolivegreen","greenyellow","seagreen","seashell","tomato","silver","sienna","lavender","lightgreen","orange","orangered","steelblue","royalblue","turquoise","yellowgreen","salmon","saddlebrown","sandybrown","rosybrown","darksalmon","lightgoldenrodyellow","snow","lightgrey","lightgray","dimgray","dimgrey","olivedrab","olive","toName","closest","convertMap","rgb","hsl","hsv","hex","colord","hasAlpha","isString","omit","sanitize$2","_f","getFormat","ColorPreview","boxSizing","PickerContainer","PickerWrapper","convertToRgb","timer","initialRgb","setInitialRgb","hidePicker","vector3d","JoystickTrigger","JoystickPlayground","isOutOfBounds","zindex","Joystick","outOfBoundsX","outOfBoundsY","stepMultiplier","joystickShown","setShowJoystick","setIsOutOfBounds","spanRef","joystickeRef","playgroundRef","yFactor","joystick","stepV1","stepV2","wpx","hpx","startOutOfBounds","setInterval","incX","incY","endOutOfBounds","setStepMultiplier","_x","_y","newX","newY","Container$1","withJoystick","vector2d","File","URL","createObjectURL","ImageContainer","DropZone","ImagePreview","backgroundPosition","hasImage","ImageLargePreview","Instructions","Remove","MIN","MAX","boundsSettings","IntervalSlider","minScrubberRef","maxScrubberRef","targetIsScrub","minStyle","maxStyle","interval","Store","api","origSubscribe","subscribe","optListener","listener","equalityFn","is","currentSlice","nextSlice","previousSlice","fireImmediately","eventEmitter","listenerMapping","on","topic","createEventEmitter","storeId","folders","orderedPaths","getVisiblePaths","getData","hiddenFolders","visiblePaths","__refCount","setOrderedPaths","newPaths","orderPaths","disposePaths","setState","getFolderSettings","addData","newData","override","newInputData","setValueAtPath","setSettingsAtPath","disableInputAtPath","flag","getInput","_this$getInput","subscribeToEditStart","_path","subscribeToEditEnd","_getDataFromSchema","rootPath","mappedPaths","rawInput","newPath","normalizedInput","_options","getDataFromSchema","levaStore","defaultSettings$2","collapsed","FolderTitle","toggle","ControlInput","Input","StyledButton","StyledButtonGroup","StyledButtonGroupButton","MonitorCanvas","accentColor","fillColor","gradientTop","gradientBottom","raf","drawPlot","_canvas","_ctx","Path2D","verticalPadding","lineTo","clearRect","gradientPath","gradient","createLinearGradient","addColorStop","lineJoin","ctx","hasFired","handleCanvas","devicePixelRatio","useCanvas2d","frame","MonitorLog","getValue","specialComponents","_label","_opts","getOpts","objectOrFn","hidden","clearInterval","graph","Control","unsub","useInput","SpecialInputForType","Folder","tree","setToggle","folderRef","widgetColor","setProperty","TreeWrapper","_isRoot","_fill","_flat","contentRef","firstRender","fixHeight","removeProperty","scrollIntoView","behavior","useToggle","isInput","StyledRoot","oneLineLabels","hideTitleBar","$$titleBarHeight","Icon","StyledTitleWithFilter","mode","FilterWrapper","StyledFilterInput","TitleContainer","filterEnabled","FilterInput","setFilter","debouncedOnChange","placeholder","visibility","TitleWithFilter","filterShown","setShowFilter","_inputRef$current","_inputRef$current2","blur","handleShortcut","LevaRoot","themeContext","newTheme","defaultTheme","customTheme","mergeTheme","computedToggled","computedSetToggle","LevaCore","rootClass","_titleBar$drag","_titleBar$filter","neverHide","_neverHide","_oneLineLabels","titleBar","_titleBar","_hideCopyButton","setPaths","useVisiblePaths","_filter","getKeyPath","folderPath","merge","__levaInput","shouldShow","rootInitialized","rootEl","Leva","useControls","schemaOrFolderName","settingsOrDepsOrSchema","depsOrSettingsOrFolderSettings","depsOrSettings","depsOrUndefined","folderSettings","hookSettings","folderName","parseArgs","schemaIsFunction","depsChanged","_schema","isGlobalPanel","getElementById","useRenderRoot","allPaths","renderPaths","onChangePaths","onEditStartPaths","onEditEndPaths","shouldOverrideSettings","unsubscriptions","SELECT","IMAGE","NUMBER","number$1","COLOR","STRING","BOOLEAN","INTERVAL","VECTOR3D","VECTOR2D","isExtendable","forIn","mixinDeep","isValidKey","sep","brackets","idx","getClosingQuote","str","ch","keepQuotes","keepDoubleQuotes","keepSingleQuotes","keepEscaping","quotes","closeIdx","tokens","stack","tok","escaped","assignSymbols","toObject","moduloWrapAround","capacity","LEFT","UP","RIGHT","BOTTOM","MOUSE","MIDDLE","ONE","TOUCH","TWO","target0","position0","zoom0","getPolarAngle","spherical","phi","getAzimuthalAngle","theta","setPolarAngle","currentPhi","phiDist","sphericalDelta","setAzimuthalAngle","currentTheta","thetaDist","getDistance","listenToKeyEvents","_domElementKeyEvents","saveState","changeEvent","STATE","NONE","quat","setFromUnitVectors","quatInverse","lastPosition","lastQuaternion","twoPI","setFromVector3","autoRotate","rotateLeft","autoRotateSpeed","dampingFactor","minAzimuthAngle","maxAzimuthAngle","minPolarAngle","maxPolarAngle","makeSafe","minDistance","maxDistance","addScaledVector","panOffset","setFromSpherical","zoomChanged","EPS","onMouseWheel","_scope$domElement","_scope$domElement2","_scope$domElement3","_scope$domElement4","_scope$domElement5","_scope$domElement6","startEvent","endEvent","ROTATE","DOLLY","PAN","TOUCH_ROTATE","TOUCH_PAN","TOUCH_DOLLY_PAN","TOUCH_DOLLY_ROTATE","Spherical","rotateStart","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","pointers","pointerPositions","getZoomScale","zoomSpeed","angle","reverseOrbit","rotateUp","panLeft","objectMatrix","setFromMatrixColumn","panUp","screenSpacePanning","pan","deltaX","deltaY","targetDistance","clientHeight","clientWidth","enablePan","dollyOut","dollyScale","minZoom","maxZoom","enableZoom","dollyIn","handleMouseDownRotate","handleMouseDownPan","handleTouchStartRotate","handleTouchStartPan","handleTouchStartDolly","handleTouchMoveRotate","getSecondPointerPosition","rotateSpeed","handleTouchMovePan","panSpeed","handleTouchMoveDolly","_scope$domElement7","_scope$domElement8","addPointer","trackPointer","enableRotate","mouseAction","mouseButtons","handleMouseDownDolly","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","onTouchMove","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","onMouseMove","_scope$domElement9","_scope$domElement10","_scope$domElement11","removePointer","handleMouseWheel","keyPanSpeed","EventDispatcher","objA","objB","keysA","_wrapNativeSuper","Class","_cache","Wrapper","construct","getPrototypeOf","setPrototypeOf","property","Reflect","desc","superPropBase","_set","isStrict","common_default","AdaptiveLuminanceMaterial","MIP_LEVEL_1X1","luminanceBuffer0","Uniform","luminanceBuffer1","minLuminance","deltaTime","tau","shaderTextureLOD","blending","NoBlending","depthWrite","depthTest","toneMapped","mipLevel1x1","convolution_bokeh_default","ShaderMaterial2","getTextureDecoding","isWebGL2","decoding","revision","REVISION","RGBAFormat","UnsignedByteType","sRGBEncoding","orthographicDepthToViewZ","viewZToOrthographicDepth","viewZ","ShaderMaterial3","BlendFunction","ColorChannel","DepthCopyMode","DepthTestStrategy","EdgeDetectionMode","EffectAttribute","EffectShaderSection","FRAGMENT_HEAD","FRAGMENT_MAIN_UV","FRAGMENT_MAIN_IMAGE","VERTEX_HEAD","VERTEX_MAIN_SUPPORT","KernelSize","LUTOperation","MaskFunction","ToneMappingMode","VignetteTechnique","convolution_kawase_default","convolution_kawase_default2","kernelPresets","KawaseBlurMaterial","texelSize","inputBuffer","Uniform4","Vector22","kernel","NoBlending4","setTexelSize","kernelSize","ShaderMaterial4","CopyMaterial","Uniform5","NoBlending5","ShaderMaterial5","depth_comparison_default","depth_comparison_default2","DepthComparisonMaterial","depthTexture","DEPTH_PACKING","depthBuffer","Uniform6","cameraNear","cameraFar","NoBlending6","depthPacking","RGBADepthPacking","adoptCameraSettings","PerspectiveCamera2","PERSPECTIVE_CAMERA","ShaderMaterial6","DepthDownsamplingMaterial","ShaderMaterial7","Uniform8","normalBuffer","Vector24","NoBlending8","BasicDepthPacking3","DOWNSAMPLE_NORMALS","ShaderMaterial8","DownsamplingMaterial","ShaderMaterial9","SAMPLES","Uniform10","Vector26","NoBlending10","ShaderMaterial10","edge_detection_default","edge_detection_default2","EffectMaterial","ShaderMaterial11","shaderParts","dithering","THREE_REVISION","REVISION2","ENCODE_OUTPUT","Uniform12","Vector28","aspect","time","NoBlending12","setShaderParts","setDefines","setUniforms","BasicDepthPacking6","setExtensions","extension","encodeOutput","PerspectiveCamera4","ShaderMaterial12","convolution_gaussian_default","convolution_gaussian_default2","luminance_default","ShaderMaterial13","ShaderMaterial14","LuminanceMaterial","colorOutput","luminanceRange","Uniform15","smoothing","NoBlending15","THRESHOLD","RANGE","ShaderMaterial15","mask_default","outline_default","ShaderMaterial16","outline_default2","OutlineMaterial","Vector210","Uniform17","NoBlending17","maskTexture","ShaderMaterial17","smaa_weights_default","smaa_weights_default2","UpsamplingMaterial","ShaderMaterial18","ShaderMaterial19","Uniform20","supportBuffer","Vector213","NoBlending20","ShaderMaterial20","dummyCamera","Pass","renderer","screen","rtt","needsSwap","needsDepthTexture","getFullscreenMaterial","vertices","uvs","BufferGeometry","addAttribute","getFullscreenTriangle","frustumCulled","fullscreenMaterial","BasicDepthPacking8","outputBuffer","stencilTest","frameBufferType","CopyPass","renderTarget","autoResize","WebGLRenderTarget","stencilBuffer","setRenderTarget","renderToScreen","UnsignedByteType3","FRAMEBUFFER_PRECISION_HIGH","sRGBEncoding2","AdaptiveLuminancePass","luminanceBuffer","adaptationRate","renderTargetPrevious","WebGLRenderTarget2","NearestFilter","renderTargetAdapted","copyPass","ClearMaskPass","stencil","buffers","setLocked","setTest","ClearPass","color2","overrideClearColor","overrideClearAlpha","clearAlpha","getClearAlpha","hasOverrideClearColor","hasOverrideClearAlpha","getClearColor","setClearColor","setClearAlpha","AUTO_SIZE","Resolution","resizable","Vector214","preferred","preferredWidth","preferredHeight","setScalar","baseHeight","getBaseWidth","getBaseHeight","getPreferredWidth","getPreferredHeight","workaroundEnabled","OverrideMaterialManager","originalMaterials","materials","materialsBackSide","materialsDoubleSide","materialsFlatShaded","materialsFlatShadedBackSide","materialsFlatShadedDoubleSide","setMaterial","meshCount","replaceMaterial","flatShading","isSkinnedMesh","isInstancedMesh","disposeMaterials","m2","skinning","shadowMapEnabled","shadowMap","traverse","overrideMaterial","RenderPass","clearPass","overrideMaterialManager","ignoreBackground","skipShadowMapUpdate","selection","mask","layers","shadowMapAutoUpdate","autoUpdate","getLayer","DepthPass","resolutionScale","resolutionX","resolutionY","renderPass","MeshDepthMaterial","RGBADepthPacking2","getClearPass","Color2","WebGLRenderTarget3","NearestFilter2","baseWidth","setBaseSize","DepthDownsamplingPass","WebGLRenderTarget4","NearestFilter3","BasicDepthPacking9","prefixSubstrings","substrings","strings","prefixed","regExp","integrateEffect","getFragmentShader","getVertexShader","mainImageExists","mainUvExists","getAttributes","functionRegExp","fragmentHead","fragmentMainUv","fragmentMainImage","vertexHead","vertexMainSupport","varyings","uvTransformation","needsUv","matchAll","shaders","blendMode","blendModes","blendFunction","inputColorSpace","colorSpace","sRGBEncoding3","outputColorSpace","readDepth","blendOpacity","EffectPass","handleEvent","effects","setEffects","skipRendering","minTime","maxTime","POSITIVE_INFINITY","EffectShaderData","blendRegExp","getShaderCode","getDepthTexture","setShaderData","updateMaterial","BasicDepthPacking11","setDepthTexture","initialize","UnsignedByteType5","recompile","KawaseBlurPass","renderTargetA","WebGLRenderTarget7","renderTargetB","blurMaterial","copyMaterial","kernelSequence","previousBuffer","UnsignedByteType7","sRGBEncoding5","LuminancePass","WebGLRenderTarget8","UnsignedByteType8","MaskPass","inverse","inverted","writeValue","clearValue","setMask","setOp","REPLACE","setFunc","ALWAYS","setClear","EQUAL","KEEP","MipmapBlurPass","WebGLRenderTarget9","downsamplingMipmaps","upsamplingMipmaps","downsamplingMaterial","upsamplingMaterial","Vector215","levels","mipmap","mipmaps","UnsignedByteType9","sRGBEncoding6","NormalPass","MeshNormalMaterial","setBackgroundDisabled","setShadowMapDisabled","setOverrideClearColor","Color3","setOverrideClearAlpha","WebGLRenderTarget10","NearestFilter5","ShaderPass","UnsignedByteType10","MILLISECONDS_TO_SECONDS","Timer","previousTime","currentTime","fixedDelta","elapsed","timescale","fixedDeltaEnabled","autoReset","setAutoResetEnabled","EffectComposer","multisampling","createBuffer","passes","autoRenderToScreen","setRenderer","samples","Vector216","getContextAttributes","UnsignedByteType11","sRGBEncoding7","updateDOM","oldRenderer","DepthTexture","DepthStencilFormat","UnsignedInt248Type","UnsignedIntType","getDrawingBufferSize","LinearFilter2","REVISION3","WebGLMultisampleRenderTarget","WebGLRenderTarget11","ignoreDepthForMultisampleCopy","pass","drawingBufferSize","createDepthTexture","deleteDepthTexture","getDelta","NOTEQUAL","updateStyle","isAutoResetEnabled","LinearEncoding2","getCoefficients","Float64Array","row0","row1","GaussKernel","edgeBias","weights","offsets","linearWeights","linearOffsets","generate","coefficients","sum","offset0","weight0","weight1","linearWeightSum","Selection","iterable","layer","exclusive","currentLayer","enable","blendFunctions","BlendMode","_blendFunction","Uniform21","EventDispatcher2","Effect","setChanged","_inputColorSpace","LinearEncoding3","_outputColorSpace","BasicDepthPacking12","Scene2","EventDispatcher3","bloom_default","BloomEffect","luminanceThreshold","luminanceSmoothing","mipmapBlur","Uniform22","WebGLRenderTarget12","blurPass","luminancePass","luminanceMaterial","mipmapBlurPass","sRGBEncoding8","brightness_contrast_default","BrightnessContrastEffect","contrast","Uniform24","sRGBEncoding9","color_depth_default","ColorDepthEffect","bits","Uniform25","bitDepth","depth_default","DepthEffect","dot_screen_default","DotScreenEffect","Uniform28","Vector218","acos","sin","cos","getNoise","channels","LuminanceFormat","RedFormat","RGFormat","RGBAFormat2","UnsignedByteType13","DataTexture","Matrix42","hue_saturation_default","HueSaturationEffect","saturation","Uniform33","Vector32","createCanvas","Image","drawImage","imageData","createImageData","putImageData","RawImageData","getImageData","worker_default","Color5","LookupTexture","FloatType5","RGBAFormat4","LinearEncoding4","LinearFilter3","wrapS","ClampToEdgeWrapping","wrapT","wrapR","unpackAlignment","domainMin","Vector33","domainMax","transferData","workerURL","Blob","worker","Worker","lut","revokeObjectURL","transferList","postMessage","operation","img0","img1","size0","data0","data1","sizeSq","i4","iRGB","floatData","uint8Data","UnsignedByteType14","fromArray","convertLinearToSRGB","sRGBEncoding12","convertSRGBToLinear","DataTexture2","src","j4","DataTexture3D","bilinear","lerp2","e0","e3","webGL2Available","noise_default","NoiseEffect","premultiply","outline_default3","OutlineEffect","patternTexture","patternScale","edgeStrength","pulseSpeed","visibleEdgeColor","hiddenEdgeColor","xRay","Uniform36","Color6","getBlendFunction","setBlendFunction","renderTargetMask","WebGLRenderTarget15","renderTargetOutline","depthPass","maskPass","outlinePass","outlineMaterial","getResolution","RepeatWrapping2","setVertexShader","pulse","setVisible","UnsignedByteType15","scanlines_default","ScanlineEffect","density","scrollSpeed","Uniform39","Vector223","shock_wave_default","shock_wave_default2","HALF_PI","Vector35","ab","ShockWaveEffect","speed","maxRadius","waveSize","amplitude","Uniform40","Vector224","screenPosition","uActive","sepia_default","SepiaEffect","Uniform41","searchImageDataURL_default","areaImageDataURL_default","tone_mapping_default","ToneMappingEffect","adaptive","maxLuminance","whitePoint","middleGrey","averageLuminance","Uniform45","renderTargetLuminance","WebGLRenderTarget19","LinearMipmapLinearFilter","adaptiveLuminancePass","adaptiveLuminanceMaterial","exponent","ceil","setPreferredSize","vignette_default","VignetteEffect","technique","eskil","darkness","Uniform46","Loader","Loader2","Loader3","isWebGL2Available","_gl$getExtension2","WebGL2RenderingContext","getExtension","loseContext","resolveRef","isRef","wrapEffect","effectImpl","defaultBlendMode","EffectComposerContext","disableNormalPass","effectComposer","EffectComposer$1","addPass","downSamplingPass","normalPass","composer","effectPass","__r3f","removePass","selectionContext","Outline","selectionLayer","_api$selected","selected"],"sourceRoot":""}