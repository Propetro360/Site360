"use strict";(self.webpackChunkpropetro_site3d=self.webpackChunkpropetro_site3d||[]).push([[810],{3810:function(n,e,t){t.r(e),t.d(e,{default:function(){return T}});var o=t(9439),r=t(9093),i=t(4956),s=t(9324),u=t(5226),c=t(2791),l=t(1697),a=t(9192),d=t(4584),f=t(7577),p=t(5647),h=t(3433),x=t(7762),v=t(1413),m=t(5410),j=t(9577),Z=t(7760),g=t(184),y=["children","opacity","radius","segments","color"],R=["color","name","connectedTo","position"],k=(0,c.createContext)(),b=(0,c.forwardRef)((function(n,e){var t=n.children,o=n.opacity,r=void 0===o?1:o,i=n.radius,s=void 0===i?.05:i,u=n.segments,c=void 0===u?32:u,l=n.color,a=void 0===l?"#ff1050":l,d=(0,m.Z)(n,y);return(0,g.jsxs)("mesh",(0,v.Z)((0,v.Z)({ref:e},d),{},{children:[(0,g.jsx)("circleGeometry",{args:[s,c]}),(0,g.jsx)("meshBasicMaterial",{transparent:r<1,opacity:r,color:a}),t]}))}));function C(n){var e=n.children,t=(0,c.useRef)(),r=(0,c.useState)([]),i=(0,o.Z)(r,2),u=i[0],l=i[1],a=(0,c.useMemo)((function(){var n,e=[],t=(0,x.Z)(u);try{var r=function(){var t=n.value;t.connectedTo.map((function(n){return[t.position,n.current.position]})).forEach((function(n){var t=(0,o.Z)(n,2),r=t[0],i=t[1];return e.push({start:r.clone().add({x:.35,y:0,z:0}),end:i.clone().add({x:-.35,y:0,z:0})})}))};for(t.s();!(n=t.n()).done;)r()}catch(i){t.e(i)}finally{t.f()}return e}),[u]);return(0,s.x)((function(n,e){return t.current.children.forEach((function(n){return n.children[0].material.uniforms.dashOffset.value-=10*e}))})),(0,g.jsxs)(k.Provider,{value:l,children:[(0,g.jsx)("group",{ref:t,children:a.map((function(n,e){return(0,g.jsxs)("group",{children:[(0,g.jsx)(j.R,(0,v.Z)((0,v.Z)({},n),{},{color:"white",dashed:!0,dashScale:50,gapSize:20}),e+"Bezier spot"),(0,g.jsx)(j.R,(0,v.Z)((0,v.Z)({},n),{},{color:"red",lineWidth:3,transparent:!0,opacity:.5}),e+"Bezier line")]},e+"Bezier group")}))}),e,a.map((function(n,e){var t=n.start,o=n.end;return(0,g.jsxs)("group",{"position-z":1,children:[(0,g.jsx)(b,{position:t}),(0,g.jsx)(b,{position:o})]},e+"Bezier circle")}))]})}var S=(0,c.forwardRef)((function(n,e){var t=n.color,r=void 0===t?"black":t,i=(n.name,n.connectedTo),s=void 0===i?[]:i,u=n.position,l=void 0===u?[0,0,0]:u,a=(0,m.Z)(n,R),d=(0,c.useContext)(k),f=(0,c.useState)((function(){return(0,p.Z)(Z.Vector3,(0,h.Z)(l))})),x=(0,o.Z)(f,1)[0],j=(0,c.useMemo)((function(){return{position:x,connectedTo:s}}),[x,s]);return(0,c.useLayoutEffect)((function(){return d((function(n){return[].concat((0,h.Z)(n),[j])})),function(){d((function(n){return n.filter((function(n){return n!==j}))}))}}),[j,x,d]),(0,g.jsx)(b,(0,v.Z)({ref:e,opacity:.2,radius:.5,color:r,position:x},a))})),L=(Math.PI,[0,Math.PI/2,0]),w=[0,-1,-20],z=[15,1,-10],E=[10,-1,35],B=[0,0,20],P=[0,1,20],M=[0,Math.PI/2,0],I=(0,c.lazy)((function(){return t.e(276).then(t.bind(t,4276))}));var T=function(n){var e=(0,f.t)(),t=(0,c.useRef)(null),p=(0,c.useRef)(null),h=(0,c.useRef)(null),x=(0,c.useRef)(null),v=(0,c.useState)(null),m=(0,o.Z)(v,2),j=m[0],Z=m[1],y=(0,c.useState)(null),R=(0,o.Z)(y,2),k=R[0],b=(R[1],(0,c.useState)(null)),T=(0,o.Z)(b,2),A=T[0],D=T[1],G=(0,s.w)((function(n){return n.camera})),H=(0,s.w)((function(n){return n.controls})),N=n.pumpsData.length?n.pumpsData:a.r,U=(0,s.w)((function(n){return n.invalidate}));(0,c.useEffect)((function(){A&&n.setSelected(A["Pump Position"])}),[A,n]),N.length;var _=j?[j]:void 0;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(C,{children:A?null:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(I,{ref:t,cloudGlbURL:l.d.MISSILE,assetId:4347,onClick:function(n){return null},onHover:Z,position:B}),(0,g.jsx)(S,{ref:p,name:"missile",position:P,connectedTo:[h]}),(0,g.jsx)(I,{ref:h,cloudGlbURL:l.d.WELL_HEAD,onClick:function(n){return null},onHover:Z,position:w,scale:5}),(0,g.jsx)(I,{ref:x,cloudGlbURL:l.d.DATA_VAN,onClick:function(n){return null},onHover:Z,position:z,rotation:M}),e?null:(0,g.jsx)(c.Suspense,{fallback:(0,g.jsx)(d.Z,{}),children:(0,g.jsx)(I,{cloudGlbURL:l.d.BLENDER,onClick:function(n){return null},fast:!0,onHover:Z,position:E,rotation:L})})]})}),(0,g.jsx)(u.xC,{multisampling:8,autoClear:!1,children:(0,g.jsx)(u.bw,{selection:_,selectionLayer:1,visibleEdgeColor:"white",edgeStrength:5})}),(0,g.jsx)(i.V,{left:!0,portal:n.domNodeRef,children:A?(0,g.jsx)("div",{children:(0,g.jsx)(r.h,{className:"text-neutralPrimary bg-themeLighterAlt",iconProps:{iconName:"Back"},onClick:function(){D(null),G.position.set(k.position.x,k.position.y,k.position.z),null===H||void 0===H||H.reset(),U(),U()},text:"Back to Frac site"})}):null})]})}}}]);
//# sourceMappingURL=810.ca6cc060.chunk.js.map