"use strict";(self.webpackChunkpropetro_site3d=self.webpackChunkpropetro_site3d||[]).push([[276],{4276:function(e,n,o){o.r(n),o.d(n,{default:function(){return h}});var r=o(1413),t=o(7760),i=new t.Matrix4,a=new t.Ray,s=new t.Sphere,c=new t.Vector3;function u(e,n){var o=this.geometry,r=this.material,t=this.matrixWorld;void 0!==r&&(null===o.boundingSphere&&o.computeBoundingSphere(),s.copy(o.boundingSphere),s.applyMatrix4(t),!1!==e.ray.intersectsSphere(s)&&(i.copy(t).invert(),a.copy(e.ray).applyMatrix4(i),null!==o.boundingBox&&null===a.intersectBox(o.boundingBox,c)||n.push({distance:c.distanceTo(e.ray.origin),point:c.clone(),object:this})))}var l=o(3655),d=o(2791),p=o(184);function h(e){var n=Object.assign({},e),o=(0,l.L)(n.cloudGlbURL).scene,i=(0,d.useRef)(),a=(0,d.useMemo)((function(){return o.children.forEach((function(e){e.isMesh&&(e.material=new t.MeshStandardMaterial({color:e.material.color}))})),o.clone()}),[o.uuid]),s=function(e,o){e.stopPropagation(),o===n.activeMesh?n.onHover(null):n.onHover(o)};return n.fast?(0,p.jsx)("group",(0,r.Z)((0,r.Z)({ref:i},n),{},{dispose:null,children:(0,p.jsx)("primitive",{object:a})})):(0,p.jsx)("group",(0,r.Z)((0,r.Z)({ref:i},n),{},{dispose:null,className:"cursor-pointer",children:a.children.map((function(e,o){return(0,p.jsx)(f,(0,r.Z)((0,r.Z)({},n),{},{node:e,toggleActiveMesh:s,index:o}),o+e.name)}))}))}function f(e){var n=Object.assign({},e),o=(0,d.useRef)();return"Group"===n.node.type?(0,p.jsx)("group",{rotation:n.node.rotation,position:n.node.position,scale:n.node.scale,frustumCulled:!0,children:n.node.children.length>0&&n.node.children.map((function(e,o){return(0,p.jsx)(f,(0,r.Z)((0,r.Z)({},n),{},{node:e,index:o}),o+e.name)}))}):(0,p.jsx)("mesh",{geometry:n.node.geometry,material:n.node.material,rotation:n.node.rotation,position:n.node.position,ref:o,raycast:u,scale:n.node.scale,onPointerOver:function(e){e.stopPropagation(),n.onHover(o)},onPointerOut:function(e){e.stopPropagation(),n.onHover(null)},onClick:function(e){e.stopPropagation(),n.onHover(o)},children:n.node.children.length>0&&n.node.children.map((function(e,o){return(0,p.jsx)(f,(0,r.Z)((0,r.Z)({},n),{},{node:e,index:o}),o+e.name)}))})}}}]);
//# sourceMappingURL=276.2c4829ed.chunk.js.map